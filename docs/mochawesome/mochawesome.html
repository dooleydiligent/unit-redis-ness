<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:38,&quot;tests&quot;:107,&quot;passes&quot;:104,&quot;pending&quot;:3,&quot;failures&quot;:0,&quot;start&quot;:&quot;2023-12-10T21:29:33.412Z&quot;,&quot;end&quot;:&quot;2023-12-10T21:29:33.556Z&quot;,&quot;duration&quot;:144,&quot;testsRegistered&quot;:107,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:2.803738317757009,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;17481c40-2f07-425e-9397-35dd83fee2f2&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4af3ffe0-0295-449f-97b7-0d3ccdd3d2f6&quot;,&quot;parentUUID&quot;:&quot;17481c40-2f07-425e-9397-35dd83fee2f2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;after all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n})&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;307f62d1-2968-4c72-87c3-a76493380d1d&quot;,&quot;parentUUID&quot;:&quot;17481c40-2f07-425e-9397-35dd83fee2f2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;4ae4a8f2-89ed-4212-8ada-d6b656db614d&quot;,&quot;title&quot;:&quot;client command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/command/client-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/client-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;client command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;client command test \&quot;before all\&quot; hook in \&quot;client command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(\&quot;ready\&quot;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f34f3918-84c7-4973-8294-6c2227f42275&quot;,&quot;parentUUID&quot;:&quot;4ae4a8f2-89ed-4212-8ada-d6b656db614d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;client command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;client command test \&quot;before each\&quot; hook in \&quot;client command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c586a4d1-e43d-40e0-b435-3b0e33563654&quot;,&quot;parentUUID&quot;:&quot;4ae4a8f2-89ed-4212-8ada-d6b656db614d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;client command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;client command test \&quot;after all\&quot; hook in \&quot;client command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f53f7f01-afba-4cc6-8444-b783f879d932&quot;,&quot;parentUUID&quot;:&quot;4ae4a8f2-89ed-4212-8ada-d6b656db614d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;client command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;client command test \&quot;after each\&quot; hook in \&quot;client command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3a1b4069-b53e-4f4f-bd43-9b5ab16f2e11&quot;,&quot;parentUUID&quot;:&quot;4ae4a8f2-89ed-4212-8ada-d6b656db614d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not allow more than 3 parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should not allow more than 3 parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;one\&quot;,\n            \&quot;two\&quot;,\n            \&quot;three\&quot;,\n            \&quot;four\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR Unknown subcommand or wrong number of arguments for &#x27;one&#x27;. Try CLIENT HELP\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a0d2a6c7-afc2-489f-96f3-7e94efdb482b&quot;,&quot;parentUUID&quot;:&quot;4ae4a8f2-89ed-4212-8ada-d6b656db614d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail predictably when an unknown subcommand is passed&quot;,&quot;fullTitle&quot;:&quot;client command test should fail predictably when an unknown subcommand is passed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;whatever\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(util.format(DEFAULT_ERROR, \&quot;whatever\&quot;));\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dc43d0f3-be9a-4b07-9f4c-1bf64811ba8d&quot;,&quot;parentUUID&quot;:&quot;4ae4a8f2-89ed-4212-8ada-d6b656db614d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a NIL name when called with \&quot;GETNAME\&quot; subcommand&quot;,&quot;fullTitle&quot;:&quot;client command test should return a NIL name when called with \&quot;GETNAME\&quot; subcommand&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;getname\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;039db6b3-5737-4f73-be3b-85a534191806&quot;,&quot;parentUUID&quot;:&quot;4ae4a8f2-89ed-4212-8ada-d6b656db614d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail predictably when \&quot;GETNAME\&quot; is called with too many parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should fail predictably when \&quot;GETNAME\&quot; is called with too many parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;getname\&quot;,\n            \&quot;extra\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(util.format(DEFAULT_ERROR, \&quot;getname\&quot;));\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7590e3d7-4b17-4b9c-b857-9148cca97717&quot;,&quot;parentUUID&quot;:&quot;4ae4a8f2-89ed-4212-8ada-d6b656db614d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with \&quot;OK\&quot; when \&quot;setname\&quot; is called with a valid name&quot;,&quot;fullTitle&quot;:&quot;client command test should respond with \&quot;OK\&quot; when \&quot;setname\&quot; is called with a valid name&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;setname\&quot;,\n            \&quot;whatever\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;getname\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;whatever\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b44867c5-562d-4d4c-b3f1-6bddf876536c&quot;,&quot;parentUUID&quot;:&quot;4ae4a8f2-89ed-4212-8ada-d6b656db614d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should persist the value for \&quot;setname\&quot; across tests&quot;,&quot;fullTitle&quot;:&quot;client command test should persist the value for \&quot;setname\&quot; across tests&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;getname\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;whatever\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;368ad471-50eb-4791-a742-5d465755cc2a&quot;,&quot;parentUUID&quot;:&quot;4ae4a8f2-89ed-4212-8ada-d6b656db614d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with a predictable message when \&quot;setname\&quot; called with too many parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should respond with a predictable message when \&quot;setname\&quot; called with too many parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;setname\&quot;,\n            \&quot;test\&quot;,\n            \&quot;two\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(util.format(DEFAULT_ERROR, \&quot;setname\&quot;));\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1984e8eb-c013-436b-a5c4-0636603a63bc&quot;,&quot;parentUUID&quot;:&quot;4ae4a8f2-89ed-4212-8ada-d6b656db614d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not allow whitespace in \&quot;setname\&quot; subcommand&quot;,&quot;fullTitle&quot;:&quot;client command test should not allow whitespace in \&quot;setname\&quot; subcommand&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;setname\&quot;,\n            \&quot;te\\nst\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR Client names cannot contain spaces, newlines or special characters.\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d3af3a94-d915-4cce-bfe2-450aead66f32&quot;,&quot;parentUUID&quot;:&quot;4ae4a8f2-89ed-4212-8ada-d6b656db614d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the server-assigned client id&quot;,&quot;fullTitle&quot;:&quot;client command test should return the server-assigned client id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;id\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.be.a(\&quot;number\&quot;);\n        (0, chai_1.expect)(String(response).length).to.be.greaterThan(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb6b60f3-50ee-400e-bdac-275bce954a2b&quot;,&quot;parentUUID&quot;:&quot;4ae4a8f2-89ed-4212-8ada-d6b656db614d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with a predictable message when \&quot;id\&quot; called with too many parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should respond with a predictable message when \&quot;id\&quot; called with too many parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;id\&quot;,\n            \&quot;test\&quot;,\n            \&quot;two\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(util.format(DEFAULT_ERROR, \&quot;id\&quot;));\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f768e9e2-c0aa-43af-aac8-522406bb7c90&quot;,&quot;parentUUID&quot;:&quot;4ae4a8f2-89ed-4212-8ada-d6b656db614d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a bunch of information when client \&quot;list\&quot; subcommand is invoked&quot;,&quot;fullTitle&quot;:&quot;client command test should return a bunch of information when client \&quot;list\&quot; subcommand is invoked&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;list\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.be.a(\&quot;string\&quot;);\n        (0, chai_1.expect)(response.length).to.be.greaterThan(0);\n        (0, chai_1.expect)(response).to.match(/ name=whatever /);\n        (0, chai_1.expect)(response).to.match(/\\bdb=0\\b/);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;69ae277f-d4d5-4306-8f9f-3e61c961ec00&quot;,&quot;parentUUID&quot;:&quot;4ae4a8f2-89ed-4212-8ada-d6b656db614d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with a predictable message when \&quot;list\&quot; called with too many parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should respond with a predictable message when \&quot;list\&quot; called with too many parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;list\&quot;,\n            \&quot;test\&quot;,\n            \&quot;two\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR syntax error\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb8b9fe8-f25b-465e-a9ec-4dc2ef45bf60&quot;,&quot;parentUUID&quot;:&quot;4ae4a8f2-89ed-4212-8ada-d6b656db614d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a0d2a6c7-afc2-489f-96f3-7e94efdb482b&quot;,&quot;dc43d0f3-be9a-4b07-9f4c-1bf64811ba8d&quot;,&quot;039db6b3-5737-4f73-be3b-85a534191806&quot;,&quot;7590e3d7-4b17-4b9c-b857-9148cca97717&quot;,&quot;b44867c5-562d-4d4c-b3f1-6bddf876536c&quot;,&quot;368ad471-50eb-4791-a742-5d465755cc2a&quot;,&quot;1984e8eb-c013-436b-a5c4-0636603a63bc&quot;,&quot;d3af3a94-d915-4cce-bfe2-450aead66f32&quot;,&quot;cb6b60f3-50ee-400e-bdac-275bce954a2b&quot;,&quot;f768e9e2-c0aa-43af-aac8-522406bb7c90&quot;,&quot;69ae277f-d4d5-4306-8f9f-3e61c961ec00&quot;,&quot;cb8b9fe8-f25b-465e-a9ec-4dc2ef45bf60&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;66b49293-da72-41a2-ab62-3cb36ddd2c27&quot;,&quot;title&quot;:&quot;multi command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/command/multi-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/multi-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;multi command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;multi command test \&quot;before all\&quot; hook in \&quot;multi command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(\&quot;ready\&quot;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b4a10af0-a2a9-44b4-8981-845a038ba3fb&quot;,&quot;parentUUID&quot;:&quot;66b49293-da72-41a2-ab62-3cb36ddd2c27&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;multi command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;multi command test \&quot;before each\&quot; hook in \&quot;multi command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;33aa5ef2-38d7-4d63-821b-799dae122ada&quot;,&quot;parentUUID&quot;:&quot;66b49293-da72-41a2-ab62-3cb36ddd2c27&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;multi command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;multi command test \&quot;after all\&quot; hook in \&quot;multi command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;367cc03f-7a21-4b87-9291-afca54044ee4&quot;,&quot;parentUUID&quot;:&quot;66b49293-da72-41a2-ab62-3cb36ddd2c27&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;multi command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;multi command test \&quot;after each\&quot; hook in \&quot;multi command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e696b112-8227-4eec-9b73-f2e168dca48b&quot;,&quot;parentUUID&quot;:&quot;66b49293-da72-41a2-ab62-3cb36ddd2c27&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not allow nested MULTI invocations&quot;,&quot;fullTitle&quot;:&quot;multi command test should not allow nested MULTI invocations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;multi\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;multi\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR MULTI calls can not be nested\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d65c3738-4b0b-4b73-9d68-a24aafa453cb&quot;,&quot;parentUUID&quot;:&quot;66b49293-da72-41a2-ab62-3cb36ddd2c27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respect the DISCARD command&quot;,&quot;fullTitle&quot;:&quot;multi command test should respect the DISCARD command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;discard\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f84f0069-3262-44e7-92a1-ffb2efc2417e&quot;,&quot;parentUUID&quot;:&quot;66b49293-da72-41a2-ab62-3cb36ddd2c27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not allow DISCARD without MULTI&quot;,&quot;fullTitle&quot;:&quot;multi command test should not allow DISCARD without MULTI&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;discard\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR DISCARD without MULTI\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b3024001-3f75-4110-970f-1fc7df202ebb&quot;,&quot;parentUUID&quot;:&quot;66b49293-da72-41a2-ab62-3cb36ddd2c27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should continue to validate commands after MULTI&quot;,&quot;fullTitle&quot;:&quot;multi command test should continue to validate commands after MULTI&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;multi\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;unknown\&quot;,\n            \&quot;command\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR unknown command `unknown`, with args beginning with: `command`, \&quot;, `${response}`);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;lpush\&quot;,\n            \&quot;test\&quot;,\n            \&quot;one\&quot;,\n            \&quot;two\&quot;,\n            \&quot;three\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;QUEUED\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f672a2a-2957-4d06-a277-3092d23a69ca&quot;,&quot;parentUUID&quot;:&quot;66b49293-da72-41a2-ab62-3cb36ddd2c27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should EXECABORT from a previous error&quot;,&quot;fullTitle&quot;:&quot;multi command test should EXECABORT from a previous error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;exec\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: EXECABORT Transaction discarded because of previous errors.\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;62ed62a3-bc64-40fc-ac0a-88c43da28f79&quot;,&quot;parentUUID&quot;:&quot;66b49293-da72-41a2-ab62-3cb36ddd2c27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should queue a set of commands when there is no intervening error&quot;,&quot;fullTitle&quot;:&quot;multi command test should queue a set of commands when there is no intervening error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;multi\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;lpush\&quot;,\n            \&quot;test\&quot;,\n            \&quot;one\&quot;,\n            \&quot;two\&quot;,\n            \&quot;three\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;QUEUED\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;exec\&quot;]);\n        (0, chai_1.expect)(response).to.eql([3]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8cbc9524-6ae9-488b-997c-dbab84abb924&quot;,&quot;parentUUID&quot;:&quot;66b49293-da72-41a2-ab62-3cb36ddd2c27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reset transaction state after executing commands&quot;,&quot;fullTitle&quot;:&quot;multi command test should reset transaction state after executing commands&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;multi\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;discard\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f511224-4bf3-4fcc-8325-dc3b009640b6&quot;,&quot;parentUUID&quot;:&quot;66b49293-da72-41a2-ab62-3cb36ddd2c27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the results of multiple commands in the order provided&quot;,&quot;fullTitle&quot;:&quot;multi command test should return the results of multiple commands in the order provided&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;multi\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;lpop\&quot;,\n            \&quot;test\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;QUEUED\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;lpop\&quot;,\n            \&quot;test\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;QUEUED\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;brpoplpush\&quot;,\n            \&quot;test\&quot;,\n            \&quot;dest\&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;QUEUED\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;exec\&quot;]);\n        (0, chai_1.expect)(response).to.eql([\n            \&quot;three\&quot;,\n            \&quot;two\&quot;,\n            \&quot;one\&quot;\n        ]);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;exists\&quot;,\n            \&quot;test\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(0);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;exists\&quot;,\n            \&quot;dest\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;97b07cc4-dbe8-4e38-9b58-f3b0c60ff76e&quot;,&quot;parentUUID&quot;:&quot;66b49293-da72-41a2-ab62-3cb36ddd2c27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should validate the behavior of brpoplpush&quot;,&quot;fullTitle&quot;:&quot;multi command test should validate the behavior of brpoplpush&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;flushall\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;lpush\&quot;,\n            \&quot;test\&quot;,\n            \&quot;one\&quot;,\n            \&quot;two\&quot;,\n            \&quot;three\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(3);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;lpop\&quot;,\n            \&quot;test\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;three\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;lpop\&quot;,\n            \&quot;test\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;two\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;brpoplpush\&quot;,\n            \&quot;test\&quot;,\n            \&quot;dest\&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;one\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f2926fd4-6dc7-4529-aaa4-08df11ec6194&quot;,&quot;parentUUID&quot;:&quot;66b49293-da72-41a2-ab62-3cb36ddd2c27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail when EXEC issued without MULTI&quot;,&quot;fullTitle&quot;:&quot;multi command test should fail when EXEC issued without MULTI&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;exec\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR EXEC without MULTI\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3716c907-8c53-41de-94c0-8e8d05e7e5d1&quot;,&quot;parentUUID&quot;:&quot;66b49293-da72-41a2-ab62-3cb36ddd2c27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d65c3738-4b0b-4b73-9d68-a24aafa453cb&quot;,&quot;f84f0069-3262-44e7-92a1-ffb2efc2417e&quot;,&quot;b3024001-3f75-4110-970f-1fc7df202ebb&quot;,&quot;8f672a2a-2957-4d06-a277-3092d23a69ca&quot;,&quot;62ed62a3-bc64-40fc-ac0a-88c43da28f79&quot;,&quot;8cbc9524-6ae9-488b-997c-dbab84abb924&quot;,&quot;2f511224-4bf3-4fcc-8325-dc3b009640b6&quot;,&quot;97b07cc4-dbe8-4e38-9b58-f3b0c60ff76e&quot;,&quot;f2926fd4-6dc7-4529-aaa4-08df11ec6194&quot;,&quot;3716c907-8c53-41de-94c0-8e8d05e7e5d1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:11,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;89a78293-8c8f-418a-a99b-5b1bbbe90dad&quot;,&quot;title&quot;:&quot;script-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/command/script-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/script-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;script-command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;script-command test \&quot;before all\&quot; hook in \&quot;script-command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(\&quot;ready\&quot;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield (0, common_test_1.sendCommand)(client, [\&quot;flushall\&quot;]);\n    yield (0, common_test_1.sendCommand)(client, [\n        \&quot;select\&quot;,\n        \&quot;0\&quot;\n    ]);\n    yield (0, common_test_1.sendCommand)(client, [\n        \&quot;script\&quot;,\n        \&quot;flush\&quot;\n    ]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c1e69199-03db-4087-93a2-6ad9bc910f0a&quot;,&quot;parentUUID&quot;:&quot;89a78293-8c8f-418a-a99b-5b1bbbe90dad&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;script-command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;script-command test \&quot;before each\&quot; hook in \&quot;script-command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0b320c76-ad57-4007-8fcb-0fc88ba67f16&quot;,&quot;parentUUID&quot;:&quot;89a78293-8c8f-418a-a99b-5b1bbbe90dad&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;script-command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;script-command test \&quot;after all\&quot; hook in \&quot;script-command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2e20d3f3-381f-413a-9b2e-11eae80061a4&quot;,&quot;parentUUID&quot;:&quot;89a78293-8c8f-418a-a99b-5b1bbbe90dad&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;script-command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;script-command test \&quot;after each\&quot; hook in \&quot;script-command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8d05afac-eb58-456e-b93b-032d7b04d348&quot;,&quot;parentUUID&quot;:&quot;89a78293-8c8f-418a-a99b-5b1bbbe90dad&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should calcuclate the correct sha1 of a script and store the script&quot;,&quot;fullTitle&quot;:&quot;script-command test should calcuclate the correct sha1 of a script and store the script&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;script\&quot;,\n            \&quot;exists\&quot;,\n            sha1\n        ]);\n        (0, chai_1.expect)(response).to.eql([0]);\n        // Validate failure on unparseable script\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;script\&quot;,\n            \&quot;load\&quot;,\n            code\n        ]);\n        (0, chai_1.expect)(response).to.match(/ReplyError: ERR .*/);\n        // Validate success on parseable script\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;script\&quot;,\n            \&quot;load\&quot;,\n            `${code}}`\n        ]);\n        (0, chai_1.expect)(response).to.equal(sha1);\n        // Validate a script is persisted\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;script\&quot;,\n            \&quot;exists\&quot;,\n            sha1\n        ]);\n        (0, chai_1.expect)(response).to.eql([1]);\n        // Validate response to unknown sub command\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;script\&quot;,\n            \&quot;test\&quot;,\n            sha1\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR Unknown subcommand or wrong number of arguments for &#x27;test&#x27;. Try SCRIPT HELP.\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;83e0401e-4b01-4e2e-b0ae-bb931f3025bc&quot;,&quot;parentUUID&quot;:&quot;89a78293-8c8f-418a-a99b-5b1bbbe90dad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should evaluate a loaded lua script using evalsha&quot;,&quot;fullTitle&quot;:&quot;script-command test should evaluate a loaded lua script using evalsha&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // Validate that NOSCRIPT is triggered\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;evalsha\&quot;,\n            `${sha1}xx`,\n            \&quot;2\&quot;,\n            \&quot;key1\&quot;,\n            \&quot;key2\&quot;,\n            \&quot;first\&quot;,\n            \&quot;second\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: NOSCRIPT No matching script. Please use EVAL.\&quot;);\n        // Validate that param 1 cannot be negative\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;evalsha\&quot;,\n            sha1,\n            \&quot;-2\&quot;,\n            \&quot;key1\&quot;,\n            \&quot;key2\&quot;,\n            \&quot;first\&quot;,\n            \&quot;second\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR Number of keys can&#x27;t be negative\&quot;);\n        // Validate that param 1 cannot be text\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;evalsha\&quot;,\n            sha1,\n            \&quot;two\&quot;,\n            \&quot;key1\&quot;,\n            \&quot;key2\&quot;,\n            \&quot;first\&quot;,\n            \&quot;second\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR value is not an integer or out of range\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0e27da3f-58d2-4fff-9ff3-10631fb96a90&quot;,&quot;parentUUID&quot;:&quot;89a78293-8c8f-418a-a99b-5b1bbbe90dad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should execute a simple script&quot;,&quot;fullTitle&quot;:&quot;script-command test should execute a simple script&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // Validate that a simple script can be processed\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;EVAL\&quot;,\n            \&quot;local val=\\\&quot;Hello Compose\\\&quot; return val\&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;Hello Compose\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7332a255-0710-4a5f-b7a8-16e5e6365e51&quot;,&quot;parentUUID&quot;:&quot;89a78293-8c8f-418a-a99b-5b1bbbe90dad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create and process the ARGV table&quot;,&quot;fullTitle&quot;:&quot;script-command test should create and process the ARGV table&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;return ARGV[2]\&quot;,\n            \&quot;2\&quot;,\n            \&quot;key1\&quot;,\n            \&quot;key2\&quot;,\n            \&quot;first\&quot;,\n            \&quot;second\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.eql(\&quot;second\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd00efba-4ae7-41a8-8fba-cf72ef7ab400&quot;,&quot;parentUUID&quot;:&quot;89a78293-8c8f-418a-a99b-5b1bbbe90dad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create and process the KEYS table&quot;,&quot;fullTitle&quot;:&quot;script-command test should create and process the KEYS table&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;return KEYS[1]\&quot;,\n            \&quot;2\&quot;,\n            \&quot;key1\&quot;,\n            \&quot;key2\&quot;,\n            \&quot;first\&quot;,\n            \&quot;second\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;key1\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad4b3737-4714-4d45-bf3e-49bf30ea1358&quot;,&quot;parentUUID&quot;:&quot;89a78293-8c8f-418a-a99b-5b1bbbe90dad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a NUMBER when required&quot;,&quot;fullTitle&quot;:&quot;script-command test should return a NUMBER when required&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;return 123\&quot;,\n            \&quot;2\&quot;,\n            \&quot;key1\&quot;,\n            \&quot;key2\&quot;,\n            \&quot;first\&quot;,\n            \&quot;second\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(123);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5bebb01b-52a9-4895-b55f-23f4bd6bdbbf&quot;,&quot;parentUUID&quot;:&quot;89a78293-8c8f-418a-a99b-5b1bbbe90dad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return NIL when there is no return value&quot;,&quot;fullTitle&quot;:&quot;script-command test should return NIL when there is no return value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;print \\\&quot;Hello World\\\&quot;\&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;306a7f90-cbfc-4047-9338-8916bb73890c&quot;,&quot;parentUUID&quot;:&quot;89a78293-8c8f-418a-a99b-5b1bbbe90dad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a TABLE when required&quot;,&quot;fullTitle&quot;:&quot;script-command test should return a TABLE when required&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;return ARGV\&quot;,\n            \&quot;2\&quot;,\n            \&quot;key1\&quot;,\n            \&quot;key2\&quot;,\n            \&quot;first\&quot;,\n            \&quot;second\&quot;,\n            \&quot;third\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.eql([\n            \&quot;first\&quot;,\n            \&quot;second\&quot;,\n            \&quot;third\&quot;\n        ]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dd81e274-6ef2-4355-9125-ec165de9694b&quot;,&quot;parentUUID&quot;:&quot;89a78293-8c8f-418a-a99b-5b1bbbe90dad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return items in order&quot;,&quot;fullTitle&quot;:&quot;script-command test should return items in order&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;return {true, \\\&quot;test\\\&quot;, false, 10, 10.2}\&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.eql([\n            1,\n            \&quot;test\&quot;,\n            null,\n            10,\n            10\n        ]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;63e3c822-b702-4051-bbf1-e48b51315f0e&quot;,&quot;parentUUID&quot;:&quot;89a78293-8c8f-418a-a99b-5b1bbbe90dad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return integer and nil for true and false, respectively&quot;,&quot;fullTitle&quot;:&quot;script-command test should return integer and nil for true and false, respectively&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;return { true, false, false}\&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.eql([\n            1,\n            null,\n            null\n        ]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53e9b6a1-ad7b-48f7-ba22-febc8582930d&quot;,&quot;parentUUID&quot;:&quot;89a78293-8c8f-418a-a99b-5b1bbbe90dad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should be able to execute a representative BULL script&quot;,&quot;fullTitle&quot;:&quot;script-command test should be able to execute a representative BULL script&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;60b92a4b-6a28-4382-b845-540d5da4e107&quot;,&quot;parentUUID&quot;:&quot;89a78293-8c8f-418a-a99b-5b1bbbe90dad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail when we attempt to EVAL an invalid script&quot;,&quot;fullTitle&quot;:&quot;script-command test should fail when we attempt to EVAL an invalid script&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;-- Invalid\\r\\nscript\&quot;\n        ]);\n        // Validated against redis\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR wrong number of arguments for &#x27;eval&#x27; command\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;32fc7531-ce9b-4ead-b915-feef488e18c4&quot;,&quot;parentUUID&quot;:&quot;89a78293-8c8f-418a-a99b-5b1bbbe90dad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should be able to return a NULL value from a lua script&quot;,&quot;fullTitle&quot;:&quot;script-command test should be able to return a NULL value from a lua script&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;local val = nil return val\&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e2ad6271-7c52-4f1f-9160-29bccc0a4f24&quot;,&quot;parentUUID&quot;:&quot;89a78293-8c8f-418a-a99b-5b1bbbe90dad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return table values after the first NIL is encountered and return integers not floats&quot;,&quot;fullTitle&quot;:&quot;script-command test should not return table values after the first NIL is encountered and return integers not floats&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad2d2c2e-fe7b-4511-b654-461c31c2caf2&quot;,&quot;parentUUID&quot;:&quot;89a78293-8c8f-418a-a99b-5b1bbbe90dad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a table with embedded calls to redis&quot;,&quot;fullTitle&quot;:&quot;script-command test should return a table with embedded calls to redis&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;flushall\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;hset\&quot;,\n            embeddedkey,\n            \&quot;one\&quot;,\n            \&quot;1\&quot;,\n            \&quot;two\&quot;,\n            \&quot;2\&quot;,\n            \&quot;three\&quot;,\n            \&quot;3\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(3);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;hgetall\&quot;,\n            embeddedkey\n        ]);\n        (0, chai_1.expect)(response).to.eql([\n            \&quot;one\&quot;,\n            \&quot;1\&quot;,\n            \&quot;two\&quot;,\n            \&quot;2\&quot;,\n            \&quot;three\&quot;,\n            \&quot;3\&quot;\n        ]);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            `local j = redis.call(\&quot;HGETALL\&quot;, \&quot;${embeddedkey}\&quot;) return { j, \&quot;SAMPLE\&quot; }`,\n            \&quot;0\&quot;\n        ]);\n        // Validated with redis\n        (0, chai_1.expect)(response).to.eql([\n            \&quot;SAMPLE\&quot;,\n            [\n                \&quot;one\&quot;,\n                \&quot;1\&quot;,\n                \&quot;two\&quot;,\n                \&quot;2\&quot;,\n                \&quot;three\&quot;,\n                \&quot;3\&quot;\n            ]\n        ]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9ad104e6-0075-4758-ad1a-94180fd0d84d&quot;,&quot;parentUUID&quot;:&quot;89a78293-8c8f-418a-a99b-5b1bbbe90dad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support the unpack lua command&quot;,&quot;fullTitle&quot;:&quot;script-command test should support the unpack lua command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;flushall\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;hset\&quot;,\n            embeddedkey,\n            \&quot;one\&quot;,\n            \&quot;1\&quot;,\n            \&quot;two\&quot;,\n            \&quot;2\&quot;,\n            \&quot;three\&quot;,\n            \&quot;3\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(3);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            `return { unpack(redis.call(\&quot;hgetall\&quot;, \&quot;${embeddedkey}\&quot;)) }`,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.eql([\n            \&quot;one\&quot;,\n            \&quot;1\&quot;,\n            \&quot;two\&quot;,\n            \&quot;2\&quot;,\n            \&quot;three\&quot;,\n            \&quot;3\&quot;\n        ]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7bdb19fa-77f4-45ed-8b6e-4970d4f86d8c&quot;,&quot;parentUUID&quot;:&quot;89a78293-8c8f-418a-a99b-5b1bbbe90dad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should convert values properly&quot;,&quot;fullTitle&quot;:&quot;script-command test should convert values properly&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;return {1,2,{3,&#x27;Hello World!&#x27;}}\&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.eql([\n            1,\n            2,\n            [\n                3,\n                \&quot;Hello World!\&quot;\n            ]\n        ]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;50682d53-90cf-4260-9eeb-8ba00275b4f5&quot;,&quot;parentUUID&quot;:&quot;89a78293-8c8f-418a-a99b-5b1bbbe90dad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return embedded tables from embedded calls&quot;,&quot;fullTitle&quot;:&quot;script-command test should return embedded tables from embedded calls&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;return {1,2,{3,bit.bxor(5,3)}}\&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.eql([\n            1,\n            2,\n            [\n                3,\n                6\n            ]\n        ]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;da75ed8d-bb64-41a0-969d-9c595a22f602&quot;,&quot;parentUUID&quot;:&quot;89a78293-8c8f-418a-a99b-5b1bbbe90dad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;83e0401e-4b01-4e2e-b0ae-bb931f3025bc&quot;,&quot;0e27da3f-58d2-4fff-9ff3-10631fb96a90&quot;,&quot;7332a255-0710-4a5f-b7a8-16e5e6365e51&quot;,&quot;cd00efba-4ae7-41a8-8fba-cf72ef7ab400&quot;,&quot;ad4b3737-4714-4d45-bf3e-49bf30ea1358&quot;,&quot;5bebb01b-52a9-4895-b55f-23f4bd6bdbbf&quot;,&quot;306a7f90-cbfc-4047-9338-8916bb73890c&quot;,&quot;dd81e274-6ef2-4355-9125-ec165de9694b&quot;,&quot;63e3c822-b702-4051-bbf1-e48b51315f0e&quot;,&quot;53e9b6a1-ad7b-48f7-ba22-febc8582930d&quot;,&quot;32fc7531-ce9b-4ead-b915-feef488e18c4&quot;,&quot;e2ad6271-7c52-4f1f-9160-29bccc0a4f24&quot;,&quot;9ad104e6-0075-4758-ad1a-94180fd0d84d&quot;,&quot;7bdb19fa-77f4-45ed-8b6e-4970d4f86d8c&quot;,&quot;50682d53-90cf-4260-9eeb-8ba00275b4f5&quot;,&quot;da75ed8d-bb64-41a0-969d-9c595a22f602&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;60b92a4b-6a28-4382-b845-540d5da4e107&quot;,&quot;ad2d2c2e-fe7b-4511-b654-461c31c2caf2&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:56,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b9ce06d7-321a-4ae0-8d75-c8806afbb059&quot;,&quot;title&quot;:&quot;data-type test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/data-type.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/data-type.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;data-type test\&quot;&quot;,&quot;fullTitle&quot;:&quot;data-type test \&quot;before each\&quot; hook in \&quot;data-type test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;03927ae7-3e74-45e1-bb68-ca31a09ad5b4&quot;,&quot;parentUUID&quot;:&quot;b9ce06d7-321a-4ae0-8d75-c8806afbb059&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;data-type test\&quot;&quot;,&quot;fullTitle&quot;:&quot;data-type test \&quot;after all\&quot; hook in \&quot;data-type test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b03454c-8ed2-4805-833d-87e626add4fd&quot;,&quot;parentUUID&quot;:&quot;b9ce06d7-321a-4ae0-8d75-c8806afbb059&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;data-type test\&quot;&quot;,&quot;fullTitle&quot;:&quot;data-type test \&quot;after each\&quot; hook in \&quot;data-type test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7de1f3c5-32d7-4ac4-8431-1d7932f666ff&quot;,&quot;parentUUID&quot;:&quot;b9ce06d7-321a-4ae0-8d75-c8806afbb059&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should enumerate data-types&quot;,&quot;fullTitle&quot;:&quot;data-type test should enumerate data-types&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        (0, chai_1.expect)(data_type_1.DataType.NONE).to.equal(\&quot;none\&quot;);\n        (0, chai_1.expect)(data_type_1.DataType.STRING).to.equal(\&quot;string\&quot;);\n        (0, chai_1.expect)(data_type_1.DataType.LIST).to.equal(\&quot;list\&quot;);\n        (0, chai_1.expect)(data_type_1.DataType.SET).to.equal(\&quot;set\&quot;);\n        (0, chai_1.expect)(data_type_1.DataType.ZSET).to.equal(\&quot;zset\&quot;);\n        (0, chai_1.expect)(data_type_1.DataType.HASH).to.equal(\&quot;hash\&quot;);\n        (0, chai_1.expect)(Object.keys(data_type_1.DataType).length).to.equal(6);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;be630a10-d046-43a0-95e9-f1b2cf665aa2&quot;,&quot;parentUUID&quot;:&quot;b9ce06d7-321a-4ae0-8d75-c8806afbb059&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;be630a10-d046-43a0-95e9-f1b2cf665aa2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8c3279f5-e8a2-43c9-88d2-ede77113dc84&quot;,&quot;title&quot;:&quot;sorted-set test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;sorted-set test\&quot;&quot;,&quot;fullTitle&quot;:&quot;sorted-set test \&quot;before each\&quot; hook in \&quot;sorted-set test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();\nss = new sorted_set_1.SortedSet();\nz = new Z();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;85d37c27-45d8-428a-93b9-1cc46c87dac9&quot;,&quot;parentUUID&quot;:&quot;8c3279f5-e8a2-43c9-88d2-ede77113dc84&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;sorted-set test\&quot;&quot;,&quot;fullTitle&quot;:&quot;sorted-set test \&quot;after all\&quot; hook in \&quot;sorted-set test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7ad2fd4f-a39e-4acf-939b-e0ffab326593&quot;,&quot;parentUUID&quot;:&quot;8c3279f5-e8a2-43c9-88d2-ede77113dc84&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;sorted-set test\&quot;&quot;,&quot;fullTitle&quot;:&quot;sorted-set test \&quot;after each\&quot; hook in \&quot;sorted-set test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;55361e9e-ef25-474e-97bb-ceebf87f84ba&quot;,&quot;parentUUID&quot;:&quot;8c3279f5-e8a2-43c9-88d2-ede77113dc84&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should instantiate&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should instantiate&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        (0, chai_1.expect)(z.constructor.name).to.equal(\&quot;Z\&quot;);\n        ss = new sorted_set_1.SortedSet();\n        (0, chai_1.expect)(ss.constructor.name).to.equal(\&quot;SortedSet\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;79a1d257-8219-4e1e-967c-768d123802c3&quot;,&quot;parentUUID&quot;:&quot;8c3279f5-e8a2-43c9-88d2-ede77113dc84&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should add, get, and delete an entry&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should add, get, and delete an entry&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        let added = z.add(\&quot;test\&quot;, 1);\n        (0, chai_1.expect)(added).to.equal(null);\n        added = ss.add(\&quot;test\&quot;, 1);\n        (0, chai_1.expect)(added).to.equal(null);\n        (0, chai_1.expect)(z.keys().length).to.equal(1);\n        (0, chai_1.expect)(ss.keys().length).to.equal(1);\n        let item = z.get(\&quot;test\&quot;);\n        (0, chai_1.expect)(item.constructor.name).to.equal(\&quot;Number\&quot;);\n        item = ss.get(\&quot;test\&quot;);\n        (0, chai_1.expect)(item.constructor.name).to.equal(\&quot;Number\&quot;);\n        z.del(\&quot;test\&quot;);\n        (0, chai_1.expect)(z.keys().length).to.equal(0);\n        ss.del(\&quot;test\&quot;);\n        (0, chai_1.expect)(ss.keys().length).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;16c32d76-0e4d-4df3-a509-24eadc9daad3&quot;,&quot;parentUUID&quot;:&quot;8c3279f5-e8a2-43c9-88d2-ede77113dc84&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw when attempting to add __proto__ key&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should throw when attempting to add __proto__ key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        (0, chai_1.expect)(() =&gt; {\n            z.add(\&quot;__proto__\&quot;, 0);\n        }).to.throw();\n        /*\n         * Expect(() =&gt; {\n         *   ss.add(&#x27;__proto__&#x27;, 0)\n         * }).to.throw();\n         */\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;82c47cee-c575-4e2a-b7f3-b4475bd00b20&quot;,&quot;parentUUID&quot;:&quot;8c3279f5-e8a2-43c9-88d2-ede77113dc84&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not add an undefined or null score&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should not add an undefined or null score&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        let added = z.add(\&quot;test\&quot;, null);\n        (0, chai_1.expect)(added).to.equal(null);\n        (0, chai_1.expect)(z.keys().length).to.equal(0);\n        added = z.add(\&quot;test\&quot;, undefined);\n        (0, chai_1.expect)(z.keys().length).to.equal(0);\n        /*\n         * Typescript prevents adding null\n         * added = ss.add(&#x27;test&#x27;, null);\n         * expect(added).to.equal(null);\n         * expect(ss.keys().length).to.equal(0);\n         * added = ss.add(&#x27;test&#x27;, undefined);\n         * expect(z.keys().length).to.equal(0);\n         */\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3c1ed4ec-abcb-4472-bf14-ed25403871de&quot;,&quot;parentUUID&quot;:&quot;8c3279f5-e8a2-43c9-88d2-ede77113dc84&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not duplicate key/value pairs&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should not duplicate key/value pairs&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        let added = z.add(\&quot;test\&quot;, 123);\n        (0, chai_1.expect)(added).to.equal(null); // This is weird\n        (0, chai_1.expect)(z.keys().length).to.equal(1);\n        added = z.add(\&quot;test\&quot;, 123);\n        (0, chai_1.expect)(added).to.equal(123); // And weirder\n        (0, chai_1.expect)(z.keys().length).to.equal(1);\n        added = ss.add(\&quot;test\&quot;, 123);\n        (0, chai_1.expect)(added).to.equal(null); // This is weird\n        (0, chai_1.expect)(ss.keys().length).to.equal(1);\n        added = ss.add(\&quot;test\&quot;, 123);\n        (0, chai_1.expect)(added).to.equal(123); // And weirder\n        (0, chai_1.expect)(ss.keys().length).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;23430a08-e4de-47dc-91d3-6aa14d75206d&quot;,&quot;parentUUID&quot;:&quot;8c3279f5-e8a2-43c9-88d2-ede77113dc84&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the old rank when replacing a key&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should return the old rank when replacing a key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        let added = z.add(\&quot;test\&quot;, 123);\n        (0, chai_1.expect)(added).to.equal(null);\n        (0, chai_1.expect)(z.keys().length).to.equal(1);\n        added = z.add(\&quot;test\&quot;, 321);\n        (0, chai_1.expect)(added).to.equal(123);\n        (0, chai_1.expect)(z.keys().length).to.equal(1);\n        added = z.get(\&quot;test\&quot;);\n        (0, chai_1.expect)(added).to.equal(321);\n        added = ss.add(\&quot;test\&quot;, 123);\n        (0, chai_1.expect)(added).to.equal(null);\n        (0, chai_1.expect)(ss.keys().length).to.equal(1);\n        added = ss.add(\&quot;test\&quot;, 321);\n        (0, chai_1.expect)(added).to.equal(123);\n        (0, chai_1.expect)(ss.keys().length).to.equal(1);\n        added = ss.get(\&quot;test\&quot;);\n        (0, chai_1.expect)(added).to.equal(321);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9ae72ccb-56fc-473b-b529-eb573871b562&quot;,&quot;parentUUID&quot;:&quot;8c3279f5-e8a2-43c9-88d2-ede77113dc84&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a value when adding at least 32 values (I think - it is difficult to tell)&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should return a value when adding at least 32 values (I think - it is difficult to tell)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ac27fc1d-3098-499e-9aca-0a5566a2844b&quot;,&quot;parentUUID&quot;:&quot;8c3279f5-e8a2-43c9-88d2-ede77113dc84&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should do what the documentation says here: https://www.npmjs.com/package/redis-sorted-set&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should do what the documentation says here: https://www.npmjs.com/package/redis-sorted-set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        (0, chai_1.expect)(z.add(\&quot;Terminator\&quot;, 8.0)).to.equal(null); // =&gt; null\n        (0, chai_1.expect)(z.add(\&quot;District 9\&quot;, 8.0)).to.equal(null); // =&gt; null\n        (0, chai_1.expect)(z.add(\&quot;Ex Machina\&quot;, 0.7)).to.equal(null); // =&gt; null\n        (0, chai_1.expect)(z.add(\&quot;Ex Machina\&quot;, 7.7)).to.equal(0.7); // =&gt; 0.7\n        // Alias\n        (0, chai_1.expect)(z.set(\&quot;The Matrix\&quot;, 8.7)).to.equal(null); // =&gt; null\n        // Average O(1)\n        (0, chai_1.expect)(z.has(\&quot;Terminator\&quot;)).to.equal(true); // =&gt; true\n        (0, chai_1.expect)(z.has(\&quot;Blade Runner\&quot;)).to.equal(false); // =&gt; false\n        // Average O(1)\n        (0, chai_1.expect)(z.score(\&quot;Ex Machina\&quot;)).to.equal(7.7); // =&gt; 7.7\n        (0, chai_1.expect)(z.score(\&quot;Blade Runner\&quot;)).to.equal(null); // =&gt; null\n        // Alias\n        (0, chai_1.expect)(z.get(\&quot;The Matrix\&quot;)).to.equal(8.7); // =&gt; 8.7\n        // Average O(log(N))\n        (0, chai_1.expect)(z.rem(\&quot;Ex Machina\&quot;)).to.equal(7.7); // =&gt; 7.7\n        // Average O(1)\n        (0, chai_1.expect)(z.rem(\&quot;Ex Machina\&quot;)).to.equal(null); // =&gt; null\n        // Alias\n        (0, chai_1.expect)(z.del(\&quot;Ex Machina\&quot;)).to.equal(null); // =&gt; null\n        /*\n         * Average O(log(N)+M) where M is the number of elements between min and max\n         * This is not working as expected\n         */\n        (0, chai_1.expect)(z.rangeByScore(7, 8)).to.eql([\n            \&quot;District 9\&quot;,\n            \&quot;Terminator\&quot;\n        ]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        (0, chai_1.expect)(z.rangeByScore(8)).to.eql([\n            \&quot;District 9\&quot;,\n            \&quot;Terminator\&quot;,\n            \&quot;The Matrix\&quot;\n        ]); // [8.0-∞)\n        // =&gt; [&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]\n        (0, chai_1.expect)(z.rangeByScore(8, null, { \&quot;withScores\&quot;: true })).to.eql([\n            [\n                \&quot;District 9\&quot;,\n                8.0\n            ],\n            [\n                \&quot;Terminator\&quot;,\n                8.0\n            ],\n            [\n                \&quot;The Matrix\&quot;,\n                8.7\n            ]\n        ]);\n        // =&gt; [[&#x27;District 9&#x27;, 8.0], [&#x27;Terminator&#x27;, 8.0], [&#x27;The Matrix&#x27;, 8.7]]\n        /*\n         * Average O(log(N)+log(M)) where M as in rangeByScore\n         * Again - not as expected\n         */\n        (0, chai_1.expect)(z.count(7, 8)).to.equal(2); // =&gt; 3\n        /*\n         * Average O(log(N))\n         * Not working as expected\n         */\n        (0, chai_1.expect)(z.rank(\&quot;Ex Machina\&quot;)).to.equal(null); // =&gt; 0\n        // Not working as expected\n        (0, chai_1.expect)(z.rank(\&quot;Terminator\&quot;)).to.equal(1); // =&gt; 2\n        (0, chai_1.expect)(z.rank(\&quot;Blade Runner\&quot;)).to.equal(null); // =&gt; null\n        /*\n         * Average O(log(N)+M) where M as in range\n         * Not working as expected\n         */\n        (0, chai_1.expect)(z.range(0, 2)).to.eql([\n            \&quot;District 9\&quot;,\n            \&quot;Terminator\&quot;,\n            \&quot;The Matrix\&quot;\n        ]);\n        /*\n         * =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n         * Not working as expected\n         */\n        (0, chai_1.expect)(z.range(0, 2, { \&quot;withScores\&quot;: true })).to.eql([\n            [\n                \&quot;District 9\&quot;,\n                8\n            ],\n            [\n                \&quot;Terminator\&quot;,\n                8\n            ],\n            [\n                \&quot;The Matrix\&quot;,\n                8.7\n            ]\n        ]);\n        /*\n         * =&gt; [[&#x27;Ex Machina&#x27;, 7.7],\n         *     [&#x27;District 9&#x27;, 8],\n         *     [&#x27;Terminator&#x27;, 8]]\n         */\n        (0, chai_1.expect)(z.range(-1)).to.eql([\&quot;The Matrix\&quot;]); // =&gt; [&#x27;The Matrix&#x27;]\n        /*\n         * Almost alias\n         * Not working as expected\n         */\n        (0, chai_1.expect)(z.slice(0, 3)).to.eql([\n            \&quot;District 9\&quot;,\n            \&quot;Terminator\&quot;,\n            \&quot;The Matrix\&quot;\n        ]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        /*\n         * Set cardinality (number of elements)\n         * Average O(1)\n         * Not working as expected\n         */\n        (0, chai_1.expect)(z.card()).to.equal(3); // =&gt; 4\n        /*\n         * Alias\n         * Not working as expected\n         */\n        (0, chai_1.expect)(z.length).to.equal(3); // =&gt; 4\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c1b62127-6856-45b0-a70d-e6dc0cd5025e&quot;,&quot;parentUUID&quot;:&quot;8c3279f5-e8a2-43c9-88d2-ede77113dc84&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;the rewrite should do what the documentation says here: https://www.npmjs.com/package/redis-sorted-set&quot;,&quot;fullTitle&quot;:&quot;sorted-set test the rewrite should do what the documentation says here: https://www.npmjs.com/package/redis-sorted-set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        (0, chai_1.expect)(ss.add(\&quot;Terminator\&quot;, 8.0)).to.equal(null); // =&gt; null\n        (0, chai_1.expect)(ss.add(\&quot;District 9\&quot;, 8.0)).to.equal(null); // =&gt; null\n        (0, chai_1.expect)(ss.add(\&quot;Ex Machina\&quot;, 0.7)).to.equal(null); // =&gt; null\n        (0, chai_1.expect)(ss.add(\&quot;Ex Machina\&quot;, 7.7)).to.equal(0.7); // =&gt; 0.7\n        // Alias\n        (0, chai_1.expect)(ss.set(\&quot;The Matrix\&quot;, 8.7)).to.equal(null); // =&gt; null\n        // Average O(1)\n        (0, chai_1.expect)(ss.has(\&quot;Terminator\&quot;)).to.equal(true); // =&gt; true\n        (0, chai_1.expect)(ss.has(\&quot;Blade Runner\&quot;)).to.equal(false); // =&gt; false\n        // Average O(1)\n        (0, chai_1.expect)(ss.score(\&quot;Ex Machina\&quot;)).to.equal(7.7); // =&gt; 7.7\n        (0, chai_1.expect)(ss.score(\&quot;Blade Runner\&quot;)).to.equal(null); // =&gt; null\n        // Alias\n        (0, chai_1.expect)(ss.get(\&quot;The Matrix\&quot;)).to.equal(8.7); // =&gt; 8.7\n        // Average O(log(N))\n        (0, chai_1.expect)(ss.rem(\&quot;Ex Machina\&quot;)).to.equal(7.7); // =&gt; 7.7\n        // Average O(1)\n        (0, chai_1.expect)(ss.rem(\&quot;Ex Machina\&quot;)).to.equal(null); // =&gt; null\n        // Alias\n        (0, chai_1.expect)(ss.del(\&quot;Ex Machina\&quot;)).to.equal(null); // =&gt; null\n        /*\n         * Average O(log(N)+M) where M is the number of elements between min and max\n         * This is not working as expected\n         */\n        (0, chai_1.expect)(ss.rangeByScore(7, 8)).to.eql([\n            \&quot;District 9\&quot;,\n            \&quot;Terminator\&quot;\n        ]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        (0, chai_1.expect)(ss.rangeByScore(8)).to.eql([\n            \&quot;District 9\&quot;,\n            \&quot;Terminator\&quot;,\n            \&quot;The Matrix\&quot;\n        ]); // [8.0-∞)\n        // =&gt; [&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]\n        (0, chai_1.expect)(ss.rangeByScore(8, null, { \&quot;withScores\&quot;: true })).to.eql([\n            [\n                \&quot;District 9\&quot;,\n                8.0\n            ],\n            [\n                \&quot;Terminator\&quot;,\n                8.0\n            ],\n            [\n                \&quot;The Matrix\&quot;,\n                8.7\n            ]\n        ]);\n        // =&gt; [[&#x27;District 9&#x27;, 8.0], [&#x27;Terminator&#x27;, 8.0], [&#x27;The Matrix&#x27;, 8.7]]\n        /*\n         * Average O(log(N)+log(M)) where M as in rangeByScore\n         * Again - not as expected\n         */\n        (0, chai_1.expect)(ss.count(7, 8)).to.equal(2); // =&gt; 3\n        /*\n         * Average O(log(N))\n         * Not working as expected\n         */\n        (0, chai_1.expect)(ss.rank(\&quot;Ex Machina\&quot;)).to.equal(null); // =&gt; 0\n        // Not working as expected\n        (0, chai_1.expect)(ss.rank(\&quot;Terminator\&quot;)).to.equal(1); // =&gt; 2\n        (0, chai_1.expect)(ss.rank(\&quot;Blade Runner\&quot;)).to.equal(null); // =&gt; null\n        /*\n         * Average O(log(N)+M) where M as in range\n         * Not working as expected\n         */\n        (0, chai_1.expect)(ss.range(0, 2)).to.eql([\n            \&quot;District 9\&quot;,\n            \&quot;Terminator\&quot;,\n            \&quot;The Matrix\&quot;\n        ]);\n        /*\n         * =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n         * Not working as expected\n         */\n        (0, chai_1.expect)(ss.range(0, 2, { \&quot;withScores\&quot;: true })).to.eql([\n            [\n                \&quot;District 9\&quot;,\n                8\n            ],\n            [\n                \&quot;Terminator\&quot;,\n                8\n            ],\n            [\n                \&quot;The Matrix\&quot;,\n                8.7\n            ]\n        ]);\n        /*\n         * =&gt; [[&#x27;Ex Machina&#x27;, 7.7],\n         *     [&#x27;District 9&#x27;, 8],\n         *     [&#x27;Terminator&#x27;, 8]]\n         */\n        (0, chai_1.expect)(ss.range(-1)).to.eql([\&quot;The Matrix\&quot;]); // =&gt; [&#x27;The Matrix&#x27;]\n        /*\n         * Almost alias\n         * Not working as expected\n         */\n        (0, chai_1.expect)(ss.slice(0, 3)).to.eql([\n            \&quot;District 9\&quot;,\n            \&quot;Terminator\&quot;,\n            \&quot;The Matrix\&quot;\n        ]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        /*\n         * Set cardinality (number of elements)\n         * Average O(1)\n         * Not working as expected\n         */\n        (0, chai_1.expect)(ss.card()).to.equal(3); // =&gt; 4\n        /*\n         * Alias\n         * Not working as expected\n         */\n        (0, chai_1.expect)(ss.length).to.equal(3); // =&gt; 4\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a470130-5082-4e21-b492-c0b1c1c2adf0&quot;,&quot;parentUUID&quot;:&quot;8c3279f5-e8a2-43c9-88d2-ede77113dc84&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b2878e3e-40e9-4401-8bbf-f409509c28ab&quot;,&quot;title&quot;:&quot;skip map&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support basic operations&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map should support basic operations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\n(0, chai_1.expect)(z).to.have.length(0);\n(0, chai_1.expect)(z.toArray()).to.eql([]);\n(0, chai_1.expect)(z.range()).to.eql([]);\n(0, chai_1.expect)(z.rangeByScore()).to.eql([]);\n(0, chai_1.expect)(() =&gt; {\n    z.add(\&quot;__proto__\&quot;, 14);\n}).to.throw();\nz.add(\&quot;5a600e16\&quot;, 8);\nz.add(\&quot;5a600e17\&quot;, 9);\n(0, chai_1.expect)(z.add(\&quot;5a600e18\&quot;, 10)).to.equal(null);\n(0, chai_1.expect)(z.add(\&quot;5a600e17\&quot;, 12)).to.equal(9);\n(0, chai_1.expect)(z).to.have.length(3);\n(0, chai_1.expect)(z.toArray()).to.eql([\n    \&quot;5a600e16\&quot;,\n    \&quot;5a600e18\&quot;,\n    \&quot;5a600e17\&quot;\n]);\n(0, chai_1.expect)(z.toArray()).to.eql(z.range(0, -1));\n(0, chai_1.expect)(z.toArray()).to.eql(z.rangeByScore());\n(0, chai_1.expect)(z.has(\&quot;5a600e16\&quot;)).to.be.ok;\n(0, chai_1.expect)(z.has(\&quot;5a600e17\&quot;)).to.be.ok;\n(0, chai_1.expect)(z.has(\&quot;5a600e18\&quot;)).to.be.ok;\n(0, chai_1.expect)(z.has(\&quot;5a600e19\&quot;)).to.not.be.ok;\n(0, chai_1.expect)(z.score(\&quot;5a600e16\&quot;)).to.equal(8);\n(0, chai_1.expect)(z.score(\&quot;5a600e17\&quot;)).to.equal(12);\n(0, chai_1.expect)(z.score(\&quot;5a600e18\&quot;)).to.equal(10);\n(0, chai_1.expect)(z.score(\&quot;5a600e19\&quot;)).to.equal(null);\n(0, chai_1.expect)(z.rem(\&quot;5a600e16\&quot;)).to.equal(8);\n(0, chai_1.expect)(z).to.have.length(2);\n(0, chai_1.expect)(z.rem(\&quot;5a600e16\&quot;)).to.equal(null);\n(0, chai_1.expect)(z).to.have.length(2);\n(0, chai_1.expect)(z.has(\&quot;5a600e16\&quot;)).to.not.be.ok;\n(0, chai_1.expect)(z.toArray()).to.eql([\n    \&quot;5a600e18\&quot;,\n    \&quot;5a600e17\&quot;\n]);\n(0, chai_1.expect)(z.toArray({ \&quot;withScores\&quot;: true })).\n    to.eql(z.range(0, -1, { \&quot;withScores\&quot;: true }));\n(0, chai_1.expect)(z.toArray()).to.eql(z.rangeByScore());\nz.add(\&quot;5a600e16\&quot;, 10);\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\n(0, chai_1.expect)(z).to.have.length(9);\n// No change, so should be O(1)\nz.add(\&quot;5a600e17\&quot;, 12);\n(0, chai_1.expect)(z.rank(\&quot;5a600e17\&quot;)).to.equal(4);\n(0, chai_1.expect)(z).to.have.length(9);\n(0, chai_1.expect)(z.toArray()).to.eql([\n    \&quot;5a600e16\&quot;,\n    \&quot;5a600e11\&quot;,\n    \&quot;5a600e18\&quot;,\n    \&quot;5a600e13\&quot;,\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e12\&quot;,\n    \&quot;5a600e15\&quot;\n]);\n(0, chai_1.expect)(z.toArray()).to.eql(z.range(0, -1));\n(0, chai_1.expect)(z.toArray()).to.eql(z.rangeByScore());\n(0, chai_1.expect)(z.rangeByScore(14, 16, { \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e14\&quot;,\n        14\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c778952-aae7-4d10-b3a6-812b8c61a2a3&quot;,&quot;parentUUID&quot;:&quot;b2878e3e-40e9-4401-8bbf-f409509c28ab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;7f254897-b38c-426d-9c46-ad3c1d03b8bc&quot;,&quot;title&quot;:&quot;#add&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should implicitly delete&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #add should implicitly delete&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.add(\&quot;5a600e14\&quot;, null)).to.equal(14);\n(0, chai_1.expect)(z.add(\&quot;5a600e19\&quot;, null)).to.equal(null);\n(0, chai_1.expect)(z).to.have.length(8);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d7da607-6c9d-4f2a-a166-948a901d0978&quot;,&quot;parentUUID&quot;:&quot;7f254897-b38c-426d-9c46-ad3c1d03b8bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1d7da607-6c9d-4f2a-a166-948a901d0978&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;671a09a1-e6f1-4a7a-8a38-ac530c9ce603&quot;,&quot;title&quot;:&quot;#empty&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove all elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #empty should remove all elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\nz.empty();\n(0, chai_1.expect)(z).to.have.length(0);\n(0, chai_1.expect)(z.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4c60083-5df1-409d-a274-9614f784f6a3&quot;,&quot;parentUUID&quot;:&quot;671a09a1-e6f1-4a7a-8a38-ac530c9ce603&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c4c60083-5df1-409d-a274-9614f784f6a3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d0af57f6-ee03-45ca-a667-72d714f0be40&quot;,&quot;title&quot;:&quot;#incrBy(increment, key)&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should increase rank&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #incrBy(increment, key) should increase rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;first\&quot;, 1);\nz.add(\&quot;second\&quot;, 2);\nz.add(\&quot;third\&quot;, 3);\nz.add(\&quot;fourth\&quot;, 4);\n(0, chai_1.expect)(z.incrBy(2, \&quot;first\&quot;)).to.equal(3);\n(0, chai_1.expect)(z.rank(\&quot;first\&quot;)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3543edd2-da63-4573-82ba-c2f53e787d01&quot;,&quot;parentUUID&quot;:&quot;d0af57f6-ee03-45ca-a667-72d714f0be40&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create if not found&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #incrBy(increment, key) should create if not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;first\&quot;, 1);\nz.incrBy(2, \&quot;second\&quot;);\n(0, chai_1.expect)(z.card()).to.equal(2);\n(0, chai_1.expect)(z.rank(\&quot;second\&quot;)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;61a56d83-78b3-4b93-99e1-25f4f6558f4a&quot;,&quot;parentUUID&quot;:&quot;d0af57f6-ee03-45ca-a667-72d714f0be40&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3543edd2-da63-4573-82ba-c2f53e787d01&quot;,&quot;61a56d83-78b3-4b93-99e1-25f4f6558f4a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c29c0eff-42ec-4cd6-9720-0ac8c274eee1&quot;,&quot;title&quot;:&quot;#keys&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the keys&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #keys should return the keys&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.keys()).to.eql([\n    \&quot;5a600e16\&quot;,\n    \&quot;5a600e11\&quot;,\n    \&quot;5a600e18\&quot;,\n    \&quot;5a600e13\&quot;,\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e12\&quot;,\n    \&quot;5a600e15\&quot;\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b9e14cc9-d667-4335-b3d0-477d2395cd7f&quot;,&quot;parentUUID&quot;:&quot;c29c0eff-42ec-4cd6-9720-0ac8c274eee1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b9e14cc9-d667-4335-b3d0-477d2395cd7f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b59da50e-f4de-47fb-bdc5-a238a142ab65&quot;,&quot;title&quot;:&quot;#rangeByScore&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support special ranges&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #rangeByScore should support special ranges&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.rangeByScore(14, null, { \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e14\&quot;,\n        14\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ],\n    [\n        \&quot;5a600e15\&quot;,\n        19\n    ]\n]);\n(0, chai_1.expect)(z.rangeByScore(null, 10, { \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e16\&quot;,\n        3\n    ],\n    [\n        \&quot;5a600e11\&quot;,\n        6\n    ],\n    [\n        \&quot;5a600e18\&quot;,\n        10\n    ]\n]);\n(0, chai_1.expect)(z.rangeByScore(-Infinity, Infinity)).to.eql(z.toArray());\n(0, chai_1.expect)(z.rangeByScore(null, null)).to.eql(z.toArray());&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eeef8bc0-3ea2-469e-a208-2b888367d1ba&quot;,&quot;parentUUID&quot;:&quot;b59da50e-f4de-47fb-bdc5-a238a142ab65&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;eeef8bc0-3ea2-469e-a208-2b888367d1ba&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3959d3e1-f550-421d-8841-25cd60b70218&quot;,&quot;title&quot;:&quot;#count&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should count elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #count should count elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\n(0, chai_1.expect)(z.count()).to.equal(0);\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\nz.add(\&quot;5a600e19\&quot;, 14);\nz.add(\&quot;5a600f00\&quot;, 30.0);\nz.add(\&quot;5a600f01\&quot;, 30.5);\nz.add(\&quot;5a600f02\&quot;, 31.0);\nz.add(\&quot;5a600f03\&quot;, 31.5);\nz.add(\&quot;5a600f04\&quot;, 32.0);\nz.add(\&quot;5a600f05\&quot;, 32.0);\nz.add(\&quot;5a600f06\&quot;, 32.0);\n(0, chai_1.expect)(z.count()).to.eql(z.rangeByScore().length);\n(0, chai_1.expect)(z.count(8)).to.eql(z.rangeByScore(8).length);\n(0, chai_1.expect)(z.count(3, 7)).to.eql(z.rangeByScore(3, 7).length);\n(0, chai_1.expect)(z.count(5, 14)).to.eql(z.rangeByScore(5, 14).length);\n(0, chai_1.expect)(z.count(5, 5)).to.eql(z.rangeByScore(5, 5).length);\n(0, chai_1.expect)(z.count(5, 0)).to.eql(z.rangeByScore(5, 0).length);\n(0, chai_1.expect)(z.count(30, 32)).to.eql(z.rangeByScore(30, 32).length);\n(0, chai_1.expect)(z.count(40)).to.eql(z.rangeByScore(40).length);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d507ec00-e720-4ece-ac7d-9c54ce791c1e&quot;,&quot;parentUUID&quot;:&quot;3959d3e1-f550-421d-8841-25cd60b70218&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d507ec00-e720-4ece-ac7d-9c54ce791c1e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;7beafcc7-c562-4217-9e01-abd23be3296f&quot;,&quot;title&quot;:&quot;#range&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support special ranges&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #range should support special ranges&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;first\&quot;, 1);\nz.add(\&quot;second\&quot;, 2);\nz.add(\&quot;third\&quot;, 3);\nz.add(\&quot;fourth\&quot;, 4);\nconst array = [\n    \&quot;first\&quot;,\n    \&quot;second\&quot;,\n    \&quot;third\&quot;,\n    \&quot;fourth\&quot;\n];\n(0, chai_1.expect)(z.range()).to.eql(array);\n(0, chai_1.expect)(z.range(2)).to.eql(array.slice(2));\n(0, chai_1.expect)(z.range(8)).to.eql(array.slice(8));\n(0, chai_1.expect)(z.range(0, 2)).to.eql(array.slice(0, 3));\n(0, chai_1.expect)(z.range(-1)).to.eql([\&quot;fourth\&quot;]);\n(0, chai_1.expect)(z.range(-4)).to.eql(array);\n(0, chai_1.expect)(z.range(-4, -2)).to.eql(array.slice(0, 3));\n(0, chai_1.expect)(z.range(-4, z.length + 1000)).\n    to.eql(array.slice(-4, z.length + 1000));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a83791c5-0257-453d-9e68-1c852d63c2f4&quot;,&quot;parentUUID&quot;:&quot;7beafcc7-c562-4217-9e01-abd23be3296f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support withScores&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #range should support withScores&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;first\&quot;, 1);\nz.add(\&quot;second\&quot;, 2);\n(0, chai_1.expect)(z.range(0, 0, { \&quot;withScores\&quot;: true })).\n    to.eql([\n    [\n        \&quot;first\&quot;,\n        1\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7b327665-154b-4e19-ba30-dc719cbb002b&quot;,&quot;parentUUID&quot;:&quot;7beafcc7-c562-4217-9e01-abd23be3296f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a83791c5-0257-453d-9e68-1c852d63c2f4&quot;,&quot;7b327665-154b-4e19-ba30-dc719cbb002b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c9a2a51d-cd07-4dd3-b3d6-3674e3efc044&quot;,&quot;title&quot;:&quot;#intersect&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should intersect two sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #intersect should intersect two sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const a = new Z(), b = new Z();\na.add(\&quot;5a600e10\&quot;, 16);\na.add(\&quot;5a600e12\&quot;, 10);\na.add(\&quot;5a600e14\&quot;, 9);\na.add(\&quot;5a600e15\&quot;, 14);\na.add(\&quot;5a600e17\&quot;, 20);\na.add(\&quot;5a600e18\&quot;, 13);\na.add(\&quot;5a600e19\&quot;, 15);\na.add(\&quot;5a600e1a\&quot;, 19);\na.add(\&quot;5a600e1b\&quot;, 7);\na.add(\&quot;5a600e1c\&quot;, 13);\na.add(\&quot;5a600e1e\&quot;, 10);\nb.add(\&quot;5a600e10\&quot;, 0);\nb.add(\&quot;5a600e11\&quot;, 15);\nb.add(\&quot;5a600e13\&quot;, 5);\nb.add(\&quot;5a600e14\&quot;, 3);\nb.add(\&quot;5a600e15\&quot;, 14);\nb.add(\&quot;5a600e17\&quot;, 12);\nb.add(\&quot;5a600e19\&quot;, 12);\nb.add(\&quot;5a600e1b\&quot;, 16);\nb.add(\&quot;5a600e1c\&quot;, 12);\nb.add(\&quot;5a600e1d\&quot;, 17);\nb.add(\&quot;5a600e1f\&quot;, 3);\n(0, chai_1.expect)(Z.intersect(a, b)).to.eql([\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e19\&quot;,\n    \&quot;5a600e1c\&quot;,\n    \&quot;5a600e15\&quot;,\n    \&quot;5a600e1b\&quot;\n]);\n(0, chai_1.expect)(Z.intersect(b, a)).to.eql([\n    \&quot;5a600e1b\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e1c\&quot;,\n    \&quot;5a600e15\&quot;,\n    \&quot;5a600e19\&quot;,\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e17\&quot;\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad2d1bda-4662-4877-898e-fe8af4e02518&quot;,&quot;parentUUID&quot;:&quot;c9a2a51d-cd07-4dd3-b3d6-3674e3efc044&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should intersect three sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #intersect should intersect three sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const a = new Z(), b = new Z(), c = new Z();\na.add(\&quot;5a600e10\&quot;, 16);\na.add(\&quot;5a600e12\&quot;, 10);\na.add(\&quot;5a600e14\&quot;, 9);\na.add(\&quot;5a600e15\&quot;, 14);\na.add(\&quot;5a600e17\&quot;, 20);\na.add(\&quot;5a600e18\&quot;, 13);\na.add(\&quot;5a600e19\&quot;, 15);\na.add(\&quot;5a600e1a\&quot;, 19);\na.add(\&quot;5a600e1b\&quot;, 7);\na.add(\&quot;5a600e1c\&quot;, 13);\na.add(\&quot;5a600e1e\&quot;, 10);\nb.add(\&quot;5a600e10\&quot;, 0);\nb.add(\&quot;5a600e11\&quot;, 15);\nb.add(\&quot;5a600e13\&quot;, 5);\nb.add(\&quot;5a600e14\&quot;, 3);\nb.add(\&quot;5a600e15\&quot;, 14);\nb.add(\&quot;5a600e17\&quot;, 12);\nb.add(\&quot;5a600e19\&quot;, 12);\nb.add(\&quot;5a600e1b\&quot;, 16);\nb.add(\&quot;5a600e1c\&quot;, 12);\nb.add(\&quot;5a600e1d\&quot;, 17);\nb.add(\&quot;5a600e1f\&quot;, 3);\nc.add(\&quot;5a600e10\&quot;, 7);\nc.add(\&quot;5a600e12\&quot;, 20);\nc.add(\&quot;5a600e13\&quot;, 9);\nc.add(\&quot;5a600e14\&quot;, 19);\nc.add(\&quot;5a600e16\&quot;, 19);\nc.add(\&quot;5a600e17\&quot;, 1);\nc.add(\&quot;5a600e18\&quot;, 18);\nc.add(\&quot;5a600e1a\&quot;, 6);\nc.add(\&quot;5a600e1c\&quot;, 15);\nc.add(\&quot;5a600e1f\&quot;, 4);\n(0, chai_1.expect)(Z.intersect(c, a, b)).to.eql([\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e1c\&quot;\n]);\n(0, chai_1.expect)(Z.intersect(c, a, b)).to.eql(c.intersect(a, b));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53f352e4-69e5-44cb-968c-7659230255a6&quot;,&quot;parentUUID&quot;:&quot;c9a2a51d-cd07-4dd3-b3d6-3674e3efc044&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should intersect four sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #intersect should intersect four sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const a = new Z(), b = new Z(), c = new Z(), d = new Z();\na.add(\&quot;5a600e10\&quot;, 16);\na.add(\&quot;5a600e12\&quot;, 10);\na.add(\&quot;5a600e14\&quot;, 9);\na.add(\&quot;5a600e15\&quot;, 14);\na.add(\&quot;5a600e17\&quot;, 20);\na.add(\&quot;5a600e18\&quot;, 13);\na.add(\&quot;5a600e19\&quot;, 15);\na.add(\&quot;5a600e1a\&quot;, 19);\na.add(\&quot;5a600e1b\&quot;, 7);\na.add(\&quot;5a600e1c\&quot;, 13);\na.add(\&quot;5a600e1e\&quot;, 10);\nb.add(\&quot;5a600e10\&quot;, 0);\nb.add(\&quot;5a600e11\&quot;, 15);\nb.add(\&quot;5a600e13\&quot;, 5);\nb.add(\&quot;5a600e14\&quot;, 3);\nb.add(\&quot;5a600e15\&quot;, 14);\nb.add(\&quot;5a600e17\&quot;, 12);\nb.add(\&quot;5a600e19\&quot;, 12);\nb.add(\&quot;5a600e1b\&quot;, 16);\nb.add(\&quot;5a600e1c\&quot;, 12);\nb.add(\&quot;5a600e1d\&quot;, 17);\nb.add(\&quot;5a600e1f\&quot;, 3);\nc.add(\&quot;5a600e10\&quot;, 7);\nc.add(\&quot;5a600e12\&quot;, 20);\nc.add(\&quot;5a600e13\&quot;, 9);\nc.add(\&quot;5a600e14\&quot;, 19);\nc.add(\&quot;5a600e16\&quot;, 19);\nc.add(\&quot;5a600e17\&quot;, 1);\nc.add(\&quot;5a600e18\&quot;, 18);\nc.add(\&quot;5a600e1a\&quot;, 6);\nc.add(\&quot;5a600e1c\&quot;, 15);\nc.add(\&quot;5a600e1f\&quot;, 4);\nd.add(\&quot;5a600e1c\&quot;, 400);\nd.add(\&quot;5a600e17\&quot;, 500);\nd.add(\&quot;5a600e1f\&quot;, 600);\nd.add(\&quot;5a600e20\&quot;, 700);\n(0, chai_1.expect)(Z.intersect(d, c, a, b)).to.eql([\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e1c\&quot;\n]);\n(0, chai_1.expect)(Z.intersect(d, c, a, b)).to.eql(d.intersect(c, a, b));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b34ecaba-f81b-4492-80da-a8d0a3830e44&quot;,&quot;parentUUID&quot;:&quot;c9a2a51d-cd07-4dd3-b3d6-3674e3efc044&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ad2d1bda-4662-4877-898e-fe8af4e02518&quot;,&quot;53f352e4-69e5-44cb-968c-7659230255a6&quot;,&quot;b34ecaba-f81b-4492-80da-a8d0a3830e44&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b76a5849-4944-449f-8908-7cb70c9f92cf&quot;,&quot;title&quot;:&quot;#rank&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get the correct rank&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #rank should get the correct rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.rank(\&quot;5a600e12\&quot;)).to.equal(7);\n(0, chai_1.expect)(z.rank(\&quot;5a600e13\&quot;)).to.equal(3);\n(0, chai_1.expect)(z.rank(\&quot;5a600e16\&quot;)).to.equal(0);\n(0, chai_1.expect)(z.rank(\&quot;5a600e15\&quot;)).to.equal(8);\n(0, chai_1.expect)(z.rank(\&quot;not in set\&quot;)).to.equal(null);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;64eaa862-d101-4bb1-bee1-4727fe7b64f3&quot;,&quot;parentUUID&quot;:&quot;b76a5849-4944-449f-8908-7cb70c9f92cf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;64eaa862-d101-4bb1-bee1-4727fe7b64f3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;767de97e-f304-42ac-86bd-852cf02d5183&quot;,&quot;title&quot;:&quot;#rem&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete special elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #rem should delete special elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.rem(\&quot;5a600e15\&quot;)).to.equal(19);\n(0, chai_1.expect)(z).to.have.length(8);\n(0, chai_1.expect)(z.rem(\&quot;5a600e16\&quot;)).to.equal(3);\n(0, chai_1.expect)(z).to.have.length(7);\n(0, chai_1.expect)(z.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e11\&quot;,\n        6\n    ],\n    [\n        \&quot;5a600e18\&quot;,\n        10\n    ],\n    [\n        \&quot;5a600e13\&quot;,\n        11\n    ],\n    [\n        \&quot;5a600e17\&quot;,\n        12\n    ],\n    [\n        \&quot;5a600e14\&quot;,\n        14\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f320ebe-43a9-46ec-952b-30df60b6e5dc&quot;,&quot;parentUUID&quot;:&quot;767de97e-f304-42ac-86bd-852cf02d5183&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should delete many elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #rem should delete many elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.rem(\&quot;5a600e11\&quot;)).to.equal(6);\n(0, chai_1.expect)(z.rem(\&quot;5a600e13\&quot;)).to.equal(11);\n(0, chai_1.expect)(z.rem(\&quot;5a600e14\&quot;)).to.equal(14);\n(0, chai_1.expect)(z.rem(\&quot;5a600e15\&quot;)).to.equal(19);\n(0, chai_1.expect)(z.rem(\&quot;5a600e16\&quot;)).to.equal(3);\n(0, chai_1.expect)(z.rem(\&quot;5a600e17\&quot;)).to.equal(12);\n(0, chai_1.expect)(z.length).to.equal(3);\n(0, chai_1.expect)(z.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e18\&quot;,\n        10\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c517e4af-879e-4a34-8a4e-76bc25c88d6f&quot;,&quot;parentUUID&quot;:&quot;767de97e-f304-42ac-86bd-852cf02d5183&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6f320ebe-43a9-46ec-952b-30df60b6e5dc&quot;,&quot;c517e4af-879e-4a34-8a4e-76bc25c88d6f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;7dc949da-efa9-4ade-a861-a7a7dcde976f&quot;,&quot;title&quot;:&quot;#remRangeByScore&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should strip out a range of elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #remRangeByScore should strip out a range of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.remRangeByScore(4, 14)).to.equal(5);\n(0, chai_1.expect)(z).to.have.length(4);\n(0, chai_1.expect)(z.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e16\&quot;,\n        3\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ],\n    [\n        \&quot;5a600e15\&quot;,\n        19\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0957537b-0967-44b3-95ca-97565ce768c1&quot;,&quot;parentUUID&quot;:&quot;7dc949da-efa9-4ade-a861-a7a7dcde976f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should strip out all the elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #remRangeByScore should strip out all the elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.remRangeByScore(3, 19)).to.equal(9);\n(0, chai_1.expect)(z).to.have.length(0);\n(0, chai_1.expect)(z.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bfbf0d52-686d-4143-bb2c-2f02ddb54779&quot;,&quot;parentUUID&quot;:&quot;7dc949da-efa9-4ade-a861-a7a7dcde976f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0957537b-0967-44b3-95ca-97565ce768c1&quot;,&quot;bfbf0d52-686d-4143-bb2c-2f02ddb54779&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c99e2c6f-f681-467b-a935-72c54dadc9b5&quot;,&quot;title&quot;:&quot;#remRangeByRank&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should strip out a slice of elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #remRangeByRank should strip out a slice of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.remRangeByRank(1, 6)).to.equal(5);\n(0, chai_1.expect)(z).to.have.length(4);\n(0, chai_1.expect)(z.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e16\&quot;,\n        3\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ],\n    [\n        \&quot;5a600e15\&quot;,\n        19\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;223305d8-c9a4-4236-9ce3-c416b1124a1f&quot;,&quot;parentUUID&quot;:&quot;c99e2c6f-f681-467b-a935-72c54dadc9b5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should strip out all elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #remRangeByRank should strip out all elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.remRangeByRank(0, 9)).to.equal(9);\n(0, chai_1.expect)(z).to.have.length(0);\n(0, chai_1.expect)(z.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1990f014-d2d6-4bbf-bb31-21e72c30aca7&quot;,&quot;parentUUID&quot;:&quot;c99e2c6f-f681-467b-a935-72c54dadc9b5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;223305d8-c9a4-4236-9ce3-c416b1124a1f&quot;,&quot;1990f014-d2d6-4bbf-bb31-21e72c30aca7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;78208a9b-b72c-4c3b-94b9-d395a13fe665&quot;,&quot;title&quot;:&quot;#values&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the values&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #values should return the values&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;first\&quot;, -1);\nz.add(\&quot;third\&quot;, 5);\nz.add(\&quot;second\&quot;, 3);\n(0, chai_1.expect)(z.values()).to.eql([\n    -1,\n    3,\n    5\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a66f995-a6fc-4550-b276-ee36aca3d4aa&quot;,&quot;parentUUID&quot;:&quot;78208a9b-b72c-4c3b-94b9-d395a13fe665&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5a66f995-a6fc-4550-b276-ee36aca3d4aa&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;bd9877e0-20e3-4109-95ee-56b8ebd89ae4&quot;,&quot;title&quot;:&quot;unique&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should ensure values are unique&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map unique should ensure values are unique&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z({ \&quot;unique\&quot;: true });\nassert.equal(z.keys().length, 0, \&quot;Expected an empty SortedSet\&quot;);\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(() =&gt; {\n    z.add(\&quot;5a600e19\&quot;, 11);\n}).to.throw(/unique/);\n// Quick exit test\n(0, chai_1.expect)(() =&gt; {\n    z.add(\&quot;5a600dff\&quot;, z._head.next[z._level - 1].next.value);\n}).to.throw(/unique/);\n// This test ensures the key &lt; key check doesn&#x27;t come into play\n(0, chai_1.expect)(() =&gt; {\n    z.add(\&quot;5a600dff\&quot;, 11);\n}).to.throw(/unique/);\n(0, chai_1.expect)(() =&gt; {\n    z.add(\&quot;5a600e18\&quot;, 10);\n}).to.not.throw();\n(0, chai_1.expect)(z).to.have.length(9);\n(0, chai_1.expect)(z.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e16\&quot;,\n        3\n    ],\n    [\n        \&quot;5a600e11\&quot;,\n        6\n    ],\n    [\n        \&quot;5a600e18\&quot;,\n        10\n    ],\n    [\n        \&quot;5a600e13\&quot;,\n        11\n    ],\n    [\n        \&quot;5a600e17\&quot;,\n        12\n    ],\n    [\n        \&quot;5a600e14\&quot;,\n        14\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ],\n    [\n        \&quot;5a600e15\&quot;,\n        19\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e411fc2b-ee0e-48e5-9b7d-36372bb6168b&quot;,&quot;parentUUID&quot;:&quot;bd9877e0-20e3-4109-95ee-56b8ebd89ae4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert keys if constraint broken during update&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map unique should revert keys if constraint broken during update&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z({ \&quot;unique\&quot;: true });\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(() =&gt; {\n    z.add(\&quot;5a600e13\&quot;, 14);\n}).to.throw(/unique/);\n(0, chai_1.expect)(z).to.have.length(9);\n(0, chai_1.expect)(z.score(\&quot;5a600e13\&quot;)).to.equal(11);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;31eae884-a18d-43fc-a98e-0397cb173d7d&quot;,&quot;parentUUID&quot;:&quot;bd9877e0-20e3-4109-95ee-56b8ebd89ae4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e411fc2b-ee0e-48e5-9b7d-36372bb6168b&quot;,&quot;31eae884-a18d-43fc-a98e-0397cb173d7d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;5c778952-aae7-4d10-b3a6-812b8c61a2a3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e0a0b04b-4549-461d-b1e2-10052ded6e3d&quot;,&quot;title&quot;:&quot;skip map rewrite&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support basic operations&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite should support basic operations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\n(0, chai_1.expect)(ss).to.have.length(0);\n(0, chai_1.expect)(ss.toArray()).to.eql([]);\n(0, chai_1.expect)(ss.range()).to.eql([]);\n(0, chai_1.expect)(ss.rangeByScore()).to.eql([]);\n/*\n * Expect(() =&gt; {\n *   Ss.add(&#x27;__proto__&#x27;, 14);\n * }).to.throw();\n */\nss.add(\&quot;5a600e16\&quot;, 8);\nss.add(\&quot;5a600e17\&quot;, 9);\n(0, chai_1.expect)(ss.add(\&quot;5a600e18\&quot;, 10)).to.equal(null);\n(0, chai_1.expect)(ss.add(\&quot;5a600e17\&quot;, 12)).to.equal(9);\n(0, chai_1.expect)(ss).to.have.length(3);\n(0, chai_1.expect)(ss.toArray()).to.eql([\n    \&quot;5a600e16\&quot;,\n    \&quot;5a600e18\&quot;,\n    \&quot;5a600e17\&quot;\n]);\n(0, chai_1.expect)(ss.toArray()).to.eql(ss.range(0, -1));\n(0, chai_1.expect)(ss.toArray()).to.eql(ss.rangeByScore());\n(0, chai_1.expect)(ss.has(\&quot;5a600e16\&quot;)).to.be.ok;\n(0, chai_1.expect)(ss.has(\&quot;5a600e17\&quot;)).to.be.ok;\n(0, chai_1.expect)(ss.has(\&quot;5a600e18\&quot;)).to.be.ok;\n(0, chai_1.expect)(ss.has(\&quot;5a600e19\&quot;)).to.not.be.ok;\n(0, chai_1.expect)(ss.score(\&quot;5a600e16\&quot;)).to.equal(8);\n(0, chai_1.expect)(ss.score(\&quot;5a600e17\&quot;)).to.equal(12);\n(0, chai_1.expect)(ss.score(\&quot;5a600e18\&quot;)).to.equal(10);\n(0, chai_1.expect)(ss.score(\&quot;5a600e19\&quot;)).to.equal(null);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e16\&quot;)).to.equal(8);\n(0, chai_1.expect)(ss).to.have.length(2);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e16\&quot;)).to.equal(null);\n(0, chai_1.expect)(ss).to.have.length(2);\n(0, chai_1.expect)(ss.has(\&quot;5a600e16\&quot;)).to.not.be.ok;\n(0, chai_1.expect)(ss.toArray()).to.eql([\n    \&quot;5a600e18\&quot;,\n    \&quot;5a600e17\&quot;\n]);\n(0, chai_1.expect)(ss.toArray({ \&quot;withScores\&quot;: true })).\n    to.eql(ss.range(0, -1, { \&quot;withScores\&quot;: true }));\n(0, chai_1.expect)(ss.toArray()).to.eql(ss.rangeByScore());\nss.add(\&quot;5a600e16\&quot;, 10);\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\n(0, chai_1.expect)(ss).to.have.length(9);\n// No change, so should be O(1)\nss.add(\&quot;5a600e17\&quot;, 12);\n(0, chai_1.expect)(ss.rank(\&quot;5a600e17\&quot;)).to.equal(4);\n(0, chai_1.expect)(ss).to.have.length(9);\n(0, chai_1.expect)(ss.toArray()).to.eql([\n    \&quot;5a600e16\&quot;,\n    \&quot;5a600e11\&quot;,\n    \&quot;5a600e18\&quot;,\n    \&quot;5a600e13\&quot;,\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e12\&quot;,\n    \&quot;5a600e15\&quot;\n]);\n(0, chai_1.expect)(ss.toArray()).to.eql(ss.range(0, -1));\n(0, chai_1.expect)(ss.toArray()).to.eql(ss.rangeByScore());\n(0, chai_1.expect)(ss.rangeByScore(14, 16, { \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e14\&quot;,\n        14\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;73633a5d-65fc-4c5b-9790-e239560066a3&quot;,&quot;parentUUID&quot;:&quot;e0a0b04b-4549-461d-b1e2-10052ded6e3d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;45679908-4519-4c38-aa53-173ee78c27da&quot;,&quot;title&quot;:&quot;#add&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should implicitly delete&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #add should implicitly delete&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.add(\&quot;5a600e14\&quot;, null)).to.equal(14);\n(0, chai_1.expect)(ss.add(\&quot;5a600e19\&quot;, null)).to.equal(null);\n(0, chai_1.expect)(ss).to.have.length(8);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;18b1726e-fccc-4c02-b8f8-1b2cc7dbb6dd&quot;,&quot;parentUUID&quot;:&quot;45679908-4519-4c38-aa53-173ee78c27da&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;18b1726e-fccc-4c02-b8f8-1b2cc7dbb6dd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f08e4858-79ad-42c1-9313-ddc716d87d46&quot;,&quot;title&quot;:&quot;#empty&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove all elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #empty should remove all elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\nss.empty();\n(0, chai_1.expect)(ss).to.have.length(0);\n(0, chai_1.expect)(ss.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b0887293-f518-448d-ac8d-3fe004aca7a0&quot;,&quot;parentUUID&quot;:&quot;f08e4858-79ad-42c1-9313-ddc716d87d46&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b0887293-f518-448d-ac8d-3fe004aca7a0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8b048a36-7c69-4cdf-86e4-19d8ffd1fa12&quot;,&quot;title&quot;:&quot;#incrBy(increment, key)&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should increase rank&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #incrBy(increment, key) should increase rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;first\&quot;, 1);\nss.add(\&quot;second\&quot;, 2);\nss.add(\&quot;third\&quot;, 3);\nss.add(\&quot;fourth\&quot;, 4);\n(0, chai_1.expect)(ss.incrBy(2, \&quot;first\&quot;)).to.equal(3);\n(0, chai_1.expect)(ss.rank(\&quot;first\&quot;)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aa082d06-4edb-44e9-b08a-d2888d291daa&quot;,&quot;parentUUID&quot;:&quot;8b048a36-7c69-4cdf-86e4-19d8ffd1fa12&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create if not found&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #incrBy(increment, key) should create if not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;first\&quot;, 1);\nss.incrBy(2, \&quot;second\&quot;);\n(0, chai_1.expect)(ss.card()).to.equal(2);\n(0, chai_1.expect)(ss.rank(\&quot;second\&quot;)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c953dd65-d4c0-4995-a38f-076e29df9e6f&quot;,&quot;parentUUID&quot;:&quot;8b048a36-7c69-4cdf-86e4-19d8ffd1fa12&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;aa082d06-4edb-44e9-b08a-d2888d291daa&quot;,&quot;c953dd65-d4c0-4995-a38f-076e29df9e6f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;03e22b7c-12f1-4b9c-bbfa-81672eb9dea3&quot;,&quot;title&quot;:&quot;#keys&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the keys&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #keys should return the keys&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.keys()).to.eql([\n    \&quot;5a600e16\&quot;,\n    \&quot;5a600e11\&quot;,\n    \&quot;5a600e18\&quot;,\n    \&quot;5a600e13\&quot;,\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e12\&quot;,\n    \&quot;5a600e15\&quot;\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f60e53e-fb4e-4e40-9a97-bca83df3c20a&quot;,&quot;parentUUID&quot;:&quot;03e22b7c-12f1-4b9c-bbfa-81672eb9dea3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7f60e53e-fb4e-4e40-9a97-bca83df3c20a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;46b1a317-ba3b-4390-8178-43f9699debf9&quot;,&quot;title&quot;:&quot;#rangeByScore&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support special ranges&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #rangeByScore should support special ranges&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.rangeByScore(14, null, { \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e14\&quot;,\n        14\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ],\n    [\n        \&quot;5a600e15\&quot;,\n        19\n    ]\n]);\n(0, chai_1.expect)(ss.rangeByScore(null, 10, { \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e16\&quot;,\n        3\n    ],\n    [\n        \&quot;5a600e11\&quot;,\n        6\n    ],\n    [\n        \&quot;5a600e18\&quot;,\n        10\n    ]\n]);\n(0, chai_1.expect)(ss.rangeByScore(-Infinity, Infinity)).to.eql(ss.toArray());\n(0, chai_1.expect)(ss.rangeByScore(null, null)).to.eql(ss.toArray());&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;60f37152-d7fa-4991-94cd-81391653938d&quot;,&quot;parentUUID&quot;:&quot;46b1a317-ba3b-4390-8178-43f9699debf9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;60f37152-d7fa-4991-94cd-81391653938d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ac688e1f-dff5-4e11-acb2-c98c01f87bc2&quot;,&quot;title&quot;:&quot;#count&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should count elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #count should count elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\n(0, chai_1.expect)(ss.count()).to.equal(0);\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\nss.add(\&quot;5a600e19\&quot;, 14);\nss.add(\&quot;5a600f00\&quot;, 30.0);\nss.add(\&quot;5a600f01\&quot;, 30.5);\nss.add(\&quot;5a600f02\&quot;, 31.0);\nss.add(\&quot;5a600f03\&quot;, 31.5);\nss.add(\&quot;5a600f04\&quot;, 32.0);\nss.add(\&quot;5a600f05\&quot;, 32.0);\nss.add(\&quot;5a600f06\&quot;, 32.0);\n(0, chai_1.expect)(ss.count()).to.eql(ss.rangeByScore().length);\n(0, chai_1.expect)(ss.count(8)).to.eql(ss.rangeByScore(8).length);\n(0, chai_1.expect)(ss.count(3, 7)).to.eql(ss.rangeByScore(3, 7).length);\n(0, chai_1.expect)(ss.count(5, 14)).to.eql(ss.rangeByScore(5, 14).length);\n(0, chai_1.expect)(ss.count(5, 5)).to.eql(ss.rangeByScore(5, 5).length);\n(0, chai_1.expect)(ss.count(5, 0)).to.eql(ss.rangeByScore(5, 0).length);\n(0, chai_1.expect)(ss.count(30, 32)).to.eql(ss.rangeByScore(30, 32).length);\n(0, chai_1.expect)(ss.count(40)).to.eql(ss.rangeByScore(40).length);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3537f81f-a8eb-4084-82f7-60ed269d5406&quot;,&quot;parentUUID&quot;:&quot;ac688e1f-dff5-4e11-acb2-c98c01f87bc2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3537f81f-a8eb-4084-82f7-60ed269d5406&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c0cff126-4da1-465e-ab13-ec44897e0c2c&quot;,&quot;title&quot;:&quot;#range&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support special ranges&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #range should support special ranges&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;first\&quot;, 1);\nss.add(\&quot;second\&quot;, 2);\nss.add(\&quot;third\&quot;, 3);\nss.add(\&quot;fourth\&quot;, 4);\nconst array = [\n    \&quot;first\&quot;,\n    \&quot;second\&quot;,\n    \&quot;third\&quot;,\n    \&quot;fourth\&quot;\n];\n(0, chai_1.expect)(ss.range()).to.eql(array);\n(0, chai_1.expect)(ss.range(2)).to.eql(array.slice(2));\n(0, chai_1.expect)(ss.range(8)).to.eql(array.slice(8));\n(0, chai_1.expect)(ss.range(0, 2)).to.eql(array.slice(0, 3));\n(0, chai_1.expect)(ss.range(-1)).to.eql([\&quot;fourth\&quot;]);\n(0, chai_1.expect)(ss.range(-4)).to.eql(array);\n(0, chai_1.expect)(ss.range(-4, -2)).to.eql(array.slice(0, 3));\n(0, chai_1.expect)(ss.range(-4, ss.length + 1000)).\n    to.eql(array.slice(-4, ss.length + 1000));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;69df0827-1d41-4087-8463-457d1ec58cec&quot;,&quot;parentUUID&quot;:&quot;c0cff126-4da1-465e-ab13-ec44897e0c2c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support withScores&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #range should support withScores&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;first\&quot;, 1);\nss.add(\&quot;second\&quot;, 2);\n(0, chai_1.expect)(ss.range(0, 0, { \&quot;withScores\&quot;: true })).\n    to.eql([\n    [\n        \&quot;first\&quot;,\n        1\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6a46f10c-09ff-4173-9fbf-9a3d1ff50ed8&quot;,&quot;parentUUID&quot;:&quot;c0cff126-4da1-465e-ab13-ec44897e0c2c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;69df0827-1d41-4087-8463-457d1ec58cec&quot;,&quot;6a46f10c-09ff-4173-9fbf-9a3d1ff50ed8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3feaaea9-ffde-41af-bc77-6b8f3bd36b1f&quot;,&quot;title&quot;:&quot;#intersect&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should intersect two sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #intersect should intersect two sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const a = new sorted_set_1.SortedSet(), b = new sorted_set_1.SortedSet();\na.add(\&quot;5a600e10\&quot;, 16);\na.add(\&quot;5a600e12\&quot;, 10);\na.add(\&quot;5a600e14\&quot;, 9);\na.add(\&quot;5a600e15\&quot;, 14);\na.add(\&quot;5a600e17\&quot;, 20);\na.add(\&quot;5a600e18\&quot;, 13);\na.add(\&quot;5a600e19\&quot;, 15);\na.add(\&quot;5a600e1a\&quot;, 19);\na.add(\&quot;5a600e1b\&quot;, 7);\na.add(\&quot;5a600e1c\&quot;, 13);\na.add(\&quot;5a600e1e\&quot;, 10);\nb.add(\&quot;5a600e10\&quot;, 0);\nb.add(\&quot;5a600e11\&quot;, 15);\nb.add(\&quot;5a600e13\&quot;, 5);\nb.add(\&quot;5a600e14\&quot;, 3);\nb.add(\&quot;5a600e15\&quot;, 14);\nb.add(\&quot;5a600e17\&quot;, 12);\nb.add(\&quot;5a600e19\&quot;, 12);\nb.add(\&quot;5a600e1b\&quot;, 16);\nb.add(\&quot;5a600e1c\&quot;, 12);\nb.add(\&quot;5a600e1d\&quot;, 17);\nb.add(\&quot;5a600e1f\&quot;, 3);\n(0, chai_1.expect)(sorted_set_1.SortedSet.intersect(a, b)).to.eql([\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e19\&quot;,\n    \&quot;5a600e1c\&quot;,\n    \&quot;5a600e15\&quot;,\n    \&quot;5a600e1b\&quot;\n]);\n(0, chai_1.expect)(sorted_set_1.SortedSet.intersect(b, a)).to.eql([\n    \&quot;5a600e1b\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e1c\&quot;,\n    \&quot;5a600e15\&quot;,\n    \&quot;5a600e19\&quot;,\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e17\&quot;\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ab8f5103-cd8a-46a7-b89a-6f91eefddde2&quot;,&quot;parentUUID&quot;:&quot;3feaaea9-ffde-41af-bc77-6b8f3bd36b1f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should intersect three sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #intersect should intersect three sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const a = new sorted_set_1.SortedSet(), b = new sorted_set_1.SortedSet(), c = new sorted_set_1.SortedSet();\na.add(\&quot;5a600e10\&quot;, 16);\na.add(\&quot;5a600e12\&quot;, 10);\na.add(\&quot;5a600e14\&quot;, 9);\na.add(\&quot;5a600e15\&quot;, 14);\na.add(\&quot;5a600e17\&quot;, 20);\na.add(\&quot;5a600e18\&quot;, 13);\na.add(\&quot;5a600e19\&quot;, 15);\na.add(\&quot;5a600e1a\&quot;, 19);\na.add(\&quot;5a600e1b\&quot;, 7);\na.add(\&quot;5a600e1c\&quot;, 13);\na.add(\&quot;5a600e1e\&quot;, 10);\nb.add(\&quot;5a600e10\&quot;, 0);\nb.add(\&quot;5a600e11\&quot;, 15);\nb.add(\&quot;5a600e13\&quot;, 5);\nb.add(\&quot;5a600e14\&quot;, 3);\nb.add(\&quot;5a600e15\&quot;, 14);\nb.add(\&quot;5a600e17\&quot;, 12);\nb.add(\&quot;5a600e19\&quot;, 12);\nb.add(\&quot;5a600e1b\&quot;, 16);\nb.add(\&quot;5a600e1c\&quot;, 12);\nb.add(\&quot;5a600e1d\&quot;, 17);\nb.add(\&quot;5a600e1f\&quot;, 3);\nc.add(\&quot;5a600e10\&quot;, 7);\nc.add(\&quot;5a600e12\&quot;, 20);\nc.add(\&quot;5a600e13\&quot;, 9);\nc.add(\&quot;5a600e14\&quot;, 19);\nc.add(\&quot;5a600e16\&quot;, 19);\nc.add(\&quot;5a600e17\&quot;, 1);\nc.add(\&quot;5a600e18\&quot;, 18);\nc.add(\&quot;5a600e1a\&quot;, 6);\nc.add(\&quot;5a600e1c\&quot;, 15);\nc.add(\&quot;5a600e1f\&quot;, 4);\n(0, chai_1.expect)(sorted_set_1.SortedSet.intersect(c, a, b)).to.eql([\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e1c\&quot;\n]);\n// Expect(SortedSet.intersect(c, a, b)).to.eql(c.intersect(a, b));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e92816a-448c-4895-bdb0-843d52d32594&quot;,&quot;parentUUID&quot;:&quot;3feaaea9-ffde-41af-bc77-6b8f3bd36b1f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should intersect four sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #intersect should intersect four sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const a = new sorted_set_1.SortedSet(), b = new sorted_set_1.SortedSet(), c = new sorted_set_1.SortedSet(), d = new sorted_set_1.SortedSet();\na.add(\&quot;5a600e10\&quot;, 16);\na.add(\&quot;5a600e12\&quot;, 10);\na.add(\&quot;5a600e14\&quot;, 9);\na.add(\&quot;5a600e15\&quot;, 14);\na.add(\&quot;5a600e17\&quot;, 20);\na.add(\&quot;5a600e18\&quot;, 13);\na.add(\&quot;5a600e19\&quot;, 15);\na.add(\&quot;5a600e1a\&quot;, 19);\na.add(\&quot;5a600e1b\&quot;, 7);\na.add(\&quot;5a600e1c\&quot;, 13);\na.add(\&quot;5a600e1e\&quot;, 10);\nb.add(\&quot;5a600e10\&quot;, 0);\nb.add(\&quot;5a600e11\&quot;, 15);\nb.add(\&quot;5a600e13\&quot;, 5);\nb.add(\&quot;5a600e14\&quot;, 3);\nb.add(\&quot;5a600e15\&quot;, 14);\nb.add(\&quot;5a600e17\&quot;, 12);\nb.add(\&quot;5a600e19\&quot;, 12);\nb.add(\&quot;5a600e1b\&quot;, 16);\nb.add(\&quot;5a600e1c\&quot;, 12);\nb.add(\&quot;5a600e1d\&quot;, 17);\nb.add(\&quot;5a600e1f\&quot;, 3);\nc.add(\&quot;5a600e10\&quot;, 7);\nc.add(\&quot;5a600e12\&quot;, 20);\nc.add(\&quot;5a600e13\&quot;, 9);\nc.add(\&quot;5a600e14\&quot;, 19);\nc.add(\&quot;5a600e16\&quot;, 19);\nc.add(\&quot;5a600e17\&quot;, 1);\nc.add(\&quot;5a600e18\&quot;, 18);\nc.add(\&quot;5a600e1a\&quot;, 6);\nc.add(\&quot;5a600e1c\&quot;, 15);\nc.add(\&quot;5a600e1f\&quot;, 4);\nd.add(\&quot;5a600e1c\&quot;, 400);\nd.add(\&quot;5a600e17\&quot;, 500);\nd.add(\&quot;5a600e1f\&quot;, 600);\nd.add(\&quot;5a600e20\&quot;, 700);\n(0, chai_1.expect)(sorted_set_1.SortedSet.intersect(d, c, a, b)).to.eql([\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e1c\&quot;\n]);\n// Expect(SortedSet.intersect(d, c, a, b)).to.eql(d.intersect(c, a, b));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1a587249-5eff-4fcb-94dd-5f24747e9451&quot;,&quot;parentUUID&quot;:&quot;3feaaea9-ffde-41af-bc77-6b8f3bd36b1f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ab8f5103-cd8a-46a7-b89a-6f91eefddde2&quot;,&quot;5e92816a-448c-4895-bdb0-843d52d32594&quot;,&quot;1a587249-5eff-4fcb-94dd-5f24747e9451&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;fcc01206-85c1-4581-a96e-c12aa95b9edf&quot;,&quot;title&quot;:&quot;#rank&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get the correct rank&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #rank should get the correct rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.rank(\&quot;5a600e12\&quot;)).to.equal(7);\n(0, chai_1.expect)(ss.rank(\&quot;5a600e13\&quot;)).to.equal(3);\n(0, chai_1.expect)(ss.rank(\&quot;5a600e16\&quot;)).to.equal(0);\n(0, chai_1.expect)(ss.rank(\&quot;5a600e15\&quot;)).to.equal(8);\n(0, chai_1.expect)(ss.rank(\&quot;not in set\&quot;)).to.equal(null);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f285aa80-a3cb-40a9-a320-24e9b6576a65&quot;,&quot;parentUUID&quot;:&quot;fcc01206-85c1-4581-a96e-c12aa95b9edf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f285aa80-a3cb-40a9-a320-24e9b6576a65&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;4a442ed2-bbbf-4065-ad64-9c79f324bfe8&quot;,&quot;title&quot;:&quot;#rem&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete special elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #rem should delete special elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e15\&quot;)).to.equal(19);\n(0, chai_1.expect)(ss).to.have.length(8);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e16\&quot;)).to.equal(3);\n(0, chai_1.expect)(ss).to.have.length(7);\n(0, chai_1.expect)(ss.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e11\&quot;,\n        6\n    ],\n    [\n        \&quot;5a600e18\&quot;,\n        10\n    ],\n    [\n        \&quot;5a600e13\&quot;,\n        11\n    ],\n    [\n        \&quot;5a600e17\&quot;,\n        12\n    ],\n    [\n        \&quot;5a600e14\&quot;,\n        14\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5fa58c4e-cc5d-4cef-b0b5-d5cca9adbc07&quot;,&quot;parentUUID&quot;:&quot;4a442ed2-bbbf-4065-ad64-9c79f324bfe8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should delete many elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #rem should delete many elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e11\&quot;)).to.equal(6);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e13\&quot;)).to.equal(11);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e14\&quot;)).to.equal(14);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e15\&quot;)).to.equal(19);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e16\&quot;)).to.equal(3);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e17\&quot;)).to.equal(12);\n(0, chai_1.expect)(ss.length).to.equal(3);\n(0, chai_1.expect)(ss.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e18\&quot;,\n        10\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ee43ea9-a2f3-4996-9444-f4f2183ddfd3&quot;,&quot;parentUUID&quot;:&quot;4a442ed2-bbbf-4065-ad64-9c79f324bfe8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5fa58c4e-cc5d-4cef-b0b5-d5cca9adbc07&quot;,&quot;3ee43ea9-a2f3-4996-9444-f4f2183ddfd3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;007fe2b0-1ba4-425d-b6ff-d5cfed4260aa&quot;,&quot;title&quot;:&quot;#remRangeByScore&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should strip out a range of elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #remRangeByScore should strip out a range of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.remRangeByScore(4, 14)).to.equal(5);\n(0, chai_1.expect)(ss).to.have.length(4);\n(0, chai_1.expect)(ss.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e16\&quot;,\n        3\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ],\n    [\n        \&quot;5a600e15\&quot;,\n        19\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f88ee250-cea9-4417-8de0-e430a4faac98&quot;,&quot;parentUUID&quot;:&quot;007fe2b0-1ba4-425d-b6ff-d5cfed4260aa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should strip out all the elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #remRangeByScore should strip out all the elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.remRangeByScore(3, 19)).to.equal(9);\n(0, chai_1.expect)(ss).to.have.length(0);\n(0, chai_1.expect)(ss.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ee7a30a-93a6-4c78-a0ae-0491bb69a3b4&quot;,&quot;parentUUID&quot;:&quot;007fe2b0-1ba4-425d-b6ff-d5cfed4260aa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f88ee250-cea9-4417-8de0-e430a4faac98&quot;,&quot;3ee7a30a-93a6-4c78-a0ae-0491bb69a3b4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e143d9e9-d684-4d95-b8af-d0f9771a3427&quot;,&quot;title&quot;:&quot;#remRangeByRank&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should strip out a slice of elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #remRangeByRank should strip out a slice of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.remRangeByRank(1, 6)).to.equal(5);\n(0, chai_1.expect)(ss).to.have.length(4);\n(0, chai_1.expect)(ss.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e16\&quot;,\n        3\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ],\n    [\n        \&quot;5a600e15\&quot;,\n        19\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;005bbe85-e118-403a-a224-19d5c50ecb98&quot;,&quot;parentUUID&quot;:&quot;e143d9e9-d684-4d95-b8af-d0f9771a3427&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should strip out all elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #remRangeByRank should strip out all elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.remRangeByRank(0, 9)).to.equal(9);\n(0, chai_1.expect)(ss).to.have.length(0);\n(0, chai_1.expect)(ss.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;22c2e46c-4359-4cd2-9871-6fea443950dd&quot;,&quot;parentUUID&quot;:&quot;e143d9e9-d684-4d95-b8af-d0f9771a3427&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;005bbe85-e118-403a-a224-19d5c50ecb98&quot;,&quot;22c2e46c-4359-4cd2-9871-6fea443950dd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;09724ec4-948c-43aa-a392-b542134eb129&quot;,&quot;title&quot;:&quot;#values&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the values&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #values should return the values&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;first\&quot;, -1);\nss.add(\&quot;third\&quot;, 5);\nss.add(\&quot;second\&quot;, 3);\n(0, chai_1.expect)(ss.values()).to.eql([\n    -1,\n    3,\n    5\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b6cd6280-ba18-4b8b-8e23-6d07c450615b&quot;,&quot;parentUUID&quot;:&quot;09724ec4-948c-43aa-a392-b542134eb129&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b6cd6280-ba18-4b8b-8e23-6d07c450615b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b23db7ab-4e8d-445e-b042-199e73a99fb6&quot;,&quot;title&quot;:&quot;unique rewrite&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should ensure values are unique&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite unique rewrite should ensure values are unique&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const options = { \&quot;unique\&quot;: true }, ss = new sorted_set_1.SortedSet(options);\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(() =&gt; {\n    ss.add(\&quot;5a600e19\&quot;, 11);\n}).to.throw(/unique/);\n// Quick exit test\n(0, chai_1.expect)(() =&gt; {\n    ss.add(\&quot;5a600dff\&quot;, ss._head.next[ss._level - 1].next.value);\n}).to.throw(/unique/);\n// This test ensures the key &lt; key check doesn&#x27;t come into play\n(0, chai_1.expect)(() =&gt; {\n    ss.add(\&quot;5a600dff\&quot;, 11);\n}).to.throw(/unique/);\n(0, chai_1.expect)(() =&gt; {\n    ss.add(\&quot;5a600e18\&quot;, 10);\n}).to.not.throw();\n(0, chai_1.expect)(ss).to.have.length(9);\n(0, chai_1.expect)(ss.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e16\&quot;,\n        3\n    ],\n    [\n        \&quot;5a600e11\&quot;,\n        6\n    ],\n    [\n        \&quot;5a600e18\&quot;,\n        10\n    ],\n    [\n        \&quot;5a600e13\&quot;,\n        11\n    ],\n    [\n        \&quot;5a600e17\&quot;,\n        12\n    ],\n    [\n        \&quot;5a600e14\&quot;,\n        14\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ],\n    [\n        \&quot;5a600e15\&quot;,\n        19\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a94473f4-eb6b-4004-bfe7-d8c89a0bc96b&quot;,&quot;parentUUID&quot;:&quot;b23db7ab-4e8d-445e-b042-199e73a99fb6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert keys if constraint broken during update&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite unique rewrite should revert keys if constraint broken during update&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet({ \&quot;unique\&quot;: true });\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(() =&gt; {\n    ss.add(\&quot;5a600e13\&quot;, 14);\n}).to.throw(/unique/);\n(0, chai_1.expect)(ss).to.have.length(9);\n(0, chai_1.expect)(ss.score(\&quot;5a600e13\&quot;)).to.equal(11);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6df0a86d-d997-42d9-8611-2de94d5413a3&quot;,&quot;parentUUID&quot;:&quot;b23db7ab-4e8d-445e-b042-199e73a99fb6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a94473f4-eb6b-4004-bfe7-d8c89a0bc96b&quot;,&quot;6df0a86d-d997-42d9-8611-2de94d5413a3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;73633a5d-65fc-4c5b-9790-e239560066a3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;79a1d257-8219-4e1e-967c-768d123802c3&quot;,&quot;16c32d76-0e4d-4df3-a509-24eadc9daad3&quot;,&quot;82c47cee-c575-4e2a-b7f3-b4475bd00b20&quot;,&quot;3c1ed4ec-abcb-4472-bf14-ed25403871de&quot;,&quot;23430a08-e4de-47dc-91d3-6aa14d75206d&quot;,&quot;9ae72ccb-56fc-473b-b529-eb573871b562&quot;,&quot;c1b62127-6856-45b0-a70d-e6dc0cd5025e&quot;,&quot;9a470130-5082-4e21-b492-c0b1c1c2adf0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;ac27fc1d-3098-499e-9aca-0a5566a2844b&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;9ed422e9-27f9-4cb8-bd01-df0b52dcba22&quot;,&quot;title&quot;:&quot;lua-bit test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/lua/lua-bit.test.ts&quot;,&quot;file&quot;:&quot;/test/lua/lua-bit.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;lua-bit test\&quot;&quot;,&quot;fullTitle&quot;:&quot;lua-bit test \&quot;before all\&quot; hook in \&quot;lua-bit test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(\&quot;ready\&quot;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield (0, common_test_1.sendCommand)(client, [\&quot;flushall\&quot;]);\n    yield (0, common_test_1.sendCommand)(client, [\n        \&quot;select\&quot;,\n        \&quot;0\&quot;\n    ]);\n    yield (0, common_test_1.sendCommand)(client, [\n        \&quot;script\&quot;,\n        \&quot;flush\&quot;\n    ]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;762f0dc7-b1d6-4d13-8f99-05bb8cad98d3&quot;,&quot;parentUUID&quot;:&quot;9ed422e9-27f9-4cb8-bd01-df0b52dcba22&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;lua-bit test\&quot;&quot;,&quot;fullTitle&quot;:&quot;lua-bit test \&quot;before each\&quot; hook in \&quot;lua-bit test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;54ee57f6-34ca-4a03-a21b-e1258d340162&quot;,&quot;parentUUID&quot;:&quot;9ed422e9-27f9-4cb8-bd01-df0b52dcba22&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;lua-bit test\&quot;&quot;,&quot;fullTitle&quot;:&quot;lua-bit test \&quot;after all\&quot; hook in \&quot;lua-bit test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bf7579a5-9d9a-4186-8ba6-5baaf4e63f99&quot;,&quot;parentUUID&quot;:&quot;9ed422e9-27f9-4cb8-bd01-df0b52dcba22&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;lua-bit test\&quot;&quot;,&quot;fullTitle&quot;:&quot;lua-bit test \&quot;after each\&quot; hook in \&quot;lua-bit test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fca2a6a6-a1d8-4fc5-b8d3-7577b18e6b7b&quot;,&quot;parentUUID&quot;:&quot;9ed422e9-27f9-4cb8-bd01-df0b52dcba22&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should leverage the LUA bit library for bit AND op&quot;,&quot;fullTitle&quot;:&quot;lua-bit test should leverage the LUA bit library for bit AND op&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;local val = bit.band(5, 1) return val \&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad41c0e5-c0a3-4d38-8a74-27d7ea0fe898&quot;,&quot;parentUUID&quot;:&quot;9ed422e9-27f9-4cb8-bd01-df0b52dcba22&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should leverage the LUA bit library for bit OR op&quot;,&quot;fullTitle&quot;:&quot;lua-bit test should leverage the LUA bit library for bit OR op&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;local val = bit.bor(5, 1) return val \&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(5);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a5d9d99f-98f2-4605-8526-28d504d00575&quot;,&quot;parentUUID&quot;:&quot;9ed422e9-27f9-4cb8-bd01-df0b52dcba22&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should leverage the LUA bit library for bit XOR op&quot;,&quot;fullTitle&quot;:&quot;lua-bit test should leverage the LUA bit library for bit XOR op&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;local val = bit.bxor(5, 1) return val \&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(4);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad147ad3-4965-44ed-a693-c45d78f7a69d&quot;,&quot;parentUUID&quot;:&quot;9ed422e9-27f9-4cb8-bd01-df0b52dcba22&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should leverage the LUA bit library for bit NOT op&quot;,&quot;fullTitle&quot;:&quot;lua-bit test should leverage the LUA bit library for bit NOT op&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;local val = bit.bnot(5) return val \&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(-6);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e1aae424-5f2e-4433-9a11-112d8e569c74&quot;,&quot;parentUUID&quot;:&quot;9ed422e9-27f9-4cb8-bd01-df0b52dcba22&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should leverage the LUA bit library for bit LSHIFT op&quot;,&quot;fullTitle&quot;:&quot;lua-bit test should leverage the LUA bit library for bit LSHIFT op&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;local val = bit.lshift(5, 1) return val \&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(10);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4f601d8c-0752-40a6-9537-bbd5ee624c72&quot;,&quot;parentUUID&quot;:&quot;9ed422e9-27f9-4cb8-bd01-df0b52dcba22&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should leverage the LUA bit library for bit RSHIFT op&quot;,&quot;fullTitle&quot;:&quot;lua-bit test should leverage the LUA bit library for bit RSHIFT op&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield (0, common_test_1.sendCommand)(new net.Socket(), [\n            \&quot;info\&quot;,\n            \&quot;server\&quot;\n        ]);\n        // Only run this test if this is unit-redis-ness\n        if (!(/redis_version:5/gim).test(response)) {\n            response = yield (0, common_test_1.sendCommand)(client, [\n                \&quot;eval\&quot;,\n                \&quot;local val = bit.rshift(-5, 1) return val \&quot;,\n                \&quot;0\&quot;\n            ]);\n            (0, chai_1.expect)(response).to.equal(-3);\n        }\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4834f76e-ebcf-4cfe-86b8-011114c6a621&quot;,&quot;parentUUID&quot;:&quot;9ed422e9-27f9-4cb8-bd01-df0b52dcba22&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should leverage the LUA bit library for bit ARSHIFT op&quot;,&quot;fullTitle&quot;:&quot;lua-bit test should leverage the LUA bit library for bit ARSHIFT op&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;local val = bit.arshift(5, 1) return val \&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(2);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bc7ccddf-610a-4ada-bb97-f016459a7cfb&quot;,&quot;parentUUID&quot;:&quot;9ed422e9-27f9-4cb8-bd01-df0b52dcba22&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ad41c0e5-c0a3-4d38-8a74-27d7ea0fe898&quot;,&quot;a5d9d99f-98f2-4605-8526-28d504d00575&quot;,&quot;ad147ad3-4965-44ed-a693-c45d78f7a69d&quot;,&quot;e1aae424-5f2e-4433-9a11-112d8e569c74&quot;,&quot;4f601d8c-0752-40a6-9537-bbd5ee624c72&quot;,&quot;4834f76e-ebcf-4cfe-86b8-011114c6a621&quot;,&quot;bc7ccddf-610a-4ada-bb97-f016459a7cfb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:17,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b5e45114-a555-4ab9-b00f-7747200e6ac4&quot;,&quot;title&quot;:&quot;dictionary test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/dictionary.test.ts&quot;,&quot;file&quot;:&quot;/test/dictionary.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;dictionary test\&quot;&quot;,&quot;fullTitle&quot;:&quot;dictionary test \&quot;before each\&quot; hook in \&quot;dictionary test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;dictionary = new dictionary_1.Dictionary();\nsinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b3461d04-b130-44bf-b158-3911946e3c7f&quot;,&quot;parentUUID&quot;:&quot;b5e45114-a555-4ab9-b00f-7747200e6ac4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;dictionary test\&quot;&quot;,&quot;fullTitle&quot;:&quot;dictionary test \&quot;after all\&quot; hook in \&quot;dictionary test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;871d5afe-73bb-4850-89a2-908dcfb8a6f3&quot;,&quot;parentUUID&quot;:&quot;b5e45114-a555-4ab9-b00f-7747200e6ac4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;dictionary test\&quot;&quot;,&quot;fullTitle&quot;:&quot;dictionary test \&quot;after each\&quot; hook in \&quot;dictionary test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;51d39a8f-ba9e-4dc5-b01f-25a714cd7436&quot;,&quot;parentUUID&quot;:&quot;b5e45114-a555-4ab9-b00f-7747200e6ac4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should construct&quot;,&quot;fullTitle&quot;:&quot;dictionary test should construct&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        (0, chai_1.expect)(dictionary.constructor.name).to.equal(\&quot;Dictionary\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f50e4628-ca48-4665-b7fa-aad8fbc26371&quot;,&quot;parentUUID&quot;:&quot;b5e45114-a555-4ab9-b00f-7747200e6ac4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should implement basic put/get/remove/size/clear/contains/exists/keys/values functionality&quot;,&quot;fullTitle&quot;:&quot;dictionary test should implement basic put/get/remove/size/clear/contains/exists/keys/values functionality&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;dictionary.put(\&quot;item\&quot;, \&quot;one\&quot;);\n(0, chai_1.expect)(dictionary.exists(\&quot;item\&quot;)).to.equal(true);\n(0, chai_1.expect)(dictionary.exists(\&quot;one\&quot;)).to.equal(false);\n(0, chai_1.expect)(dictionary.get(\&quot;item\&quot;)).to.equal(\&quot;one\&quot;);\n(0, chai_1.expect)(dictionary.size()).to.equal(1);\n(0, chai_1.expect)(dictionary.contains(\&quot;one\&quot;)).to.equal(true);\n(0, chai_1.expect)(dictionary.keys().length).to.equal(1);\n(0, chai_1.expect)(dictionary.values().length).to.equal(1);\ndictionary.put(\&quot;item\&quot;, \&quot;two\&quot;);\n(0, chai_1.expect)(dictionary.get(\&quot;item\&quot;)).to.equal(\&quot;two\&quot;);\ndictionary.put(\&quot;one\&quot;, { \&quot;embedded\&quot;: true });\ndictionary.remove(\&quot;three\&quot;);\n(0, chai_1.expect)(dictionary.size()).to.equal(2);\nlet foundTwo = false;\nfor (const each of dictionary) {\n    if (!foundTwo) {\n        (0, chai_1.expect)(each).to.equal(\&quot;two\&quot;);\n        foundTwo = true;\n    }\n    else {\n        (0, chai_1.expect)(each).to.eql({ \&quot;embedded\&quot;: true });\n    }\n}\ndictionary.remove(\&quot;item\&quot;);\n(0, chai_1.expect)(dictionary.size()).to.equal(1);\ndictionary.clear();\n(0, chai_1.expect)(dictionary.size()).to.equal(0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f46d1304-2f44-4f7a-9a3c-49fd334e6136&quot;,&quot;parentUUID&quot;:&quot;b5e45114-a555-4ab9-b00f-7747200e6ac4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f50e4628-ca48-4665-b7fa-aad8fbc26371&quot;,&quot;f46d1304-2f44-4f7a-9a3c-49fd334e6136&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8ac6976a-48f7-4da0-afce-53c4109787bc&quot;,&quot;title&quot;:&quot;logger test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/logger.test.ts&quot;,&quot;file&quot;:&quot;/test/logger.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;logger test\&quot;&quot;,&quot;fullTitle&quot;:&quot;logger test \&quot;before each\&quot; hook in \&quot;logger test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6af67890-cbde-4a49-baed-598f8c193146&quot;,&quot;parentUUID&quot;:&quot;8ac6976a-48f7-4da0-afce-53c4109787bc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;logger test\&quot;&quot;,&quot;fullTitle&quot;:&quot;logger test \&quot;after all\&quot; hook in \&quot;logger test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;00cdd88f-a872-4b4f-b4b6-3a388efac801&quot;,&quot;parentUUID&quot;:&quot;8ac6976a-48f7-4da0-afce-53c4109787bc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;logger test\&quot;&quot;,&quot;fullTitle&quot;:&quot;logger test \&quot;after each\&quot; hook in \&quot;logger test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b06eb88c-7b34-4dfa-8ec1-124e84c28f6c&quot;,&quot;parentUUID&quot;:&quot;8ac6976a-48f7-4da0-afce-53c4109787bc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should construct&quot;,&quot;fullTitle&quot;:&quot;logger test should construct&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        logger = new logger_1.Logger(module.id);\n        (0, chai_1.expect)(logger.constructor.name).to.equal(\&quot;Logger\&quot;);\n        logger.info(\&quot;This is an info message\&quot;);\n        logger.warn(\&quot;This is a warning message\&quot;);\n        logger.debug(\&quot;This is an invisible debug message\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c878cc90-c13f-416c-8d5a-ba1c89f4da11&quot;,&quot;parentUUID&quot;:&quot;8ac6976a-48f7-4da0-afce-53c4109787bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not construct when initialized with an empty string&quot;,&quot;fullTitle&quot;:&quot;logger test should not construct when initialized with an empty string&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;(0, chai_1.expect)(() =&gt; {\n    logger = new logger_1.Logger(\&quot;\&quot;);\n}).to.throw();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1ce11eef-9034-41f6-b436-169e05836ef1&quot;,&quot;parentUUID&quot;:&quot;8ac6976a-48f7-4da0-afce-53c4109787bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c878cc90-c13f-416c-8d5a-ba1c89f4da11&quot;,&quot;1ce11eef-9034-41f6-b436-169e05836ef1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.2.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;docs/mochawesome&quot;},&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;docs/mochawesome&quot;,&quot;reportTitle&quot;:&quot;unit-redis-ness&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;docs/mochawesome/assets&quot;,&quot;jsonFile&quot;:&quot;/home/lane/git/unit-redis-ness/docs/mochawesome/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/home/lane/git/unit-redis-ness/docs/mochawesome/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>