<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:86,&quot;tests&quot;:265,&quot;passes&quot;:264,&quot;pending&quot;:1,&quot;failures&quot;:0,&quot;start&quot;:&quot;2020-01-13T23:54:47.708Z&quot;,&quot;end&quot;:&quot;2020-01-13T23:54:52.731Z&quot;,&quot;duration&quot;:5023,&quot;testsRegistered&quot;:265,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0.37735849056603776,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;e94a2414-465f-45a1-afdf-ff53ac6a0602&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b17e741-e783-4a08-bc83-07cb74e449e6&quot;,&quot;parentUUID&quot;:&quot;e94a2414-465f-45a1-afdf-ff53ac6a0602&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n})&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a42869dd-ae85-4244-ab4f-77aaeed96e2a&quot;,&quot;parentUUID&quot;:&quot;e94a2414-465f-45a1-afdf-ff53ac6a0602&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ee8cea5e-0ed5-4f59-a7a1-acec6ce9c1cc&quot;,&quot;title&quot;:&quot;dictionary test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/dictionary.test.ts&quot;,&quot;file&quot;:&quot;/test/dictionary.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;dictionary test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;dictionary = new dictionary_1.Dictionary();\nsinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;06c03b3e-45b5-4dc3-af8e-74dedffde1b1&quot;,&quot;parentUUID&quot;:&quot;ee8cea5e-0ed5-4f59-a7a1-acec6ce9c1cc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;dictionary test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c096b557-db26-446a-8b82-d4997b863ba0&quot;,&quot;parentUUID&quot;:&quot;ee8cea5e-0ed5-4f59-a7a1-acec6ce9c1cc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;dictionary test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c1269893-5897-4d74-b92a-34a5673635d4&quot;,&quot;parentUUID&quot;:&quot;ee8cea5e-0ed5-4f59-a7a1-acec6ce9c1cc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should construct&quot;,&quot;fullTitle&quot;:&quot;dictionary test should construct&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        chai_1.expect(dictionary.constructor.name).to.equal(&#x27;Dictionary&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ce0f820d-2cc3-4e89-b3cc-7482fb465555&quot;,&quot;parentUUID&quot;:&quot;ee8cea5e-0ed5-4f59-a7a1-acec6ce9c1cc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should implement basic put/get/remove/size/clear/contains/exists/keys/values functionality&quot;,&quot;fullTitle&quot;:&quot;dictionary test should implement basic put/get/remove/size/clear/contains/exists/keys/values functionality&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;dictionary.put(&#x27;item&#x27;, &#x27;one&#x27;);\nchai_1.expect(dictionary.exists(&#x27;item&#x27;)).to.equal(true);\nchai_1.expect(dictionary.exists(&#x27;one&#x27;)).to.equal(false);\nchai_1.expect(dictionary.get(&#x27;item&#x27;)).to.equal(&#x27;one&#x27;);\nchai_1.expect(dictionary.size()).to.equal(1);\nchai_1.expect(dictionary.contains(&#x27;one&#x27;)).to.equal(true);\nchai_1.expect(dictionary.keys().length).to.equal(1);\nchai_1.expect(dictionary.values().length).to.equal(1);\ndictionary.put(&#x27;item&#x27;, &#x27;two&#x27;);\nchai_1.expect(dictionary.get(&#x27;item&#x27;)).to.equal(&#x27;two&#x27;);\ndictionary.put(&#x27;one&#x27;, { embedded: true });\ndictionary.remove(&#x27;three&#x27;);\nchai_1.expect(dictionary.size()).to.equal(2);\nlet foundTwo = false;\nfor (const each of dictionary) {\n    if (!foundTwo) {\n        chai_1.expect(each).to.equal(&#x27;two&#x27;);\n        foundTwo = true;\n    }\n    else {\n        chai_1.expect(each).to.eql({ embedded: true });\n    }\n}\ndictionary.remove(&#x27;item&#x27;);\nchai_1.expect(dictionary.size()).to.equal(1);\ndictionary.clear();\nchai_1.expect(dictionary.size()).to.equal(0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a4a234f3-8179-4cba-a643-e80881003e61&quot;,&quot;parentUUID&quot;:&quot;ee8cea5e-0ed5-4f59-a7a1-acec6ce9c1cc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ce0f820d-2cc3-4e89-b3cc-7482fb465555&quot;,&quot;a4a234f3-8179-4cba-a643-e80881003e61&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;0c1ea41b-02a9-401f-969e-b8fc514e65ec&quot;,&quot;title&quot;:&quot;logger test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/logger.test.ts&quot;,&quot;file&quot;:&quot;/test/logger.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;logger test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;52fe6f21-6bf6-4a8a-a469-58345b5578f0&quot;,&quot;parentUUID&quot;:&quot;0c1ea41b-02a9-401f-969e-b8fc514e65ec&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;logger test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f028cdec-8889-44aa-9890-717d47beecf4&quot;,&quot;parentUUID&quot;:&quot;0c1ea41b-02a9-401f-969e-b8fc514e65ec&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;logger test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d0b9c5a5-be79-4add-8e5f-550d7ad3a16d&quot;,&quot;parentUUID&quot;:&quot;0c1ea41b-02a9-401f-969e-b8fc514e65ec&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should construct&quot;,&quot;fullTitle&quot;:&quot;logger test should construct&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        logger = new logger_1.Logger(module.id);\n        chai_1.expect(logger.constructor.name).to.equal(&#x27;Logger&#x27;);\n        logger.info(`This is an info message`);\n        logger.warn(&#x27;This is a warning message&#x27;);\n        logger.debug(`This is an invisible debug message`);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7e5007be-cc5b-4429-82ef-84180f54eb78&quot;,&quot;parentUUID&quot;:&quot;0c1ea41b-02a9-401f-969e-b8fc514e65ec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not construct when initialized with an empty string&quot;,&quot;fullTitle&quot;:&quot;logger test should not construct when initialized with an empty string&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(() =&gt; {\n    logger = new logger_1.Logger(&#x27;&#x27;);\n}).to.throw();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ddfed3d7-63d0-4c20-810e-0226e5760866&quot;,&quot;parentUUID&quot;:&quot;0c1ea41b-02a9-401f-969e-b8fc514e65ec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7e5007be-cc5b-4429-82ef-84180f54eb78&quot;,&quot;ddfed3d7-63d0-4c20-810e-0226e5760866&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;35565fb0-6758-4023-8854-c3fe9d1fac7d&quot;,&quot;title&quot;:&quot;client command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/client-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/client-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;client command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8db4e841-c483-4aba-8189-cd32187d2ec6&quot;,&quot;parentUUID&quot;:&quot;35565fb0-6758-4023-8854-c3fe9d1fac7d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;client command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;88e4273c-83fc-4b08-880f-dd161f4b9fee&quot;,&quot;parentUUID&quot;:&quot;35565fb0-6758-4023-8854-c3fe9d1fac7d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;client command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9e3fc00d-b191-4502-840c-fb773e67ffc0&quot;,&quot;parentUUID&quot;:&quot;35565fb0-6758-4023-8854-c3fe9d1fac7d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;client command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c370709-104e-4f87-9b67-5383f2593c15&quot;,&quot;parentUUID&quot;:&quot;35565fb0-6758-4023-8854-c3fe9d1fac7d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not allow more than 3 parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should not allow more than 3 parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;, &#x27;four&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR Unknown subcommand or wrong number of arguments for \\&#x27;one\\&#x27;. Try CLIENT HELP&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a09e428-83a3-4624-b6aa-7f13930b7572&quot;,&quot;parentUUID&quot;:&quot;35565fb0-6758-4023-8854-c3fe9d1fac7d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail predictably when an unknown subcommand is passed&quot;,&quot;fullTitle&quot;:&quot;client command test should fail predictably when an unknown subcommand is passed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;whatever&#x27;]);\n        chai_1.expect(response).to.equal(util.format(DEFAULT_ERROR, &#x27;whatever&#x27;));\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b5265509-ab27-40aa-a1de-8ea2ae5845ec&quot;,&quot;parentUUID&quot;:&quot;35565fb0-6758-4023-8854-c3fe9d1fac7d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a NIL name when called with \&quot;GETNAME\&quot; subcommand&quot;,&quot;fullTitle&quot;:&quot;client command test should return a NIL name when called with \&quot;GETNAME\&quot; subcommand&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;getname&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;38e49dda-0a3c-4b9a-929d-752c04301fbe&quot;,&quot;parentUUID&quot;:&quot;35565fb0-6758-4023-8854-c3fe9d1fac7d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail predictably when \&quot;GETNAME\&quot; is called with too many parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should fail predictably when \&quot;GETNAME\&quot; is called with too many parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;getname&#x27;, &#x27;extra&#x27;]);\n        chai_1.expect(response).to.equal(util.format(DEFAULT_ERROR, &#x27;getname&#x27;));\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ba97ae2e-dbb1-4c4d-8fdb-78a1867c55d9&quot;,&quot;parentUUID&quot;:&quot;35565fb0-6758-4023-8854-c3fe9d1fac7d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with \&quot;OK\&quot; when \&quot;setname\&quot; is called with a valid name&quot;,&quot;fullTitle&quot;:&quot;client command test should respond with \&quot;OK\&quot; when \&quot;setname\&quot; is called with a valid name&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;setname&#x27;, &#x27;whatever&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;getname&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;whatever&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;80f74f7f-b8e8-4e32-9e32-e1e7e81b1292&quot;,&quot;parentUUID&quot;:&quot;35565fb0-6758-4023-8854-c3fe9d1fac7d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should persist the value for \&quot;setname\&quot; across tests&quot;,&quot;fullTitle&quot;:&quot;client command test should persist the value for \&quot;setname\&quot; across tests&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;getname&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;whatever&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;80149e33-b698-4cd4-8c9e-0ac352da8449&quot;,&quot;parentUUID&quot;:&quot;35565fb0-6758-4023-8854-c3fe9d1fac7d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with a predictable message when \&quot;setname\&quot; called with too many parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should respond with a predictable message when \&quot;setname\&quot; called with too many parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;setname&#x27;, &#x27;test&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(util.format(DEFAULT_ERROR, &#x27;setname&#x27;));\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e4a4d79-01f1-4103-ba6d-4f1a9df8dc5d&quot;,&quot;parentUUID&quot;:&quot;35565fb0-6758-4023-8854-c3fe9d1fac7d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not allow whitespace in \&quot;setname\&quot; subcommand&quot;,&quot;fullTitle&quot;:&quot;client command test should not allow whitespace in \&quot;setname\&quot; subcommand&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;setname&#x27;, &#x27;te\\nst&#x27;]);\n        chai_1.expect(response).to.equal(`ReplyError: ERR Client names cannot contain spaces, newlines or special characters.`);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4f78f319-b6db-4d9b-b444-c77d81f2bdf5&quot;,&quot;parentUUID&quot;:&quot;35565fb0-6758-4023-8854-c3fe9d1fac7d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the server-assigned client id&quot;,&quot;fullTitle&quot;:&quot;client command test should return the server-assigned client id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;id&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n        chai_1.expect(String(response).length).to.be.greaterThan(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2d745620-0e63-455a-a379-d76f4495d326&quot;,&quot;parentUUID&quot;:&quot;35565fb0-6758-4023-8854-c3fe9d1fac7d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with a predictable message when \&quot;id\&quot; called with too many parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should respond with a predictable message when \&quot;id\&quot; called with too many parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;id&#x27;, &#x27;test&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(util.format(DEFAULT_ERROR, &#x27;id&#x27;));\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4a94f786-2a6e-46cd-a8ea-16e8c3bb225e&quot;,&quot;parentUUID&quot;:&quot;35565fb0-6758-4023-8854-c3fe9d1fac7d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a bunch of information when client \&quot;list\&quot; subcommand is invoked&quot;,&quot;fullTitle&quot;:&quot;client command test should return a bunch of information when client \&quot;list\&quot; subcommand is invoked&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;list&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;string&#x27;);\n        chai_1.expect(response.length).to.be.greaterThan(0);\n        chai_1.expect(response).to.match(/ name=whatever /);\n        chai_1.expect(response).to.match(/\\bdb=0\\b/);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b39fb564-0c5e-4044-900d-67b127d20c3c&quot;,&quot;parentUUID&quot;:&quot;35565fb0-6758-4023-8854-c3fe9d1fac7d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with a predictable message when \&quot;list\&quot; called with too many parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should respond with a predictable message when \&quot;list\&quot; called with too many parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;list&#x27;, &#x27;test&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR syntax error&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dd8f51ca-41af-4bb3-904a-20d0ea5fc71e&quot;,&quot;parentUUID&quot;:&quot;35565fb0-6758-4023-8854-c3fe9d1fac7d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9a09e428-83a3-4624-b6aa-7f13930b7572&quot;,&quot;b5265509-ab27-40aa-a1de-8ea2ae5845ec&quot;,&quot;38e49dda-0a3c-4b9a-929d-752c04301fbe&quot;,&quot;ba97ae2e-dbb1-4c4d-8fdb-78a1867c55d9&quot;,&quot;80f74f7f-b8e8-4e32-9e32-e1e7e81b1292&quot;,&quot;80149e33-b698-4cd4-8c9e-0ac352da8449&quot;,&quot;5e4a4d79-01f1-4103-ba6d-4f1a9df8dc5d&quot;,&quot;4f78f319-b6db-4d9b-b444-c77d81f2bdf5&quot;,&quot;2d745620-0e63-455a-a379-d76f4495d326&quot;,&quot;4a94f786-2a6e-46cd-a8ea-16e8c3bb225e&quot;,&quot;b39fb564-0c5e-4044-900d-67b127d20c3c&quot;,&quot;dd8f51ca-41af-4bb3-904a-20d0ea5fc71e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:34,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;5a489e82-4907-49e0-9ced-70b51fe09896&quot;,&quot;title&quot;:&quot;flushall-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/db/flushall-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/db/flushall-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushall-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;71053e85-aa4d-4075-b40c-970023a97cce&quot;,&quot;parentUUID&quot;:&quot;5a489e82-4907-49e0-9ced-70b51fe09896&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushall-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb3852ac-a73d-4ccf-8bd1-f751860ea797&quot;,&quot;parentUUID&quot;:&quot;5a489e82-4907-49e0-9ced-70b51fe09896&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushall-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;443ba49e-8145-4c45-b518-a40bb30bf22c&quot;,&quot;parentUUID&quot;:&quot;5a489e82-4907-49e0-9ced-70b51fe09896&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushall-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b5f4dcc9-07dc-479e-9ce6-eeab7629be94&quot;,&quot;parentUUID&quot;:&quot;5a489e82-4907-49e0-9ced-70b51fe09896&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove all keys from all databases&quot;,&quot;fullTitle&quot;:&quot;flushall-command test should remove all keys from all databases&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:81,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        for (let db = 0; db &lt; 16; db++) {\n            response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, `${db}`]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;dbid&#x27;, `${db}`]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n            console.log(`DB: ${db}: dbsize: ${response}`);\n            chai_1.expect(response).to.equal(1);\n        }\n        response = yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        for (let db = 0; db &lt; 16; db++) {\n            response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, `${db}`]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n            chai_1.expect(response).to.equal(0);\n        }\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;409c12a6-6dc7-4348-a443-24b3267c2562&quot;,&quot;parentUUID&quot;:&quot;5a489e82-4907-49e0-9ced-70b51fe09896&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;409c12a6-6dc7-4348-a443-24b3267c2562&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:81,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;31507e97-39a9-4261-bfe0-e7133bb22333&quot;,&quot;title&quot;:&quot;flushdb-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/db/flushdb-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/db/flushdb-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushdb-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dc3c9fba-3eaa-4e32-a5be-c29fc761441f&quot;,&quot;parentUUID&quot;:&quot;31507e97-39a9-4261-bfe0-e7133bb22333&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushdb-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;832ecf16-58f2-4b9d-a484-585893d05c73&quot;,&quot;parentUUID&quot;:&quot;31507e97-39a9-4261-bfe0-e7133bb22333&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushdb-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b4868e47-af1b-47b7-b817-cd9084300aeb&quot;,&quot;parentUUID&quot;:&quot;31507e97-39a9-4261-bfe0-e7133bb22333&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushdb-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d2fb2f60-1fbf-4e0d-9c8e-a9922eff9853&quot;,&quot;parentUUID&quot;:&quot;31507e97-39a9-4261-bfe0-e7133bb22333&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove all keys from only the currently selected databases&quot;,&quot;fullTitle&quot;:&quot;flushdb-command test should remove all keys from only the currently selected databases&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:68,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        for (let db = 0; db &lt; 16; db++) {\n            response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, `${db}`]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;dbid&#x27;, `${db}`]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n            chai_1.expect(response).to.equal(1);\n        }\n        for (let db = 0; db &lt; 16; db++) {\n            if (db !== 14) {\n                response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, `${db}`]);\n                chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n                response = yield common_test_1.sendCommand(client, [&#x27;flushdb&#x27;]);\n                chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n                response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;dbid&#x27;]);\n                chai_1.expect(response).to.equal(0);\n                response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n                chai_1.expect(response).to.equal(0);\n            }\n        }\n        response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;14&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;dbid&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;14&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;58d3a84b-6b84-45dd-96aa-9bf15eecca47&quot;,&quot;parentUUID&quot;:&quot;31507e97-39a9-4261-bfe0-e7133bb22333&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;58d3a84b-6b84-45dd-96aa-9bf15eecca47&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:68,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;dffd80e2-a3ae-4ab9-8ed5-60a5e8bc5f5d&quot;,&quot;title&quot;:&quot;hget command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/hash/hget-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/hash/hget-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hget command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f015b4b3-a3bc-42cc-87b4-299ef58d7945&quot;,&quot;parentUUID&quot;:&quot;dffd80e2-a3ae-4ab9-8ed5-60a5e8bc5f5d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hget command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;15be02d8-2e24-4b52-9da3-e91a3772367f&quot;,&quot;parentUUID&quot;:&quot;dffd80e2-a3ae-4ab9-8ed5-60a5e8bc5f5d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hget command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b6ee3197-64e9-4e9a-a2f3-455021483a41&quot;,&quot;parentUUID&quot;:&quot;dffd80e2-a3ae-4ab9-8ed5-60a5e8bc5f5d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hget command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53405d54-da4b-40cf-a4f7-caccbb28842e&quot;,&quot;parentUUID&quot;:&quot;dffd80e2-a3ae-4ab9-8ed5-60a5e8bc5f5d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should require exactly 2 parameters&quot;,&quot;fullTitle&quot;:&quot;hget command test should require exactly 2 parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;hget&#x27;, &#x27;test&#x27;])\n    .then((response1) =&gt; {\n    chai_1.expect(response1).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;hget\\&#x27; command&#x27;);\n    common_test_1.sendCommand(new net.Socket(), [&#x27;hget&#x27;, &#x27;test&#x27;, &#x27;one&#x27;, &#x27;two&#x27;])\n        .then((response2) =&gt; {\n        chai_1.expect(response2).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;hget\\&#x27; command&#x27;);\n        common_test_1.sendCommand(new net.Socket(), [&#x27;hget&#x27;, &#x27;test&#x27;, &#x27;one&#x27;])\n            .then((response3) =&gt; {\n            chai_1.expect(response3).to.equal(null);\n            done();\n        });\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea4b9954-4fef-4be0-9650-dcb531dad484&quot;,&quot;parentUUID&quot;:&quot;dffd80e2-a3ae-4ab9-8ed5-60a5e8bc5f5d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should get a value after it has be set&quot;,&quot;fullTitle&quot;:&quot;hget command test should get a value after it has be set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, &#x27;test&#x27;, &#x27;one&#x27;, &#x27;two&#x27;])\n    .then(() =&gt; {\n    common_test_1.sendCommand(new net.Socket(), [&#x27;hget&#x27;, &#x27;test&#x27;, &#x27;one&#x27;])\n        .then((response) =&gt; {\n        chai_1.expect(response).to.equal(&#x27;two&#x27;);\n        done();\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;95addb5b-f262-4506-8b34-f8f93cc7ad0f&quot;,&quot;parentUUID&quot;:&quot;dffd80e2-a3ae-4ab9-8ed5-60a5e8bc5f5d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return nil string when the key exists but the field does not&quot;,&quot;fullTitle&quot;:&quot;hget command test should return nil string when the key exists but the field does not&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;hget&#x27;, &#x27;test&#x27;, &#x27;two&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(null);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2480f927-9fce-4649-ad85-4fc940d4d5b3&quot;,&quot;parentUUID&quot;:&quot;dffd80e2-a3ae-4ab9-8ed5-60a5e8bc5f5d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ea4b9954-4fef-4be0-9650-dcb531dad484&quot;,&quot;95addb5b-f262-4506-8b34-f8f93cc7ad0f&quot;,&quot;2480f927-9fce-4649-ad85-4fc940d4d5b3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;5e5fec75-5f62-43b4-a221-a18412849212&quot;,&quot;title&quot;:&quot;hset command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/hash/hset-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/hash/hset-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hset command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(new net.Socket(), [&#x27;flushall&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53f8a233-04e9-44e8-bf6f-d809d69dd540&quot;,&quot;parentUUID&quot;:&quot;5e5fec75-5f62-43b4-a221-a18412849212&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hset command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0b784c61-0cb2-4069-b5f9-5c50e34d8ae3&quot;,&quot;parentUUID&quot;:&quot;5e5fec75-5f62-43b4-a221-a18412849212&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hset command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;27373a61-60be-491f-a0f1-45887990cff3&quot;,&quot;parentUUID&quot;:&quot;5e5fec75-5f62-43b4-a221-a18412849212&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hset command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c6d0d0ea-fdae-4973-9a05-e239fe2e7a28&quot;,&quot;parentUUID&quot;:&quot;5e5fec75-5f62-43b4-a221-a18412849212&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should require a minimum of 3 parameters&quot;,&quot;fullTitle&quot;:&quot;hset command test should require a minimum of 3 parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = safeId();\n        chai_1.expect(uniqueKey).not.to.equal(lastId);\n        lastId = uniqueKey;\n        let response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, uniqueKey]);\n        chai_1.expect(response).to.match(/ReplyError: ERR wrong number of arguments for \\&#x27;hset\\&#x27; command/i);\n        response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, uniqueKey, &#x27;one&#x27;]);\n        chai_1.expect(response).to.match(/ReplyError: ERR wrong number of arguments for \\&#x27;hm?set\\&#x27; command/i);\n        response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, uniqueKey, &#x27;one&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;504116e8-e1c5-4a63-9196-4b1d49993074&quot;,&quot;parentUUID&quot;:&quot;5e5fec75-5f62-43b4-a221-a18412849212&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should only accept an odd number of parameters&quot;,&quot;fullTitle&quot;:&quot;hset command test should only accept an odd number of parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = safeId();\n        chai_1.expect(uniqueKey).not.to.equal(lastId);\n        lastId = uniqueKey;\n        const response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, uniqueKey, &#x27;one2&#x27;, &#x27;two&#x27;, &#x27;fail&#x27;]);\n        chai_1.expect(response).to.match(/ReplyError: ERR wrong number of arguments for hm?set/i);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;72d2fc0f-1e17-4aab-9edc-73ad0f17a54f&quot;,&quot;parentUUID&quot;:&quot;5e5fec75-5f62-43b4-a221-a18412849212&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should only report added fields&quot;,&quot;fullTitle&quot;:&quot;hset command test should only report added fields&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = safeId();\n        chai_1.expect(uniqueKey).not.to.equal(lastId);\n        lastId = uniqueKey;\n        let response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, uniqueKey, &#x27;one&#x27;, &#x27;six&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, uniqueKey, &#x27;one&#x27;, &#x27;anothervalue&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hget&#x27;, uniqueKey, &#x27;one&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;anothervalue&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;603dc202-612d-43fe-ad24-e4a0e7f18b1e&quot;,&quot;parentUUID&quot;:&quot;5e5fec75-5f62-43b4-a221-a18412849212&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;504116e8-e1c5-4a63-9196-4b1d49993074&quot;,&quot;72d2fc0f-1e17-4aab-9edc-73ad0f17a54f&quot;,&quot;603dc202-612d-43fe-ad24-e4a0e7f18b1e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;889046b3-bc8e-42e2-b61a-00d6b9bb1491&quot;,&quot;title&quot;:&quot;del-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/del-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/del-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;del-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee1211ed-b179-4239-92ff-da92db74a5c5&quot;,&quot;parentUUID&quot;:&quot;889046b3-bc8e-42e2-b61a-00d6b9bb1491&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;del-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2b947a8c-b4e4-4547-97ed-198499c46f89&quot;,&quot;parentUUID&quot;:&quot;889046b3-bc8e-42e2-b61a-00d6b9bb1491&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;del-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d02b7eb1-58c3-41d4-b525-2a78dc6665f2&quot;,&quot;parentUUID&quot;:&quot;889046b3-bc8e-42e2-b61a-00d6b9bb1491&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;del-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fab39302-cb14-4fdb-9d5c-4e2fd2bc0f87&quot;,&quot;parentUUID&quot;:&quot;889046b3-bc8e-42e2-b61a-00d6b9bb1491&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report ZERO when called with no keys present&quot;,&quot;fullTitle&quot;:&quot;del-command test should report ZERO when called with no keys present&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;del&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n    chai_1.expect(response).to.equal(0);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fc2e141c-b113-409c-88d0-8fd3c0be46c8&quot;,&quot;parentUUID&quot;:&quot;889046b3-bc8e-42e2-b61a-00d6b9bb1491&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report the number of keys actually removed&quot;,&quot;fullTitle&quot;:&quot;del-command test should report the number of keys actually removed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const client = new net.Socket();\ncommon_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;key1&#x27;, &#x27;data&#x27;])\n    .then(() =&gt; {\n    common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;key2&#x27;, &#x27;data&#x27;])\n        .then(() =&gt; {\n        common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;key3&#x27;, &#x27;data&#x27;])\n            .then(() =&gt; {\n            common_test_1.sendCommand(client, [&#x27;del&#x27;, &#x27;key1&#x27;, &#x27;key3&#x27;])\n                .then((response) =&gt; {\n                chai_1.expect(response).to.equal(2);\n                done();\n            });\n        });\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47433a6f-4444-4846-9173-a3e5c2b7f9c7&quot;,&quot;parentUUID&quot;:&quot;889046b3-bc8e-42e2-b61a-00d6b9bb1491&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have retained key2 from the previous test&quot;,&quot;fullTitle&quot;:&quot;del-command test should have retained key2 from the previous test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;del&#x27;, &#x27;key2&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(1);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b58f19dd-6b9a-46af-ad08-429fdd37faf5&quot;,&quot;parentUUID&quot;:&quot;889046b3-bc8e-42e2-b61a-00d6b9bb1491&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fc2e141c-b113-409c-88d0-8fd3c0be46c8&quot;,&quot;47433a6f-4444-4846-9173-a3e5c2b7f9c7&quot;,&quot;b58f19dd-6b9a-46af-ad08-429fdd37faf5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;7ca71ea8-1a51-4943-8c33-920f67726c49&quot;,&quot;title&quot;:&quot;exists-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/exists-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/exists-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;exists-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    // Set a key with a millisecond TTL to validate exists respects TTL\n    common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;ttlkey&#x27;, &#x27;value&#x27;, &#x27;PX&#x27;, &#x27;3&#x27;])\n        .then(() =&gt; {\n        done();\n    });\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;51bf4b21-3b39-4077-ad42-0c7e381fac8a&quot;,&quot;parentUUID&quot;:&quot;7ca71ea8-1a51-4943-8c33-920f67726c49&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;exists-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1103171e-99db-47ba-a5ca-87d3662b65c6&quot;,&quot;parentUUID&quot;:&quot;7ca71ea8-1a51-4943-8c33-920f67726c49&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;exists-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;71119f5c-d4db-4574-909e-db13519e0be6&quot;,&quot;parentUUID&quot;:&quot;7ca71ea8-1a51-4943-8c33-920f67726c49&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;exists-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8c347a42-8e74-4876-aa7a-1e01ee61aa8a&quot;,&quot;parentUUID&quot;:&quot;7ca71ea8-1a51-4943-8c33-920f67726c49&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report ZERO when none of the specified keys exist&quot;,&quot;fullTitle&quot;:&quot;exists-command test should report ZERO when none of the specified keys exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;exists&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n    chai_1.expect(response).to.equal(0);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eb77d15c-bb5f-484c-86ff-b5a10533c625&quot;,&quot;parentUUID&quot;:&quot;7ca71ea8-1a51-4943-8c33-920f67726c49&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should require at least ONE parameter&quot;,&quot;fullTitle&quot;:&quot;exists-command test should require at least ONE parameter&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;exists&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;exists\\&#x27; command&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;51f1ef1c-6f22-4563-a83f-d47b8e83b8e6&quot;,&quot;parentUUID&quot;:&quot;7ca71ea8-1a51-4943-8c33-920f67726c49&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report GREATER THAN ZERO when checking for the same existing key multiple times&quot;,&quot;fullTitle&quot;:&quot;exists-command test should report GREATER THAN ZERO when checking for the same existing key multiple times&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;key&#x27;, &#x27;value&#x27;])\n    .then(() =&gt; {\n    common_test_1.sendCommand(new net.Socket(), [&#x27;exists&#x27;, &#x27;key&#x27;, &#x27;key&#x27;, &#x27;unknownkey&#x27;, &#x27;another&#x27;, &#x27;another&#x27;])\n        .then((response) =&gt; {\n        chai_1.expect(response).to.equal(2);\n        done();\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aeff3c62-c045-4348-bacd-73fdd15ae4b7&quot;,&quot;parentUUID&quot;:&quot;7ca71ea8-1a51-4943-8c33-920f67726c49&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respect the TTL value on a key&quot;,&quot;fullTitle&quot;:&quot;exists-command test should respect the TTL value on a key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;exists&#x27;, &#x27;ttlkey&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(0);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d101a61-6f0a-463d-8d86-7db065d8b521&quot;,&quot;parentUUID&quot;:&quot;7ca71ea8-1a51-4943-8c33-920f67726c49&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;eb77d15c-bb5f-484c-86ff-b5a10533c625&quot;,&quot;51f1ef1c-6f22-4563-a83f-d47b8e83b8e6&quot;,&quot;aeff3c62-c045-4348-bacd-73fdd15ae4b7&quot;,&quot;0d101a61-6f0a-463d-8d86-7db065d8b521&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:14,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;2fd73d16-6e3a-456a-b84a-82b04bb7b3e6&quot;,&quot;title&quot;:&quot;expire-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/expire-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/expire-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;expire-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7d107c24-5a50-4b85-9904-2a20ae8157c7&quot;,&quot;parentUUID&quot;:&quot;2fd73d16-6e3a-456a-b84a-82b04bb7b3e6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;expire-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;60d10205-6a6f-41a7-923d-3fb8aa8c4b39&quot;,&quot;parentUUID&quot;:&quot;2fd73d16-6e3a-456a-b84a-82b04bb7b3e6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;expire-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;730a94fe-f454-428f-af2d-9e10a8e795d0&quot;,&quot;parentUUID&quot;:&quot;2fd73d16-6e3a-456a-b84a-82b04bb7b3e6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;expire-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a10ecbc6-1db6-476c-9f2d-18a4a2f74b34&quot;,&quot;parentUUID&quot;:&quot;2fd73d16-6e3a-456a-b84a-82b04bb7b3e6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report ZERO when expire called on non-existent key&quot;,&quot;fullTitle&quot;:&quot;expire-command test should report ZERO when expire called on non-existent key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;expire&#x27;, &#x27;no-key&#x27;, &#x27;1000&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;31246fe8-537e-433d-a08b-f9fa9dcc1d36&quot;,&quot;parentUUID&quot;:&quot;2fd73d16-6e3a-456a-b84a-82b04bb7b3e6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should require an integer value for the ttl parameter&quot;,&quot;fullTitle&quot;:&quot;expire-command test should require an integer value for the ttl parameter&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;mykey&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;expire&#x27;, &#x27;mykey&#x27;, &#x27;10.2&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;expire&#x27;, &#x27;mykey&#x27;, &#x27;ten&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3c4ecbf8-6e70-468c-a3a1-270aa0d0b168&quot;,&quot;parentUUID&quot;:&quot;2fd73d16-6e3a-456a-b84a-82b04bb7b3e6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should set the requested ttl on a key&quot;,&quot;fullTitle&quot;:&quot;expire-command test should set the requested ttl on a key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;expire&#x27;, &#x27;mykey&#x27;, &#x27;10000&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;mykey&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a36a5a5-4e00-4943-bdd5-a9b6bc1dd980&quot;,&quot;parentUUID&quot;:&quot;2fd73d16-6e3a-456a-b84a-82b04bb7b3e6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should expire a key when we set a negative ttl&quot;,&quot;fullTitle&quot;:&quot;expire-command test should expire a key when we set a negative ttl&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // Note that this is not consistent with documentation\n        response = yield common_test_1.sendCommand(client, [&#x27;expire&#x27;, &#x27;mykey&#x27;, &#x27;-1&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;mykey&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a3b594cf-3399-4294-829a-ee15d1434978&quot;,&quot;parentUUID&quot;:&quot;2fd73d16-6e3a-456a-b84a-82b04bb7b3e6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with ZKEYs (and other key types - as yet untested)&quot;,&quot;fullTitle&quot;:&quot;expire-command test should work with ZKEYs (and other key types - as yet untested)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;1&#x27;, &#x27;member&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;zkey&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;expire&#x27;, &#x27;zkey&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        yield setTimeout(() =&gt; __awaiter(void 0, void 0, void 0, function* () {\n            response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;zkey&#x27;]);\n            chai_1.expect(response).to.equal(0);\n        }), 2000);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fae2c29c-28a6-4f8a-b33d-1d162cbd0f87&quot;,&quot;parentUUID&quot;:&quot;2fd73d16-6e3a-456a-b84a-82b04bb7b3e6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should survive the RENAME operation&quot;,&quot;fullTitle&quot;:&quot;expire-command test should survive the RENAME operation&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;rename-test&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;expire&#x27;, &#x27;rename-test&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;rename&#x27;, &#x27;rename-test&#x27;, &#x27;new-name&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;new-name&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;rename-test&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        yield setTimeout(() =&gt; __awaiter(void 0, void 0, void 0, function* () {\n            response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;new-name&#x27;]);\n            chai_1.expect(response).to.equal(0);\n        }), 2000);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4d6ea79b-26a5-4a60-8095-0cb050b95d00&quot;,&quot;parentUUID&quot;:&quot;2fd73d16-6e3a-456a-b84a-82b04bb7b3e6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;31246fe8-537e-433d-a08b-f9fa9dcc1d36&quot;,&quot;3c4ecbf8-6e70-468c-a3a1-270aa0d0b168&quot;,&quot;5a36a5a5-4e00-4943-bdd5-a9b6bc1dd980&quot;,&quot;a3b594cf-3399-4294-829a-ee15d1434978&quot;,&quot;fae2c29c-28a6-4f8a-b33d-1d162cbd0f87&quot;,&quot;4d6ea79b-26a5-4a60-8095-0cb050b95d00&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:15,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;ef55d10c-e7eb-430a-98ea-a25fb47c8059&quot;,&quot;title&quot;:&quot;keys-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/keys-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/keys-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;keys-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;25a0b282-92f2-4282-99f9-cfa881c54481&quot;,&quot;parentUUID&quot;:&quot;ef55d10c-e7eb-430a-98ea-a25fb47c8059&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;keys-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;adffc6a7-6f83-4351-87d0-9c7938d1325b&quot;,&quot;parentUUID&quot;:&quot;ef55d10c-e7eb-430a-98ea-a25fb47c8059&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;keys-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b2228321-598e-412e-86e0-8d840eaa3c44&quot;,&quot;parentUUID&quot;:&quot;ef55d10c-e7eb-430a-98ea-a25fb47c8059&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;keys-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7317b3f0-fa7b-46cc-b515-882edb54d8d3&quot;,&quot;parentUUID&quot;:&quot;ef55d10c-e7eb-430a-98ea-a25fb47c8059&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should retrieve keys by glob patterns&quot;,&quot;fullTitle&quot;:&quot;keys-command test should retrieve keys by glob patterns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;mset&#x27;, &#x27;firstname&#x27;, &#x27;Jack&#x27;, &#x27;lastname&#x27;, &#x27;Stuntman&#x27;, &#x27;age&#x27;, &#x27;35&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;keys&#x27;, &#x27;*name*&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;firstname&#x27;, &#x27;lastname&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;keys&#x27;, &#x27;a??&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;age&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;keys&#x27;, &#x27;*&#x27;]);\n        // NOTE: Keys are sorted alphabetically\n        chai_1.expect(response).to.eql([&#x27;age&#x27;, &#x27;firstname&#x27;, &#x27;lastname&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;24d2b5a1-462a-48f9-9b67-b2d9c6c37618&quot;,&quot;parentUUID&quot;:&quot;ef55d10c-e7eb-430a-98ea-a25fb47c8059&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;24d2b5a1-462a-48f9-9b67-b2d9c6c37618&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;954f5b9a-69bc-42ab-a4dd-16f76677dfb7&quot;,&quot;title&quot;:&quot;move-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/move-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/move-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;move-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;898f0f37-f5bc-48a8-8d27-d5ab75791960&quot;,&quot;parentUUID&quot;:&quot;954f5b9a-69bc-42ab-a4dd-16f76677dfb7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;move-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b58d1f6e-efd1-4e08-add3-2195b58b5fe7&quot;,&quot;parentUUID&quot;:&quot;954f5b9a-69bc-42ab-a4dd-16f76677dfb7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;move-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e078266c-a3ad-4966-aa93-a045ca69be47&quot;,&quot;parentUUID&quot;:&quot;954f5b9a-69bc-42ab-a4dd-16f76677dfb7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;move-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7ead70ea-8440-43c2-a4fb-5ad9fca7b7a6&quot;,&quot;parentUUID&quot;:&quot;954f5b9a-69bc-42ab-a4dd-16f76677dfb7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not allow target and source db to be the same&quot;,&quot;fullTitle&quot;:&quot;move-command test should not allow target and source db to be the same&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // Even if source key does not exist\n        response = yield common_test_1.sendCommand(client, [&#x27;move&#x27;, uniqueKey, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR source and destination objects are the same&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9194730d-b7b7-4c37-bd9e-1574c0b9d0e7&quot;,&quot;parentUUID&quot;:&quot;954f5b9a-69bc-42ab-a4dd-16f76677dfb7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should also report ZERO when the target key already exists&quot;,&quot;fullTitle&quot;:&quot;move-command test should also report ZERO when the target key already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, uniqueKey, &#x27;database ZERO&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;move&#x27;, uniqueKey, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR source and destination objects are the same&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;65cd35a6-d7b4-4e6b-ab3c-d6cf30bfd177&quot;,&quot;parentUUID&quot;:&quot;954f5b9a-69bc-42ab-a4dd-16f76677dfb7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should move a key from one database to another otherwise&quot;,&quot;fullTitle&quot;:&quot;move-command test should move a key from one database to another otherwise&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;move&#x27;, uniqueKey, &#x27;14&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;14&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5b5501cc-269e-4853-8775-534e2ffd8016&quot;,&quot;parentUUID&quot;:&quot;954f5b9a-69bc-42ab-a4dd-16f76677dfb7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report error when target database is invalid and key exists&quot;,&quot;fullTitle&quot;:&quot;move-command test should report error when target database is invalid and key exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // Database 14 is already selected\n        response = yield common_test_1.sendCommand(client, [&#x27;move&#x27;, uniqueKey, &#x27;InvalidDb&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR index out of range&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9eec1165-d857-48d9-9ea7-11a326003fc6&quot;,&quot;parentUUID&quot;:&quot;954f5b9a-69bc-42ab-a4dd-16f76677dfb7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 0 when the key does not exist in the current db&quot;,&quot;fullTitle&quot;:&quot;move-command test should return 0 when the key does not exist in the current db&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;flushdb&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;move&#x27;, &#x27;nokey&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e5c49f72-80ab-486f-87b4-d6013bf99e4a&quot;,&quot;parentUUID&quot;:&quot;954f5b9a-69bc-42ab-a4dd-16f76677dfb7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 0 when the key exists in both source and target db&quot;,&quot;fullTitle&quot;:&quot;move-command test should return 0 when the key exists in both source and target db&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;nokey&#x27;, &#x27;db0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;nokey&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;nokey&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;nokey&#x27;, &#x27;db1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;move&#x27;, &#x27;nokey&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;nokey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;db1&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;nokey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;db0&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aa7b7120-7bd5-431c-a8d6-bbfa0c0cf64e&quot;,&quot;parentUUID&quot;:&quot;954f5b9a-69bc-42ab-a4dd-16f76677dfb7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9194730d-b7b7-4c37-bd9e-1574c0b9d0e7&quot;,&quot;65cd35a6-d7b4-4e6b-ab3c-d6cf30bfd177&quot;,&quot;5b5501cc-269e-4853-8775-534e2ffd8016&quot;,&quot;9eec1165-d857-48d9-9ea7-11a326003fc6&quot;,&quot;e5c49f72-80ab-486f-87b4-d6013bf99e4a&quot;,&quot;aa7b7120-7bd5-431c-a8d6-bbfa0c0cf64e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:18,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;66421e29-2b41-405b-b03f-f98321ab0e49&quot;,&quot;title&quot;:&quot;randomkey-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/randomkey-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/randomkey-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;randomkey-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;34d871f2-1134-4361-88f3-bba8ed77006e&quot;,&quot;parentUUID&quot;:&quot;66421e29-2b41-405b-b03f-f98321ab0e49&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;randomkey-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0282dd21-93d7-4b4e-9be8-6e042db17e4a&quot;,&quot;parentUUID&quot;:&quot;66421e29-2b41-405b-b03f-f98321ab0e49&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;randomkey-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47e4a6a7-07a9-44c6-a512-184689db6b37&quot;,&quot;parentUUID&quot;:&quot;66421e29-2b41-405b-b03f-f98321ab0e49&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;randomkey-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;60c2b720-5ae2-47bc-a636-e9b05fec5e1c&quot;,&quot;parentUUID&quot;:&quot;66421e29-2b41-405b-b03f-f98321ab0e49&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return NIL when the database is empty&quot;,&quot;fullTitle&quot;:&quot;randomkey-command test should return NIL when the database is empty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;flushdb&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;randomkey&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e15d25c0-6a0c-4d3b-888b-938e2746e64e&quot;,&quot;parentUUID&quot;:&quot;66421e29-2b41-405b-b03f-f98321ab0e49&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return list, zkey, hash, and string keys without preference&quot;,&quot;fullTitle&quot;:&quot;randomkey-command test should return list, zkey, hash, and string keys without preference&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const results = [];\n        response = yield common_test_1.sendCommand(client, [&#x27;hset&#x27;, &#x27;hash&#x27;, &#x27;field&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpush&#x27;, &#x27;list&#x27;, &#x27;element&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;1&#x27;, &#x27;member&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;string&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        for (let i = 0; i &lt; 15; i++) {\n            response = yield common_test_1.sendCommand(client, [&#x27;randomkey&#x27;]);\n            chai_1.expect(response).to.be.a(&#x27;string&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;type&#x27;, response]);\n            chai_1.expect(response).to.be.a(&#x27;string&#x27;);\n            if (results.indexOf(response) === -1) {\n                results.push(response);\n            }\n            if (results.length === 4) {\n                break;\n            }\n        }\n        chai_1.expect(results.length).to.be.greaterThan(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;79e23783-cb0a-42a9-ac3d-f90cb9cfc69f&quot;,&quot;parentUUID&quot;:&quot;66421e29-2b41-405b-b03f-f98321ab0e49&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e15d25c0-6a0c-4d3b-888b-938e2746e64e&quot;,&quot;79e23783-cb0a-42a9-ac3d-f90cb9cfc69f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:22,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;0d006afc-e875-4df3-ba31-3a71c6a146bb&quot;,&quot;title&quot;:&quot;rename-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/rename-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/rename-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rename-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a6abc451-628e-490e-b0cd-e4883bd008b9&quot;,&quot;parentUUID&quot;:&quot;0d006afc-e875-4df3-ba31-3a71c6a146bb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rename-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5625f33-2e61-49d5-9c44-3a23e5f318ee&quot;,&quot;parentUUID&quot;:&quot;0d006afc-e875-4df3-ba31-3a71c6a146bb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rename-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2ea5e450-9eca-416f-adde-31e31fe5d28b&quot;,&quot;parentUUID&quot;:&quot;0d006afc-e875-4df3-ba31-3a71c6a146bb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rename-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;59f2768b-dd2d-4499-927a-8a52dcbd9688&quot;,&quot;parentUUID&quot;:&quot;0d006afc-e875-4df3-ba31-3a71c6a146bb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report an error when the key does not exist&quot;,&quot;fullTitle&quot;:&quot;rename-command test should report an error when the key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;rename&#x27;, &#x27;mykey&#x27;, &#x27;my-otherkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR no such key&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;73f91d74-cc03-4111-a77b-f278e6fe85ef&quot;,&quot;parentUUID&quot;:&quot;0d006afc-e875-4df3-ba31-3a71c6a146bb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should rename a key&quot;,&quot;fullTitle&quot;:&quot;rename-command test should rename a key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;mykey&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;rename&#x27;, &#x27;mykey&#x27;, &#x27;my-otherkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;mykey&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;my-otherkey&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1f46e63-4623-45d0-b363-89f8379edd3b&quot;,&quot;parentUUID&quot;:&quot;0d006afc-e875-4df3-ba31-3a71c6a146bb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should overwrite an existing key without notice&quot;,&quot;fullTitle&quot;:&quot;rename-command test should overwrite an existing key without notice&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;myoriginalkey&#x27;, &#x27;something&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;rename&#x27;, &#x27;my-otherkey&#x27;, &#x27;myoriginalkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;myoriginalkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bbb9cfd1-a425-4ac7-9d6e-f20aab872aa1&quot;,&quot;parentUUID&quot;:&quot;0d006afc-e875-4df3-ba31-3a71c6a146bb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;73f91d74-cc03-4111-a77b-f278e6fe85ef&quot;,&quot;d1f46e63-4623-45d0-b363-89f8379edd3b&quot;,&quot;bbb9cfd1-a425-4ac7-9d6e-f20aab872aa1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;7dd20803-6d3a-4256-bc31-09fd3cd3184e&quot;,&quot;title&quot;:&quot;renamenx-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/renamenx-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/renamenx-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;renamenx-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0b86b930-09ca-4c4e-a7f4-209f3018f119&quot;,&quot;parentUUID&quot;:&quot;7dd20803-6d3a-4256-bc31-09fd3cd3184e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;renamenx-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e9a1cafa-7b36-41b3-9140-0afc705501e3&quot;,&quot;parentUUID&quot;:&quot;7dd20803-6d3a-4256-bc31-09fd3cd3184e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;renamenx-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8401ff6f-ed33-4790-871a-21ba629c6a15&quot;,&quot;parentUUID&quot;:&quot;7dd20803-6d3a-4256-bc31-09fd3cd3184e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;renamenx-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;185421c5-48bb-4a45-bcbf-38ee4a6e4f1f&quot;,&quot;parentUUID&quot;:&quot;7dd20803-6d3a-4256-bc31-09fd3cd3184e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report an error when the key does not exist&quot;,&quot;fullTitle&quot;:&quot;renamenx-command test should report an error when the key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;renamenx&#x27;, &#x27;mykey&#x27;, &#x27;my-otherkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR no such key&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b6e66639-429e-4f7a-8015-0b6ebea86ab4&quot;,&quot;parentUUID&quot;:&quot;7dd20803-6d3a-4256-bc31-09fd3cd3184e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 0 when attempting renamenx with source = destination&quot;,&quot;fullTitle&quot;:&quot;renamenx-command test should return 0 when attempting renamenx with source = destination&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;key&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;renamenx&#x27;, &#x27;key&#x27;, &#x27;key&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;key&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d230e291-377f-4996-950f-a0d27e68ae9e&quot;,&quot;parentUUID&quot;:&quot;7dd20803-6d3a-4256-bc31-09fd3cd3184e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should rename a key when requested&quot;,&quot;fullTitle&quot;:&quot;renamenx-command test should rename a key when requested&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;renamenx&#x27;, &#x27;key&#x27;, &#x27;newkey&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;key&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;newkey&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;77f90332-9453-4a6b-826e-b8b39f5e4e7a&quot;,&quot;parentUUID&quot;:&quot;7dd20803-6d3a-4256-bc31-09fd3cd3184e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b6e66639-429e-4f7a-8015-0b6ebea86ab4&quot;,&quot;d230e291-377f-4996-950f-a0d27e68ae9e&quot;,&quot;77f90332-9453-4a6b-826e-b8b39f5e4e7a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;823766a7-00ff-4044-8055-6ae6ab26ac55&quot;,&quot;title&quot;:&quot;ttl-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/ttl-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/ttl-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ttl-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:31,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    // Set a key with a couple - second TTL to validate exists respects TTL\n    common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;ttlkey&#x27;, &#x27;value&#x27;, &#x27;EX&#x27;, &#x27;30&#x27;])\n        .then(() =&gt; {\n        done();\n    });\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;61bb733e-9e9a-4030-a089-63c4972f1bba&quot;,&quot;parentUUID&quot;:&quot;823766a7-00ff-4044-8055-6ae6ab26ac55&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ttl-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d895edf1-a387-4f49-b1a2-7ec193c24fd9&quot;,&quot;parentUUID&quot;:&quot;823766a7-00ff-4044-8055-6ae6ab26ac55&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ttl-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;030f5c52-d8fb-4a98-ab7e-8239a96878d6&quot;,&quot;parentUUID&quot;:&quot;823766a7-00ff-4044-8055-6ae6ab26ac55&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ttl-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2c40b46d-f9dd-46c1-a126-269847c4182e&quot;,&quot;parentUUID&quot;:&quot;823766a7-00ff-4044-8055-6ae6ab26ac55&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report -2 when the key does not exist&quot;,&quot;fullTitle&quot;:&quot;ttl-command test should report -2 when the key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;ttl&#x27;, &#x27;nokey&#x27;]);\n        chai_1.expect(response).to.equal(-2);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;df5eb604-9168-47ac-ab85-d7f68b861cf5&quot;,&quot;parentUUID&quot;:&quot;823766a7-00ff-4044-8055-6ae6ab26ac55&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return -1 when the key exists but does not have a ttl&quot;,&quot;fullTitle&quot;:&quot;ttl-command test should return -1 when the key exists but does not have a ttl&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;newkey&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;ttl&#x27;, &#x27;newkey&#x27;]);\n        chai_1.expect(response).to.equal(-1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ff06a7a-1da9-41f3-b1ee-7570510eb61f&quot;,&quot;parentUUID&quot;:&quot;823766a7-00ff-4044-8055-6ae6ab26ac55&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the current ttl in seconds when available&quot;,&quot;fullTitle&quot;:&quot;ttl-command test should return the current ttl in seconds when available&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;ttl&#x27;, &#x27;ttlkey&#x27;]);\n        chai_1.expect(response).to.be.greaterThan(0);\n        chai_1.expect(response).to.be.lessThan(31);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;18b1da19-a054-4ebc-9803-80faecce9be8&quot;,&quot;parentUUID&quot;:&quot;823766a7-00ff-4044-8055-6ae6ab26ac55&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;df5eb604-9168-47ac-ab85-d7f68b861cf5&quot;,&quot;6ff06a7a-1da9-41f3-b1ee-7570510eb61f&quot;,&quot;18b1da19-a054-4ebc-9803-80faecce9be8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;58ce9742-3717-417b-9f9c-a7922f8d1992&quot;,&quot;title&quot;:&quot;type-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/type-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/type-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;type-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:79,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7a0ba286-4816-4fd1-8c16-1d0d309f1978&quot;,&quot;parentUUID&quot;:&quot;58ce9742-3717-417b-9f9c-a7922f8d1992&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;type-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8d745873-2ca4-4488-9282-e487ca9070dc&quot;,&quot;parentUUID&quot;:&quot;58ce9742-3717-417b-9f9c-a7922f8d1992&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;type-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c2e12d3b-57b6-4296-bf46-dc8059efc78a&quot;,&quot;parentUUID&quot;:&quot;58ce9742-3717-417b-9f9c-a7922f8d1992&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;type-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb217357-a05c-4782-9fbd-6d0ab9b6a03f&quot;,&quot;parentUUID&quot;:&quot;58ce9742-3717-417b-9f9c-a7922f8d1992&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report the type of key&quot;,&quot;fullTitle&quot;:&quot;type-command test should report the type of key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;string-key&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;type&#x27;, &#x27;string-key&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;string&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpush&#x27;, &#x27;list-key&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;type&#x27;, &#x27;list-key&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;list&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;set-key&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;type&#x27;, &#x27;set-key&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;set&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;123&#x27;, &#x27;something&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;type&#x27;, &#x27;zkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;zset&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;type&#x27;, &#x27;never&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;none&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cdf6bb34-79ea-43c1-8e17-d50e1c6c9ba3&quot;,&quot;parentUUID&quot;:&quot;58ce9742-3717-417b-9f9c-a7922f8d1992&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cdf6bb34-79ea-43c1-8e17-d50e1c6c9ba3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:11,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;3b9e2414-3fdc-4f59-8e76-f1115ae8acd6&quot;,&quot;title&quot;:&quot;blpop-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/blpop-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/blpop-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;blpop-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:39,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;46fc5d1c-74c2-44f4-8bba-a10af0ec007e&quot;,&quot;parentUUID&quot;:&quot;3b9e2414-3fdc-4f59-8e76-f1115ae8acd6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;blpop-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7fc174c1-0de0-4688-9e0f-a30f30f7eaf2&quot;,&quot;parentUUID&quot;:&quot;3b9e2414-3fdc-4f59-8e76-f1115ae8acd6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;blpop-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;24487cdc-2982-4d76-b40a-9035fe2aa187&quot;,&quot;parentUUID&quot;:&quot;3b9e2414-3fdc-4f59-8e76-f1115ae8acd6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;blpop-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9e138b21-737b-4034-9cab-e44ef430613a&quot;,&quot;parentUUID&quot;:&quot;3b9e2414-3fdc-4f59-8e76-f1115ae8acd6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return NIL when timeout &gt; 0 and list does not exist&quot;,&quot;fullTitle&quot;:&quot;blpop-command test should return NIL when timeout &gt; 0 and list does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1007,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;blpop&#x27;, &#x27;no-key&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb57ab12-a0f1-40c7-8984-8ba8a5a56300&quot;,&quot;parentUUID&quot;:&quot;3b9e2414-3fdc-4f59-8e76-f1115ae8acd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should wait for a list to exist and return the list name and value&quot;,&quot;fullTitle&quot;:&quot;blpop-command test should wait for a list to exist and return the list name and value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;blpop&#x27;, &#x27;no-key&#x27;, &#x27;0&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.eql([&#x27;no-key&#x27;, &#x27;THE NEW VALUE&#x27;]);\n    done();\n});\ncommon_test_1.sendCommand(new net.Socket(), [&#x27;lpush&#x27;, &#x27;no-key&#x27;, &#x27;THE NEW VALUE&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(1);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;05a0edbe-423a-4a09-aa51-5feba2b33bcb&quot;,&quot;parentUUID&quot;:&quot;3b9e2414-3fdc-4f59-8e76-f1115ae8acd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the list name and HEAD value&quot;,&quot;fullTitle&quot;:&quot;blpop-command test should return the list name and HEAD value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;blpop&#x27;, &#x27;no-key2&#x27;, &#x27;0&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.eql([&#x27;no-key2&#x27;, &#x27;first&#x27;]);\n    done();\n});\ncommon_test_1.sendCommand(new net.Socket(), [&#x27;lpush&#x27;, &#x27;no-key2&#x27;, &#x27;third&#x27;, &#x27;second&#x27;, &#x27;first&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(3);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8fe1ab1a-f2f3-44ce-a129-038bc17036e1&quot;,&quot;parentUUID&quot;:&quot;3b9e2414-3fdc-4f59-8e76-f1115ae8acd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support blocking lpop against multiple lists in one call&quot;,&quot;fullTitle&quot;:&quot;blpop-command test should support blocking lpop against multiple lists in one call&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;blpop&#x27;, &#x27;list1&#x27;, &#x27;list2&#x27;, &#x27;list3&#x27;, &#x27;0&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.eql([&#x27;list2&#x27;, &#x27;THE NEW VALUE&#x27;]);\n    done();\n});\ncommon_test_1.sendCommand(new net.Socket(), [&#x27;lpush&#x27;, &#x27;list2&#x27;, &#x27;THE NEW VALUE&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(1);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;748fe422-0cd0-43b5-b832-8bed53dfe625&quot;,&quot;parentUUID&quot;:&quot;3b9e2414-3fdc-4f59-8e76-f1115ae8acd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fb57ab12-a0f1-40c7-8984-8ba8a5a56300&quot;,&quot;05a0edbe-423a-4a09-aa51-5feba2b33bcb&quot;,&quot;8fe1ab1a-f2f3-44ce-a129-038bc17036e1&quot;,&quot;748fe422-0cd0-43b5-b832-8bed53dfe625&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1014,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;ca1efe64-386b-4144-89ec-5de01f5cd189&quot;,&quot;title&quot;:&quot;brpop-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/brpop-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/brpop-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;brpop-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bf88337a-7a16-49a9-a968-50408efcc72c&quot;,&quot;parentUUID&quot;:&quot;ca1efe64-386b-4144-89ec-5de01f5cd189&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;brpop-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8b085ab9-4806-4581-992b-eb779df32b41&quot;,&quot;parentUUID&quot;:&quot;ca1efe64-386b-4144-89ec-5de01f5cd189&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;brpop-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5b963cd5-c33e-4f69-b9b1-4420a8379660&quot;,&quot;parentUUID&quot;:&quot;ca1efe64-386b-4144-89ec-5de01f5cd189&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;brpop-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b3ec8443-5fc7-4509-a090-06863385ba93&quot;,&quot;parentUUID&quot;:&quot;ca1efe64-386b-4144-89ec-5de01f5cd189&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return NIL when timeout &gt; 0 and list does not exist&quot;,&quot;fullTitle&quot;:&quot;brpop-command test should return NIL when timeout &gt; 0 and list does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1004,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;brpop&#x27;, &#x27;no-key&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8a3958e9-e719-4f19-a479-e5bb9dc80172&quot;,&quot;parentUUID&quot;:&quot;ca1efe64-386b-4144-89ec-5de01f5cd189&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should wait for a list to exist and return the list name and value&quot;,&quot;fullTitle&quot;:&quot;brpop-command test should wait for a list to exist and return the list name and value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;brpop&#x27;, &#x27;no-key&#x27;, &#x27;0&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.eql([&#x27;no-key&#x27;, &#x27;THE NEW VALUE&#x27;]);\n    done();\n});\ncommon_test_1.sendCommand(new net.Socket(), [&#x27;lpush&#x27;, &#x27;no-key&#x27;, &#x27;THE NEW VALUE&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(1);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2b61dada-6dcd-40c7-b607-90b422bd525a&quot;,&quot;parentUUID&quot;:&quot;ca1efe64-386b-4144-89ec-5de01f5cd189&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the list name and TAIL value&quot;,&quot;fullTitle&quot;:&quot;brpop-command test should return the list name and TAIL value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;brpop&#x27;, &#x27;no-key2&#x27;, &#x27;0&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.eql([&#x27;no-key2&#x27;, &#x27;first&#x27;]);\n    done();\n});\ncommon_test_1.sendCommand(new net.Socket(), [&#x27;rpush&#x27;, &#x27;no-key2&#x27;, &#x27;third&#x27;, &#x27;second&#x27;, &#x27;first&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(3);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;90b37c92-f188-4070-800f-e6b2d97365e5&quot;,&quot;parentUUID&quot;:&quot;ca1efe64-386b-4144-89ec-5de01f5cd189&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support blocking rpop against multiple lists in one call&quot;,&quot;fullTitle&quot;:&quot;brpop-command test should support blocking rpop against multiple lists in one call&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;brpop&#x27;, &#x27;list1&#x27;, &#x27;list2&#x27;, &#x27;list3&#x27;, &#x27;0&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.eql([&#x27;list3&#x27;, &#x27;THE NEW VALUE&#x27;]);\n    done();\n});\ncommon_test_1.sendCommand(new net.Socket(), [&#x27;lpush&#x27;, &#x27;list3&#x27;, &#x27;THE NEW VALUE&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(1);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;94407846-4954-4b26-83ad-f41b086d00d8&quot;,&quot;parentUUID&quot;:&quot;ca1efe64-386b-4144-89ec-5de01f5cd189&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8a3958e9-e719-4f19-a479-e5bb9dc80172&quot;,&quot;2b61dada-6dcd-40c7-b607-90b422bd525a&quot;,&quot;90b37c92-f188-4070-800f-e6b2d97365e5&quot;,&quot;94407846-4954-4b26-83ad-f41b086d00d8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1011,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;d643237f-b091-44c2-bb64-e89a335ebd20&quot;,&quot;title&quot;:&quot;lindex-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/lindex-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/lindex-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lindex-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d34bc77c-9123-412d-a8b7-f44d475a4699&quot;,&quot;parentUUID&quot;:&quot;d643237f-b091-44c2-bb64-e89a335ebd20&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lindex-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1a0121e4-e384-405e-8e2e-ca69acc441d6&quot;,&quot;parentUUID&quot;:&quot;d643237f-b091-44c2-bb64-e89a335ebd20&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lindex-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;88defb3d-803c-4fb7-8360-1acf13b698a4&quot;,&quot;parentUUID&quot;:&quot;d643237f-b091-44c2-bb64-e89a335ebd20&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lindex-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9f0fa528-15ff-4c64-ad42-f53b0bab198c&quot;,&quot;parentUUID&quot;:&quot;d643237f-b091-44c2-bb64-e89a335ebd20&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report NIL when lindex called with invalid index on non-existent key&quot;,&quot;fullTitle&quot;:&quot;lindex-command test should report NIL when lindex called with invalid index on non-existent key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, &#x27;no-key&#x27;, &#x27;negative one thousand&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8cad25e1-d321-4c47-a1c4-abf8d5654548&quot;,&quot;parentUUID&quot;:&quot;d643237f-b091-44c2-bb64-e89a335ebd20&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report ERR when attempting to get lindex of non-list key&quot;,&quot;fullTitle&quot;:&quot;lindex-command test should report ERR when attempting to get lindex of non-list key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;lkey&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, &#x27;lkey&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;abab4669-8539-4c69-8557-6bf8aeda8735&quot;,&quot;parentUUID&quot;:&quot;d643237f-b091-44c2-bb64-e89a335ebd20&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the correct key at an index&quot;,&quot;fullTitle&quot;:&quot;lindex-command test should return the correct key at an index&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = `lkey-${new Date().getTime()}`;\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, uniqueKey, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;a&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;b&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;-1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;c&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;-100&#x27;]);\n        chai_1.expect(response).to.equal(null);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, uniqueKey, &#x27;a1&#x27;, &#x27;b2&#x27;, &#x27;c3&#x27;]);\n        chai_1.expect(response).to.equal(6);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;-6&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;a&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;-7&#x27;]);\n        chai_1.expect(response).to.equal(null);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;100&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8d85ce08-f7b9-4871-a19e-d7781dbd057e&quot;,&quot;parentUUID&quot;:&quot;d643237f-b091-44c2-bb64-e89a335ebd20&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8cad25e1-d321-4c47-a1c4-abf8d5654548&quot;,&quot;abab4669-8539-4c69-8557-6bf8aeda8735&quot;,&quot;8d85ce08-f7b9-4871-a19e-d7781dbd057e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;52d88555-c9bc-49ec-8c36-abfaed52c441&quot;,&quot;title&quot;:&quot;llen-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/llen-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/llen-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;llen-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4618d137-1cba-4031-9072-0a87003b6e8d&quot;,&quot;parentUUID&quot;:&quot;52d88555-c9bc-49ec-8c36-abfaed52c441&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;llen-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb35eadb-4e07-40b8-abb1-4d76eb6bfa01&quot;,&quot;parentUUID&quot;:&quot;52d88555-c9bc-49ec-8c36-abfaed52c441&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;llen-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9d91eb21-87f3-449f-a904-64620224aa17&quot;,&quot;parentUUID&quot;:&quot;52d88555-c9bc-49ec-8c36-abfaed52c441&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;llen-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6037b7c5-746a-40fb-8cbe-3634f338e096&quot;,&quot;parentUUID&quot;:&quot;52d88555-c9bc-49ec-8c36-abfaed52c441&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report 0 when llen called on non-existent key&quot;,&quot;fullTitle&quot;:&quot;llen-command test should report 0 when llen called on non-existent key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, &#x27;no-key&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bf0027a1-a6ac-4232-b167-b78adb0489b2&quot;,&quot;parentUUID&quot;:&quot;52d88555-c9bc-49ec-8c36-abfaed52c441&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report WRONGTYPE when attempting to get llen of non-list key&quot;,&quot;fullTitle&quot;:&quot;llen-command test should report WRONGTYPE when attempting to get llen of non-list key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;lkey&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, &#x27;lkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0da590ed-4b6a-4544-be7a-8ed57778bfa0&quot;,&quot;parentUUID&quot;:&quot;52d88555-c9bc-49ec-8c36-abfaed52c441&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the correct list length&quot;,&quot;fullTitle&quot;:&quot;llen-command test should return the correct list length&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = `lkey-${new Date().getTime()}`;\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, uniqueKey, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpop&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(&#x27;c&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpop&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(&#x27;b&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpop&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(&#x27;a&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpop&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(null);\n        // The list goes away when the last element is popped\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, uniqueKey, &#x27;-6&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;81175717-c6db-45c8-98e0-01418d632d73&quot;,&quot;parentUUID&quot;:&quot;52d88555-c9bc-49ec-8c36-abfaed52c441&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bf0027a1-a6ac-4232-b167-b78adb0489b2&quot;,&quot;0da590ed-4b6a-4544-be7a-8ed57778bfa0&quot;,&quot;81175717-c6db-45c8-98e0-01418d632d73&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:15,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;a3f31deb-685c-4f61-b9fa-d8963cda7aaf&quot;,&quot;title&quot;:&quot;lpop-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/lpop-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/lpop-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpop-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ef1f7773-240b-4939-bdb7-57ee3b6f365e&quot;,&quot;parentUUID&quot;:&quot;a3f31deb-685c-4f61-b9fa-d8963cda7aaf&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpop-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;08d36c6b-556b-49bd-8798-27ed135c3f6e&quot;,&quot;parentUUID&quot;:&quot;a3f31deb-685c-4f61-b9fa-d8963cda7aaf&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpop-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;10259d56-392c-4284-bc23-86ee833b22a3&quot;,&quot;parentUUID&quot;:&quot;a3f31deb-685c-4f61-b9fa-d8963cda7aaf&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpop-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d0a5167-2664-42d7-ae18-d84c12ff775a&quot;,&quot;parentUUID&quot;:&quot;a3f31deb-685c-4f61-b9fa-d8963cda7aaf&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report NIL when lpop called on non-existent key&quot;,&quot;fullTitle&quot;:&quot;lpop-command test should report NIL when lpop called on non-existent key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, &#x27;no-key&#x27;]);\n        chai_1.expect(response).to.equal(null);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;no-key&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8c26299d-de8f-459e-9ee5-53d0f06008be&quot;,&quot;parentUUID&quot;:&quot;a3f31deb-685c-4f61-b9fa-d8963cda7aaf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return values from the left side of a list&quot;,&quot;fullTitle&quot;:&quot;lpop-command test should return values from the left side of a list&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, testKey, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, testKey]);\n        chai_1.expect(response).to.equal(&#x27;a&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, testKey]);\n        chai_1.expect(response).to.equal(&#x27;b&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, testKey]);\n        chai_1.expect(response).to.equal(&#x27;c&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, testKey]);\n        chai_1.expect(response).to.equal(&#x27;d&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, testKey]);\n        chai_1.expect(response).to.equal(null);\n        // The list goes away when the last element is removed\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, testKey]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;26e6af16-1b3e-45cf-826a-f547dc607929&quot;,&quot;parentUUID&quot;:&quot;a3f31deb-685c-4f61-b9fa-d8963cda7aaf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8c26299d-de8f-459e-9ee5-53d0f06008be&quot;,&quot;26e6af16-1b3e-45cf-826a-f547dc607929&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;3161c8ac-eb38-486c-a248-52c3b9d22fce&quot;,&quot;title&quot;:&quot;lpush-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/lpush-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/lpush-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpush-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec794c10-4b98-44f7-99a6-c3e989cf45e6&quot;,&quot;parentUUID&quot;:&quot;3161c8ac-eb38-486c-a248-52c3b9d22fce&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpush-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb187770-0528-41a8-ad93-3762f3cf3edd&quot;,&quot;parentUUID&quot;:&quot;3161c8ac-eb38-486c-a248-52c3b9d22fce&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpush-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f0495c9d-8074-4d20-af6c-35d1567d0777&quot;,&quot;parentUUID&quot;:&quot;3161c8ac-eb38-486c-a248-52c3b9d22fce&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpush-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;03759a47-2bf5-4cf6-b3b0-3eb1e7314aac&quot;,&quot;parentUUID&quot;:&quot;3161c8ac-eb38-486c-a248-52c3b9d22fce&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report ERR when attempting to lpush to a non-list key&quot;,&quot;fullTitle&quot;:&quot;lpush-command test should report ERR when attempting to lpush to a non-list key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;lkey&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpush&#x27;, &#x27;lkey&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;99a3b69a-77b2-4de4-89ef-183a87e1a680&quot;,&quot;parentUUID&quot;:&quot;3161c8ac-eb38-486c-a248-52c3b9d22fce&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create a list if it doesn&#x27;t already exist&quot;,&quot;fullTitle&quot;:&quot;lpush-command test should create a list if it doesn&#x27;t already exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, testKey]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpush&#x27;, testKey, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]);\n        // The list is now &#x27;c&#x27;, &#x27;b&#x27;, &#x27;a&#x27;\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, testKey]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1cb22746-2564-46ac-a6c4-396efa5c5ba3&quot;,&quot;parentUUID&quot;:&quot;3161c8ac-eb38-486c-a248-52c3b9d22fce&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have created the list in a predicatble order&quot;,&quot;fullTitle&quot;:&quot;lpush-command test should have created the list in a predicatble order&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, testKey, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;b&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, testKey]);\n        chai_1.expect(response).to.equal(&#x27;c&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, testKey]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpop&#x27;, testKey]);\n        chai_1.expect(response).to.equal(&#x27;a&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a397dbf7-8911-4836-bc14-271a72199dd7&quot;,&quot;parentUUID&quot;:&quot;3161c8ac-eb38-486c-a248-52c3b9d22fce&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;99a3b69a-77b2-4de4-89ef-183a87e1a680&quot;,&quot;1cb22746-2564-46ac-a6c4-396efa5c5ba3&quot;,&quot;a397dbf7-8911-4836-bc14-271a72199dd7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;7b788453-5d5c-47c8-a2bf-a1d7eeed63be&quot;,&quot;title&quot;:&quot;lrange-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/lrange-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/lrange-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lrange-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;28bb3add-07ec-4667-8625-9344e359bc69&quot;,&quot;parentUUID&quot;:&quot;7b788453-5d5c-47c8-a2bf-a1d7eeed63be&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lrange-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4af38aed-9005-4643-8873-e1a81e9d5d1a&quot;,&quot;parentUUID&quot;:&quot;7b788453-5d5c-47c8-a2bf-a1d7eeed63be&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lrange-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b31396f1-705d-4e82-800a-cc5a8c52ae01&quot;,&quot;parentUUID&quot;:&quot;7b788453-5d5c-47c8-a2bf-a1d7eeed63be&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lrange-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;618c976f-6f77-4e3e-bbc9-19625f1f33f5&quot;,&quot;parentUUID&quot;:&quot;7b788453-5d5c-47c8-a2bf-a1d7eeed63be&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;return an empty list when the key does not exist&quot;,&quot;fullTitle&quot;:&quot;lrange-command test return an empty list when the key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;no-key&#x27;, &#x27;0&#x27;, &#x27;100&#x27;]);\n        chai_1.expect(response).to.eql([]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9805e86d-be5d-4071-a874-f69732ea1fb6&quot;,&quot;parentUUID&quot;:&quot;7b788453-5d5c-47c8-a2bf-a1d7eeed63be&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report an error when start or stop index are invalid&quot;,&quot;fullTitle&quot;:&quot;lrange-command test should report an error when start or stop index are invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;no-key&#x27;, &#x27;negative one&#x27;, &#x27;-2&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;no-key&#x27;, &#x27;0&#x27;, &#x27;negative two&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;no-key&#x27;, &#x27;-1&#x27;, &#x27;-100&#x27;]);\n        chai_1.expect(response).to.eql([]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a608d2ef-1676-4d9b-9526-d0d6b8fcc159&quot;,&quot;parentUUID&quot;:&quot;7b788453-5d5c-47c8-a2bf-a1d7eeed63be&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return predictable results&quot;,&quot;fullTitle&quot;:&quot;lrange-command test should return predictable results&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;newlist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;newlist&#x27;, &#x27;world&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;newlist&#x27;, &#x27;0&#x27;, &#x27;-1&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;hello&#x27;, &#x27;world&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;94a8be81-7093-4ece-9f95-1709b5f18f08&quot;,&quot;parentUUID&quot;:&quot;7b788453-5d5c-47c8-a2bf-a1d7eeed63be&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reproduce the results from the redis documentation&quot;,&quot;fullTitle&quot;:&quot;lrange-command test should reproduce the results from the redis documentation&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;doclist&#x27;, &#x27;one&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;doclist&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;doclist&#x27;, &#x27;three&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;doclist&#x27;, &#x27;0&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;one&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;doclist&#x27;, &#x27;-3&#x27;, &#x27;2&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;doclist&#x27;, &#x27;-100&#x27;, &#x27;100&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;doclist&#x27;, &#x27;5&#x27;, &#x27;10&#x27;]);\n        chai_1.expect(response).to.eql([]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f69ff7d-622d-496c-8392-5cf22d7bb215&quot;,&quot;parentUUID&quot;:&quot;7b788453-5d5c-47c8-a2bf-a1d7eeed63be&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9805e86d-be5d-4071-a874-f69732ea1fb6&quot;,&quot;a608d2ef-1676-4d9b-9526-d0d6b8fcc159&quot;,&quot;94a8be81-7093-4ece-9f95-1709b5f18f08&quot;,&quot;6f69ff7d-622d-496c-8392-5cf22d7bb215&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b62041d4-7624-4a4c-add6-22934c8552df&quot;,&quot;title&quot;:&quot;lrem-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/lrem-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/lrem-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lrem-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;990f898e-92a1-4f53-8bfb-fbdcfaf65f8d&quot;,&quot;parentUUID&quot;:&quot;b62041d4-7624-4a4c-add6-22934c8552df&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lrem-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;82236442-d033-494d-abef-982b517a9385&quot;,&quot;parentUUID&quot;:&quot;b62041d4-7624-4a4c-add6-22934c8552df&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lrem-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;853ab6fd-2250-403c-a341-336a668cdca4&quot;,&quot;parentUUID&quot;:&quot;b62041d4-7624-4a4c-add6-22934c8552df&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lrem-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;159e03ca-c4e0-478a-8406-ecca49e06a64&quot;,&quot;parentUUID&quot;:&quot;b62041d4-7624-4a4c-add6-22934c8552df&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should NOT report 0 when lrem called with invalid non-existent key&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should NOT report 0 when lrem called with invalid non-existent key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lrem&#x27;, &#x27;no-key&#x27;, &#x27;negative one thousand&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;edab74f7-de65-4e2b-a800-545f415f88fb&quot;,&quot;parentUUID&quot;:&quot;b62041d4-7624-4a4c-add6-22934c8552df&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report ERR when lrem called against existing key with invalid count argument&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should report ERR when lrem called against existing key with invalid count argument&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lpush&#x27;, &#x27;lrem&#x27;, &#x27;akey&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrem&#x27;, &#x27;lrem&#x27;, &#x27;negative one thousand&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;acbdaf5d-6cd7-4d25-b89e-037079e76a94&quot;,&quot;parentUUID&quot;:&quot;b62041d4-7624-4a4c-add6-22934c8552df&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report 0 when lrem called with valid arguments and non-existing element&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should report 0 when lrem called with valid arguments and non-existing element&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lrem&#x27;, &#x27;lrem&#x27;, &#x27;0&#x27;, &#x27;does not exist&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6a783b2b-f667-4b38-883a-7a93b71bc963&quot;,&quot;parentUUID&quot;:&quot;b62041d4-7624-4a4c-add6-22934c8552df&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should use negative index counters&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should use negative index counters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;foo&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrem&#x27;, &#x27;mylist&#x27;, &#x27;-2&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;mylist&#x27;, &#x27;0&#x27;, &#x27;-1&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;hello&#x27;, &#x27;foo&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3fb6e060-86a5-42b0-97e7-301237d4ab9f&quot;,&quot;parentUUID&quot;:&quot;b62041d4-7624-4a4c-add6-22934c8552df&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a ZERO result when the key does not exist&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should return a ZERO result when the key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lrem&#x27;, &#x27;otherlist&#x27;, &#x27;1&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cee5f064-1545-4629-87b9-85b839d847ed&quot;,&quot;parentUUID&quot;:&quot;b62041d4-7624-4a4c-add6-22934c8552df&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove every matchin element when count is 0&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should remove every matchin element when count is 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;flushdb&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;foo&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrem&#x27;, &#x27;mylist&#x27;, &#x27;0&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(3);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;50f3cac5-9f26-4f78-960b-2ed3590272ef&quot;,&quot;parentUUID&quot;:&quot;b62041d4-7624-4a4c-add6-22934c8552df&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove the list when all elements are gone&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should remove the list when all elements are gone&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lrem&#x27;, &#x27;mylist&#x27;, &#x27;0&#x27;, &#x27;foo&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;mylist&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5733141b-27d0-469f-b08f-56bef524b886&quot;,&quot;parentUUID&quot;:&quot;b62041d4-7624-4a4c-add6-22934c8552df&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove only the number of requested elements when count &gt; 0&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should remove only the number of requested elements when count &gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;calibrate&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrem&#x27;, &#x27;mylist&#x27;, &#x27;1&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;mylist&#x27;, &#x27;0&#x27;, &#x27;2&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;hello&#x27;, &#x27;calibrate&#x27;, &#x27;hello&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e1cf422e-216a-487a-9d88-7fd38c5d46e8&quot;,&quot;parentUUID&quot;:&quot;b62041d4-7624-4a4c-add6-22934c8552df&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should default to startIndex ZERO when it is less than ZERO&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should default to startIndex ZERO when it is less than ZERO&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        for (let i = 0; i &lt; 10; i++) {\n            response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;newlist&#x27;, `${i}`]);\n            chai_1.expect(response).to.equal(i + 1);\n        }\n        response = yield common_test_1.sendCommand(client, [&#x27;ltrim&#x27;, &#x27;newlist&#x27;, &#x27;-100&#x27;, &#x27;2&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, &#x27;newlist&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;newlist&#x27;, &#x27;0&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;0&#x27;, &#x27;1&#x27;, &#x27;2&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;03b81f9d-db22-45fe-b0bc-b16237b30c97&quot;,&quot;parentUUID&quot;:&quot;b62041d4-7624-4a4c-add6-22934c8552df&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove the list when start &gt; end or start &gt; llen&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should remove the list when start &gt; end or start &gt; llen&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;newlist&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;ltrim&#x27;, &#x27;newlist&#x27;, &#x27;10&#x27;, &#x27;2&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;newlist&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b737b939-a0fc-43c6-91bf-7f0630dcff1b&quot;,&quot;parentUUID&quot;:&quot;b62041d4-7624-4a4c-add6-22934c8552df&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should properly handle a negative endIndex&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should properly handle a negative endIndex&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        for (let i = 0; i &lt; 7; i++) {\n            response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;neglist&#x27;, `${i}`]);\n            chai_1.expect(response).to.equal(i + 1);\n        }\n        response = yield common_test_1.sendCommand(client, [&#x27;ltrim&#x27;, &#x27;neglist&#x27;, &#x27;-100&#x27;, &#x27;-3&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;neglist&#x27;, &#x27;0&#x27;, &#x27;100&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;0&#x27;, &#x27;1&#x27;, &#x27;2&#x27;, &#x27;3&#x27;, &#x27;4&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8cb288c3-1148-45ef-863c-57f9b05777e9&quot;,&quot;parentUUID&quot;:&quot;b62041d4-7624-4a4c-add6-22934c8552df&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove the key when abs(endIndex) is &gt; llen&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should remove the key when abs(endIndex) is &gt; llen&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;ltrim&#x27;, &#x27;neglist&#x27;, &#x27;-100&#x27;, &#x27;-6&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;neglist&#x27;]);\n        chai_1.expect(response).to.eql(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf17588c-e047-46a7-aaa6-952c5d477e3c&quot;,&quot;parentUUID&quot;:&quot;b62041d4-7624-4a4c-add6-22934c8552df&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;edab74f7-de65-4e2b-a800-545f415f88fb&quot;,&quot;acbdaf5d-6cd7-4d25-b89e-037079e76a94&quot;,&quot;6a783b2b-f667-4b38-883a-7a93b71bc963&quot;,&quot;3fb6e060-86a5-42b0-97e7-301237d4ab9f&quot;,&quot;cee5f064-1545-4629-87b9-85b839d847ed&quot;,&quot;50f3cac5-9f26-4f78-960b-2ed3590272ef&quot;,&quot;5733141b-27d0-469f-b08f-56bef524b886&quot;,&quot;e1cf422e-216a-487a-9d88-7fd38c5d46e8&quot;,&quot;03b81f9d-db22-45fe-b0bc-b16237b30c97&quot;,&quot;b737b939-a0fc-43c6-91bf-7f0630dcff1b&quot;,&quot;8cb288c3-1148-45ef-863c-57f9b05777e9&quot;,&quot;cf17588c-e047-46a7-aaa6-952c5d477e3c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:46,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;bdad74a8-8008-4c05-a657-3f1df76da578&quot;,&quot;title&quot;:&quot;lset-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/lset-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/lset-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lset-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:29,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;65ae7458-d353-4b3c-95cc-bd069db3799a&quot;,&quot;parentUUID&quot;:&quot;bdad74a8-8008-4c05-a657-3f1df76da578&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lset-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e7c5f45-437a-4cb1-af89-cab64a6ca5c1&quot;,&quot;parentUUID&quot;:&quot;bdad74a8-8008-4c05-a657-3f1df76da578&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lset-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e47b770f-cc2f-4330-9b7c-0c09a8b8ad72&quot;,&quot;parentUUID&quot;:&quot;bdad74a8-8008-4c05-a657-3f1df76da578&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lset-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf82f548-e071-45a7-937d-64ffe8be717f&quot;,&quot;parentUUID&quot;:&quot;bdad74a8-8008-4c05-a657-3f1df76da578&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail when a key does not exist&quot;,&quot;fullTitle&quot;:&quot;lset-command test should fail when a key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lset&#x27;, &#x27;no-key&#x27;, &#x27;negative one thousand&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR no such key&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7e097461-ac1e-4caf-9ca8-cff1f673001e&quot;,&quot;parentUUID&quot;:&quot;bdad74a8-8008-4c05-a657-3f1df76da578&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should replace a valid index&quot;,&quot;fullTitle&quot;:&quot;lset-command test should replace a valid index&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, testkey, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;lset&#x27;, testkey, &#x27;-1&#x27;, &#x27;z&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, testkey, &#x27;0&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;z&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1ceff17-65af-49e3-895c-d9dc04adb8b9&quot;,&quot;parentUUID&quot;:&quot;bdad74a8-8008-4c05-a657-3f1df76da578&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should recognize invalid indexes&quot;,&quot;fullTitle&quot;:&quot;lset-command test should recognize invalid indexes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lset&#x27;, testkey, &#x27;invalid&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8916977f-ed96-49fc-8916-5117e889fee7&quot;,&quot;parentUUID&quot;:&quot;bdad74a8-8008-4c05-a657-3f1df76da578&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7e097461-ac1e-4caf-9ca8-cff1f673001e&quot;,&quot;d1ceff17-65af-49e3-895c-d9dc04adb8b9&quot;,&quot;8916977f-ed96-49fc-8916-5117e889fee7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;f3b37c3f-9658-4add-8e93-ea1dc9a4c3f6&quot;,&quot;title&quot;:&quot;ltrim-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/ltrim-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/ltrim-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ltrim-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;34928dc0-74c0-4a43-ab3e-27d0045eb7f3&quot;,&quot;parentUUID&quot;:&quot;f3b37c3f-9658-4add-8e93-ea1dc9a4c3f6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ltrim-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1e76f667-45eb-43a9-bf74-69913172382b&quot;,&quot;parentUUID&quot;:&quot;f3b37c3f-9658-4add-8e93-ea1dc9a4c3f6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ltrim-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;67abf6be-1700-4a5c-b76e-2259ffc212ab&quot;,&quot;parentUUID&quot;:&quot;f3b37c3f-9658-4add-8e93-ea1dc9a4c3f6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ltrim-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c8db39bc-5e4a-4ad0-9471-650e9ac8caf9&quot;,&quot;parentUUID&quot;:&quot;f3b37c3f-9658-4add-8e93-ea1dc9a4c3f6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report OK when the key does not exist&quot;,&quot;fullTitle&quot;:&quot;ltrim-command test should report OK when the key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;ltrim&#x27;, &#x27;no-key&#x27;, &#x27;0&#x27;, &#x27;100&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ade8c25-c98a-4074-8a33-05e625064c30&quot;,&quot;parentUUID&quot;:&quot;f3b37c3f-9658-4add-8e93-ea1dc9a4c3f6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should trim a list to the requested size or less&quot;,&quot;fullTitle&quot;:&quot;ltrim-command test should trim a list to the requested size or less&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:45,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;calibrate&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;mylist&#x27;, &#x27;0&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;hello&#x27;, &#x27;hello&#x27;, &#x27;calibrate&#x27;, &#x27;hello&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, &#x27;mylist&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;ltrim&#x27;, &#x27;mylist&#x27;, &#x27;0&#x27;, &#x27;100&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, &#x27;mylist&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;mylist&#x27;, &#x27;0&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;hello&#x27;, &#x27;hello&#x27;, &#x27;calibrate&#x27;, &#x27;hello&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;ltrim&#x27;, &#x27;mylist&#x27;, &#x27;1&#x27;, &#x27;4&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;mylist&#x27;, &#x27;0&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;hello&#x27;, &#x27;calibrate&#x27;, &#x27;hello&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, &#x27;mylist&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;ltrim&#x27;, &#x27;mylist&#x27;, &#x27;-2&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, &#x27;mylist&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;mylist&#x27;, &#x27;0&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;calibrate&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;76a06843-0d4f-4930-8b3d-ae12a57c7e5b&quot;,&quot;parentUUID&quot;:&quot;f3b37c3f-9658-4add-8e93-ea1dc9a4c3f6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reject an invalid start index&quot;,&quot;fullTitle&quot;:&quot;ltrim-command test should reject an invalid start index&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;ltrim&#x27;, &#x27;testlist&#x27;, &#x27;wrong&#x27;, &#x27;10&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d46671b-de9d-4007-9428-327a48bc31aa&quot;,&quot;parentUUID&quot;:&quot;f3b37c3f-9658-4add-8e93-ea1dc9a4c3f6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0ade8c25-c98a-4074-8a33-05e625064c30&quot;,&quot;76a06843-0d4f-4930-8b3d-ae12a57c7e5b&quot;,&quot;0d46671b-de9d-4007-9428-327a48bc31aa&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:47,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;a10dbb8d-0c41-4282-8a2f-db4979d10a02&quot;,&quot;title&quot;:&quot;rpop-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/rpop-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/rpop-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpop-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;648e1ab3-8554-4626-9db4-16701925d4ad&quot;,&quot;parentUUID&quot;:&quot;a10dbb8d-0c41-4282-8a2f-db4979d10a02&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpop-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0e15db3a-78c1-4ea1-985e-c057e9b759cd&quot;,&quot;parentUUID&quot;:&quot;a10dbb8d-0c41-4282-8a2f-db4979d10a02&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpop-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6bcb6b13-fbf0-479f-9382-c196b4758351&quot;,&quot;parentUUID&quot;:&quot;a10dbb8d-0c41-4282-8a2f-db4979d10a02&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpop-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e3db0d56-54f0-475a-a197-019e394e19a1&quot;,&quot;parentUUID&quot;:&quot;a10dbb8d-0c41-4282-8a2f-db4979d10a02&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report NIL when rpop called on non-existent key&quot;,&quot;fullTitle&quot;:&quot;rpop-command test should report NIL when rpop called on non-existent key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;rpop&#x27;, &#x27;no-key&#x27;]);\n        chai_1.expect(response).to.equal(null);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;no-key&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c116737f-f32d-4d65-a043-e78385290e07&quot;,&quot;parentUUID&quot;:&quot;a10dbb8d-0c41-4282-8a2f-db4979d10a02&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c116737f-f32d-4d65-a043-e78385290e07&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;e9b8ca6d-248a-43c9-a414-6dd32a3f138b&quot;,&quot;title&quot;:&quot;rpoplpush-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/rpoplpush-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/rpoplpush-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpoplpush-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:112,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;75df7826-5802-4450-a140-ccf2d6ca76df&quot;,&quot;parentUUID&quot;:&quot;e9b8ca6d-248a-43c9-a414-6dd32a3f138b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpoplpush-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3c51fe78-d2b7-409a-a094-74bff6d16498&quot;,&quot;parentUUID&quot;:&quot;e9b8ca6d-248a-43c9-a414-6dd32a3f138b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpoplpush-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3832aa49-3730-420a-b264-d452d5e5f2c2&quot;,&quot;parentUUID&quot;:&quot;e9b8ca6d-248a-43c9-a414-6dd32a3f138b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpoplpush-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;34021359-3197-4466-b370-bb0ee65399b2&quot;,&quot;parentUUID&quot;:&quot;e9b8ca6d-248a-43c9-a414-6dd32a3f138b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return NIL when destination does not exist&quot;,&quot;fullTitle&quot;:&quot;rpoplpush-command test should return NIL when destination does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;rpoplpush&#x27;, &#x27;src&#x27;, &#x27;dst&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bbbc1e52-7d16-46d6-bab1-7714ee025aae&quot;,&quot;parentUUID&quot;:&quot;e9b8ca6d-248a-43c9-a414-6dd32a3f138b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should rotate a list when src and dst are the same&quot;,&quot;fullTitle&quot;:&quot;rpoplpush-command test should rotate a list when src and dst are the same&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;src&#x27;, &#x27;a&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;src&#x27;, &#x27;b&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;src&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;src&#x27;, &#x27;0&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpoplpush&#x27;, &#x27;src&#x27;, &#x27;src&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;c&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;src&#x27;, &#x27;0&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;c&#x27;, &#x27;a&#x27;, &#x27;b&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6caa9c54-2d87-483a-97d9-d353ea9d158a&quot;,&quot;parentUUID&quot;:&quot;e9b8ca6d-248a-43c9-a414-6dd32a3f138b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create the target list if it does not exist&quot;,&quot;fullTitle&quot;:&quot;rpoplpush-command test should create the target list if it does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;dst&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpoplpush&#x27;, &#x27;src&#x27;, &#x27;dst&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;b&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;dst&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;src&#x27;, &#x27;0&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;c&#x27;, &#x27;a&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;dst&#x27;, &#x27;0&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;b&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;190cc826-5bed-44e8-a96f-56b3c826035d&quot;,&quot;parentUUID&quot;:&quot;e9b8ca6d-248a-43c9-a414-6dd32a3f138b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bbbc1e52-7d16-46d6-bab1-7714ee025aae&quot;,&quot;6caa9c54-2d87-483a-97d9-d353ea9d158a&quot;,&quot;190cc826-5bed-44e8-a96f-56b3c826035d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:14,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;bd253386-27ae-4f78-ac08-385f6857f6b7&quot;,&quot;title&quot;:&quot;rpush-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/rpush-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/rpush-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpush-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:27,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;81f61f77-470a-44f0-9717-f44f0d8f93e0&quot;,&quot;parentUUID&quot;:&quot;bd253386-27ae-4f78-ac08-385f6857f6b7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpush-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e4be7f3b-343b-48e8-950c-7851a73e6c47&quot;,&quot;parentUUID&quot;:&quot;bd253386-27ae-4f78-ac08-385f6857f6b7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpush-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;09370152-3624-4afc-9f3d-ac633af86a7b&quot;,&quot;parentUUID&quot;:&quot;bd253386-27ae-4f78-ac08-385f6857f6b7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpush-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7ae564e1-688c-4f43-ae72-0312fa6cf798&quot;,&quot;parentUUID&quot;:&quot;bd253386-27ae-4f78-ac08-385f6857f6b7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report ERR when attempting to rpush to a non-list key&quot;,&quot;fullTitle&quot;:&quot;rpush-command test should report ERR when attempting to rpush to a non-list key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;lkey&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;lkey&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bbece2eb-d63a-4eb4-aa2c-75d7d9604d13&quot;,&quot;parentUUID&quot;:&quot;bd253386-27ae-4f78-ac08-385f6857f6b7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bbece2eb-d63a-4eb4-aa2c-75d7d9604d13&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;3163b3d8-94d7-4435-ad50-c215660970dc&quot;,&quot;title&quot;:&quot;script-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/script-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/script-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;script-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;flush&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e13cadd4-badf-4102-9532-1ee52684ed0f&quot;,&quot;parentUUID&quot;:&quot;3163b3d8-94d7-4435-ad50-c215660970dc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;script-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4030978e-f859-480c-be87-89d04cb04f00&quot;,&quot;parentUUID&quot;:&quot;3163b3d8-94d7-4435-ad50-c215660970dc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;script-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;042f7af0-a192-45cb-a67d-c17ae76fb045&quot;,&quot;parentUUID&quot;:&quot;3163b3d8-94d7-4435-ad50-c215660970dc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;script-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6a6b9dfa-ab28-4b6b-81b5-17e4036e5d51&quot;,&quot;parentUUID&quot;:&quot;3163b3d8-94d7-4435-ad50-c215660970dc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should calcuclate the correct sha1 of a script and store the script&quot;,&quot;fullTitle&quot;:&quot;script-command test should calcuclate the correct sha1 of a script and store the script&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:29,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;exists&#x27;, sha1]);\n        chai_1.expect(response).to.eql([0]);\n        // validate failure on unparseable script\n        response = yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;load&#x27;, code]);\n        chai_1.expect(response).to.match(/ReplyError: ERR .*/);\n        // validate success on parseable script\n        response = yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;load&#x27;, `${code}}`]);\n        chai_1.expect(response).to.equal(sha1);\n        // validate a script is persisted\n        response = yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;exists&#x27;, sha1]);\n        chai_1.expect(response).to.eql([1]);\n        // validate response to unknown sub command\n        response = yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;test&#x27;, sha1]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR Unknown subcommand or wrong number of arguments for \\&#x27;test\\&#x27;. Try SCRIPT HELP.&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f2121691-2c52-464e-9545-c60b335e2ead&quot;,&quot;parentUUID&quot;:&quot;3163b3d8-94d7-4435-ad50-c215660970dc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should evaluate a loaded lua script using evalsha&quot;,&quot;fullTitle&quot;:&quot;script-command test should evaluate a loaded lua script using evalsha&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // Validate that NOSCRIPT is triggered\n        response = yield common_test_1.sendCommand(client, [&#x27;evalsha&#x27;, `${sha1}xx`, &#x27;2&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;first&#x27;, &#x27;second&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: NOSCRIPT No matching script. Please use EVAL.&#x27;);\n        // Validate that param 1 cannot be negative\n        response = yield common_test_1.sendCommand(client, [&#x27;evalsha&#x27;, sha1, &#x27;-2&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;first&#x27;, &#x27;second&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR Number of keys can\\&#x27;t be negative&#x27;);\n        // Validate that param 1 cannot be text\n        response = yield common_test_1.sendCommand(client, [&#x27;evalsha&#x27;, sha1, &#x27;two&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;first&#x27;, &#x27;second&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;30d00c02-d6ac-406a-8809-9cd7ed130ae4&quot;,&quot;parentUUID&quot;:&quot;3163b3d8-94d7-4435-ad50-c215660970dc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should execute a simple script&quot;,&quot;fullTitle&quot;:&quot;script-command test should execute a simple script&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // Validate that a simple script can be processed\n        response = yield common_test_1.sendCommand(client, [&#x27;EVAL&#x27;, &#x27;local val=\&quot;Hello Compose\&quot; return val&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;Hello Compose&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6fd3be74-b0a5-4a23-9d96-588a27500cd1&quot;,&quot;parentUUID&quot;:&quot;3163b3d8-94d7-4435-ad50-c215660970dc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create and process the ARGV table&quot;,&quot;fullTitle&quot;:&quot;script-command test should create and process the ARGV table&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;eval&#x27;, &#x27;return ARGV[2]&#x27;, &#x27;2&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;first&#x27;, &#x27;second&#x27;]);\n        chai_1.expect(response).to.eql(&#x27;second&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4c4d771-384a-40ee-8466-71542054257f&quot;,&quot;parentUUID&quot;:&quot;3163b3d8-94d7-4435-ad50-c215660970dc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create and process the KEYS table&quot;,&quot;fullTitle&quot;:&quot;script-command test should create and process the KEYS table&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;eval&#x27;, &#x27;return KEYS[1]&#x27;, &#x27;2&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;first&#x27;, &#x27;second&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;key1&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2889a5f6-f47a-4952-a47d-a22c1aae45a2&quot;,&quot;parentUUID&quot;:&quot;3163b3d8-94d7-4435-ad50-c215660970dc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a NUMBER when required&quot;,&quot;fullTitle&quot;:&quot;script-command test should return a NUMBER when required&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;eval&#x27;, &#x27;return 123&#x27;, &#x27;2&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;first&#x27;, &#x27;second&#x27;]);\n        chai_1.expect(response).to.equal(123);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e68bf7c7-c291-4266-aa5b-82ba78d8d9fc&quot;,&quot;parentUUID&quot;:&quot;3163b3d8-94d7-4435-ad50-c215660970dc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return NIL when there is no return value&quot;,&quot;fullTitle&quot;:&quot;script-command test should return NIL when there is no return value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;eval&#x27;, &#x27;print \&quot;Hello World\&quot;&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ca1c09c-b8f7-4dc2-bd2a-55e26215cd09&quot;,&quot;parentUUID&quot;:&quot;3163b3d8-94d7-4435-ad50-c215660970dc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a TABLE when required&quot;,&quot;fullTitle&quot;:&quot;script-command test should return a TABLE when required&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [`eval`, `return ARGV`, &#x27;2&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;first&#x27;, &#x27;second&#x27;, &#x27;third&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;first&#x27;, &#x27;second&#x27;, &#x27;third&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;35756d2f-abdb-489c-b0f7-2f11534a5730&quot;,&quot;parentUUID&quot;:&quot;3163b3d8-94d7-4435-ad50-c215660970dc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return items in order&quot;,&quot;fullTitle&quot;:&quot;script-command test should return items in order&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;eval&#x27;, &#x27;return {true, \&quot;test\&quot;, false, 10, 10.2}&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.eql([1, &#x27;test&#x27;, null, 10, 10]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3d95ac7c-d984-4147-9f61-a65c147fc2b5&quot;,&quot;parentUUID&quot;:&quot;3163b3d8-94d7-4435-ad50-c215660970dc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return integer and nil for true and false, respectively&quot;,&quot;fullTitle&quot;:&quot;script-command test should return integer and nil for true and false, respectively&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;eval&#x27;, &#x27;return { true, false, false}&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.eql([1, null, null]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7718bf67-e24a-4df1-a5c4-cbd89b29ecfb&quot;,&quot;parentUUID&quot;:&quot;3163b3d8-94d7-4435-ad50-c215660970dc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f2121691-2c52-464e-9545-c60b335e2ead&quot;,&quot;30d00c02-d6ac-406a-8809-9cd7ed130ae4&quot;,&quot;6fd3be74-b0a5-4a23-9d96-588a27500cd1&quot;,&quot;c4c4d771-384a-40ee-8466-71542054257f&quot;,&quot;2889a5f6-f47a-4952-a47d-a22c1aae45a2&quot;,&quot;e68bf7c7-c291-4266-aa5b-82ba78d8d9fc&quot;,&quot;0ca1c09c-b8f7-4dc2-bd2a-55e26215cd09&quot;,&quot;35756d2f-abdb-489c-b0f7-2f11534a5730&quot;,&quot;3d95ac7c-d984-4147-9f61-a65c147fc2b5&quot;,&quot;7718bf67-e24a-4df1-a5c4-cbd89b29ecfb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:113,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b059c27c-0cb7-4fee-ac1e-711013caeb0b&quot;,&quot;title&quot;:&quot;resp-server test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/server/resp-server.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/server/resp-server.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;resp-server test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec47bd7f-be82-419a-82de-6514f5e42011&quot;,&quot;parentUUID&quot;:&quot;b059c27c-0cb7-4fee-ac1e-711013caeb0b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;resp-server test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b8c865e7-e7e6-4852-a93d-3ea14e0e9663&quot;,&quot;parentUUID&quot;:&quot;b059c27c-0cb7-4fee-ac1e-711013caeb0b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;98f3d818-32c0-448c-8d19-ecf9ad9229e5&quot;,&quot;title&quot;:&quot;server start and stop tests&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/server/resp-server.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/server/resp-server.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should instantiate&quot;,&quot;fullTitle&quot;:&quot;resp-server test server start and stop tests should instantiate&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            respServer = new resp_server_1.RespServer();\n            chai_1.expect(respServer.constructor.name).to.equal(&#x27;RespServer&#x27;);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;630a16d0-8b7b-47ca-abe6-acf13d7e15c0&quot;,&quot;parentUUID&quot;:&quot;98f3d818-32c0-448c-8d19-ecf9ad9229e5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should emit \&quot;ready\&quot; on startup&quot;,&quot;fullTitle&quot;:&quot;resp-server test server start and stop tests should emit \&quot;ready\&quot; on startup&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;774470bf-ed9d-43d2-9088-8b06876f6eb2&quot;,&quot;parentUUID&quot;:&quot;98f3d818-32c0-448c-8d19-ecf9ad9229e5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should emit \&quot;closed\&quot; on shutdown&quot;,&quot;fullTitle&quot;:&quot;resp-server test server start and stop tests should emit \&quot;closed\&quot; on shutdown&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer.on(&#x27;closed&#x27;, () =&gt; {\n    done();\n});\nrespServer.stop();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;768a247f-2507-44b9-a7e6-af9b95e73cba&quot;,&quot;parentUUID&quot;:&quot;98f3d818-32c0-448c-8d19-ecf9ad9229e5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should accept connections on default ${env.REDIS_HOST}:${env.REDIS_PORT}&quot;,&quot;fullTitle&quot;:&quot;resp-server test server start and stop tests should accept connections on default ${env.REDIS_HOST}:${env.REDIS_PORT}&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    const client = new net.Socket();\n    client.on(&#x27;ready&#x27;, (data) =&gt; {\n        respServer.on(&#x27;closed&#x27;, () =&gt; {\n            done();\n        });\n        respServer.stop();\n    });\n    client.on(&#x27;connect&#x27;, (data) =&gt; {\n    });\n    client.on(&#x27;error&#x27;, (err) =&gt; {\n        assert_1.fail(`Unexpected error during connection`, err.stack);\n    });\n    client.connect(Number(process.env.REDIS_PORT || 6379), process.env.REDIS_HOST || &#x27;localhost&#x27;, () =&gt; {\n    });\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;61a1d44f-e7ab-4399-8723-b874e6870c70&quot;,&quot;parentUUID&quot;:&quot;98f3d818-32c0-448c-8d19-ecf9ad9229e5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;630a16d0-8b7b-47ca-abe6-acf13d7e15c0&quot;,&quot;774470bf-ed9d-43d2-9088-8b06876f6eb2&quot;,&quot;768a247f-2507-44b9-a7e6-af9b95e73cba&quot;,&quot;61a1d44f-e7ab-4399-8723-b874e6870c70&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;5ffaae6e-f28e-4273-8f0f-7ca94a017262&quot;,&quot;title&quot;:&quot;other server tests&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/server/resp-server.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/server/resp-server.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    client = new net.Socket();\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;793aed7b-5035-4ea5-9d64-26eeebe439f2&quot;,&quot;parentUUID&quot;:&quot;5ffaae6e-f28e-4273-8f0f-7ca94a017262&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            yield respServer.stop();\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b97c844b-4f5a-4c3e-bdd3-efe1f2c5c8c1&quot;,&quot;parentUUID&quot;:&quot;5ffaae6e-f28e-4273-8f0f-7ca94a017262&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should respond properly to the \&quot;ping\&quot; command&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should respond properly to the \&quot;ping\&quot; command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;ping&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;PONG&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;447653bc-af32-4ec5-aa47-f906747b6298&quot;,&quot;parentUUID&quot;:&quot;5ffaae6e-f28e-4273-8f0f-7ca94a017262&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond properly to the \&quot;echo\&quot; command&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should respond properly to the \&quot;echo\&quot; command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;echo&#x27;, &#x27;test&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;test&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c89ff41e-b223-4a96-b10e-d619c2af6088&quot;,&quot;parentUUID&quot;:&quot;5ffaae6e-f28e-4273-8f0f-7ca94a017262&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with \&quot;ERR\&quot; when echo command has no parameters&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should respond with \&quot;ERR\&quot; when echo command has no parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            // Note that &#x27;ReplyError:&#x27; is supplied by the redis parser, NOT by the code under test\n            const response = yield common_test_1.sendCommand(client, [&#x27;echo&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;echo\\&#x27; command&#x27;);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;78909c80-3479-4211-8b5b-2630f1ba74d3&quot;,&quot;parentUUID&quot;:&quot;5ffaae6e-f28e-4273-8f0f-7ca94a017262&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with \&quot;ERR\&quot; when echo command has two or more parameters&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should respond with \&quot;ERR\&quot; when echo command has two or more parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;echo&#x27;, &#x27;one&#x27;, &#x27;two&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;echo\\&#x27; command&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3e55882e-9b4a-419f-857f-8094856816f9&quot;,&quot;parentUUID&quot;:&quot;5ffaae6e-f28e-4273-8f0f-7ca94a017262&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond to the \&quot;time\&quot; command with an array of two strings&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should respond to the \&quot;time\&quot; command with an array of two strings&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Note: we use hrtime which should already do what we need so we don&#x27;t validate\ncommon_test_1.sendCommand(client, [&#x27;time&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.be.an(&#x27;array&#x27;);\n    chai_1.expect(response.length).to.equal(2);\n    chai_1.expect(parseInt(response[0], 10)).to.be.greaterThan(0);\n    chai_1.expect(parseInt(response[1], 10)).to.be.greaterThan(0);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8ff49360-901e-47bf-992b-adca041b54d3&quot;,&quot;parentUUID&quot;:&quot;5ffaae6e-f28e-4273-8f0f-7ca94a017262&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with nulCommand when the command is not known&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should respond with nulCommand when the command is not known&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;felix&#x27;, &#x27;the&#x27;, &#x27;cat&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.match(/^ReplyError: ERR unknown command.*/);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0cb71675-4ca7-43b6-bebb-de23802eb9b7&quot;,&quot;parentUUID&quot;:&quot;5ffaae6e-f28e-4273-8f0f-7ca94a017262&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should implement the info command&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should implement the info command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            const response = yield common_test_1.sendCommand(client, [&#x27;info&#x27;]);\n            chai_1.expect(response).to.match(/^# server\\r\\nredis_version:.*/im);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9f5633e3-e48b-4d3a-9e03-7fedd1dbfba9&quot;,&quot;parentUUID&quot;:&quot;5ffaae6e-f28e-4273-8f0f-7ca94a017262&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should implement the SET command&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should implement the SET command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;SET&#x27;, &#x27;this&#x27;, &#x27;that&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n    common_test_1.sendCommand(client, [&#x27;GET&#x27;, &#x27;this&#x27;])\n        .then((getresponse) =&gt; {\n        chai_1.expect(getresponse).to.equal(&#x27;that&#x27;);\n        done();\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;90c0e215-f105-4511-bbee-6c2bd1dd4c40&quot;,&quot;parentUUID&quot;:&quot;5ffaae6e-f28e-4273-8f0f-7ca94a017262&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return nil string when GET is invoked with unknown parameters&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should return nil string when GET is invoked with unknown parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;GET&#x27;, &#x27; &#x27;])\n    .then((getresponse) =&gt; {\n    chai_1.expect(getresponse).to.equal(null);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c590da4-9661-477d-bdab-00854696ca90&quot;,&quot;parentUUID&quot;:&quot;5ffaae6e-f28e-4273-8f0f-7ca94a017262&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should implement the info command with a known parameter&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should implement the info command with a known parameter&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;info&#x27;, &#x27;memory&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.match(/^# memory.*/mi);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;31719260-9203-45f6-a4c6-a902eb256a9f&quot;,&quot;parentUUID&quot;:&quot;5ffaae6e-f28e-4273-8f0f-7ca94a017262&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not respond when info is called with an unknown paramter&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should not respond when info is called with an unknown paramter&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            const response = yield common_test_1.sendCommand(client, [&#x27;info&#x27;, &#x27;juicy&#x27;]);\n            // Don&#x27;t know how to send an empty - non-null string response yet\n            chai_1.expect(String(response).trim()).to.equal(&#x27;&#x27;);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;566fac6f-3b83-4154-9039-8b0f578c411f&quot;,&quot;parentUUID&quot;:&quot;5ffaae6e-f28e-4273-8f0f-7ca94a017262&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report the number of keys in the current database&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should report the number of keys in the current database&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            const response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n            chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n            chai_1.expect(response).to.be.greaterThan(0);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c18dbcd6-a392-4ad8-9ff1-6be602f290d4&quot;,&quot;parentUUID&quot;:&quot;5ffaae6e-f28e-4273-8f0f-7ca94a017262&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support the \&quot;select\&quot; command&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should support the \&quot;select\&quot; command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            let response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;12&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n            chai_1.expect(response).to.equal(0);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;72bef23d-0bcc-4a2c-a520-3e29007ed07f&quot;,&quot;parentUUID&quot;:&quot;5ffaae6e-f28e-4273-8f0f-7ca94a017262&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not allow us to select an invalid database&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should not allow us to select an invalid database&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            let response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;one&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;ReplyError: ERR invalid DB index&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;-12&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;ReplyError: ERR DB index is out of range&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;22&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;ReplyError: ERR DB index is out of range&#x27;);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;89d83863-9afa-48b4-bf9e-348d382fd84e&quot;,&quot;parentUUID&quot;:&quot;5ffaae6e-f28e-4273-8f0f-7ca94a017262&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond properly to the \&quot;quit\&quot; command&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should respond properly to the \&quot;quit\&quot; command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Note however that the server does not disconnect us.  That is the client&#x27;s job\ncommon_test_1.sendCommand(client, [&#x27;quit&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dd6df188-69ef-4b33-87d2-c7de96672332&quot;,&quot;parentUUID&quot;:&quot;5ffaae6e-f28e-4273-8f0f-7ca94a017262&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;447653bc-af32-4ec5-aa47-f906747b6298&quot;,&quot;c89ff41e-b223-4a96-b10e-d619c2af6088&quot;,&quot;78909c80-3479-4211-8b5b-2630f1ba74d3&quot;,&quot;3e55882e-9b4a-419f-857f-8094856816f9&quot;,&quot;8ff49360-901e-47bf-992b-adca041b54d3&quot;,&quot;0cb71675-4ca7-43b6-bebb-de23802eb9b7&quot;,&quot;9f5633e3-e48b-4d3a-9e03-7fedd1dbfba9&quot;,&quot;90c0e215-f105-4511-bbee-6c2bd1dd4c40&quot;,&quot;6c590da4-9661-477d-bdab-00854696ca90&quot;,&quot;31719260-9203-45f6-a4c6-a902eb256a9f&quot;,&quot;566fac6f-3b83-4154-9039-8b0f578c411f&quot;,&quot;c18dbcd6-a392-4ad8-9ff1-6be602f290d4&quot;,&quot;72bef23d-0bcc-4a2c-a520-3e29007ed07f&quot;,&quot;89d83863-9afa-48b4-bf9e-348d382fd84e&quot;,&quot;dd6df188-69ef-4b33-87d2-c7de96672332&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:18,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;be37a3cf-155d-4af1-a419-186eafbd31f9&quot;,&quot;title&quot;:&quot;sdiff-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/set/sdiff-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/set/sdiff-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sdiff-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;34574a05-ffab-496c-ba03-7af6e4c168aa&quot;,&quot;parentUUID&quot;:&quot;be37a3cf-155d-4af1-a419-186eafbd31f9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sdiff-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b3576a78-3241-4208-a6e5-12c62e1ab359&quot;,&quot;parentUUID&quot;:&quot;be37a3cf-155d-4af1-a419-186eafbd31f9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sdiff-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7a331de7-c407-4a74-b9c8-c9b61616998c&quot;,&quot;parentUUID&quot;:&quot;be37a3cf-155d-4af1-a419-186eafbd31f9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sdiff-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;540df711-b6ff-458e-a2c4-bb15b563f63a&quot;,&quot;parentUUID&quot;:&quot;be37a3cf-155d-4af1-a419-186eafbd31f9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return NIL when the source set does not exist&quot;,&quot;fullTitle&quot;:&quot;sdiff-command test should return NIL when the source set does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sdiff&#x27;, &#x27;ary&#x27;]);\n        chai_1.expect(response).to.eql([null]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bf984668-8f3c-411f-8db0-fb076afa617b&quot;,&quot;parentUUID&quot;:&quot;be37a3cf-155d-4af1-a419-186eafbd31f9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return all members of source set when the destination set does not exist&quot;,&quot;fullTitle&quot;:&quot;sdiff-command test should return all members of source set when the destination set does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key1&#x27;, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;sdiff&#x27;, &#x27;key1&#x27;, &#x27;empty&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;36da0179-bfb2-42bd-ba4c-bd351363660f&quot;,&quot;parentUUID&quot;:&quot;be37a3cf-155d-4af1-a419-186eafbd31f9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a proper DIFF of one or more sets&quot;,&quot;fullTitle&quot;:&quot;sdiff-command test should return a proper DIFF of one or more sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key2&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key3&#x27;, &#x27;a&#x27;, &#x27;c&#x27;, &#x27;e&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;sdiff&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;b&#x27;, &#x27;d&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;32f9df41-3c8a-47e6-a293-56e8c257b210&quot;,&quot;parentUUID&quot;:&quot;be37a3cf-155d-4af1-a419-186eafbd31f9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should ignore non-list keys&quot;,&quot;fullTitle&quot;:&quot;sdiff-command test should ignore non-list keys&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;list&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;2&#x27;, &#x27;three&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;sdiff&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;b&#x27;, &#x27;d&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d9fb1f77-98a6-49d2-8955-7332f3f48694&quot;,&quot;parentUUID&quot;:&quot;be37a3cf-155d-4af1-a419-186eafbd31f9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bf984668-8f3c-411f-8db0-fb076afa617b&quot;,&quot;36da0179-bfb2-42bd-ba4c-bd351363660f&quot;,&quot;32f9df41-3c8a-47e6-a293-56e8c257b210&quot;,&quot;d9fb1f77-98a6-49d2-8955-7332f3f48694&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;eae6793c-1188-4174-b99e-cc7f0cb1e6d4&quot;,&quot;title&quot;:&quot;set commands test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/set/set-commands.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/set/set-commands.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set commands test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;flush&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53a11522-8607-4e4b-abaa-611562720530&quot;,&quot;parentUUID&quot;:&quot;eae6793c-1188-4174-b99e-cc7f0cb1e6d4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set commands test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;87cc3f43-f2bd-4df3-ab4f-2bbd1397c54d&quot;,&quot;parentUUID&quot;:&quot;eae6793c-1188-4174-b99e-cc7f0cb1e6d4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set commands test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b8ccd0d5-8518-44ad-a96c-2df7af74cc0f&quot;,&quot;parentUUID&quot;:&quot;eae6793c-1188-4174-b99e-cc7f0cb1e6d4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set commands test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a51643cc-4343-4c2b-abd1-423a79d4058e&quot;,&quot;parentUUID&quot;:&quot;eae6793c-1188-4174-b99e-cc7f0cb1e6d4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return ZERO when certain commands are applied against key that doesn&#x27;t exist&quot;,&quot;fullTitle&quot;:&quot;set commands test should return ZERO when certain commands are applied against key that doesn&#x27;t exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;scard&#x27;, &#x27;doesnotexist&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, &#x27;doesnotexist&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;983bedfb-20a5-4b45-97e7-20d13baad2c7&quot;,&quot;parentUUID&quot;:&quot;eae6793c-1188-4174-b99e-cc7f0cb1e6d4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw an appropriate error when a \&quot;set\&quot; command is applied to a non-set key&quot;,&quot;fullTitle&quot;:&quot;set commands test should throw an appropriate error when a \&quot;set\&quot; command is applied to a non-set key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;wrongtype&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, &#x27;wrongtype&#x27;, &#x27;set&#x27;]);\n        chai_1.expect(response).to.equal(WRONG_TYPE);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;36bd3a7a-815a-4be1-91fa-a53565dcb14c&quot;,&quot;parentUUID&quot;:&quot;eae6793c-1188-4174-b99e-cc7f0cb1e6d4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create a new key when sadd is called correctly&quot;,&quot;fullTitle&quot;:&quot;set commands test should create a new key when sadd is called correctly&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;skey&#x27;, &#x27;untest&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;skey&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c056815b-75ab-4b5c-82c0-5b2f3feea067&quot;,&quot;parentUUID&quot;:&quot;eae6793c-1188-4174-b99e-cc7f0cb1e6d4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should only report the number of added keys&quot;,&quot;fullTitle&quot;:&quot;set commands test should only report the number of added keys&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;skey&#x27;, &#x27;untest&#x27;, &#x27;test2&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;smembers&#x27;, &#x27;skey&#x27;]);\n        chai_1.expect(response).to.be.an(&#x27;array&#x27;);\n        // Keys are returned in reverse order? - No.\n        // smembers can return a list in any order\n        chai_1.expect(response.length).to.equal(2);\n        chai_1.expect(response.indexOf(&#x27;test2&#x27;)).to.be.greaterThan(-1);\n        chai_1.expect(response.indexOf(&#x27;untest&#x27;)).to.be.greaterThan(-1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd891926-d5f0-4229-81de-66bc45e6d389&quot;,&quot;parentUUID&quot;:&quot;eae6793c-1188-4174-b99e-cc7f0cb1e6d4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e108ba21-c398-4159-bee9-0b2f59958201&quot;,&quot;title&quot;:&quot;smove, sismember, and scard tests&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/set/set-commands.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/set/set-commands.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should do nothing when smove is called with a source key that does not exist&quot;,&quot;fullTitle&quot;:&quot;set commands test smove, sismember, and scard tests should do nothing when smove is called with a source key that does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            let response = yield common_test_1.sendCommand(client, [&#x27;smove&#x27;, &#x27;fromskey&#x27;, &#x27;toskey&#x27;, &#x27;nothing&#x27;]);\n            chai_1.expect(response).to.equal(0);\n            response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;fromskey&#x27;, &#x27;toskey&#x27;]);\n            chai_1.expect(response).to.equal(0);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a416b305-c574-4768-a656-78f9998287dc&quot;,&quot;parentUUID&quot;:&quot;e108ba21-c398-4159-bee9-0b2f59958201&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should move a key from one set to another (and create the target if necessary)&quot;,&quot;fullTitle&quot;:&quot;set commands test smove, sismember, and scard tests should move a key from one set to another (and create the target if necessary)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            let response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;tonewskey&#x27;]);\n            chai_1.expect(response).to.equal(0);\n            response = yield common_test_1.sendCommand(client, [&#x27;smembers&#x27;, &#x27;tonewskey&#x27;]);\n            chai_1.expect(response).to.eql([]);\n            response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, uniqueKey, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;]);\n            chai_1.expect(response).to.equal(3);\n            response = yield common_test_1.sendCommand(client, [&#x27;smembers&#x27;, uniqueKey]);\n            // key order is undefined in redis\n            chai_1.expect(response.length).to.equal(3);\n            chai_1.expect(response.indexOf(&#x27;key3&#x27;)).to.be.greaterThan(-1);\n            chai_1.expect(response.indexOf(&#x27;key2&#x27;)).to.be.greaterThan(-1);\n            chai_1.expect(response.indexOf(&#x27;key1&#x27;)).to.be.greaterThan(-1);\n            response = yield common_test_1.sendCommand(client, [&#x27;smove&#x27;, uniqueKey, &#x27;tonewskey&#x27;, &#x27;key2&#x27;]);\n            chai_1.expect(response).to.equal(1);\n            response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, &#x27;tonewskey&#x27;, &#x27;key2&#x27;]);\n            chai_1.expect(response).to.equal(1);\n            response = yield common_test_1.sendCommand(client, [&#x27;smembers&#x27;, uniqueKey]);\n            // key order, again\n            chai_1.expect(response.length).to.equal(2);\n            chai_1.expect(response.indexOf(&#x27;key3&#x27;)).to.be.greaterThan(-1);\n            chai_1.expect(response.indexOf(&#x27;key1&#x27;)).to.be.greaterThan(-1);\n            response = yield common_test_1.sendCommand(client, [&#x27;smembers&#x27;, &#x27;tonewskey&#x27;]);\n            chai_1.expect(response).to.eql([&#x27;key2&#x27;]);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dc61bb24-1f0d-4a89-bc3c-cbb0a662ef87&quot;,&quot;parentUUID&quot;:&quot;e108ba21-c398-4159-bee9-0b2f59958201&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report cardinality of a set&quot;,&quot;fullTitle&quot;:&quot;set commands test smove, sismember, and scard tests should report cardinality of a set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            let response = yield common_test_1.sendCommand(client, [&#x27;scard&#x27;, uniqueKey]);\n            chai_1.expect(response).to.equal(2);\n            response = yield common_test_1.sendCommand(client, [&#x27;scard&#x27;, &#x27;tonewskey&#x27;]);\n            chai_1.expect(response).to.equal(1);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3a1dea37-bcd6-4884-affd-f18b4aa6f0bc&quot;,&quot;parentUUID&quot;:&quot;e108ba21-c398-4159-bee9-0b2f59958201&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report ismember true/false&quot;,&quot;fullTitle&quot;:&quot;set commands test smove, sismember, and scard tests should report ismember true/false&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            let response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, &#x27;tonewskey&#x27;, &#x27;key2&#x27;]);\n            chai_1.expect(response).to.equal(1);\n            response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, &#x27;tonewskey&#x27;, &#x27;key1&#x27;]);\n            chai_1.expect(response).to.equal(0);\n            response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, uniqueKey, &#x27;key1&#x27;]);\n            chai_1.expect(response).to.equal(1);\n            response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, uniqueKey, &#x27;key3&#x27;]);\n            chai_1.expect(response).to.equal(1);\n            response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, uniqueKey, &#x27;key2&#x27;]);\n            chai_1.expect(response).to.equal(0);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e742c0f3-992e-47ce-8c87-2dad23a5c2ed&quot;,&quot;parentUUID&quot;:&quot;e108ba21-c398-4159-bee9-0b2f59958201&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should only remove the source element if the destination element already exists&quot;,&quot;fullTitle&quot;:&quot;set commands test smove, sismember, and scard tests should only remove the source element if the destination element already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            const newkey = `move-unique-${new Date().getTime()}`;\n            const newToKey = `move-new-to-key`;\n            let response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, newkey, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;]);\n            chai_1.expect(response).to.equal(3);\n            response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, newToKey, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;]);\n            chai_1.expect(response).to.equal(3);\n            response = yield common_test_1.sendCommand(client, [&#x27;smove&#x27;, newkey, newToKey, &#x27;key2&#x27;]);\n            // Inconsistent with redis documentation?\n            chai_1.expect(response).to.equal(1);\n            response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, newkey, &#x27;key2&#x27;]);\n            chai_1.expect(response).to.equal(0);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ab92018d-4224-4819-bb48-e1d94b594c28&quot;,&quot;parentUUID&quot;:&quot;e108ba21-c398-4159-bee9-0b2f59958201&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a416b305-c574-4768-a656-78f9998287dc&quot;,&quot;dc61bb24-1f0d-4a89-bc3c-cbb0a662ef87&quot;,&quot;3a1dea37-bcd6-4884-affd-f18b4aa6f0bc&quot;,&quot;e742c0f3-992e-47ce-8c87-2dad23a5c2ed&quot;,&quot;ab92018d-4224-4819-bb48-e1d94b594c28&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[&quot;983bedfb-20a5-4b45-97e7-20d13baad2c7&quot;,&quot;36bd3a7a-815a-4be1-91fa-a53565dcb14c&quot;,&quot;c056815b-75ab-4b5c-82c0-5b2f3feea067&quot;,&quot;fd891926-d5f0-4229-81de-66bc45e6d389&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;d1392b03-f12b-433a-a01e-17349470127e&quot;,&quot;title&quot;:&quot;sinter-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/set/sinter-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/set/sinter-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sinter-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1be69e78-009e-48ae-a973-6b7bec9f2edc&quot;,&quot;parentUUID&quot;:&quot;d1392b03-f12b-433a-a01e-17349470127e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sinter-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7849c662-86b1-4a40-b10e-59297a13a99f&quot;,&quot;parentUUID&quot;:&quot;d1392b03-f12b-433a-a01e-17349470127e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sinter-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8ae3e7e-7f00-483a-8300-d71ea730a6c9&quot;,&quot;parentUUID&quot;:&quot;d1392b03-f12b-433a-a01e-17349470127e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sinter-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ebdf10c7-ef5a-4ebc-857c-64deb85fd95b&quot;,&quot;parentUUID&quot;:&quot;d1392b03-f12b-433a-a01e-17349470127e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return NIL when the source set does not exist&quot;,&quot;fullTitle&quot;:&quot;sinter-command test should return NIL when the source set does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sinter&#x27;, &#x27;ary&#x27;]);\n        chai_1.expect(response).to.eql([null]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0f36cced-cec8-400d-828e-4b0c3994cdb5&quot;,&quot;parentUUID&quot;:&quot;d1392b03-f12b-433a-a01e-17349470127e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return NIL when any other set does not exist or is NOT a set&quot;,&quot;fullTitle&quot;:&quot;sinter-command test should return NIL when any other set does not exist or is NOT a set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key1&#x27;, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;sinter&#x27;, &#x27;key1&#x27;, &#x27;empty&#x27;]);\n        chai_1.expect(response).to.eql([null]);\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;skey1&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sinter&#x27;, &#x27;key1&#x27;, &#x27;skey1&#x27;]);\n        chai_1.expect(response).to.eql([null]);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;1&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;sinter&#x27;, &#x27;key1&#x27;, &#x27;zkey&#x27;]);\n        chai_1.expect(response).to.eql([null]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4f908b89-e540-48e5-ae8d-a7c5d9e88686&quot;,&quot;parentUUID&quot;:&quot;d1392b03-f12b-433a-a01e-17349470127e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the intersection of one or more sets&quot;,&quot;fullTitle&quot;:&quot;sinter-command test should return the intersection of one or more sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key1&#x27;, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key2&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key3&#x27;, &#x27;a&#x27;, &#x27;c&#x27;, &#x27;e&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;sinter&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;c&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key2&#x27;, &#x27;a&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;sinter&#x27;, &#x27;key2&#x27;, &#x27;key1&#x27;, &#x27;key3&#x27;]);\n        chai_1.expect(response.length).to.equal(2);\n        // May be that sinter sorts the set upon return\n        chai_1.expect(response.indexOf(&#x27;a&#x27;)).to.be.greaterThan(-1);\n        chai_1.expect(response.indexOf(&#x27;c&#x27;)).to.be.greaterThan(-1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a457846-7465-4e24-aa55-d023fbd35c56&quot;,&quot;parentUUID&quot;:&quot;d1392b03-f12b-433a-a01e-17349470127e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0f36cced-cec8-400d-828e-4b0c3994cdb5&quot;,&quot;4f908b89-e540-48e5-ae8d-a7c5d9e88686&quot;,&quot;9a457846-7465-4e24-aa55-d023fbd35c56&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;63362b29-3e2c-4b85-8a5b-227993201d0b&quot;,&quot;title&quot;:&quot;sinterstore-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/set/sinterstore-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/set/sinterstore-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sinterstore-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;acad2bc8-7980-466d-bbcf-3c412dfac884&quot;,&quot;parentUUID&quot;:&quot;63362b29-3e2c-4b85-8a5b-227993201d0b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sinterstore-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6a880920-11da-44d0-83f2-39205fd338c8&quot;,&quot;parentUUID&quot;:&quot;63362b29-3e2c-4b85-8a5b-227993201d0b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sinterstore-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;64af70f1-726e-42e0-af15-0ba9045d913e&quot;,&quot;parentUUID&quot;:&quot;63362b29-3e2c-4b85-8a5b-227993201d0b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sinterstore-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cde58e29-0aa1-4572-b151-4019d75400b5&quot;,&quot;parentUUID&quot;:&quot;63362b29-3e2c-4b85-8a5b-227993201d0b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should require a minimum of two parameters&quot;,&quot;fullTitle&quot;:&quot;sinterstore-command test should require a minimum of two parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sinterstore&#x27;, &#x27;ary&#x27;]);\n        chai_1.expect(response).to.match(/ERR wrong number of arguments for \\&#x27;sinterstore\\&#x27; command/i);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7781baea-6155-4767-9895-c8841c109478&quot;,&quot;parentUUID&quot;:&quot;63362b29-3e2c-4b85-8a5b-227993201d0b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return ZERO when the source set does not exist&quot;,&quot;fullTitle&quot;:&quot;sinterstore-command test should return ZERO when the source set does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sinterstore&#x27;, &#x27;dest&#x27;, &#x27;src&#x27;]);\n        chai_1.expect(response).to.eql(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;89f5aff3-b0c7-4c11-9458-0fea40bb1e3f&quot;,&quot;parentUUID&quot;:&quot;63362b29-3e2c-4b85-8a5b-227993201d0b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should overwrite the destination and return the number of keys copied&quot;,&quot;fullTitle&quot;:&quot;sinterstore-command test should overwrite the destination and return the number of keys copied&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key1&#x27;, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key2&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;key3&#x27;, &#x27;some text value&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sinterstore&#x27;, &#x27;key3&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;smembers&#x27;, &#x27;key3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;c&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;757a766a-c19f-446c-b3b0-2a110859461a&quot;,&quot;parentUUID&quot;:&quot;63362b29-3e2c-4b85-8a5b-227993201d0b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7781baea-6155-4767-9895-c8841c109478&quot;,&quot;89f5aff3-b0c7-4c11-9458-0fea40bb1e3f&quot;,&quot;757a766a-c19f-446c-b3b0-2a110859461a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;a9fcba54-72c7-415b-b566-9fd8dfed807d&quot;,&quot;title&quot;:&quot;srem-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/set/srem-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/set/srem-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;srem-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:92,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0085a1bb-be79-466f-a730-060cea948346&quot;,&quot;parentUUID&quot;:&quot;a9fcba54-72c7-415b-b566-9fd8dfed807d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;srem-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3bf56bda-3c63-410a-8390-d8bf47450548&quot;,&quot;parentUUID&quot;:&quot;a9fcba54-72c7-415b-b566-9fd8dfed807d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;srem-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5299c996-85b0-4079-aa67-545f3feb8eb4&quot;,&quot;parentUUID&quot;:&quot;a9fcba54-72c7-415b-b566-9fd8dfed807d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;srem-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;88075f1a-2ea6-4cbd-aa27-24cae059013e&quot;,&quot;parentUUID&quot;:&quot;a9fcba54-72c7-415b-b566-9fd8dfed807d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return 0 when the set does not exist&quot;,&quot;fullTitle&quot;:&quot;srem-command test should return 0 when the set does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;srem&#x27;, &#x27;set&#x27;, &#x27;member&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53220c9a-4237-41e6-8c2c-f1c49d608ebb&quot;,&quot;parentUUID&quot;:&quot;a9fcba54-72c7-415b-b566-9fd8dfed807d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return only the number of existing keys that are removed&quot;,&quot;fullTitle&quot;:&quot;srem-command test should return only the number of existing keys that are removed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;set&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;, &#x27;key4&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;srem&#x27;, &#x27;set&#x27;, &#x27;key2&#x27;, &#x27;not&#x27;, &#x27;here&#x27;, &#x27;today&#x27;, &#x27;key4&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;smembers&#x27;, &#x27;set&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;key1&#x27;, &#x27;key3&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;edccfdb0-c975-4334-8ece-249fc2f1f2ff&quot;,&quot;parentUUID&quot;:&quot;a9fcba54-72c7-415b-b566-9fd8dfed807d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove an empty set when all members are removed&quot;,&quot;fullTitle&quot;:&quot;srem-command test should remove an empty set when all members are removed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;srem&#x27;, &#x27;set&#x27;, &#x27;key1&#x27;, &#x27;key3&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;set&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;72f40119-2eca-4b81-8b05-b0aa6048658d&quot;,&quot;parentUUID&quot;:&quot;a9fcba54-72c7-415b-b566-9fd8dfed807d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;53220c9a-4237-41e6-8c2c-f1c49d608ebb&quot;,&quot;edccfdb0-c975-4334-8ece-249fc2f1f2ff&quot;,&quot;72f40119-2eca-4b81-8b05-b0aa6048658d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;70e61dc8-de0c-4a8f-b3cb-7e51cab3efd6&quot;,&quot;title&quot;:&quot;sunion-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/set/sunion-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/set/sunion-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sunion-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e85e2fde-78aa-47bd-95ec-3d358c3bf43f&quot;,&quot;parentUUID&quot;:&quot;70e61dc8-de0c-4a8f-b3cb-7e51cab3efd6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sunion-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;98bc98c7-dce6-4761-9587-8632bf553ad8&quot;,&quot;parentUUID&quot;:&quot;70e61dc8-de0c-4a8f-b3cb-7e51cab3efd6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sunion-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;61002fa1-abba-46ce-be9b-5a9f9834b0f1&quot;,&quot;parentUUID&quot;:&quot;70e61dc8-de0c-4a8f-b3cb-7e51cab3efd6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sunion-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d3da7d8e-d5a5-4a10-b3ed-8185035806e7&quot;,&quot;parentUUID&quot;:&quot;70e61dc8-de0c-4a8f-b3cb-7e51cab3efd6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return NIL when the source set does not exist&quot;,&quot;fullTitle&quot;:&quot;sunion-command test should return NIL when the source set does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sunion&#x27;, &#x27;ary&#x27;]);\n        chai_1.expect(response).to.eql([null]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;39963f18-440f-4997-bf53-fffcafc24181&quot;,&quot;parentUUID&quot;:&quot;70e61dc8-de0c-4a8f-b3cb-7e51cab3efd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the union of a single set&quot;,&quot;fullTitle&quot;:&quot;sunion-command test should return the union of a single set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key1&#x27;, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;sunion&#x27;, &#x27;key1&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b17fbeeb-4618-4905-bacd-dd1318fc11e0&quot;,&quot;parentUUID&quot;:&quot;70e61dc8-de0c-4a8f-b3cb-7e51cab3efd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should ignore non-set keys&quot;,&quot;fullTitle&quot;:&quot;sunion-command test should ignore non-set keys&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;string-key&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sunion&#x27;, &#x27;key1&#x27;, &#x27;string-key&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b3656f49-5df8-4fb5-af75-56f9efa43a12&quot;,&quot;parentUUID&quot;:&quot;70e61dc8-de0c-4a8f-b3cb-7e51cab3efd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the union of multiple sets&quot;,&quot;fullTitle&quot;:&quot;sunion-command test should return the union of multiple sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key2&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key3&#x27;, &#x27;a&#x27;, &#x27;c&#x27;, &#x27;e&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;sunion&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5f04c74e-1fc0-4c9e-ac7d-acf50a9e1192&quot;,&quot;parentUUID&quot;:&quot;70e61dc8-de0c-4a8f-b3cb-7e51cab3efd6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;39963f18-440f-4997-bf53-fffcafc24181&quot;,&quot;b17fbeeb-4618-4905-bacd-dd1318fc11e0&quot;,&quot;b3656f49-5df8-4fb5-af75-56f9efa43a12&quot;,&quot;5f04c74e-1fc0-4c9e-ac7d-acf50a9e1192&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;0ae6d3c0-468f-4b98-b05f-e8a7d2e742da&quot;,&quot;title&quot;:&quot;sunionstore-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/set/sunionstore-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/set/sunionstore-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sunionstore-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6aa827b6-9937-412b-b021-65f90b7e62a9&quot;,&quot;parentUUID&quot;:&quot;0ae6d3c0-468f-4b98-b05f-e8a7d2e742da&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sunionstore-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b66013c-c283-4247-b528-85edcb6e13bf&quot;,&quot;parentUUID&quot;:&quot;0ae6d3c0-468f-4b98-b05f-e8a7d2e742da&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sunionstore-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;591ac6b6-b8b2-41e3-929f-89c4ff510f1b&quot;,&quot;parentUUID&quot;:&quot;0ae6d3c0-468f-4b98-b05f-e8a7d2e742da&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sunionstore-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f19cb44f-e0f5-4f68-b57e-cbdcada871b1&quot;,&quot;parentUUID&quot;:&quot;0ae6d3c0-468f-4b98-b05f-e8a7d2e742da&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should require a minimum of two parameters&quot;,&quot;fullTitle&quot;:&quot;sunionstore-command test should require a minimum of two parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sunionstore&#x27;, &#x27;ary&#x27;]);\n        chai_1.expect(response).to.match(/ERR wrong number of arguments for \\&#x27;sunionstore\\&#x27; command/i);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1959284d-447e-4800-82c9-e8bfd41f2f0d&quot;,&quot;parentUUID&quot;:&quot;0ae6d3c0-468f-4b98-b05f-e8a7d2e742da&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return ZERO when the source set does not exist&quot;,&quot;fullTitle&quot;:&quot;sunionstore-command test should return ZERO when the source set does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sunionstore&#x27;, &#x27;dest&#x27;, &#x27;src&#x27;]);\n        chai_1.expect(response).to.eql(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a49425d4-cb39-4ecd-bb43-d5973a3f34ae&quot;,&quot;parentUUID&quot;:&quot;0ae6d3c0-468f-4b98-b05f-e8a7d2e742da&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should overwrite the destination and return the number of keys copied&quot;,&quot;fullTitle&quot;:&quot;sunionstore-command test should overwrite the destination and return the number of keys copied&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key1&#x27;, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key2&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;key3&#x27;, &#x27;some text value&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sunionstore&#x27;, &#x27;key3&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;]);\n        chai_1.expect(response).to.equal(5);\n        response = yield common_test_1.sendCommand(client, [&#x27;smembers&#x27;, &#x27;key3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;865b555f-186e-4164-9a71-0415d898d293&quot;,&quot;parentUUID&quot;:&quot;0ae6d3c0-468f-4b98-b05f-e8a7d2e742da&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1959284d-447e-4800-82c9-e8bfd41f2f0d&quot;,&quot;a49425d4-cb39-4ecd-bb43-d5973a3f34ae&quot;,&quot;865b555f-186e-4164-9a71-0415d898d293&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;527ef9a5-8fee-4c03-b2c7-96722aa61f26&quot;,&quot;title&quot;:&quot;z-command tests&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/sset/z-commands.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/sset/z-commands.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;z-command tests \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:37,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;66d80745-2cb3-4330-99eb-26dee3c808de&quot;,&quot;parentUUID&quot;:&quot;527ef9a5-8fee-4c03-b2c7-96722aa61f26&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;z-command tests \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;527b36ac-ef90-430d-ac9c-d550e026924d&quot;,&quot;parentUUID&quot;:&quot;527ef9a5-8fee-4c03-b2c7-96722aa61f26&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;z-command tests \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;23479e45-d22a-442b-ac21-eccf8b905eda&quot;,&quot;parentUUID&quot;:&quot;527ef9a5-8fee-4c03-b2c7-96722aa61f26&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;z-command tests \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;22d8fa96-bf1c-4057-9310-834ba1596916&quot;,&quot;parentUUID&quot;:&quot;527ef9a5-8fee-4c03-b2c7-96722aa61f26&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support basic operations&quot;,&quot;fullTitle&quot;:&quot;z-command tests should support basic operations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueZkey = `key${new Date().getTime()}`;\n        let response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, &#x27;testkey&#x27;, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER)]);\n        chai_1.expect(response).to.eql([]);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;testkey&#x27;, &#x27;14&#x27;, &#x27;__proto__&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;8&#x27;, &#x27;5a600e16&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;9&#x27;, &#x27;5a600e17&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;10&#x27;, &#x27;5a600e18&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zcard&#x27;, uniqueZkey]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, uniqueZkey, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER), &#x27;withScores&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;5a600e16&#x27;, &#x27;8&#x27;,\n            &#x27;5a600e17&#x27;, &#x27;9&#x27;,\n            &#x27;5a600e18&#x27;, &#x27;10&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;12&#x27;, &#x27;5a600e17&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;zcount&#x27;, uniqueZkey, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER)]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, uniqueZkey, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER)]);\n        chai_1.expect(response.length).to.equal(3);\n        chai_1.expect(response).to.eql([&#x27;5a600e16&#x27;, &#x27;5a600e18&#x27;, &#x27;5a600e17&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, uniqueZkey, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER), &#x27;withScores&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;5a600e16&#x27;, &#x27;8&#x27;, &#x27;5a600e18&#x27;, &#x27;10&#x27;, &#x27;5a600e17&#x27;, &#x27;12&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;type&#x27;, uniqueZkey]);\n        chai_1.expect(response).to.equal(&#x27;zset&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zcount&#x27;, uniqueZkey, &#x27;-Infinity&#x27;, &#x27;10&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;zcount&#x27;, uniqueZkey, &#x27;Negative One&#x27;, &#x27;10&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR min or max is not a float&#x27;);\n        // report syntax error\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, uniqueZkey, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER), &#x27;with Scores&#x27;]);\n        chai_1.expect(response).to.eql(&#x27;ReplyError: ERR syntax error&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, uniqueZkey, String(&#x27;Number.MIN_SAFE_INTEGER&#x27;), String(Number.MAX_SAFE_INTEGER), &#x27;withScores&#x27;]);\n        chai_1.expect(response).to.eql(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n        // Remove members without removing keys\n        response = yield common_test_1.sendCommand(client, [&#x27;zrem&#x27;, uniqueZkey, &#x27;does not exist&#x27;, &#x27;5a600e16&#x27;, &#x27;5a600e18&#x27;, &#x27;5a600e17&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        // Unexpectedly, redis removes the key when the last element is removed\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, uniqueZkey]);\n        console.log(`searched for ${uniqueZkey}`);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, uniqueZkey, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER), &#x27;withScores&#x27;]);\n        chai_1.expect(response).to.eql([]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;81c848d9-a21a-4ef8-8576-847cf1769093&quot;,&quot;parentUUID&quot;:&quot;527ef9a5-8fee-4c03-b2c7-96722aa61f26&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should increase rank&quot;,&quot;fullTitle&quot;:&quot;z-command tests should increase rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueZkey = `incrkey${new Date().getTime()}`;\n        let response;\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;1&#x27;, &#x27;first&#x27;]);\n        chai_1.expect(response).to.eql(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;2&#x27;, &#x27;second&#x27;]);\n        chai_1.expect(response).to.eql(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;3&#x27;, &#x27;third&#x27;]);\n        chai_1.expect(response).to.eql(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;4&#x27;, &#x27;fourth&#x27;]);\n        chai_1.expect(response).to.eql(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zincrby&#x27;, uniqueZkey, &#x27;2&#x27;, &#x27;first&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;3&#x27;);\n        // Validate zscore\n        // response = await sendCommand(client, [&#x27;zscore&#x27;, uniqueZkey, &#x27;first&#x27;]);\n        // expect(response).to.equal(&#x27;3&#x27;);\n        // response = await sendCommand(client, [&#x27;zscore&#x27;, uniqueZkey, &#x27;second&#x27;]);\n        // expect(response).to.equal(&#x27;2&#x27;);\n        // response = await sendCommand(client, [&#x27;zscore&#x27;, uniqueZkey, &#x27;third&#x27;]);\n        // expect(response).to.equal(&#x27;3&#x27;);\n        // response = await sendCommand(client, [&#x27;zscore&#x27;, uniqueZkey, &#x27;fourth&#x27;]);\n        // expect(response).to.equal(&#x27;4&#x27;);\n        //\n        response = yield common_test_1.sendCommand(client, [&#x27;zrank&#x27;, uniqueZkey, &#x27;first&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrank&#x27;, uniqueZkey, &#x27;second&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrank&#x27;, uniqueZkey, &#x27;third&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrank&#x27;, uniqueZkey, &#x27;fourth&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        // expect(response).to.match(/^ReplyError: ERR unknown command.*/);\n        response = yield common_test_1.sendCommand(client, [&#x27;zincrby&#x27;, uniqueZkey, &#x27;-20&#x27;, &#x27;fourth&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;-16&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zincrby&#x27;, uniqueZkey, `-${Number.MIN_SAFE_INTEGER + 1}.${Number.MAX_SAFE_INTEGER}`, &#x27;fourth&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not a valid float&#x27;);\n        // Should create a key if it doesn&#x27;t exist\n        response = yield common_test_1.sendCommand(client, [&#x27;zincrby&#x27;, uniqueZkey, &#x27;-20&#x27;, &#x27;fifth&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;-20&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, uniqueZkey, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER), &#x27;withScores&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;fifth&#x27;, &#x27;-20&#x27;, &#x27;fourth&#x27;, &#x27;-16&#x27;, &#x27;second&#x27;, &#x27;2&#x27;, &#x27;first&#x27;, &#x27;3&#x27;, &#x27;third&#x27;, &#x27;3&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;44b2770f-5a17-43ca-a8a1-3ed54d634313&quot;,&quot;parentUUID&quot;:&quot;527ef9a5-8fee-4c03-b2c7-96722aa61f26&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;81c848d9-a21a-4ef8-8576-847cf1769093&quot;,&quot;44b2770f-5a17-43ca-a8a1-3ed54d634313&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:35,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;747d4b5f-bf5c-4e88-a909-bb336551d244&quot;,&quot;title&quot;:&quot;zadd command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/sset/zadd-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/sset/zadd-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zadd command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0aee7d4c-112c-41d7-a513-dd8b0630fa13&quot;,&quot;parentUUID&quot;:&quot;747d4b5f-bf5c-4e88-a909-bb336551d244&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zadd command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;50fdec98-2221-4fc3-9c9b-bbfae3f5ca7b&quot;,&quot;parentUUID&quot;:&quot;747d4b5f-bf5c-4e88-a909-bb336551d244&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zadd command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8535d67a-08df-423a-ab62-ecbc37f24527&quot;,&quot;parentUUID&quot;:&quot;747d4b5f-bf5c-4e88-a909-bb336551d244&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zadd command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c772a213-1e62-4919-a521-6cdc9f059e57&quot;,&quot;parentUUID&quot;:&quot;747d4b5f-bf5c-4e88-a909-bb336551d244&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should require at least 3 parameters&quot;,&quot;fullTitle&quot;:&quot;zadd command test should require at least 3 parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;zadd\\&#x27; command&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;zadd\\&#x27; command&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;123&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;zadd\\&#x27; command&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;123&#x27;, &#x27;something&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cec24806-281f-4486-880f-c94eff8e725f&quot;,&quot;parentUUID&quot;:&quot;747d4b5f-bf5c-4e88-a909-bb336551d244&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reject even parameter counts&quot;,&quot;fullTitle&quot;:&quot;zadd command test should reject even parameter counts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;123&#x27;, &#x27;something&#x27;, &#x27;456&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR syntax error&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;123&#x27;, &#x27;something&#x27;, &#x27;456&#x27;, &#x27;another&#x27;, &#x27;765&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR syntax error&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;123&#x27;, &#x27;something&#x27;, &#x27;456&#x27;, &#x27;another&#x27;, &#x27;765&#x27;, &#x27;test&#x27;]);\n        // The \&quot;something\&quot; key should already exist so we only count 2 new fields\n        chai_1.expect(response).to.equal(2);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e187626a-e8e3-4731-be98-6729ae304b6a&quot;,&quot;parentUUID&quot;:&quot;747d4b5f-bf5c-4e88-a909-bb336551d244&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reject an attempt to store non-floatish rankings&quot;,&quot;fullTitle&quot;:&quot;zadd command test should reject an attempt to store non-floatish rankings&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;__data__&#x27;, &#x27;something&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not a valid float&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0e216095-0e85-4440-bc1d-8b1712f15172&quot;,&quot;parentUUID&quot;:&quot;747d4b5f-bf5c-4e88-a909-bb336551d244&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cec24806-281f-4486-880f-c94eff8e725f&quot;,&quot;e187626a-e8e3-4731-be98-6729ae304b6a&quot;,&quot;0e216095-0e85-4440-bc1d-8b1712f15172&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;3173ca21-61da-49bd-809d-02eef22369b5&quot;,&quot;title&quot;:&quot;zrange-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/sset/zrange-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/sset/zrange-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrange-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aaab49e7-90e8-4800-ac3d-f5daf368a20b&quot;,&quot;parentUUID&quot;:&quot;3173ca21-61da-49bd-809d-02eef22369b5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrange-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;27cb8a02-6f7c-4f77-bd40-ef36e78bc870&quot;,&quot;parentUUID&quot;:&quot;3173ca21-61da-49bd-809d-02eef22369b5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrange-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f65a82cd-0f3f-48d2-b5a3-1e21f0cc217b&quot;,&quot;parentUUID&quot;:&quot;3173ca21-61da-49bd-809d-02eef22369b5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrange-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aa5c6a18-120c-48d5-b315-492f52f40f6a&quot;,&quot;parentUUID&quot;:&quot;3173ca21-61da-49bd-809d-02eef22369b5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should reproduce the redis documentation examples&quot;,&quot;fullTitle&quot;:&quot;zrange-command test should reproduce the redis documentation examples&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;1&#x27;, &#x27;one&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;2&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;3&#x27;, &#x27;three&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, &#x27;zset&#x27;, &#x27;0&#x27;, &#x27;-1&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, &#x27;zset&#x27;, &#x27;2&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;three&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, &#x27;zset&#x27;, &#x27;-2&#x27;, &#x27;-1&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;two&#x27;, &#x27;three&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;19ae941e-2d2e-46ac-922a-4f0691cb26dc&quot;,&quot;parentUUID&quot;:&quot;3173ca21-61da-49bd-809d-02eef22369b5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should also reproduce the second documented example&quot;,&quot;fullTitle&quot;:&quot;zrange-command test should also reproduce the second documented example&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, &#x27;zset&#x27;, &#x27;0&#x27;, &#x27;1&#x27;, &#x27;withscores&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;one&#x27;, &#x27;1&#x27;, &#x27;two&#x27;, &#x27;2&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;61a1c124-7f13-443d-a595-72048c845ea8&quot;,&quot;parentUUID&quot;:&quot;3173ca21-61da-49bd-809d-02eef22369b5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;19ae941e-2d2e-46ac-922a-4f0691cb26dc&quot;,&quot;61a1c124-7f13-443d-a595-72048c845ea8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;77b2db4f-cb94-41ae-809b-898973436f56&quot;,&quot;title&quot;:&quot;zrank-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/sset/zrank-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/sset/zrank-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrank-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:28,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f83864b8-6422-4ecc-acfa-5718ea5a0858&quot;,&quot;parentUUID&quot;:&quot;77b2db4f-cb94-41ae-809b-898973436f56&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrank-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e66aecde-b61a-4404-8b8e-33e514118c16&quot;,&quot;parentUUID&quot;:&quot;77b2db4f-cb94-41ae-809b-898973436f56&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrank-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;83b9d3ad-d384-4ac4-9838-6e5675e39ad6&quot;,&quot;parentUUID&quot;:&quot;77b2db4f-cb94-41ae-809b-898973436f56&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrank-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f8dac663-eeb4-47a8-a2fe-13bd43ba6c36&quot;,&quot;parentUUID&quot;:&quot;77b2db4f-cb94-41ae-809b-898973436f56&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return NIL when the ZSET does not exist&quot;,&quot;fullTitle&quot;:&quot;zrank-command test should return NIL when the ZSET does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;zrank&#x27;, &#x27;zset&#x27;, &#x27;member&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ed12fc2a-0ec3-497b-8d07-638de789eea8&quot;,&quot;parentUUID&quot;:&quot;77b2db4f-cb94-41ae-809b-898973436f56&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return NIL when the ZSET exists but the key does not&quot;,&quot;fullTitle&quot;:&quot;zrank-command test should return NIL when the ZSET exists but the key does not&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;23.3&#x27;, &#x27;member&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrank&#x27;, &#x27;zset&#x27;, &#x27;membre&#x27;]);\n        chai_1.expect(response).to.equal(null);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;zset&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bfde2162-d34d-4d7f-9653-c382cb5fcaa4&quot;,&quot;parentUUID&quot;:&quot;77b2db4f-cb94-41ae-809b-898973436f56&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ed12fc2a-0ec3-497b-8d07-638de789eea8&quot;,&quot;bfde2162-d34d-4d7f-9653-c382cb5fcaa4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;9c8b0b7c-6a0f-49ca-8f88-a1802574a43e&quot;,&quot;title&quot;:&quot;zrem-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/sset/zrem-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/sset/zrem-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrem-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:31,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ed223ee7-cf1f-42d2-a1b9-6bd5357245a4&quot;,&quot;parentUUID&quot;:&quot;9c8b0b7c-6a0f-49ca-8f88-a1802574a43e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrem-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;13f89485-740b-4c7a-b565-58ee94084d8c&quot;,&quot;parentUUID&quot;:&quot;9c8b0b7c-6a0f-49ca-8f88-a1802574a43e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrem-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ae6862aa-a177-484a-bb98-5139f99fb252&quot;,&quot;parentUUID&quot;:&quot;9c8b0b7c-6a0f-49ca-8f88-a1802574a43e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrem-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b9fe9d60-b72d-49df-b207-817bd1593cd2&quot;,&quot;parentUUID&quot;:&quot;9c8b0b7c-6a0f-49ca-8f88-a1802574a43e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove a key from a sorted set&quot;,&quot;fullTitle&quot;:&quot;zrem-command test should remove a key from a sorted set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;1&#x27;, &#x27;one&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;2&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;3&#x27;, &#x27;three&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrem&#x27;, &#x27;zset&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, &#x27;zset&#x27;, &#x27;0&#x27;, &#x27;-1&#x27;, &#x27;withscores&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;one&#x27;, &#x27;1&#x27;, &#x27;three&#x27;, &#x27;3&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a62b1441-40f9-4ddc-b86f-e2ce699528f6&quot;,&quot;parentUUID&quot;:&quot;9c8b0b7c-6a0f-49ca-8f88-a1802574a43e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a62b1441-40f9-4ddc-b86f-e2ce699528f6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;17cd8f9d-6653-476e-a92b-75a9e83b883b&quot;,&quot;title&quot;:&quot;getset-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/string/getset-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/string/getset-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;getset-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b7f28198-8e20-49de-a1a7-ec05c8679d80&quot;,&quot;parentUUID&quot;:&quot;17cd8f9d-6653-476e-a92b-75a9e83b883b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;getset-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2204cd74-1467-467f-a1d2-6fbfbf71026c&quot;,&quot;parentUUID&quot;:&quot;17cd8f9d-6653-476e-a92b-75a9e83b883b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;getset-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;16aa76e3-58de-4f64-b304-89030d7c159c&quot;,&quot;parentUUID&quot;:&quot;17cd8f9d-6653-476e-a92b-75a9e83b883b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;getset-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2e82913a-6aaa-4cc1-ad32-6ee40714e869&quot;,&quot;parentUUID&quot;:&quot;17cd8f9d-6653-476e-a92b-75a9e83b883b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report NIL when the original key does not exist&quot;,&quot;fullTitle&quot;:&quot;getset-command test should report NIL when the original key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;getset&#x27;, uniqueKey, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2824c915-7d37-4a14-b7cd-e1e8a0a15ccf&quot;,&quot;parentUUID&quot;:&quot;17cd8f9d-6653-476e-a92b-75a9e83b883b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report the previous value of the key&quot;,&quot;fullTitle&quot;:&quot;getset-command test should report the previous value of the key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;getset&#x27;, uniqueKey, &#x27;ninety nine&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;0&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;getset&#x27;, uniqueKey, &#x27;nothing&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ninety nine&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ef55f129-afb3-4806-b612-910b17016177&quot;,&quot;parentUUID&quot;:&quot;17cd8f9d-6653-476e-a92b-75a9e83b883b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2824c915-7d37-4a14-b7cd-e1e8a0a15ccf&quot;,&quot;ef55f129-afb3-4806-b612-910b17016177&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;eb4a9230-4502-4b0a-b767-9ed8cdca047c&quot;,&quot;title&quot;:&quot;incr/decr command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/string/incr-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/string/incr-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:33,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    // Set a key with a millisecond TTL to validate incr respects TTL\n    common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;ttlkey&#x27;, &#x27;100&#x27;, &#x27;PX&#x27;, &#x27;3&#x27;])\n        .then(() =&gt; {\n        done();\n    });\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9489d2cf-3c9b-4201-95f8-f5dc2d7bd16b&quot;,&quot;parentUUID&quot;:&quot;eb4a9230-4502-4b0a-b767-9ed8cdca047c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;32c625ab-3235-4d82-aef4-7a525a59bba1&quot;,&quot;parentUUID&quot;:&quot;eb4a9230-4502-4b0a-b767-9ed8cdca047c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7b05325d-65e9-4eba-b57c-90292ec5f2cf&quot;,&quot;parentUUID&quot;:&quot;eb4a9230-4502-4b0a-b767-9ed8cdca047c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dee11e22-8c02-4f2e-85f0-35343c4f4ec4&quot;,&quot;parentUUID&quot;:&quot;eb4a9230-4502-4b0a-b767-9ed8cdca047c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report ONE when incr called against unknown key&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should report ONE when incr called against unknown key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;incr&#x27;, &#x27;incr-key&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5dc222cb-832f-4795-a431-c0831e7670e5&quot;,&quot;parentUUID&quot;:&quot;eb4a9230-4502-4b0a-b767-9ed8cdca047c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have created the key from the previous test&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should have created the key from the previous test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;get&#x27;, &#x27;incr-key&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;string&#x27;);\n        chai_1.expect(response).to.equal(&#x27;1&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9163dece-c6e0-4231-9a13-139b5da882d9&quot;,&quot;parentUUID&quot;:&quot;eb4a9230-4502-4b0a-b767-9ed8cdca047c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should overflow after 53 bits&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should overflow after 53 bits&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;incr-key&#x27;, &#x27;9007199254740990&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;incr&#x27;, &#x27;incr-key&#x27;]);\n        chai_1.expect(response).to.equal(Number.MAX_SAFE_INTEGER);\n        response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;incr&#x27;, &#x27;incr-key&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR increment or decrement would overflow&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;329ff2a3-3072-4765-980e-e052069c326f&quot;,&quot;parentUUID&quot;:&quot;eb4a9230-4502-4b0a-b767-9ed8cdca047c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report -1 when decr called against unknown key&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should report -1 when decr called against unknown key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;decr&#x27;, &#x27;decr-key&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n        chai_1.expect(response).to.equal(-1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1ce4087a-7001-491a-a6ca-0b2f36141bea&quot;,&quot;parentUUID&quot;:&quot;eb4a9230-4502-4b0a-b767-9ed8cdca047c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have created the key from the previous test&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should have created the key from the previous test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;get&#x27;, &#x27;decr-key&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;string&#x27;);\n        chai_1.expect(response).to.equal(&#x27;-1&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a8c5b46d-1a42-429f-ade4-7edac9d7756f&quot;,&quot;parentUUID&quot;:&quot;eb4a9230-4502-4b0a-b767-9ed8cdca047c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should overflow after 53 bits&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should overflow after 53 bits&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;decr-key&#x27;, &#x27;-9007199254740990&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;decr&#x27;, &#x27;decr-key&#x27;]);\n        chai_1.expect(response).to.equal(Number.MIN_SAFE_INTEGER);\n        response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;decr&#x27;, &#x27;decr-key&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR increment or decrement would overflow&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf055ea2-de2c-4bd7-b705-4ebeac21fc8f&quot;,&quot;parentUUID&quot;:&quot;eb4a9230-4502-4b0a-b767-9ed8cdca047c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respect TTL&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should respect TTL&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;get&#x27;, &#x27;ttlkey&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9228399-23db-4556-8833-10f0efef7630&quot;,&quot;parentUUID&quot;:&quot;eb4a9230-4502-4b0a-b767-9ed8cdca047c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail to increment a HASH value&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should fail to increment a HASH value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = `test-incr-${new Date().getTime()}`;\n        let response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, uniqueKey, &#x27;one&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;incr&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;007e5d50-274c-4edc-a1b4-1e6856eeaeda&quot;,&quot;parentUUID&quot;:&quot;eb4a9230-4502-4b0a-b767-9ed8cdca047c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5dc222cb-832f-4795-a431-c0831e7670e5&quot;,&quot;9163dece-c6e0-4231-9a13-139b5da882d9&quot;,&quot;329ff2a3-3072-4765-980e-e052069c326f&quot;,&quot;1ce4087a-7001-491a-a6ca-0b2f36141bea&quot;,&quot;a8c5b46d-1a42-429f-ade4-7edac9d7756f&quot;,&quot;cf055ea2-de2c-4bd7-b705-4ebeac21fc8f&quot;,&quot;c9228399-23db-4556-8833-10f0efef7630&quot;,&quot;007e5d50-274c-4edc-a1b4-1e6856eeaeda&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:29,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;0fb52a72-e0dd-4e67-9d4b-6d72e2d9d8ab&quot;,&quot;title&quot;:&quot;incrby/decrby command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/string/incrby-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/string/incrby-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    // Set a key with a millisecond TTL to validate incrby respects TTL\n    common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;ttlkey&#x27;, &#x27;100&#x27;, &#x27;PX&#x27;, &#x27;3&#x27;])\n        .then(() =&gt; {\n        done();\n    });\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd4e5212-6198-43b6-8818-6c8221f4ec3b&quot;,&quot;parentUUID&quot;:&quot;0fb52a72-e0dd-4e67-9d4b-6d72e2d9d8ab&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;98e7f26c-ec04-4018-9b17-2ef13171f05c&quot;,&quot;parentUUID&quot;:&quot;0fb52a72-e0dd-4e67-9d4b-6d72e2d9d8ab&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ba4bb5fb-5a90-499f-9de3-66f0e21c9dac&quot;,&quot;parentUUID&quot;:&quot;0fb52a72-e0dd-4e67-9d4b-6d72e2d9d8ab&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c8ab674a-b28c-433b-8b67-4bdc2f36696a&quot;,&quot;parentUUID&quot;:&quot;0fb52a72-e0dd-4e67-9d4b-6d72e2d9d8ab&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report the INCREMENT when incrby called against unknown key&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should report the INCREMENT when incrby called against unknown key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;incrby&#x27;, &#x27;incr-key&#x27;, &#x27;10&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n        // This is unexpected from redis\n        chai_1.expect(response).to.equal(10);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;382360d9-854f-4afb-8ea0-b01aa3b8257c&quot;,&quot;parentUUID&quot;:&quot;0fb52a72-e0dd-4e67-9d4b-6d72e2d9d8ab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have created the key from the previous test&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should have created the key from the previous test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;incr-key&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;string&#x27;);\n        chai_1.expect(response).to.equal(&#x27;10&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b02f971-80b2-4fe5-938f-1807e15c9344&quot;,&quot;parentUUID&quot;:&quot;0fb52a72-e0dd-4e67-9d4b-6d72e2d9d8ab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should overflow after 53 bits&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should overflow after 53 bits&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;incr-key&#x27;, &#x27;9007199254740981&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;incrby&#x27;, &#x27;incr-key&#x27;, &#x27;10&#x27;]);\n        chai_1.expect(response).to.equal(Number.MAX_SAFE_INTEGER);\n        response = yield common_test_1.sendCommand(client, [&#x27;incrby&#x27;, &#x27;incr-key&#x27;, &#x27;110&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR increment or decrement would overflow&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;72af32ed-1600-45ce-a360-273ae4330ada&quot;,&quot;parentUUID&quot;:&quot;0fb52a72-e0dd-4e67-9d4b-6d72e2d9d8ab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report the NEGATIVE increment when decrby called against unknown key&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should report the NEGATIVE increment when decrby called against unknown key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;decrby&#x27;, &#x27;decr-key&#x27;, &#x27;12&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n        chai_1.expect(response).to.equal(-12);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;912c4755-782f-4758-9e73-36cf77e82fe7&quot;,&quot;parentUUID&quot;:&quot;0fb52a72-e0dd-4e67-9d4b-6d72e2d9d8ab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support negative increment and positive decrement&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should support negative increment and positive decrement&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;incrby&#x27;, &#x27;negincr&#x27;, &#x27;-12&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n        chai_1.expect(response).to.equal(-12);\n        response = yield common_test_1.sendCommand(client, [&#x27;decrby&#x27;, &#x27;negincr&#x27;, &#x27;-24&#x27;]);\n        chai_1.expect(response).to.equal(12);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4e95e28-ea0a-42ff-ae01-002c8d60589f&quot;,&quot;parentUUID&quot;:&quot;0fb52a72-e0dd-4e67-9d4b-6d72e2d9d8ab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have created the key from the previous test&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should have created the key from the previous test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;decr-key&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;string&#x27;);\n        chai_1.expect(response).to.equal(&#x27;-12&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4da8da6a-dfbf-46a3-88e4-0aab0c89d42a&quot;,&quot;parentUUID&quot;:&quot;0fb52a72-e0dd-4e67-9d4b-6d72e2d9d8ab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should overflow after 53 bits&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should overflow after 53 bits&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;decr-key&#x27;, &#x27;-9007199254740981&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;decrby&#x27;, &#x27;decr-key&#x27;, &#x27;10&#x27;]);\n        chai_1.expect(response).to.equal(Number.MIN_SAFE_INTEGER);\n        // This does not seem to be exact\n        // response = await sendCommand(client, [&#x27;decrby&#x27;, &#x27;decr-key&#x27;, String(Number.MAX_SAFE_INTEGER)]);\n        // expect(response).to.equal(&#x27;ReplyError: Error: increment or decrement would overflow&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6824d3d8-acda-42d6-a998-bbd256628fa1&quot;,&quot;parentUUID&quot;:&quot;0fb52a72-e0dd-4e67-9d4b-6d72e2d9d8ab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respect TTL&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should respect TTL&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;ttlkey&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;10e073f0-eb04-4f04-a57e-9585b65f93c0&quot;,&quot;parentUUID&quot;:&quot;0fb52a72-e0dd-4e67-9d4b-6d72e2d9d8ab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail to increment a HASH value&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should fail to increment a HASH value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = `test-incr-${new Date().getTime()}`;\n        let response = yield common_test_1.sendCommand(client, [&#x27;hset&#x27;, uniqueKey, &#x27;one&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;incrby&#x27;, uniqueKey, &#x27;12&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;44c66f48-1a18-4207-a928-9197ec44556e&quot;,&quot;parentUUID&quot;:&quot;0fb52a72-e0dd-4e67-9d4b-6d72e2d9d8ab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;382360d9-854f-4afb-8ea0-b01aa3b8257c&quot;,&quot;1b02f971-80b2-4fe5-938f-1807e15c9344&quot;,&quot;72af32ed-1600-45ce-a360-273ae4330ada&quot;,&quot;912c4755-782f-4758-9e73-36cf77e82fe7&quot;,&quot;c4e95e28-ea0a-42ff-ae01-002c8d60589f&quot;,&quot;4da8da6a-dfbf-46a3-88e4-0aab0c89d42a&quot;,&quot;6824d3d8-acda-42d6-a998-bbd256628fa1&quot;,&quot;10e073f0-eb04-4f04-a57e-9585b65f93c0&quot;,&quot;44c66f48-1a18-4207-a928-9197ec44556e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;c6bf1986-c2f7-47aa-bdfa-7c9a2ec15124&quot;,&quot;title&quot;:&quot;mget-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/string/mget-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/string/mget-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;mget-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:72,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8cca321a-7fb4-4e8d-86e5-0d7d70c49cd5&quot;,&quot;parentUUID&quot;:&quot;c6bf1986-c2f7-47aa-bdfa-7c9a2ec15124&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;mget-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;582c1f10-ad60-4471-8dbc-f309bb13b0e8&quot;,&quot;parentUUID&quot;:&quot;c6bf1986-c2f7-47aa-bdfa-7c9a2ec15124&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;mget-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dded6dee-82b4-4978-bb41-9338f28da905&quot;,&quot;parentUUID&quot;:&quot;c6bf1986-c2f7-47aa-bdfa-7c9a2ec15124&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;mget-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4e0af02c-632a-4c78-87e1-d9cd01cdb1ce&quot;,&quot;parentUUID&quot;:&quot;c6bf1986-c2f7-47aa-bdfa-7c9a2ec15124&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return NIL when the key does not exist&quot;,&quot;fullTitle&quot;:&quot;mget-command test should return NIL when the key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;mget&#x27;, &#x27;zset&#x27;, &#x27;member&#x27;]);\n        chai_1.expect(response).to.eql([null, null]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7fe83547-f786-4146-a4a4-5dcd9e6df101&quot;,&quot;parentUUID&quot;:&quot;c6bf1986-c2f7-47aa-bdfa-7c9a2ec15124&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return multiple values for string keys as requested&quot;,&quot;fullTitle&quot;:&quot;mget-command test should return multiple values for string keys as requested&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;mset&#x27;, &#x27;key1&#x27;, &#x27;1&#x27;, &#x27;key2&#x27;, &#x27;2&#x27;, &#x27;key3&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;mget&#x27;, &#x27;key2&#x27;, &#x27;key1&#x27;, &#x27;noneya&#x27;, &#x27;key3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;2&#x27;, &#x27;1&#x27;, null, &#x27;3&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;78f40c6b-d1de-4980-9d22-f717a5685139&quot;,&quot;parentUUID&quot;:&quot;c6bf1986-c2f7-47aa-bdfa-7c9a2ec15124&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return NIL for ZSET, LIST, and HASH types as well&quot;,&quot;fullTitle&quot;:&quot;mget-command test should return NIL for ZSET, LIST, and HASH types as well&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;1&#x27;, &#x27;member&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;list&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;hset&#x27;, &#x27;hash&#x27;, &#x27;field&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;mget&#x27;, &#x27;key2&#x27;, &#x27;key1&#x27;, &#x27;list&#x27;, &#x27;key3&#x27;, &#x27;hash&#x27;, &#x27;zset&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;2&#x27;, &#x27;1&#x27;, null, &#x27;3&#x27;, null, null]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ed175bc1-d324-4863-979f-ddc4c8f899c6&quot;,&quot;parentUUID&quot;:&quot;c6bf1986-c2f7-47aa-bdfa-7c9a2ec15124&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7fe83547-f786-4146-a4a4-5dcd9e6df101&quot;,&quot;78f40c6b-d1de-4980-9d22-f717a5685139&quot;,&quot;ed175bc1-d324-4863-979f-ddc4c8f899c6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;e3f48376-7514-4959-9686-7187f947bbd8&quot;,&quot;title&quot;:&quot;mset-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/string/mset-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/string/mset-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;mset-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:34,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bfff961d-beb4-4462-803d-969d9b799fc3&quot;,&quot;parentUUID&quot;:&quot;e3f48376-7514-4959-9686-7187f947bbd8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;mset-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c15b402-3f1b-4f3e-bde8-6f45ef0e6bac&quot;,&quot;parentUUID&quot;:&quot;e3f48376-7514-4959-9686-7187f947bbd8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;mset-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;59e2e9ae-5ddb-4d87-8012-1201a0f6bdc4&quot;,&quot;parentUUID&quot;:&quot;e3f48376-7514-4959-9686-7187f947bbd8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;mset-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c0e4aede-6f80-4aa1-9b6e-b6266fce6098&quot;,&quot;parentUUID&quot;:&quot;e3f48376-7514-4959-9686-7187f947bbd8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create multiple keys at once&quot;,&quot;fullTitle&quot;:&quot;mset-command test should create multiple keys at once&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;mset&#x27;, &#x27;key1&#x27;, &#x27;Hello&#x27;, &#x27;key2&#x27;, &#x27;world&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;key1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;Hello&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;key2&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;world&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b6bb4f05-c7d9-4b06-a1cc-e254d4543ae1&quot;,&quot;parentUUID&quot;:&quot;e3f48376-7514-4959-9686-7187f947bbd8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should only accept an even number of parameters&quot;,&quot;fullTitle&quot;:&quot;mset-command test should only accept an even number of parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;msEt&#x27;, &#x27;wrong&#x27;, &#x27;number&#x27;, &#x27;of&#x27;]);\n        chai_1.expect(response).to.match(/ReplyError: ERR wrong number of arguments for MSET/i);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;54a0eff9-99ab-4517-9ea4-6a2750995a44&quot;,&quot;parentUUID&quot;:&quot;e3f48376-7514-4959-9686-7187f947bbd8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b6bb4f05-c7d9-4b06-a1cc-e254d4543ae1&quot;,&quot;54a0eff9-99ab-4517-9ea4-6a2750995a44&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;c067f80e-d97f-48fb-827f-2149afdb4566&quot;,&quot;title&quot;:&quot;set-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/string/set-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/string/set-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;flush&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;159b4d20-8e0f-4802-9a4b-394b642f1834&quot;,&quot;parentUUID&quot;:&quot;c067f80e-d97f-48fb-827f-2149afdb4566&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dbf67dfa-05fd-4c30-96d3-8eed00a26fe9&quot;,&quot;parentUUID&quot;:&quot;c067f80e-d97f-48fb-827f-2149afdb4566&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;82539eea-8277-464e-9201-ffbe020a10c9&quot;,&quot;parentUUID&quot;:&quot;c067f80e-d97f-48fb-827f-2149afdb4566&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0dd5c4b4-b378-4031-8c9e-6a56310cd636&quot;,&quot;parentUUID&quot;:&quot;c067f80e-d97f-48fb-827f-2149afdb4566&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should allow us to set a several second ttl&quot;,&quot;fullTitle&quot;:&quot;set-command test should allow us to set a several second ttl&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // During local testing there are 8 milliseconds from put to get\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;TTLtest&#x27;, &#x27;key&#x27;, &#x27;EX&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d172339b-7971-4552-ac7e-8b361a516d23&quot;,&quot;parentUUID&quot;:&quot;c067f80e-d97f-48fb-827f-2149afdb4566&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should NOT allow SET to invoke NX after XX&quot;,&quot;fullTitle&quot;:&quot;set-command test should NOT allow SET to invoke NX after XX&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;test&#x27;, &#x27;key&#x27;, &#x27;XX&#x27;, &#x27;NX&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR syntax error&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c64b2af4-0dbd-423b-aab1-f8de4650493e&quot;,&quot;parentUUID&quot;:&quot;c067f80e-d97f-48fb-827f-2149afdb4566&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should NOT allow SET to invoke XX after NX&quot;,&quot;fullTitle&quot;:&quot;set-command test should NOT allow SET to invoke XX after NX&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;test&#x27;, &#x27;key&#x27;, &#x27;NX&#x27;, &#x27;XX&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR syntax error&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;96da0ac1-f7f1-494a-8133-a10b1402fb33&quot;,&quot;parentUUID&quot;:&quot;c067f80e-d97f-48fb-827f-2149afdb4566&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return nil when SET invoked with XX on a key that doesn&#x27;t exist&quot;,&quot;fullTitle&quot;:&quot;set-command test should return nil when SET invoked with XX on a key that doesn&#x27;t exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = `TEST${new Date().getTime()}`;\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, uniqueKey, &#x27;key&#x27;, &#x27;XX&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fe0ea21a-c149-408a-bdb9-0e8559677d2f&quot;,&quot;parentUUID&quot;:&quot;c067f80e-d97f-48fb-827f-2149afdb4566&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return OK when SET invoked with XX on a key that DOES exist&quot;,&quot;fullTitle&quot;:&quot;set-command test should return OK when SET invoked with XX on a key that DOES exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = `TEST${new Date().getTime()}`;\n        // set the key with NX first to validate that functionality\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, uniqueKey, &#x27;key&#x27;, &#x27;NX&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, uniqueKey, &#x27;new value&#x27;, &#x27;XX&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        // Now validate that the key is what we said last\n        response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(&#x27;new value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;96e90065-c40b-47d4-a1c9-8019f6329c93&quot;,&quot;parentUUID&quot;:&quot;c067f80e-d97f-48fb-827f-2149afdb4566&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should NOT allow SET to invoke EX and PX simultaneously&quot;,&quot;fullTitle&quot;:&quot;set-command test should NOT allow SET to invoke EX and PX simultaneously&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // Note: Our behavior is different from redis.  This error is &#x27;wrong number of args&#x27;\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;test&#x27;, &#x27;key&#x27;, &#x27;EX&#x27;, &#x27;100&#x27;, &#x27;PX&#x27;, &#x27;100&#x27;]);\n        chai_1.expect(response).to.match(/^ReplyError: ERR syntax error/);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ca46c6d3-8bab-4f0d-93ea-b93e0a627610&quot;,&quot;parentUUID&quot;:&quot;c067f80e-d97f-48fb-827f-2149afdb4566&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should allow us to set a millisecond ttl&quot;,&quot;fullTitle&quot;:&quot;set-command test should allow us to set a millisecond ttl&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // During local teseting there are 8 milliseconds from put to get\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;MILLItest&#x27;, &#x27;key&#x27;, &#x27;PX&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;77900d70-0e95-4823-bf71-f7c3eba3ddf0&quot;,&quot;parentUUID&quot;:&quot;c067f80e-d97f-48fb-827f-2149afdb4566&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should prove that the one second TTL has expired&quot;,&quot;fullTitle&quot;:&quot;set-command test should prove that the one second TTL has expired&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1003,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;setTimeout(() =&gt; {\n    common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;TTLtest&#x27;])\n        .then((responseGet) =&gt; {\n        chai_1.expect(responseGet).to.equal(null);\n        done();\n    });\n}, 1000);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b53fdb83-b39f-4f90-aedb-0cb3fb0befb4&quot;,&quot;parentUUID&quot;:&quot;c067f80e-d97f-48fb-827f-2149afdb4566&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not accept unknown parameters&quot;,&quot;fullTitle&quot;:&quot;set-command test should not accept unknown parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;test&#x27;, &#x27;key&#x27;, &#x27;Q&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR syntax error&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2bb5dbb5-ff1d-495f-9255-9dd1bdbb33db&quot;,&quot;parentUUID&quot;:&quot;c067f80e-d97f-48fb-827f-2149afdb4566&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should NOT allow SET to invoke PX after EX&quot;,&quot;fullTitle&quot;:&quot;set-command test should NOT allow SET to invoke PX after EX&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;test&#x27;, &#x27;key&#x27;, &#x27;EX&#x27;, &#x27;100&#x27;, &#x27;PX&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR syntax error&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5704c6ad-0a61-4788-86a1-9452dd0026cd&quot;,&quot;parentUUID&quot;:&quot;c067f80e-d97f-48fb-827f-2149afdb4566&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should NOT allow SET to invoke EX after PX&quot;,&quot;fullTitle&quot;:&quot;set-command test should NOT allow SET to invoke EX after PX&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;test&#x27;, &#x27;key&#x27;, &#x27;PX&#x27;, &#x27;100&#x27;, &#x27;EX&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR syntax error&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d788c061-8f7e-4e59-ada1-b4eb4bcfd7a8&quot;,&quot;parentUUID&quot;:&quot;c067f80e-d97f-48fb-827f-2149afdb4566&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not allow a TTL less than 1ms&quot;,&quot;fullTitle&quot;:&quot;set-command test should not allow a TTL less than 1ms&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;MILLItest&#x27;, &#x27;key&#x27;, &#x27;PX&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR invalid expire time in set&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a045812-ff33-4571-9be9-042a7087c42c&quot;,&quot;parentUUID&quot;:&quot;c067f80e-d97f-48fb-827f-2149afdb4566&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should prove that the millisecond TTL has expired&quot;,&quot;fullTitle&quot;:&quot;set-command test should prove that the millisecond TTL has expired&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;setTimeout(() =&gt; {\n    common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;MILLItest&#x27;])\n        .then((responseGet) =&gt; {\n        chai_1.expect(responseGet).to.equal(null);\n        done();\n    });\n}, 10);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f21714e2-c0ad-4321-a36a-b95b3f9e8926&quot;,&quot;parentUUID&quot;:&quot;c067f80e-d97f-48fb-827f-2149afdb4566&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d172339b-7971-4552-ac7e-8b361a516d23&quot;,&quot;c64b2af4-0dbd-423b-aab1-f8de4650493e&quot;,&quot;96da0ac1-f7f1-494a-8133-a10b1402fb33&quot;,&quot;fe0ea21a-c149-408a-bdb9-0e8559677d2f&quot;,&quot;96e90065-c40b-47d4-a1c9-8019f6329c93&quot;,&quot;ca46c6d3-8bab-4f0d-93ea-b93e0a627610&quot;,&quot;77900d70-0e95-4823-bf71-f7c3eba3ddf0&quot;,&quot;b53fdb83-b39f-4f90-aedb-0cb3fb0befb4&quot;,&quot;2bb5dbb5-ff1d-495f-9255-9dd1bdbb33db&quot;,&quot;5704c6ad-0a61-4788-86a1-9452dd0026cd&quot;,&quot;d788c061-8f7e-4e59-ada1-b4eb4bcfd7a8&quot;,&quot;5a045812-ff33-4571-9be9-042a7087c42c&quot;,&quot;f21714e2-c0ad-4321-a36a-b95b3f9e8926&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1035,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;f67b0a67-7753-4a96-8dfd-a2e95157af93&quot;,&quot;title&quot;:&quot;setnx-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/string/setnx-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/string/setnx-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;setnx-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;flush&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6119ad23-2522-40d4-b5eb-5eef8f10df18&quot;,&quot;parentUUID&quot;:&quot;f67b0a67-7753-4a96-8dfd-a2e95157af93&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;setnx-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9d217bdb-f7bc-4793-a9f6-93ac5b420c6f&quot;,&quot;parentUUID&quot;:&quot;f67b0a67-7753-4a96-8dfd-a2e95157af93&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;setnx-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;134f5f72-0b14-4660-8ce0-d20503a36a0d&quot;,&quot;parentUUID&quot;:&quot;f67b0a67-7753-4a96-8dfd-a2e95157af93&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;setnx-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb918a91-3edc-4142-a443-db8a3305de0f&quot;,&quot;parentUUID&quot;:&quot;f67b0a67-7753-4a96-8dfd-a2e95157af93&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return 1 when the key does not exist&quot;,&quot;fullTitle&quot;:&quot;setnx-command test should return 1 when the key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;setnx&#x27;, &#x27;test&#x27;, &#x27;key&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1e4bf0e-f61c-411a-81de-782063b8b9be&quot;,&quot;parentUUID&quot;:&quot;f67b0a67-7753-4a96-8dfd-a2e95157af93&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 0 when the key already exists&quot;,&quot;fullTitle&quot;:&quot;setnx-command test should return 0 when the key already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;setnx&#x27;, &#x27;test&#x27;, &#x27;other&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;key&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e7c6792b-d33b-4360-8165-0f981e503729&quot;,&quot;parentUUID&quot;:&quot;f67b0a67-7753-4a96-8dfd-a2e95157af93&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d1e4bf0e-f61c-411a-81de-782063b8b9be&quot;,&quot;e7c6792b-d33b-4360-8165-0f981e503729&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;4316428d-8874-48fc-ad60-8cfa2eb6a21c&quot;,&quot;title&quot;:&quot;data-type test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/data-type.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/data-type.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;data-type test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5ac98641-d3c8-402a-aa79-d6594263f546&quot;,&quot;parentUUID&quot;:&quot;4316428d-8874-48fc-ad60-8cfa2eb6a21c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;data-type test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e10df2f1-78ff-4d69-a2d4-58a92082acec&quot;,&quot;parentUUID&quot;:&quot;4316428d-8874-48fc-ad60-8cfa2eb6a21c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;data-type test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e4123d71-04cd-4fc4-9c46-826429e5879b&quot;,&quot;parentUUID&quot;:&quot;4316428d-8874-48fc-ad60-8cfa2eb6a21c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should enumerate data-types&quot;,&quot;fullTitle&quot;:&quot;data-type test should enumerate data-types&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        chai_1.expect(data_type_1.DataType.NONE).to.equal(&#x27;none&#x27;);\n        chai_1.expect(data_type_1.DataType.STRING).to.equal(&#x27;string&#x27;);\n        chai_1.expect(data_type_1.DataType.LIST).to.equal(&#x27;list&#x27;);\n        chai_1.expect(data_type_1.DataType.SET).to.equal(&#x27;set&#x27;);\n        chai_1.expect(data_type_1.DataType.ZSET).to.equal(&#x27;zset&#x27;);\n        chai_1.expect(data_type_1.DataType.HASH).to.equal(&#x27;hash&#x27;);\n        chai_1.expect(Object.keys(data_type_1.DataType).length).to.equal(6);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3c3352f2-03e2-4a22-a2bc-9ffdf7890edf&quot;,&quot;parentUUID&quot;:&quot;4316428d-8874-48fc-ad60-8cfa2eb6a21c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3c3352f2-03e2-4a22-a2bc-9ffdf7890edf&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;8dda3b03-e099-472d-9f4b-4609eba78c42&quot;,&quot;title&quot;:&quot;sorted-set test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sorted-set test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();\nss = new sorted_set_1.SortedSet();\nz = new Z();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4c35ed1f-8e47-46ca-a7c6-56d11aea564c&quot;,&quot;parentUUID&quot;:&quot;8dda3b03-e099-472d-9f4b-4609eba78c42&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sorted-set test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fad12dee-e556-4f89-a874-39b1df95978d&quot;,&quot;parentUUID&quot;:&quot;8dda3b03-e099-472d-9f4b-4609eba78c42&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sorted-set test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;216d93ca-e22b-4d63-9488-b501a949768c&quot;,&quot;parentUUID&quot;:&quot;8dda3b03-e099-472d-9f4b-4609eba78c42&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should instantiate&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should instantiate&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        chai_1.expect(z.constructor.name).to.equal(&#x27;Z&#x27;);\n        ss = new sorted_set_1.SortedSet();\n        chai_1.expect(ss.constructor.name).to.equal(&#x27;SortedSet&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b3ce99e-be6e-43d6-880e-1775c3c1222f&quot;,&quot;parentUUID&quot;:&quot;8dda3b03-e099-472d-9f4b-4609eba78c42&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should add, get, and delete an entry&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should add, get, and delete an entry&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        let added = z.add(&#x27;test&#x27;, 1);\n        chai_1.expect(added).to.equal(null);\n        added = ss.add(&#x27;test&#x27;, 1);\n        chai_1.expect(added).to.equal(null);\n        chai_1.expect(z.keys().length).to.equal(1);\n        chai_1.expect(ss.keys().length).to.equal(1);\n        let item = z.get(&#x27;test&#x27;);\n        chai_1.expect(item.constructor.name).to.equal(&#x27;Number&#x27;);\n        item = ss.get(&#x27;test&#x27;);\n        chai_1.expect(item.constructor.name).to.equal(&#x27;Number&#x27;);\n        z.del(&#x27;test&#x27;);\n        chai_1.expect(z.keys().length).to.equal(0);\n        ss.del(&#x27;test&#x27;);\n        chai_1.expect(ss.keys().length).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;538becf9-980d-4d66-b237-f36b12f0366b&quot;,&quot;parentUUID&quot;:&quot;8dda3b03-e099-472d-9f4b-4609eba78c42&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw when attempting to add __proto__ key&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should throw when attempting to add __proto__ key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        chai_1.expect(() =&gt; {\n            z.add(&#x27;__proto__&#x27;, 0);\n        }).to.throw();\n        // expect(() =&gt; {\n        //   ss.add(&#x27;__proto__&#x27;, 0)\n        // }).to.throw();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4a79c47d-55d6-4540-ba3c-b5f06b185907&quot;,&quot;parentUUID&quot;:&quot;8dda3b03-e099-472d-9f4b-4609eba78c42&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not add an undefined or null score&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should not add an undefined or null score&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        let added = z.add(&#x27;test&#x27;, null);\n        chai_1.expect(added).to.equal(null);\n        chai_1.expect(z.keys().length).to.equal(0);\n        added = z.add(&#x27;test&#x27;, undefined);\n        chai_1.expect(z.keys().length).to.equal(0);\n        // Typescript prevents adding null\n        // added = ss.add(&#x27;test&#x27;, null);\n        // expect(added).to.equal(null);\n        // expect(ss.keys().length).to.equal(0);\n        // added = ss.add(&#x27;test&#x27;, undefined);\n        // expect(z.keys().length).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ce01bca0-2588-4c07-aa13-eeded186625e&quot;,&quot;parentUUID&quot;:&quot;8dda3b03-e099-472d-9f4b-4609eba78c42&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not duplicate key/value pairs&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should not duplicate key/value pairs&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        let added = z.add(&#x27;test&#x27;, 123);\n        chai_1.expect(added).to.equal(null); // This is weird\n        chai_1.expect(z.keys().length).to.equal(1);\n        added = z.add(&#x27;test&#x27;, 123);\n        chai_1.expect(added).to.equal(123); // and weirder\n        chai_1.expect(z.keys().length).to.equal(1);\n        added = ss.add(&#x27;test&#x27;, 123);\n        chai_1.expect(added).to.equal(null); // This is weird\n        chai_1.expect(ss.keys().length).to.equal(1);\n        added = ss.add(&#x27;test&#x27;, 123);\n        chai_1.expect(added).to.equal(123); // and weirder\n        chai_1.expect(ss.keys().length).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b8bc3566-3c47-4d6e-a865-1f096ddd6a6e&quot;,&quot;parentUUID&quot;:&quot;8dda3b03-e099-472d-9f4b-4609eba78c42&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the old rank when replacing a key&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should return the old rank when replacing a key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        let added = z.add(&#x27;test&#x27;, 123);\n        chai_1.expect(added).to.equal(null);\n        chai_1.expect(z.keys().length).to.equal(1);\n        added = z.add(&#x27;test&#x27;, 321);\n        chai_1.expect(added).to.equal(123);\n        chai_1.expect(z.keys().length).to.equal(1);\n        added = z.get(&#x27;test&#x27;);\n        chai_1.expect(added).to.equal(321);\n        added = ss.add(&#x27;test&#x27;, 123);\n        chai_1.expect(added).to.equal(null);\n        chai_1.expect(ss.keys().length).to.equal(1);\n        added = ss.add(&#x27;test&#x27;, 321);\n        chai_1.expect(added).to.equal(123);\n        chai_1.expect(ss.keys().length).to.equal(1);\n        added = ss.get(&#x27;test&#x27;);\n        chai_1.expect(added).to.equal(321);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;372d4e37-aaa3-4c58-84c6-b61a00c8a954&quot;,&quot;parentUUID&quot;:&quot;8dda3b03-e099-472d-9f4b-4609eba78c42&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a value when adding at least 32 values (I think - it is difficult to tell)&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should return a value when adding at least 32 values (I think - it is difficult to tell)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ccb8fbf3-1702-45ef-b210-37bb89d5ad87&quot;,&quot;parentUUID&quot;:&quot;8dda3b03-e099-472d-9f4b-4609eba78c42&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should do what the documentation says here: https://www.npmjs.com/package/redis-sorted-set&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should do what the documentation says here: https://www.npmjs.com/package/redis-sorted-set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        chai_1.expect(z.add(&#x27;Terminator&#x27;, 8.0)).to.equal(null); // =&gt; null\n        chai_1.expect(z.add(&#x27;District 9&#x27;, 8.0)).to.equal(null); // =&gt; null\n        chai_1.expect(z.add(&#x27;Ex Machina&#x27;, 0.7)).to.equal(null); // =&gt; null\n        chai_1.expect(z.add(&#x27;Ex Machina&#x27;, 7.7)).to.equal(0.7); // =&gt; 0.7\n        // alias\n        chai_1.expect(z.set(&#x27;The Matrix&#x27;, 8.7)).to.equal(null); // =&gt; null\n        // average O(1)\n        chai_1.expect(z.has(&#x27;Terminator&#x27;)).to.equal(true); // =&gt; true\n        chai_1.expect(z.has(&#x27;Blade Runner&#x27;)).to.equal(false); // =&gt; false\n        // average O(1)\n        chai_1.expect(z.score(&#x27;Ex Machina&#x27;)).to.equal(7.7); // =&gt; 7.7\n        chai_1.expect(z.score(&#x27;Blade Runner&#x27;)).to.equal(null); // =&gt; null\n        // alias\n        chai_1.expect(z.get(&#x27;The Matrix&#x27;)).to.equal(8.7); // =&gt; 8.7\n        // average O(log(N))\n        chai_1.expect(z.rem(&#x27;Ex Machina&#x27;)).to.equal(7.7); // =&gt; 7.7\n        // average O(1)\n        chai_1.expect(z.rem(&#x27;Ex Machina&#x27;)).to.equal(null); // =&gt; null\n        // alias\n        chai_1.expect(z.del(&#x27;Ex Machina&#x27;)).to.equal(null); // =&gt; null\n        // average O(log(N)+M) where M is the number of elements between min and max\n        // This is not working as expected\n        chai_1.expect(z.rangeByScore(7, 8)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        chai_1.expect(z.rangeByScore(8)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]); // [8.0-∞)\n        // =&gt; [&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]\n        chai_1.expect(z.rangeByScore(8, null, { withScores: true })).to.eql([[&#x27;District 9&#x27;, 8.0], [&#x27;Terminator&#x27;, 8.0], [&#x27;The Matrix&#x27;, 8.7]]);\n        // =&gt; [[&#x27;District 9&#x27;, 8.0], [&#x27;Terminator&#x27;, 8.0], [&#x27;The Matrix&#x27;, 8.7]]\n        // average O(log(N)+log(M)) where M as in rangeByScore\n        // Again - not as expected\n        chai_1.expect(z.count(7, 8)).to.equal(2); // =&gt; 3\n        // average O(log(N))\n        // Not working as expected\n        chai_1.expect(z.rank(&#x27;Ex Machina&#x27;)).to.equal(null); // =&gt; 0\n        // Not working as expected\n        chai_1.expect(z.rank(&#x27;Terminator&#x27;)).to.equal(1); // =&gt; 2\n        chai_1.expect(z.rank(&#x27;Blade Runner&#x27;)).to.equal(null); // =&gt; null\n        // average O(log(N)+M) where M as in range\n        // Not working as expected\n        chai_1.expect(z.range(0, 2)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        // Not working as expected\n        chai_1.expect(z.range(0, 2, { withScores: true })).to.eql([[&#x27;District 9&#x27;, 8], [&#x27;Terminator&#x27;, 8], [&#x27;The Matrix&#x27;, 8.7]]);\n        // =&gt; [[&#x27;Ex Machina&#x27;, 7.7],\n        //     [&#x27;District 9&#x27;, 8],\n        //     [&#x27;Terminator&#x27;, 8]]\n        chai_1.expect(z.range(-1)).to.eql([&#x27;The Matrix&#x27;]); // =&gt; [&#x27;The Matrix&#x27;]\n        // almost alias\n        // Not working as expected\n        chai_1.expect(z.slice(0, 3)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        // Set cardinality (number of elements)\n        // average O(1)\n        // Not working as expected\n        chai_1.expect(z.card()).to.equal(3); // =&gt; 4\n        // alias\n        // Not working as expected\n        chai_1.expect(z.length).to.equal(3); // =&gt; 4\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f9c2e09b-3e30-4da6-a56f-d8cf0b701dd3&quot;,&quot;parentUUID&quot;:&quot;8dda3b03-e099-472d-9f4b-4609eba78c42&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;the rewrite should do what the documentation says here: https://www.npmjs.com/package/redis-sorted-set&quot;,&quot;fullTitle&quot;:&quot;sorted-set test the rewrite should do what the documentation says here: https://www.npmjs.com/package/redis-sorted-set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        chai_1.expect(ss.add(&#x27;Terminator&#x27;, 8.0)).to.equal(null); // =&gt; null\n        chai_1.expect(ss.add(&#x27;District 9&#x27;, 8.0)).to.equal(null); // =&gt; null\n        chai_1.expect(ss.add(&#x27;Ex Machina&#x27;, 0.7)).to.equal(null); // =&gt; null\n        chai_1.expect(ss.add(&#x27;Ex Machina&#x27;, 7.7)).to.equal(0.7); // =&gt; 0.7\n        // alias\n        chai_1.expect(ss.set(&#x27;The Matrix&#x27;, 8.7)).to.equal(null); // =&gt; null\n        // average O(1)\n        chai_1.expect(ss.has(&#x27;Terminator&#x27;)).to.equal(true); // =&gt; true\n        chai_1.expect(ss.has(&#x27;Blade Runner&#x27;)).to.equal(false); // =&gt; false\n        // average O(1)\n        chai_1.expect(ss.score(&#x27;Ex Machina&#x27;)).to.equal(7.7); // =&gt; 7.7\n        chai_1.expect(ss.score(&#x27;Blade Runner&#x27;)).to.equal(null); // =&gt; null\n        // alias\n        chai_1.expect(ss.get(&#x27;The Matrix&#x27;)).to.equal(8.7); // =&gt; 8.7\n        // average O(log(N))\n        chai_1.expect(ss.rem(&#x27;Ex Machina&#x27;)).to.equal(7.7); // =&gt; 7.7\n        // average O(1)\n        chai_1.expect(ss.rem(&#x27;Ex Machina&#x27;)).to.equal(null); // =&gt; null\n        // alias\n        chai_1.expect(ss.del(&#x27;Ex Machina&#x27;)).to.equal(null); // =&gt; null\n        // average O(log(N)+M) where M is the number of elements between min and max\n        // This is not working as expected\n        chai_1.expect(ss.rangeByScore(7, 8)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        chai_1.expect(ss.rangeByScore(8)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]); // [8.0-∞)\n        // =&gt; [&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]\n        chai_1.expect(ss.rangeByScore(8, null, { withScores: true })).to.eql([[&#x27;District 9&#x27;, 8.0], [&#x27;Terminator&#x27;, 8.0], [&#x27;The Matrix&#x27;, 8.7]]);\n        // =&gt; [[&#x27;District 9&#x27;, 8.0], [&#x27;Terminator&#x27;, 8.0], [&#x27;The Matrix&#x27;, 8.7]]\n        // average O(log(N)+log(M)) where M as in rangeByScore\n        // Again - not as expected\n        chai_1.expect(ss.count(7, 8)).to.equal(2); // =&gt; 3\n        // average O(log(N))\n        // Not working as expected\n        chai_1.expect(ss.rank(&#x27;Ex Machina&#x27;)).to.equal(null); // =&gt; 0\n        // Not working as expected\n        chai_1.expect(ss.rank(&#x27;Terminator&#x27;)).to.equal(1); // =&gt; 2\n        chai_1.expect(ss.rank(&#x27;Blade Runner&#x27;)).to.equal(null); // =&gt; null\n        // average O(log(N)+M) where M as in range\n        // Not working as expected\n        chai_1.expect(ss.range(0, 2)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        // Not working as expected\n        chai_1.expect(ss.range(0, 2, { withScores: true })).to.eql([[&#x27;District 9&#x27;, 8], [&#x27;Terminator&#x27;, 8], [&#x27;The Matrix&#x27;, 8.7]]);\n        // =&gt; [[&#x27;Ex Machina&#x27;, 7.7],\n        //     [&#x27;District 9&#x27;, 8],\n        //     [&#x27;Terminator&#x27;, 8]]\n        chai_1.expect(ss.range(-1)).to.eql([&#x27;The Matrix&#x27;]); // =&gt; [&#x27;The Matrix&#x27;]\n        // almost alias\n        // Not working as expected\n        chai_1.expect(ss.slice(0, 3)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        // Set cardinality (number of elements)\n        // average O(1)\n        // Not working as expected\n        chai_1.expect(ss.card()).to.equal(3); // =&gt; 4\n        // alias\n        // Not working as expected\n        chai_1.expect(ss.length).to.equal(3); // =&gt; 4\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;074dfb7f-380c-40ed-be5c-82adb6096288&quot;,&quot;parentUUID&quot;:&quot;8dda3b03-e099-472d-9f4b-4609eba78c42&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;d7b7e2b1-3c73-4f32-8d9f-98ad1efe7359&quot;,&quot;title&quot;:&quot;skip map&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support basic operations&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map should support basic operations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nchai_1.expect(z).to.have.length(0);\nchai_1.expect(z.toArray()).to.eql([]);\nchai_1.expect(z.range()).to.eql([]);\nchai_1.expect(z.rangeByScore()).to.eql([]);\nchai_1.expect(() =&gt; {\n    z.add(&#x27;__proto__&#x27;, 14);\n}).to.throw();\nz.add(&#x27;5a600e16&#x27;, 8);\nz.add(&#x27;5a600e17&#x27;, 9);\nchai_1.expect(z.add(&#x27;5a600e18&#x27;, 10)).to.equal(null);\nchai_1.expect(z.add(&#x27;5a600e17&#x27;, 12)).to.equal(9);\nchai_1.expect(z).to.have.length(3);\nchai_1.expect(z.toArray()).to.eql([&#x27;5a600e16&#x27;, &#x27;5a600e18&#x27;, &#x27;5a600e17&#x27;]);\nchai_1.expect(z.toArray()).to.eql(z.range(0, -1));\nchai_1.expect(z.toArray()).to.eql(z.rangeByScore());\nchai_1.expect(z.has(&#x27;5a600e16&#x27;)).to.be.ok;\nchai_1.expect(z.has(&#x27;5a600e17&#x27;)).to.be.ok;\nchai_1.expect(z.has(&#x27;5a600e18&#x27;)).to.be.ok;\nchai_1.expect(z.has(&#x27;5a600e19&#x27;)).to.not.be.ok;\nchai_1.expect(z.score(&#x27;5a600e16&#x27;)).to.equal(8);\nchai_1.expect(z.score(&#x27;5a600e17&#x27;)).to.equal(12);\nchai_1.expect(z.score(&#x27;5a600e18&#x27;)).to.equal(10);\nchai_1.expect(z.score(&#x27;5a600e19&#x27;)).to.equal(null);\nchai_1.expect(z.rem(&#x27;5a600e16&#x27;)).to.equal(8);\nchai_1.expect(z).to.have.length(2);\nchai_1.expect(z.rem(&#x27;5a600e16&#x27;)).to.equal(null);\nchai_1.expect(z).to.have.length(2);\nchai_1.expect(z.has(&#x27;5a600e16&#x27;)).to.not.be.ok;\nchai_1.expect(z.toArray()).to.eql([&#x27;5a600e18&#x27;, &#x27;5a600e17&#x27;]);\nchai_1.expect(z.toArray({ withScores: true }))\n    .to.eql(z.range(0, -1, { withScores: true }));\nchai_1.expect(z.toArray()).to.eql(z.rangeByScore());\nz.add(&#x27;5a600e16&#x27;, 10);\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nchai_1.expect(z).to.have.length(9);\n// no change, so should be O(1)\nz.add(&#x27;5a600e17&#x27;, 12);\nchai_1.expect(z.rank(&#x27;5a600e17&#x27;)).to.equal(4);\nchai_1.expect(z).to.have.length(9);\nchai_1.expect(z.toArray()).to.eql([\n    &#x27;5a600e16&#x27;,\n    &#x27;5a600e11&#x27;,\n    &#x27;5a600e18&#x27;,\n    &#x27;5a600e13&#x27;,\n    &#x27;5a600e17&#x27;,\n    &#x27;5a600e14&#x27;,\n    &#x27;5a600e10&#x27;,\n    &#x27;5a600e12&#x27;,\n    &#x27;5a600e15&#x27;,\n]);\nchai_1.expect(z.toArray()).to.eql(z.range(0, -1));\nchai_1.expect(z.toArray()).to.eql(z.rangeByScore());\nchai_1.expect(z.rangeByScore(14, 16, { withScores: true })).to.eql([\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f13c4e39-4eee-44fe-b0a3-f81aa06b72e1&quot;,&quot;parentUUID&quot;:&quot;d7b7e2b1-3c73-4f32-8d9f-98ad1efe7359&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;72e43bc2-2a8a-423f-bd95-8cba080281a7&quot;,&quot;title&quot;:&quot;#add&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should implicitly delete&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #add should implicitly delete&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.add(&#x27;5a600e14&#x27;, null)).to.equal(14);\nchai_1.expect(z.add(&#x27;5a600e19&#x27;, null)).to.equal(null);\nchai_1.expect(z).to.have.length(8);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4663701f-3296-4a0b-b290-bf633b5fde82&quot;,&quot;parentUUID&quot;:&quot;72e43bc2-2a8a-423f-bd95-8cba080281a7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4663701f-3296-4a0b-b290-bf633b5fde82&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;01e3ab71-d362-44b2-9e63-65f46a1fd896&quot;,&quot;title&quot;:&quot;#empty&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove all elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #empty should remove all elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nz.empty();\nchai_1.expect(z).to.have.length(0);\nchai_1.expect(z.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;26858968-f21e-4495-91d5-95a7b2142242&quot;,&quot;parentUUID&quot;:&quot;01e3ab71-d362-44b2-9e63-65f46a1fd896&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;26858968-f21e-4495-91d5-95a7b2142242&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;57e75360-7133-44aa-bced-65295e9c7b8c&quot;,&quot;title&quot;:&quot;#incrBy(increment, key)&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should increase rank&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #incrBy(increment, key) should increase rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;first&#x27;, 1);\nz.add(&#x27;second&#x27;, 2);\nz.add(&#x27;third&#x27;, 3);\nz.add(&#x27;fourth&#x27;, 4);\nchai_1.expect(z.incrBy(2, &#x27;first&#x27;)).to.equal(3);\nchai_1.expect(z.rank(&#x27;first&#x27;)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dfbfba03-c891-4570-8ea6-946dd4f98007&quot;,&quot;parentUUID&quot;:&quot;57e75360-7133-44aa-bced-65295e9c7b8c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create if not found&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #incrBy(increment, key) should create if not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;first&#x27;, 1);\nz.incrBy(2, &#x27;second&#x27;);\nchai_1.expect(z.card()).to.equal(2);\nchai_1.expect(z.rank(&#x27;second&#x27;)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c291101f-188d-412e-b400-4f24cce09a91&quot;,&quot;parentUUID&quot;:&quot;57e75360-7133-44aa-bced-65295e9c7b8c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;dfbfba03-c891-4570-8ea6-946dd4f98007&quot;,&quot;c291101f-188d-412e-b400-4f24cce09a91&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;4e204bff-71a9-45bd-95c1-9d143879cab2&quot;,&quot;title&quot;:&quot;#keys&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the keys&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #keys should return the keys&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.keys()).to.eql([&#x27;5a600e16&#x27;, &#x27;5a600e11&#x27;, &#x27;5a600e18&#x27;, &#x27;5a600e13&#x27;,\n    &#x27;5a600e17&#x27;, &#x27;5a600e14&#x27;, &#x27;5a600e10&#x27;, &#x27;5a600e12&#x27;, &#x27;5a600e15&#x27;]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e827219b-0ece-48cf-8827-866af24eb28d&quot;,&quot;parentUUID&quot;:&quot;4e204bff-71a9-45bd-95c1-9d143879cab2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e827219b-0ece-48cf-8827-866af24eb28d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;a4738cbc-f84a-4c66-bbc5-7286fa59daf3&quot;,&quot;title&quot;:&quot;#rangeByScore&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support special ranges&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #rangeByScore should support special ranges&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.rangeByScore(14, null, { withScores: true })).to.eql([\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);\nchai_1.expect(z.rangeByScore(null, 10, { withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e11&#x27;, 6],\n    [&#x27;5a600e18&#x27;, 10],\n]);\nchai_1.expect(z.rangeByScore(-Infinity, Infinity)).to.eql(z.toArray());\nchai_1.expect(z.rangeByScore(null, null)).to.eql(z.toArray());&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0dc62211-8be7-4b7a-b97b-b6623c91f4e7&quot;,&quot;parentUUID&quot;:&quot;a4738cbc-f84a-4c66-bbc5-7286fa59daf3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0dc62211-8be7-4b7a-b97b-b6623c91f4e7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;90c1bf86-b330-446c-a714-50b57c897d8e&quot;,&quot;title&quot;:&quot;#count&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should count elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #count should count elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nchai_1.expect(z.count()).to.equal(0);\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nz.add(&#x27;5a600e19&#x27;, 14);\nz.add(&#x27;5a600f00&#x27;, 30.0);\nz.add(&#x27;5a600f01&#x27;, 30.5);\nz.add(&#x27;5a600f02&#x27;, 31.0);\nz.add(&#x27;5a600f03&#x27;, 31.5);\nz.add(&#x27;5a600f04&#x27;, 32.0);\nz.add(&#x27;5a600f05&#x27;, 32.0);\nz.add(&#x27;5a600f06&#x27;, 32.0);\nchai_1.expect(z.count()).to.eql(z.rangeByScore().length);\nchai_1.expect(z.count(8)).to.eql(z.rangeByScore(8).length);\nchai_1.expect(z.count(3, 7)).to.eql(z.rangeByScore(3, 7).length);\nchai_1.expect(z.count(5, 14)).to.eql(z.rangeByScore(5, 14).length);\nchai_1.expect(z.count(5, 5)).to.eql(z.rangeByScore(5, 5).length);\nchai_1.expect(z.count(5, 0)).to.eql(z.rangeByScore(5, 0).length);\nchai_1.expect(z.count(30, 32)).to.eql(z.rangeByScore(30, 32).length);\nchai_1.expect(z.count(40)).to.eql(z.rangeByScore(40).length);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c925227a-4a80-440a-bcc7-0df041f8f32c&quot;,&quot;parentUUID&quot;:&quot;90c1bf86-b330-446c-a714-50b57c897d8e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c925227a-4a80-440a-bcc7-0df041f8f32c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;2ecff492-cecc-46bc-a752-69af0fbd69f5&quot;,&quot;title&quot;:&quot;#range&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support special ranges&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #range should support special ranges&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;first&#x27;, 1);\nz.add(&#x27;second&#x27;, 2);\nz.add(&#x27;third&#x27;, 3);\nz.add(&#x27;fourth&#x27;, 4);\nvar array = [&#x27;first&#x27;, &#x27;second&#x27;, &#x27;third&#x27;, &#x27;fourth&#x27;];\nchai_1.expect(z.range()).to.eql(array);\nchai_1.expect(z.range(2)).to.eql(array.slice(2));\nchai_1.expect(z.range(8)).to.eql(array.slice(8));\nchai_1.expect(z.range(0, 2)).to.eql(array.slice(0, 3));\nchai_1.expect(z.range(-1)).to.eql([&#x27;fourth&#x27;]);\nchai_1.expect(z.range(-4)).to.eql(array);\nchai_1.expect(z.range(-4, -2)).to.eql(array.slice(0, 3));\nchai_1.expect(z.range(-4, z.length + 1000))\n    .to.eql(array.slice(-4, z.length + 1000));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b3cc1189-ce71-4dd2-9a21-2ed73fa3b4d3&quot;,&quot;parentUUID&quot;:&quot;2ecff492-cecc-46bc-a752-69af0fbd69f5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support withScores&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #range should support withScores&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;first&#x27;, 1);\nz.add(&#x27;second&#x27;, 2);\nchai_1.expect(z.range(0, 0, { withScores: true }))\n    .to.eql([[&#x27;first&#x27;, 1]]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0065abd7-ff54-42d1-bc2c-f819b16b65b7&quot;,&quot;parentUUID&quot;:&quot;2ecff492-cecc-46bc-a752-69af0fbd69f5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b3cc1189-ce71-4dd2-9a21-2ed73fa3b4d3&quot;,&quot;0065abd7-ff54-42d1-bc2c-f819b16b65b7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;ad0ac67c-70e4-406b-8361-9d87d2097ad9&quot;,&quot;title&quot;:&quot;#intersect&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should intersect two sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #intersect should intersect two sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var a = new Z(), b = new Z();\na.add(&#x27;5a600e10&#x27;, 16);\na.add(&#x27;5a600e12&#x27;, 10);\na.add(&#x27;5a600e14&#x27;, 9);\na.add(&#x27;5a600e15&#x27;, 14);\na.add(&#x27;5a600e17&#x27;, 20);\na.add(&#x27;5a600e18&#x27;, 13);\na.add(&#x27;5a600e19&#x27;, 15);\na.add(&#x27;5a600e1a&#x27;, 19);\na.add(&#x27;5a600e1b&#x27;, 7);\na.add(&#x27;5a600e1c&#x27;, 13);\na.add(&#x27;5a600e1e&#x27;, 10);\nb.add(&#x27;5a600e10&#x27;, 0);\nb.add(&#x27;5a600e11&#x27;, 15);\nb.add(&#x27;5a600e13&#x27;, 5);\nb.add(&#x27;5a600e14&#x27;, 3);\nb.add(&#x27;5a600e15&#x27;, 14);\nb.add(&#x27;5a600e17&#x27;, 12);\nb.add(&#x27;5a600e19&#x27;, 12);\nb.add(&#x27;5a600e1b&#x27;, 16);\nb.add(&#x27;5a600e1c&#x27;, 12);\nb.add(&#x27;5a600e1d&#x27;, 17);\nb.add(&#x27;5a600e1f&#x27;, 3);\nchai_1.expect(Z.intersect(a, b)).to.eql([&#x27;5a600e10&#x27;, &#x27;5a600e14&#x27;,\n    &#x27;5a600e17&#x27;, &#x27;5a600e19&#x27;, &#x27;5a600e1c&#x27;, &#x27;5a600e15&#x27;, &#x27;5a600e1b&#x27;]);\nchai_1.expect(Z.intersect(b, a)).to.eql([&#x27;5a600e1b&#x27;, &#x27;5a600e14&#x27;,\n    &#x27;5a600e1c&#x27;, &#x27;5a600e15&#x27;, &#x27;5a600e19&#x27;, &#x27;5a600e10&#x27;, &#x27;5a600e17&#x27;]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53163f6a-06ff-423e-a3e8-5fc5b6ada978&quot;,&quot;parentUUID&quot;:&quot;ad0ac67c-70e4-406b-8361-9d87d2097ad9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should intersect three sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #intersect should intersect three sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var a = new Z(), b = new Z(), c = new Z();\na.add(&#x27;5a600e10&#x27;, 16);\na.add(&#x27;5a600e12&#x27;, 10);\na.add(&#x27;5a600e14&#x27;, 9);\na.add(&#x27;5a600e15&#x27;, 14);\na.add(&#x27;5a600e17&#x27;, 20);\na.add(&#x27;5a600e18&#x27;, 13);\na.add(&#x27;5a600e19&#x27;, 15);\na.add(&#x27;5a600e1a&#x27;, 19);\na.add(&#x27;5a600e1b&#x27;, 7);\na.add(&#x27;5a600e1c&#x27;, 13);\na.add(&#x27;5a600e1e&#x27;, 10);\nb.add(&#x27;5a600e10&#x27;, 0);\nb.add(&#x27;5a600e11&#x27;, 15);\nb.add(&#x27;5a600e13&#x27;, 5);\nb.add(&#x27;5a600e14&#x27;, 3);\nb.add(&#x27;5a600e15&#x27;, 14);\nb.add(&#x27;5a600e17&#x27;, 12);\nb.add(&#x27;5a600e19&#x27;, 12);\nb.add(&#x27;5a600e1b&#x27;, 16);\nb.add(&#x27;5a600e1c&#x27;, 12);\nb.add(&#x27;5a600e1d&#x27;, 17);\nb.add(&#x27;5a600e1f&#x27;, 3);\nc.add(&#x27;5a600e10&#x27;, 7);\nc.add(&#x27;5a600e12&#x27;, 20);\nc.add(&#x27;5a600e13&#x27;, 9);\nc.add(&#x27;5a600e14&#x27;, 19);\nc.add(&#x27;5a600e16&#x27;, 19);\nc.add(&#x27;5a600e17&#x27;, 1);\nc.add(&#x27;5a600e18&#x27;, 18);\nc.add(&#x27;5a600e1a&#x27;, 6);\nc.add(&#x27;5a600e1c&#x27;, 15);\nc.add(&#x27;5a600e1f&#x27;, 4);\nchai_1.expect(Z.intersect(c, a, b)).to.eql([&#x27;5a600e10&#x27;, &#x27;5a600e14&#x27;,\n    &#x27;5a600e17&#x27;, &#x27;5a600e1c&#x27;]);\nchai_1.expect(Z.intersect(c, a, b)).to.eql(c.intersect(a, b));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cc2ac960-a891-4210-957c-a7cb61c3d719&quot;,&quot;parentUUID&quot;:&quot;ad0ac67c-70e4-406b-8361-9d87d2097ad9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should intersect four sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #intersect should intersect four sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var a = new Z();\nvar b = new Z();\nvar c = new Z();\nvar d = new Z();\na.add(&#x27;5a600e10&#x27;, 16);\na.add(&#x27;5a600e12&#x27;, 10);\na.add(&#x27;5a600e14&#x27;, 9);\na.add(&#x27;5a600e15&#x27;, 14);\na.add(&#x27;5a600e17&#x27;, 20);\na.add(&#x27;5a600e18&#x27;, 13);\na.add(&#x27;5a600e19&#x27;, 15);\na.add(&#x27;5a600e1a&#x27;, 19);\na.add(&#x27;5a600e1b&#x27;, 7);\na.add(&#x27;5a600e1c&#x27;, 13);\na.add(&#x27;5a600e1e&#x27;, 10);\nb.add(&#x27;5a600e10&#x27;, 0);\nb.add(&#x27;5a600e11&#x27;, 15);\nb.add(&#x27;5a600e13&#x27;, 5);\nb.add(&#x27;5a600e14&#x27;, 3);\nb.add(&#x27;5a600e15&#x27;, 14);\nb.add(&#x27;5a600e17&#x27;, 12);\nb.add(&#x27;5a600e19&#x27;, 12);\nb.add(&#x27;5a600e1b&#x27;, 16);\nb.add(&#x27;5a600e1c&#x27;, 12);\nb.add(&#x27;5a600e1d&#x27;, 17);\nb.add(&#x27;5a600e1f&#x27;, 3);\nc.add(&#x27;5a600e10&#x27;, 7);\nc.add(&#x27;5a600e12&#x27;, 20);\nc.add(&#x27;5a600e13&#x27;, 9);\nc.add(&#x27;5a600e14&#x27;, 19);\nc.add(&#x27;5a600e16&#x27;, 19);\nc.add(&#x27;5a600e17&#x27;, 1);\nc.add(&#x27;5a600e18&#x27;, 18);\nc.add(&#x27;5a600e1a&#x27;, 6);\nc.add(&#x27;5a600e1c&#x27;, 15);\nc.add(&#x27;5a600e1f&#x27;, 4);\nd.add(&#x27;5a600e1c&#x27;, 400);\nd.add(&#x27;5a600e17&#x27;, 500);\nd.add(&#x27;5a600e1f&#x27;, 600);\nd.add(&#x27;5a600e20&#x27;, 700);\nchai_1.expect(Z.intersect(d, c, a, b)).to.eql([&#x27;5a600e17&#x27;, &#x27;5a600e1c&#x27;]);\nchai_1.expect(Z.intersect(d, c, a, b)).to.eql(d.intersect(c, a, b));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7286c91d-9baa-4bb7-92ee-835683fce598&quot;,&quot;parentUUID&quot;:&quot;ad0ac67c-70e4-406b-8361-9d87d2097ad9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;53163f6a-06ff-423e-a3e8-5fc5b6ada978&quot;,&quot;cc2ac960-a891-4210-957c-a7cb61c3d719&quot;,&quot;7286c91d-9baa-4bb7-92ee-835683fce598&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;ecaca2b7-2499-4f66-b446-5fcf3c98a40d&quot;,&quot;title&quot;:&quot;#rank&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get the correct rank&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #rank should get the correct rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.rank(&#x27;5a600e12&#x27;)).to.equal(7);\nchai_1.expect(z.rank(&#x27;5a600e13&#x27;)).to.equal(3);\nchai_1.expect(z.rank(&#x27;5a600e16&#x27;)).to.equal(0);\nchai_1.expect(z.rank(&#x27;5a600e15&#x27;)).to.equal(8);\nchai_1.expect(z.rank(&#x27;not in set&#x27;)).to.equal(null);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;17069b69-454f-40cd-9a9b-f5579bf0faa4&quot;,&quot;parentUUID&quot;:&quot;ecaca2b7-2499-4f66-b446-5fcf3c98a40d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;17069b69-454f-40cd-9a9b-f5579bf0faa4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;883630ba-9031-40a5-9869-e817d575af41&quot;,&quot;title&quot;:&quot;#rem&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete special elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #rem should delete special elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.rem(&#x27;5a600e15&#x27;)).to.equal(19);\nchai_1.expect(z).to.have.length(8);\nchai_1.expect(z.rem(&#x27;5a600e16&#x27;)).to.equal(3);\nchai_1.expect(z).to.have.length(7);\nchai_1.expect(z.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e11&#x27;, 6],\n    [&#x27;5a600e18&#x27;, 10],\n    [&#x27;5a600e13&#x27;, 11],\n    [&#x27;5a600e17&#x27;, 12],\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;009a4bc2-a50d-4fa9-84db-71bb10658a44&quot;,&quot;parentUUID&quot;:&quot;883630ba-9031-40a5-9869-e817d575af41&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should delete many elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #rem should delete many elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.rem(&#x27;5a600e11&#x27;)).to.equal(6);\nchai_1.expect(z.rem(&#x27;5a600e13&#x27;)).to.equal(11);\nchai_1.expect(z.rem(&#x27;5a600e14&#x27;)).to.equal(14);\nchai_1.expect(z.rem(&#x27;5a600e15&#x27;)).to.equal(19);\nchai_1.expect(z.rem(&#x27;5a600e16&#x27;)).to.equal(3);\nchai_1.expect(z.rem(&#x27;5a600e17&#x27;)).to.equal(12);\nchai_1.expect(z.length).to.equal(3);\nchai_1.expect(z.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e18&#x27;, 10],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5f9897de-245d-4725-b1ae-f670f9474d31&quot;,&quot;parentUUID&quot;:&quot;883630ba-9031-40a5-9869-e817d575af41&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;009a4bc2-a50d-4fa9-84db-71bb10658a44&quot;,&quot;5f9897de-245d-4725-b1ae-f670f9474d31&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;39c8027b-0126-4736-88d2-6ff8c701281a&quot;,&quot;title&quot;:&quot;#remRangeByScore&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should strip out a range of elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #remRangeByScore should strip out a range of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.remRangeByScore(4, 14)).to.equal(5);\nchai_1.expect(z).to.have.length(4);\nchai_1.expect(z.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b223fe2-a316-495f-abbc-e77c1c0db241&quot;,&quot;parentUUID&quot;:&quot;39c8027b-0126-4736-88d2-6ff8c701281a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should strip out all the elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #remRangeByScore should strip out all the elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.remRangeByScore(3, 19)).to.equal(9);\nchai_1.expect(z).to.have.length(0);\nchai_1.expect(z.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4910a177-cbf0-4dd5-acbe-71f1c7c23e3b&quot;,&quot;parentUUID&quot;:&quot;39c8027b-0126-4736-88d2-6ff8c701281a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3b223fe2-a316-495f-abbc-e77c1c0db241&quot;,&quot;4910a177-cbf0-4dd5-acbe-71f1c7c23e3b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;f0a55c16-2b1f-4cd6-bef9-ea190950d113&quot;,&quot;title&quot;:&quot;#remRangeByRank&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should strip out a slice of elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #remRangeByRank should strip out a slice of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.remRangeByRank(1, 6)).to.equal(5);\nchai_1.expect(z).to.have.length(4);\nchai_1.expect(z.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8d88809d-7134-4ea8-b5fa-5f45ad9f9ad8&quot;,&quot;parentUUID&quot;:&quot;f0a55c16-2b1f-4cd6-bef9-ea190950d113&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should strip out all elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #remRangeByRank should strip out all elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.remRangeByRank(0, 9)).to.equal(9);\nchai_1.expect(z).to.have.length(0);\nchai_1.expect(z.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;18042d47-e9a2-4100-bd4d-2ac248aa3220&quot;,&quot;parentUUID&quot;:&quot;f0a55c16-2b1f-4cd6-bef9-ea190950d113&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8d88809d-7134-4ea8-b5fa-5f45ad9f9ad8&quot;,&quot;18042d47-e9a2-4100-bd4d-2ac248aa3220&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;194861c0-dac8-44d0-9fd7-f6bbcbf1ba4c&quot;,&quot;title&quot;:&quot;#values&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the values&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #values should return the values&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;first&#x27;, -1);\nz.add(&#x27;third&#x27;, 5);\nz.add(&#x27;second&#x27;, 3);\nchai_1.expect(z.values()).to.eql([-1, 3, 5]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6e2625e1-7947-4819-beed-9ad032c47e42&quot;,&quot;parentUUID&quot;:&quot;194861c0-dac8-44d0-9fd7-f6bbcbf1ba4c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6e2625e1-7947-4819-beed-9ad032c47e42&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;c81bd74f-ba73-4164-aad5-29ce6e94e74a&quot;,&quot;title&quot;:&quot;unique&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should ensure values are unique&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map unique should ensure values are unique&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z({ unique: true });\nassert.equal(z.keys().length, 0, &#x27;Expected an empty SortedSet&#x27;);\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(() =&gt; {\n    z.add(&#x27;5a600e19&#x27;, 11);\n}).to.throw(/unique/);\n// quick exit test\nchai_1.expect(() =&gt; {\n    z.add(&#x27;5a600dff&#x27;, z._head.next[z._level - 1].next.value);\n}).to.throw(/unique/);\n// this test ensures the key &lt; key check doesn&#x27;t come into play\nchai_1.expect(() =&gt; {\n    z.add(&#x27;5a600dff&#x27;, 11);\n}).to.throw(/unique/);\nchai_1.expect(() =&gt; {\n    z.add(&#x27;5a600e18&#x27;, 10);\n}).to.not.throw();\nchai_1.expect(z).to.have.length(9);\nchai_1.expect(z.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e11&#x27;, 6],\n    [&#x27;5a600e18&#x27;, 10],\n    [&#x27;5a600e13&#x27;, 11],\n    [&#x27;5a600e17&#x27;, 12],\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd2dfff1-1865-49b8-a979-b5d5ebf99156&quot;,&quot;parentUUID&quot;:&quot;c81bd74f-ba73-4164-aad5-29ce6e94e74a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert keys if constraint broken during update&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map unique should revert keys if constraint broken during update&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z({ unique: true });\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(() =&gt; {\n    z.add(&#x27;5a600e13&#x27;, 14);\n}).to.throw(/unique/);\nchai_1.expect(z).to.have.length(9);\nchai_1.expect(z.score(&#x27;5a600e13&#x27;)).to.equal(11);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74ce683e-3834-439b-a3f5-6e6e603aab17&quot;,&quot;parentUUID&quot;:&quot;c81bd74f-ba73-4164-aad5-29ce6e94e74a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cd2dfff1-1865-49b8-a979-b5d5ebf99156&quot;,&quot;74ce683e-3834-439b-a3f5-6e6e603aab17&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[&quot;f13c4e39-4eee-44fe-b0a3-f81aa06b72e1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;f804abdb-4a2e-46d3-ab7c-ca41d615807d&quot;,&quot;title&quot;:&quot;skip map rewrite&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support basic operations&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite should support basic operations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nchai_1.expect(ss).to.have.length(0);\nchai_1.expect(ss.toArray()).to.eql([]);\nchai_1.expect(ss.range()).to.eql([]);\nchai_1.expect(ss.rangeByScore()).to.eql([]);\n// expect(() =&gt; {\n//   ss.add(&#x27;__proto__&#x27;, 14);\n// }).to.throw();\nss.add(&#x27;5a600e16&#x27;, 8);\nss.add(&#x27;5a600e17&#x27;, 9);\nchai_1.expect(ss.add(&#x27;5a600e18&#x27;, 10)).to.equal(null);\nchai_1.expect(ss.add(&#x27;5a600e17&#x27;, 12)).to.equal(9);\nchai_1.expect(ss).to.have.length(3);\nchai_1.expect(ss.toArray()).to.eql([&#x27;5a600e16&#x27;, &#x27;5a600e18&#x27;, &#x27;5a600e17&#x27;]);\nchai_1.expect(ss.toArray()).to.eql(ss.range(0, -1));\nchai_1.expect(ss.toArray()).to.eql(ss.rangeByScore());\nchai_1.expect(ss.has(&#x27;5a600e16&#x27;)).to.be.ok;\nchai_1.expect(ss.has(&#x27;5a600e17&#x27;)).to.be.ok;\nchai_1.expect(ss.has(&#x27;5a600e18&#x27;)).to.be.ok;\nchai_1.expect(ss.has(&#x27;5a600e19&#x27;)).to.not.be.ok;\nchai_1.expect(ss.score(&#x27;5a600e16&#x27;)).to.equal(8);\nchai_1.expect(ss.score(&#x27;5a600e17&#x27;)).to.equal(12);\nchai_1.expect(ss.score(&#x27;5a600e18&#x27;)).to.equal(10);\nchai_1.expect(ss.score(&#x27;5a600e19&#x27;)).to.equal(null);\nchai_1.expect(ss.rem(&#x27;5a600e16&#x27;)).to.equal(8);\nchai_1.expect(ss).to.have.length(2);\nchai_1.expect(ss.rem(&#x27;5a600e16&#x27;)).to.equal(null);\nchai_1.expect(ss).to.have.length(2);\nchai_1.expect(ss.has(&#x27;5a600e16&#x27;)).to.not.be.ok;\nchai_1.expect(ss.toArray()).to.eql([&#x27;5a600e18&#x27;, &#x27;5a600e17&#x27;]);\nchai_1.expect(ss.toArray({ withScores: true }))\n    .to.eql(ss.range(0, -1, { withScores: true }));\nchai_1.expect(ss.toArray()).to.eql(ss.rangeByScore());\nss.add(&#x27;5a600e16&#x27;, 10);\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nchai_1.expect(ss).to.have.length(9);\n// no change, so should be O(1)\nss.add(&#x27;5a600e17&#x27;, 12);\nchai_1.expect(ss.rank(&#x27;5a600e17&#x27;)).to.equal(4);\nchai_1.expect(ss).to.have.length(9);\nchai_1.expect(ss.toArray()).to.eql([\n    &#x27;5a600e16&#x27;,\n    &#x27;5a600e11&#x27;,\n    &#x27;5a600e18&#x27;,\n    &#x27;5a600e13&#x27;,\n    &#x27;5a600e17&#x27;,\n    &#x27;5a600e14&#x27;,\n    &#x27;5a600e10&#x27;,\n    &#x27;5a600e12&#x27;,\n    &#x27;5a600e15&#x27;,\n]);\nchai_1.expect(ss.toArray()).to.eql(ss.range(0, -1));\nchai_1.expect(ss.toArray()).to.eql(ss.rangeByScore());\nchai_1.expect(ss.rangeByScore(14, 16, { withScores: true })).to.eql([\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;27b02b17-c226-4536-a02f-cde3848990df&quot;,&quot;parentUUID&quot;:&quot;f804abdb-4a2e-46d3-ab7c-ca41d615807d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;18b3615e-3839-4060-9c5b-6cd7d33a6954&quot;,&quot;title&quot;:&quot;#add&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should implicitly delete&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #add should implicitly delete&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.add(&#x27;5a600e14&#x27;, null)).to.equal(14);\nchai_1.expect(ss.add(&#x27;5a600e19&#x27;, null)).to.equal(null);\nchai_1.expect(ss).to.have.length(8);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;33fe25d8-9096-4a76-8de3-8ec90cf78454&quot;,&quot;parentUUID&quot;:&quot;18b3615e-3839-4060-9c5b-6cd7d33a6954&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;33fe25d8-9096-4a76-8de3-8ec90cf78454&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;c8a8ba6d-f3fd-4994-90e7-52b839bb3dbe&quot;,&quot;title&quot;:&quot;#empty&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove all elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #empty should remove all elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nss.empty();\nchai_1.expect(ss).to.have.length(0);\nchai_1.expect(ss.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;551923d6-7cc8-47a4-9d50-2e319fd7faff&quot;,&quot;parentUUID&quot;:&quot;c8a8ba6d-f3fd-4994-90e7-52b839bb3dbe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;551923d6-7cc8-47a4-9d50-2e319fd7faff&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;4c8d8afc-a422-4fa0-a648-a1dfef888c17&quot;,&quot;title&quot;:&quot;#incrBy(increment, key)&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should increase rank&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #incrBy(increment, key) should increase rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;first&#x27;, 1);\nss.add(&#x27;second&#x27;, 2);\nss.add(&#x27;third&#x27;, 3);\nss.add(&#x27;fourth&#x27;, 4);\nchai_1.expect(ss.incrBy(2, &#x27;first&#x27;)).to.equal(3);\nchai_1.expect(ss.rank(&#x27;first&#x27;)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d125fe73-f58c-4a06-a96b-ce8d8d1d4adc&quot;,&quot;parentUUID&quot;:&quot;4c8d8afc-a422-4fa0-a648-a1dfef888c17&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create if not found&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #incrBy(increment, key) should create if not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;first&#x27;, 1);\nss.incrBy(2, &#x27;second&#x27;);\nchai_1.expect(ss.card()).to.equal(2);\nchai_1.expect(ss.rank(&#x27;second&#x27;)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;12494cd7-afbc-4756-8fda-2a5ed1ff68e4&quot;,&quot;parentUUID&quot;:&quot;4c8d8afc-a422-4fa0-a648-a1dfef888c17&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d125fe73-f58c-4a06-a96b-ce8d8d1d4adc&quot;,&quot;12494cd7-afbc-4756-8fda-2a5ed1ff68e4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;01973158-9adc-4f16-8724-fc7921d7d952&quot;,&quot;title&quot;:&quot;#keys&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the keys&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #keys should return the keys&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.keys()).to.eql([&#x27;5a600e16&#x27;, &#x27;5a600e11&#x27;, &#x27;5a600e18&#x27;, &#x27;5a600e13&#x27;,\n    &#x27;5a600e17&#x27;, &#x27;5a600e14&#x27;, &#x27;5a600e10&#x27;, &#x27;5a600e12&#x27;, &#x27;5a600e15&#x27;]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;95e22273-79d3-432e-baa8-7a597f0276fc&quot;,&quot;parentUUID&quot;:&quot;01973158-9adc-4f16-8724-fc7921d7d952&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;95e22273-79d3-432e-baa8-7a597f0276fc&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;a1a37c58-b34a-4e55-aa2e-450bc8372714&quot;,&quot;title&quot;:&quot;#rangeByScore&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support special ranges&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #rangeByScore should support special ranges&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.rangeByScore(14, null, { withScores: true })).to.eql([\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);\nchai_1.expect(ss.rangeByScore(null, 10, { withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e11&#x27;, 6],\n    [&#x27;5a600e18&#x27;, 10],\n]);\nchai_1.expect(ss.rangeByScore(-Infinity, Infinity)).to.eql(ss.toArray());\nchai_1.expect(ss.rangeByScore(null, null)).to.eql(ss.toArray());&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;812fa2e8-64bd-443b-b108-d4da3ffd890d&quot;,&quot;parentUUID&quot;:&quot;a1a37c58-b34a-4e55-aa2e-450bc8372714&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;812fa2e8-64bd-443b-b108-d4da3ffd890d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;bbfe1fd5-63a0-4cfb-a688-8b0b6520a1a5&quot;,&quot;title&quot;:&quot;#count&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should count elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #count should count elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nchai_1.expect(ss.count()).to.equal(0);\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nss.add(&#x27;5a600e19&#x27;, 14);\nss.add(&#x27;5a600f00&#x27;, 30.0);\nss.add(&#x27;5a600f01&#x27;, 30.5);\nss.add(&#x27;5a600f02&#x27;, 31.0);\nss.add(&#x27;5a600f03&#x27;, 31.5);\nss.add(&#x27;5a600f04&#x27;, 32.0);\nss.add(&#x27;5a600f05&#x27;, 32.0);\nss.add(&#x27;5a600f06&#x27;, 32.0);\nchai_1.expect(ss.count()).to.eql(ss.rangeByScore().length);\nchai_1.expect(ss.count(8)).to.eql(ss.rangeByScore(8).length);\nchai_1.expect(ss.count(3, 7)).to.eql(ss.rangeByScore(3, 7).length);\nchai_1.expect(ss.count(5, 14)).to.eql(ss.rangeByScore(5, 14).length);\nchai_1.expect(ss.count(5, 5)).to.eql(ss.rangeByScore(5, 5).length);\nchai_1.expect(ss.count(5, 0)).to.eql(ss.rangeByScore(5, 0).length);\nchai_1.expect(ss.count(30, 32)).to.eql(ss.rangeByScore(30, 32).length);\nchai_1.expect(ss.count(40)).to.eql(ss.rangeByScore(40).length);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5c1e789-4b5a-4c74-abcc-3414c6e22edb&quot;,&quot;parentUUID&quot;:&quot;bbfe1fd5-63a0-4cfb-a688-8b0b6520a1a5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d5c1e789-4b5a-4c74-abcc-3414c6e22edb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;cf2e1476-388e-48a7-9ec0-e3b74c4a9513&quot;,&quot;title&quot;:&quot;#range&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support special ranges&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #range should support special ranges&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;first&#x27;, 1);\nss.add(&#x27;second&#x27;, 2);\nss.add(&#x27;third&#x27;, 3);\nss.add(&#x27;fourth&#x27;, 4);\nlet array = [&#x27;first&#x27;, &#x27;second&#x27;, &#x27;third&#x27;, &#x27;fourth&#x27;];\nchai_1.expect(ss.range()).to.eql(array);\nchai_1.expect(ss.range(2)).to.eql(array.slice(2));\nchai_1.expect(ss.range(8)).to.eql(array.slice(8));\nchai_1.expect(ss.range(0, 2)).to.eql(array.slice(0, 3));\nchai_1.expect(ss.range(-1)).to.eql([&#x27;fourth&#x27;]);\nchai_1.expect(ss.range(-4)).to.eql(array);\nchai_1.expect(ss.range(-4, -2)).to.eql(array.slice(0, 3));\nchai_1.expect(ss.range(-4, ss.length + 1000))\n    .to.eql(array.slice(-4, ss.length + 1000));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;324b55f1-947d-4e06-b7ed-e4dba468b752&quot;,&quot;parentUUID&quot;:&quot;cf2e1476-388e-48a7-9ec0-e3b74c4a9513&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support withScores&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #range should support withScores&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;first&#x27;, 1);\nss.add(&#x27;second&#x27;, 2);\nchai_1.expect(ss.range(0, 0, { withScores: true }))\n    .to.eql([[&#x27;first&#x27;, 1]]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;34de3a04-4152-4929-ae74-033cb5107aeb&quot;,&quot;parentUUID&quot;:&quot;cf2e1476-388e-48a7-9ec0-e3b74c4a9513&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;324b55f1-947d-4e06-b7ed-e4dba468b752&quot;,&quot;34de3a04-4152-4929-ae74-033cb5107aeb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;0191f10c-b61c-4981-9041-09c66c352f94&quot;,&quot;title&quot;:&quot;#intersect&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should intersect two sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #intersect should intersect two sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let a = new sorted_set_1.SortedSet(), b = new sorted_set_1.SortedSet();\na.add(&#x27;5a600e10&#x27;, 16);\na.add(&#x27;5a600e12&#x27;, 10);\na.add(&#x27;5a600e14&#x27;, 9);\na.add(&#x27;5a600e15&#x27;, 14);\na.add(&#x27;5a600e17&#x27;, 20);\na.add(&#x27;5a600e18&#x27;, 13);\na.add(&#x27;5a600e19&#x27;, 15);\na.add(&#x27;5a600e1a&#x27;, 19);\na.add(&#x27;5a600e1b&#x27;, 7);\na.add(&#x27;5a600e1c&#x27;, 13);\na.add(&#x27;5a600e1e&#x27;, 10);\nb.add(&#x27;5a600e10&#x27;, 0);\nb.add(&#x27;5a600e11&#x27;, 15);\nb.add(&#x27;5a600e13&#x27;, 5);\nb.add(&#x27;5a600e14&#x27;, 3);\nb.add(&#x27;5a600e15&#x27;, 14);\nb.add(&#x27;5a600e17&#x27;, 12);\nb.add(&#x27;5a600e19&#x27;, 12);\nb.add(&#x27;5a600e1b&#x27;, 16);\nb.add(&#x27;5a600e1c&#x27;, 12);\nb.add(&#x27;5a600e1d&#x27;, 17);\nb.add(&#x27;5a600e1f&#x27;, 3);\nchai_1.expect(sorted_set_1.SortedSet.intersect(a, b)).to.eql([&#x27;5a600e10&#x27;, &#x27;5a600e14&#x27;,\n    &#x27;5a600e17&#x27;, &#x27;5a600e19&#x27;, &#x27;5a600e1c&#x27;, &#x27;5a600e15&#x27;, &#x27;5a600e1b&#x27;]);\nchai_1.expect(sorted_set_1.SortedSet.intersect(b, a)).to.eql([&#x27;5a600e1b&#x27;, &#x27;5a600e14&#x27;,\n    &#x27;5a600e1c&#x27;, &#x27;5a600e15&#x27;, &#x27;5a600e19&#x27;, &#x27;5a600e10&#x27;, &#x27;5a600e17&#x27;]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;93106e3c-9bac-4dd3-a7c7-0e0e648f2b3f&quot;,&quot;parentUUID&quot;:&quot;0191f10c-b61c-4981-9041-09c66c352f94&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should intersect three sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #intersect should intersect three sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let a = new sorted_set_1.SortedSet(), b = new sorted_set_1.SortedSet(), c = new sorted_set_1.SortedSet();\na.add(&#x27;5a600e10&#x27;, 16);\na.add(&#x27;5a600e12&#x27;, 10);\na.add(&#x27;5a600e14&#x27;, 9);\na.add(&#x27;5a600e15&#x27;, 14);\na.add(&#x27;5a600e17&#x27;, 20);\na.add(&#x27;5a600e18&#x27;, 13);\na.add(&#x27;5a600e19&#x27;, 15);\na.add(&#x27;5a600e1a&#x27;, 19);\na.add(&#x27;5a600e1b&#x27;, 7);\na.add(&#x27;5a600e1c&#x27;, 13);\na.add(&#x27;5a600e1e&#x27;, 10);\nb.add(&#x27;5a600e10&#x27;, 0);\nb.add(&#x27;5a600e11&#x27;, 15);\nb.add(&#x27;5a600e13&#x27;, 5);\nb.add(&#x27;5a600e14&#x27;, 3);\nb.add(&#x27;5a600e15&#x27;, 14);\nb.add(&#x27;5a600e17&#x27;, 12);\nb.add(&#x27;5a600e19&#x27;, 12);\nb.add(&#x27;5a600e1b&#x27;, 16);\nb.add(&#x27;5a600e1c&#x27;, 12);\nb.add(&#x27;5a600e1d&#x27;, 17);\nb.add(&#x27;5a600e1f&#x27;, 3);\nc.add(&#x27;5a600e10&#x27;, 7);\nc.add(&#x27;5a600e12&#x27;, 20);\nc.add(&#x27;5a600e13&#x27;, 9);\nc.add(&#x27;5a600e14&#x27;, 19);\nc.add(&#x27;5a600e16&#x27;, 19);\nc.add(&#x27;5a600e17&#x27;, 1);\nc.add(&#x27;5a600e18&#x27;, 18);\nc.add(&#x27;5a600e1a&#x27;, 6);\nc.add(&#x27;5a600e1c&#x27;, 15);\nc.add(&#x27;5a600e1f&#x27;, 4);\nchai_1.expect(sorted_set_1.SortedSet.intersect(c, a, b)).to.eql([&#x27;5a600e10&#x27;, &#x27;5a600e14&#x27;,\n    &#x27;5a600e17&#x27;, &#x27;5a600e1c&#x27;]);\n// expect(SortedSet.intersect(c, a, b)).to.eql(c.intersect(a, b));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;01588964-05c4-4d98-8d39-e64b88f04c48&quot;,&quot;parentUUID&quot;:&quot;0191f10c-b61c-4981-9041-09c66c352f94&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should intersect four sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #intersect should intersect four sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let a = new sorted_set_1.SortedSet();\nlet b = new sorted_set_1.SortedSet();\nlet c = new sorted_set_1.SortedSet();\nlet d = new sorted_set_1.SortedSet();\na.add(&#x27;5a600e10&#x27;, 16);\na.add(&#x27;5a600e12&#x27;, 10);\na.add(&#x27;5a600e14&#x27;, 9);\na.add(&#x27;5a600e15&#x27;, 14);\na.add(&#x27;5a600e17&#x27;, 20);\na.add(&#x27;5a600e18&#x27;, 13);\na.add(&#x27;5a600e19&#x27;, 15);\na.add(&#x27;5a600e1a&#x27;, 19);\na.add(&#x27;5a600e1b&#x27;, 7);\na.add(&#x27;5a600e1c&#x27;, 13);\na.add(&#x27;5a600e1e&#x27;, 10);\nb.add(&#x27;5a600e10&#x27;, 0);\nb.add(&#x27;5a600e11&#x27;, 15);\nb.add(&#x27;5a600e13&#x27;, 5);\nb.add(&#x27;5a600e14&#x27;, 3);\nb.add(&#x27;5a600e15&#x27;, 14);\nb.add(&#x27;5a600e17&#x27;, 12);\nb.add(&#x27;5a600e19&#x27;, 12);\nb.add(&#x27;5a600e1b&#x27;, 16);\nb.add(&#x27;5a600e1c&#x27;, 12);\nb.add(&#x27;5a600e1d&#x27;, 17);\nb.add(&#x27;5a600e1f&#x27;, 3);\nc.add(&#x27;5a600e10&#x27;, 7);\nc.add(&#x27;5a600e12&#x27;, 20);\nc.add(&#x27;5a600e13&#x27;, 9);\nc.add(&#x27;5a600e14&#x27;, 19);\nc.add(&#x27;5a600e16&#x27;, 19);\nc.add(&#x27;5a600e17&#x27;, 1);\nc.add(&#x27;5a600e18&#x27;, 18);\nc.add(&#x27;5a600e1a&#x27;, 6);\nc.add(&#x27;5a600e1c&#x27;, 15);\nc.add(&#x27;5a600e1f&#x27;, 4);\nd.add(&#x27;5a600e1c&#x27;, 400);\nd.add(&#x27;5a600e17&#x27;, 500);\nd.add(&#x27;5a600e1f&#x27;, 600);\nd.add(&#x27;5a600e20&#x27;, 700);\nchai_1.expect(sorted_set_1.SortedSet.intersect(d, c, a, b)).to.eql([&#x27;5a600e17&#x27;, &#x27;5a600e1c&#x27;]);\n// expect(SortedSet.intersect(d, c, a, b)).to.eql(d.intersect(c, a, b));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d738ad3a-bf1f-463e-817b-001304f97867&quot;,&quot;parentUUID&quot;:&quot;0191f10c-b61c-4981-9041-09c66c352f94&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;93106e3c-9bac-4dd3-a7c7-0e0e648f2b3f&quot;,&quot;01588964-05c4-4d98-8d39-e64b88f04c48&quot;,&quot;d738ad3a-bf1f-463e-817b-001304f97867&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;339df428-1eb0-4218-bd37-82c19307c055&quot;,&quot;title&quot;:&quot;#rank&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get the correct rank&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #rank should get the correct rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.rank(&#x27;5a600e12&#x27;)).to.equal(7);\nchai_1.expect(ss.rank(&#x27;5a600e13&#x27;)).to.equal(3);\nchai_1.expect(ss.rank(&#x27;5a600e16&#x27;)).to.equal(0);\nchai_1.expect(ss.rank(&#x27;5a600e15&#x27;)).to.equal(8);\nchai_1.expect(ss.rank(&#x27;not in set&#x27;)).to.equal(null);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;825430db-9788-44ec-ad14-d385b0f15b7d&quot;,&quot;parentUUID&quot;:&quot;339df428-1eb0-4218-bd37-82c19307c055&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;825430db-9788-44ec-ad14-d385b0f15b7d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b5c920e0-0ac4-41a6-95a7-831925f30d0b&quot;,&quot;title&quot;:&quot;#rem&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete special elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #rem should delete special elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.rem(&#x27;5a600e15&#x27;)).to.equal(19);\nchai_1.expect(ss).to.have.length(8);\nchai_1.expect(ss.rem(&#x27;5a600e16&#x27;)).to.equal(3);\nchai_1.expect(ss).to.have.length(7);\nchai_1.expect(ss.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e11&#x27;, 6],\n    [&#x27;5a600e18&#x27;, 10],\n    [&#x27;5a600e13&#x27;, 11],\n    [&#x27;5a600e17&#x27;, 12],\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7de336f1-f7b8-4b21-94cf-3ebf914e1a1d&quot;,&quot;parentUUID&quot;:&quot;b5c920e0-0ac4-41a6-95a7-831925f30d0b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should delete many elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #rem should delete many elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.rem(&#x27;5a600e11&#x27;)).to.equal(6);\nchai_1.expect(ss.rem(&#x27;5a600e13&#x27;)).to.equal(11);\nchai_1.expect(ss.rem(&#x27;5a600e14&#x27;)).to.equal(14);\nchai_1.expect(ss.rem(&#x27;5a600e15&#x27;)).to.equal(19);\nchai_1.expect(ss.rem(&#x27;5a600e16&#x27;)).to.equal(3);\nchai_1.expect(ss.rem(&#x27;5a600e17&#x27;)).to.equal(12);\nchai_1.expect(ss.length).to.equal(3);\nchai_1.expect(ss.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e18&#x27;, 10],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;11d5c894-c493-40a8-9579-e5bc2c5ba3d0&quot;,&quot;parentUUID&quot;:&quot;b5c920e0-0ac4-41a6-95a7-831925f30d0b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7de336f1-f7b8-4b21-94cf-3ebf914e1a1d&quot;,&quot;11d5c894-c493-40a8-9579-e5bc2c5ba3d0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;de1f3098-640b-4b74-8b75-33e498562e8c&quot;,&quot;title&quot;:&quot;#remRangeByScore&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should strip out a range of elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #remRangeByScore should strip out a range of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.remRangeByScore(4, 14)).to.equal(5);\nchai_1.expect(ss).to.have.length(4);\nchai_1.expect(ss.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7eb86b82-b650-4968-88c5-437815a93879&quot;,&quot;parentUUID&quot;:&quot;de1f3098-640b-4b74-8b75-33e498562e8c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should strip out all the elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #remRangeByScore should strip out all the elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.remRangeByScore(3, 19)).to.equal(9);\nchai_1.expect(ss).to.have.length(0);\nchai_1.expect(ss.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8bb4a7dd-9977-4482-911f-0d7cdb963d61&quot;,&quot;parentUUID&quot;:&quot;de1f3098-640b-4b74-8b75-33e498562e8c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7eb86b82-b650-4968-88c5-437815a93879&quot;,&quot;8bb4a7dd-9977-4482-911f-0d7cdb963d61&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;7b14eb53-a961-4639-9dea-f0ff0f99c653&quot;,&quot;title&quot;:&quot;#remRangeByRank&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should strip out a slice of elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #remRangeByRank should strip out a slice of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.remRangeByRank(1, 6)).to.equal(5);\nchai_1.expect(ss).to.have.length(4);\nchai_1.expect(ss.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53a534bc-68f8-4989-96e6-476f8ad3648a&quot;,&quot;parentUUID&quot;:&quot;7b14eb53-a961-4639-9dea-f0ff0f99c653&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should strip out all elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #remRangeByRank should strip out all elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.remRangeByRank(0, 9)).to.equal(9);\nchai_1.expect(ss).to.have.length(0);\nchai_1.expect(ss.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;caa9b80d-4ad0-492b-8af3-c7a71c637994&quot;,&quot;parentUUID&quot;:&quot;7b14eb53-a961-4639-9dea-f0ff0f99c653&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;53a534bc-68f8-4989-96e6-476f8ad3648a&quot;,&quot;caa9b80d-4ad0-492b-8af3-c7a71c637994&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;eebc4836-55b5-46af-8562-52493df50868&quot;,&quot;title&quot;:&quot;#values&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the values&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #values should return the values&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;first&#x27;, -1);\nss.add(&#x27;third&#x27;, 5);\nss.add(&#x27;second&#x27;, 3);\nchai_1.expect(ss.values()).to.eql([-1, 3, 5]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d034259d-2090-4c6a-ac38-bb757954e669&quot;,&quot;parentUUID&quot;:&quot;eebc4836-55b5-46af-8562-52493df50868&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d034259d-2090-4c6a-ac38-bb757954e669&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;e4509935-3397-4b4e-bec6-6d42a8d73fb6&quot;,&quot;title&quot;:&quot;unique rewrite&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should ensure values are unique&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite unique rewrite should ensure values are unique&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const options = { unique: true };\nlet ss = new sorted_set_1.SortedSet(options);\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(() =&gt; {\n    ss.add(&#x27;5a600e19&#x27;, 11);\n}).to.throw(/unique/);\n// quick exit test\nchai_1.expect(() =&gt; {\n    ss.add(&#x27;5a600dff&#x27;, ss._head.next[ss._level - 1].next.value);\n}).to.throw(/unique/);\n// this test ensures the key &lt; key check doesn&#x27;t come into play\nchai_1.expect(() =&gt; {\n    ss.add(&#x27;5a600dff&#x27;, 11);\n}).to.throw(/unique/);\nchai_1.expect(() =&gt; {\n    ss.add(&#x27;5a600e18&#x27;, 10);\n}).to.not.throw();\nchai_1.expect(ss).to.have.length(9);\nchai_1.expect(ss.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e11&#x27;, 6],\n    [&#x27;5a600e18&#x27;, 10],\n    [&#x27;5a600e13&#x27;, 11],\n    [&#x27;5a600e17&#x27;, 12],\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aea75d57-8a9a-496f-93a8-0c83901f1533&quot;,&quot;parentUUID&quot;:&quot;e4509935-3397-4b4e-bec6-6d42a8d73fb6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert keys if constraint broken during update&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite unique rewrite should revert keys if constraint broken during update&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet({ unique: true });\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(() =&gt; {\n    ss.add(&#x27;5a600e13&#x27;, 14);\n}).to.throw(/unique/);\nchai_1.expect(ss).to.have.length(9);\nchai_1.expect(ss.score(&#x27;5a600e13&#x27;)).to.equal(11);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d09fe4bc-95d2-4c7c-b7e6-d4640bd8b9fa&quot;,&quot;parentUUID&quot;:&quot;e4509935-3397-4b4e-bec6-6d42a8d73fb6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;aea75d57-8a9a-496f-93a8-0c83901f1533&quot;,&quot;d09fe4bc-95d2-4c7c-b7e6-d4640bd8b9fa&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[&quot;27b02b17-c226-4536-a02f-cde3848990df&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[&quot;1b3ce99e-be6e-43d6-880e-1775c3c1222f&quot;,&quot;538becf9-980d-4d66-b237-f36b12f0366b&quot;,&quot;4a79c47d-55d6-4540-ba3c-b5f06b185907&quot;,&quot;ce01bca0-2588-4c07-aa13-eeded186625e&quot;,&quot;b8bc3566-3c47-4d6e-a865-1f096ddd6a6e&quot;,&quot;372d4e37-aaa3-4c58-84c6-b61a00c8a954&quot;,&quot;f9c2e09b-3e30-4da6-a56f-d8cf0b701dd3&quot;,&quot;074dfb7f-380c-40ed-be5c-82adb6096288&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;ccb8fbf3-1702-45ef-b210-37bb89d5ad87&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:5000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;6.2.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false},&quot;version&quot;:&quot;4.1.0&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;docs/mochawesome&quot;},&quot;version&quot;:&quot;4.1.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;docs/mochawesome&quot;,&quot;reportTitle&quot;:&quot;redis&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;docs/mochawesome/assets&quot;,&quot;jsonFile&quot;:&quot;/home/lane/git/redis/docs/mochawesome/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/home/lane/git/redis/docs/mochawesome/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>