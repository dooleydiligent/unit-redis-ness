<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:38,&quot;tests&quot;:107,&quot;passes&quot;:104,&quot;pending&quot;:3,&quot;failures&quot;:0,&quot;start&quot;:&quot;2023-12-10T21:40:25.500Z&quot;,&quot;end&quot;:&quot;2023-12-10T21:40:25.645Z&quot;,&quot;duration&quot;:145,&quot;testsRegistered&quot;:107,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:2.803738317757009,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;0b32849c-0992-4f5c-a287-a58a9917b9ab&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b26c0121-1de7-48fa-bc57-d5a4bfb772e9&quot;,&quot;parentUUID&quot;:&quot;0b32849c-0992-4f5c-a287-a58a9917b9ab&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;after all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n})&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;63e92990-7067-417b-a818-5607b9cfc239&quot;,&quot;parentUUID&quot;:&quot;0b32849c-0992-4f5c-a287-a58a9917b9ab&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;01f643dc-8c3e-4bd1-aff6-951305d1336f&quot;,&quot;title&quot;:&quot;client command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/command/client-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/client-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;client command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;client command test \&quot;before all\&quot; hook in \&quot;client command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(\&quot;ready\&quot;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;61ca49ea-f105-4950-9f78-9fec343c05f7&quot;,&quot;parentUUID&quot;:&quot;01f643dc-8c3e-4bd1-aff6-951305d1336f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;client command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;client command test \&quot;before each\&quot; hook in \&quot;client command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4a8775c-21f1-4286-9932-1d151ef61e1e&quot;,&quot;parentUUID&quot;:&quot;01f643dc-8c3e-4bd1-aff6-951305d1336f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;client command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;client command test \&quot;after all\&quot; hook in \&quot;client command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d87c3e4-f2d4-4b2b-8495-4e0a3cf70670&quot;,&quot;parentUUID&quot;:&quot;01f643dc-8c3e-4bd1-aff6-951305d1336f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;client command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;client command test \&quot;after each\&quot; hook in \&quot;client command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4c9cc297-86bd-4354-acb8-47067343ebb6&quot;,&quot;parentUUID&quot;:&quot;01f643dc-8c3e-4bd1-aff6-951305d1336f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not allow more than 3 parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should not allow more than 3 parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;one\&quot;,\n            \&quot;two\&quot;,\n            \&quot;three\&quot;,\n            \&quot;four\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR Unknown subcommand or wrong number of arguments for &#x27;one&#x27;. Try CLIENT HELP\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;015c9701-f85c-454a-a85c-2c5e506cb7be&quot;,&quot;parentUUID&quot;:&quot;01f643dc-8c3e-4bd1-aff6-951305d1336f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail predictably when an unknown subcommand is passed&quot;,&quot;fullTitle&quot;:&quot;client command test should fail predictably when an unknown subcommand is passed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;whatever\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(util.format(DEFAULT_ERROR, \&quot;whatever\&quot;));\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d0007ccb-b0d8-420e-8fa7-f32f2d2e4f90&quot;,&quot;parentUUID&quot;:&quot;01f643dc-8c3e-4bd1-aff6-951305d1336f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a NIL name when called with \&quot;GETNAME\&quot; subcommand&quot;,&quot;fullTitle&quot;:&quot;client command test should return a NIL name when called with \&quot;GETNAME\&quot; subcommand&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;getname\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ef90f47b-a1cd-4923-a9cf-9b54679d15f8&quot;,&quot;parentUUID&quot;:&quot;01f643dc-8c3e-4bd1-aff6-951305d1336f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail predictably when \&quot;GETNAME\&quot; is called with too many parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should fail predictably when \&quot;GETNAME\&quot; is called with too many parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;getname\&quot;,\n            \&quot;extra\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(util.format(DEFAULT_ERROR, \&quot;getname\&quot;));\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f6b7502-86af-466f-b270-837ad035cb2b&quot;,&quot;parentUUID&quot;:&quot;01f643dc-8c3e-4bd1-aff6-951305d1336f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with \&quot;OK\&quot; when \&quot;setname\&quot; is called with a valid name&quot;,&quot;fullTitle&quot;:&quot;client command test should respond with \&quot;OK\&quot; when \&quot;setname\&quot; is called with a valid name&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;setname\&quot;,\n            \&quot;whatever\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;getname\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;whatever\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b698561-0d8a-471c-9a58-8f465cdf56dd&quot;,&quot;parentUUID&quot;:&quot;01f643dc-8c3e-4bd1-aff6-951305d1336f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should persist the value for \&quot;setname\&quot; across tests&quot;,&quot;fullTitle&quot;:&quot;client command test should persist the value for \&quot;setname\&quot; across tests&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;getname\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;whatever\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1add8f9b-d8f0-4fc4-8653-07afeb7f85a2&quot;,&quot;parentUUID&quot;:&quot;01f643dc-8c3e-4bd1-aff6-951305d1336f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with a predictable message when \&quot;setname\&quot; called with too many parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should respond with a predictable message when \&quot;setname\&quot; called with too many parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;setname\&quot;,\n            \&quot;test\&quot;,\n            \&quot;two\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(util.format(DEFAULT_ERROR, \&quot;setname\&quot;));\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6cc479ef-d461-4957-afcd-e5001a88a8ef&quot;,&quot;parentUUID&quot;:&quot;01f643dc-8c3e-4bd1-aff6-951305d1336f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not allow whitespace in \&quot;setname\&quot; subcommand&quot;,&quot;fullTitle&quot;:&quot;client command test should not allow whitespace in \&quot;setname\&quot; subcommand&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;setname\&quot;,\n            \&quot;te\\nst\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR Client names cannot contain spaces, newlines or special characters.\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;732ee6e3-26fa-4fbc-ab14-3191a13d8ea8&quot;,&quot;parentUUID&quot;:&quot;01f643dc-8c3e-4bd1-aff6-951305d1336f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the server-assigned client id&quot;,&quot;fullTitle&quot;:&quot;client command test should return the server-assigned client id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;id\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.be.a(\&quot;number\&quot;);\n        (0, chai_1.expect)(String(response).length).to.be.greaterThan(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f9cb88c7-82de-4a31-9f3d-c51da9141f9f&quot;,&quot;parentUUID&quot;:&quot;01f643dc-8c3e-4bd1-aff6-951305d1336f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with a predictable message when \&quot;id\&quot; called with too many parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should respond with a predictable message when \&quot;id\&quot; called with too many parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;id\&quot;,\n            \&quot;test\&quot;,\n            \&quot;two\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(util.format(DEFAULT_ERROR, \&quot;id\&quot;));\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8bb23dc8-e3d2-49bb-9dd0-c6a41e49f8a0&quot;,&quot;parentUUID&quot;:&quot;01f643dc-8c3e-4bd1-aff6-951305d1336f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a bunch of information when client \&quot;list\&quot; subcommand is invoked&quot;,&quot;fullTitle&quot;:&quot;client command test should return a bunch of information when client \&quot;list\&quot; subcommand is invoked&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;list\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.be.a(\&quot;string\&quot;);\n        (0, chai_1.expect)(response.length).to.be.greaterThan(0);\n        (0, chai_1.expect)(response).to.match(/ name=whatever /);\n        (0, chai_1.expect)(response).to.match(/\\bdb=0\\b/);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;88b376cd-f4da-41ed-8006-73414d7a1c21&quot;,&quot;parentUUID&quot;:&quot;01f643dc-8c3e-4bd1-aff6-951305d1336f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with a predictable message when \&quot;list\&quot; called with too many parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should respond with a predictable message when \&quot;list\&quot; called with too many parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;list\&quot;,\n            \&quot;test\&quot;,\n            \&quot;two\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR syntax error\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bf99732e-bc03-4cf5-9c84-533863767942&quot;,&quot;parentUUID&quot;:&quot;01f643dc-8c3e-4bd1-aff6-951305d1336f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;015c9701-f85c-454a-a85c-2c5e506cb7be&quot;,&quot;d0007ccb-b0d8-420e-8fa7-f32f2d2e4f90&quot;,&quot;ef90f47b-a1cd-4923-a9cf-9b54679d15f8&quot;,&quot;2f6b7502-86af-466f-b270-837ad035cb2b&quot;,&quot;1b698561-0d8a-471c-9a58-8f465cdf56dd&quot;,&quot;1add8f9b-d8f0-4fc4-8653-07afeb7f85a2&quot;,&quot;6cc479ef-d461-4957-afcd-e5001a88a8ef&quot;,&quot;732ee6e3-26fa-4fbc-ab14-3191a13d8ea8&quot;,&quot;f9cb88c7-82de-4a31-9f3d-c51da9141f9f&quot;,&quot;8bb23dc8-e3d2-49bb-9dd0-c6a41e49f8a0&quot;,&quot;88b376cd-f4da-41ed-8006-73414d7a1c21&quot;,&quot;bf99732e-bc03-4cf5-9c84-533863767942&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:14,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;cafea95c-6c1b-40a9-b9ce-26cb29221045&quot;,&quot;title&quot;:&quot;multi command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/command/multi-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/multi-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;multi command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;multi command test \&quot;before all\&quot; hook in \&quot;multi command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(\&quot;ready\&quot;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;93207a70-89e3-4456-ad52-79012015fa8d&quot;,&quot;parentUUID&quot;:&quot;cafea95c-6c1b-40a9-b9ce-26cb29221045&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;multi command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;multi command test \&quot;before each\&quot; hook in \&quot;multi command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e762447-aa4d-48ca-9b0b-25106c33780b&quot;,&quot;parentUUID&quot;:&quot;cafea95c-6c1b-40a9-b9ce-26cb29221045&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;multi command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;multi command test \&quot;after all\&quot; hook in \&quot;multi command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;73973ee7-164d-4e3d-9cc7-1b5709ed6a2e&quot;,&quot;parentUUID&quot;:&quot;cafea95c-6c1b-40a9-b9ce-26cb29221045&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;multi command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;multi command test \&quot;after each\&quot; hook in \&quot;multi command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;62b044e5-5f4a-4025-bebf-62c220351cfa&quot;,&quot;parentUUID&quot;:&quot;cafea95c-6c1b-40a9-b9ce-26cb29221045&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not allow nested MULTI invocations&quot;,&quot;fullTitle&quot;:&quot;multi command test should not allow nested MULTI invocations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;multi\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;multi\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR MULTI calls can not be nested\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f01a2917-e5ef-4d94-a30a-bc1c71032c4f&quot;,&quot;parentUUID&quot;:&quot;cafea95c-6c1b-40a9-b9ce-26cb29221045&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respect the DISCARD command&quot;,&quot;fullTitle&quot;:&quot;multi command test should respect the DISCARD command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;discard\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;799d10f4-1fcd-413f-9594-926b3075d5a5&quot;,&quot;parentUUID&quot;:&quot;cafea95c-6c1b-40a9-b9ce-26cb29221045&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not allow DISCARD without MULTI&quot;,&quot;fullTitle&quot;:&quot;multi command test should not allow DISCARD without MULTI&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;discard\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR DISCARD without MULTI\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b307f501-04b2-4728-8ab3-4836e6218a4c&quot;,&quot;parentUUID&quot;:&quot;cafea95c-6c1b-40a9-b9ce-26cb29221045&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should continue to validate commands after MULTI&quot;,&quot;fullTitle&quot;:&quot;multi command test should continue to validate commands after MULTI&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;multi\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;unknown\&quot;,\n            \&quot;command\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR unknown command `unknown`, with args beginning with: `command`, \&quot;, `${response}`);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;lpush\&quot;,\n            \&quot;test\&quot;,\n            \&quot;one\&quot;,\n            \&quot;two\&quot;,\n            \&quot;three\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;QUEUED\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;504295f9-3e5a-4a7a-ada3-7f260f646aad&quot;,&quot;parentUUID&quot;:&quot;cafea95c-6c1b-40a9-b9ce-26cb29221045&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should EXECABORT from a previous error&quot;,&quot;fullTitle&quot;:&quot;multi command test should EXECABORT from a previous error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;exec\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: EXECABORT Transaction discarded because of previous errors.\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f49fe745-4f9a-4b7e-bf52-bd707d1d46e8&quot;,&quot;parentUUID&quot;:&quot;cafea95c-6c1b-40a9-b9ce-26cb29221045&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should queue a set of commands when there is no intervening error&quot;,&quot;fullTitle&quot;:&quot;multi command test should queue a set of commands when there is no intervening error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;multi\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;lpush\&quot;,\n            \&quot;test\&quot;,\n            \&quot;one\&quot;,\n            \&quot;two\&quot;,\n            \&quot;three\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;QUEUED\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;exec\&quot;]);\n        (0, chai_1.expect)(response).to.eql([3]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;54d32d05-7862-4e69-8533-c125c75fa30c&quot;,&quot;parentUUID&quot;:&quot;cafea95c-6c1b-40a9-b9ce-26cb29221045&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reset transaction state after executing commands&quot;,&quot;fullTitle&quot;:&quot;multi command test should reset transaction state after executing commands&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;multi\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;discard\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d7bc2fe1-6230-4f10-ab81-d22d887f8608&quot;,&quot;parentUUID&quot;:&quot;cafea95c-6c1b-40a9-b9ce-26cb29221045&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the results of multiple commands in the order provided&quot;,&quot;fullTitle&quot;:&quot;multi command test should return the results of multiple commands in the order provided&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;multi\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;lpop\&quot;,\n            \&quot;test\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;QUEUED\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;lpop\&quot;,\n            \&quot;test\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;QUEUED\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;brpoplpush\&quot;,\n            \&quot;test\&quot;,\n            \&quot;dest\&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;QUEUED\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;exec\&quot;]);\n        (0, chai_1.expect)(response).to.eql([\n            \&quot;three\&quot;,\n            \&quot;two\&quot;,\n            \&quot;one\&quot;\n        ]);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;exists\&quot;,\n            \&quot;test\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(0);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;exists\&quot;,\n            \&quot;dest\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;260e67d1-1e5e-409b-befc-54f4740a2640&quot;,&quot;parentUUID&quot;:&quot;cafea95c-6c1b-40a9-b9ce-26cb29221045&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should validate the behavior of brpoplpush&quot;,&quot;fullTitle&quot;:&quot;multi command test should validate the behavior of brpoplpush&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;flushall\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;lpush\&quot;,\n            \&quot;test\&quot;,\n            \&quot;one\&quot;,\n            \&quot;two\&quot;,\n            \&quot;three\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(3);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;lpop\&quot;,\n            \&quot;test\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;three\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;lpop\&quot;,\n            \&quot;test\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;two\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;brpoplpush\&quot;,\n            \&quot;test\&quot;,\n            \&quot;dest\&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;one\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f87b41e-769f-46d0-b542-1fa0b1c5ff42&quot;,&quot;parentUUID&quot;:&quot;cafea95c-6c1b-40a9-b9ce-26cb29221045&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail when EXEC issued without MULTI&quot;,&quot;fullTitle&quot;:&quot;multi command test should fail when EXEC issued without MULTI&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;exec\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR EXEC without MULTI\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f03dedf2-4bc1-4247-9ad0-b579c723ddfd&quot;,&quot;parentUUID&quot;:&quot;cafea95c-6c1b-40a9-b9ce-26cb29221045&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f01a2917-e5ef-4d94-a30a-bc1c71032c4f&quot;,&quot;799d10f4-1fcd-413f-9594-926b3075d5a5&quot;,&quot;b307f501-04b2-4728-8ab3-4836e6218a4c&quot;,&quot;504295f9-3e5a-4a7a-ada3-7f260f646aad&quot;,&quot;f49fe745-4f9a-4b7e-bf52-bd707d1d46e8&quot;,&quot;54d32d05-7862-4e69-8533-c125c75fa30c&quot;,&quot;d7bc2fe1-6230-4f10-ab81-d22d887f8608&quot;,&quot;260e67d1-1e5e-409b-befc-54f4740a2640&quot;,&quot;7f87b41e-769f-46d0-b542-1fa0b1c5ff42&quot;,&quot;f03dedf2-4bc1-4247-9ad0-b579c723ddfd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:11,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e7504474-0143-435c-842d-6db97282068e&quot;,&quot;title&quot;:&quot;script-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/command/script-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/script-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;script-command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;script-command test \&quot;before all\&quot; hook in \&quot;script-command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(\&quot;ready\&quot;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield (0, common_test_1.sendCommand)(client, [\&quot;flushall\&quot;]);\n    yield (0, common_test_1.sendCommand)(client, [\n        \&quot;select\&quot;,\n        \&quot;0\&quot;\n    ]);\n    yield (0, common_test_1.sendCommand)(client, [\n        \&quot;script\&quot;,\n        \&quot;flush\&quot;\n    ]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;081909f4-eb50-4ebc-8bf6-3782047bdeae&quot;,&quot;parentUUID&quot;:&quot;e7504474-0143-435c-842d-6db97282068e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;script-command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;script-command test \&quot;before each\&quot; hook in \&quot;script-command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9726fe3-0135-45e1-9ca1-651c861dd943&quot;,&quot;parentUUID&quot;:&quot;e7504474-0143-435c-842d-6db97282068e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;script-command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;script-command test \&quot;after all\&quot; hook in \&quot;script-command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5ac0d233-3707-4b21-bf58-068b5809a67f&quot;,&quot;parentUUID&quot;:&quot;e7504474-0143-435c-842d-6db97282068e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;script-command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;script-command test \&quot;after each\&quot; hook in \&quot;script-command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e9300e91-31b9-4cac-9f35-df4a98d8c714&quot;,&quot;parentUUID&quot;:&quot;e7504474-0143-435c-842d-6db97282068e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should calcuclate the correct sha1 of a script and store the script&quot;,&quot;fullTitle&quot;:&quot;script-command test should calcuclate the correct sha1 of a script and store the script&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;script\&quot;,\n            \&quot;exists\&quot;,\n            sha1\n        ]);\n        (0, chai_1.expect)(response).to.eql([0]);\n        // Validate failure on unparseable script\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;script\&quot;,\n            \&quot;load\&quot;,\n            code\n        ]);\n        (0, chai_1.expect)(response).to.match(/ReplyError: ERR .*/);\n        // Validate success on parseable script\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;script\&quot;,\n            \&quot;load\&quot;,\n            `${code}}`\n        ]);\n        (0, chai_1.expect)(response).to.equal(sha1);\n        // Validate a script is persisted\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;script\&quot;,\n            \&quot;exists\&quot;,\n            sha1\n        ]);\n        (0, chai_1.expect)(response).to.eql([1]);\n        // Validate response to unknown sub command\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;script\&quot;,\n            \&quot;test\&quot;,\n            sha1\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR Unknown subcommand or wrong number of arguments for &#x27;test&#x27;. Try SCRIPT HELP.\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd88f202-8b2e-4593-bb1d-c5a6252d0840&quot;,&quot;parentUUID&quot;:&quot;e7504474-0143-435c-842d-6db97282068e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should evaluate a loaded lua script using evalsha&quot;,&quot;fullTitle&quot;:&quot;script-command test should evaluate a loaded lua script using evalsha&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // Validate that NOSCRIPT is triggered\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;evalsha\&quot;,\n            `${sha1}xx`,\n            \&quot;2\&quot;,\n            \&quot;key1\&quot;,\n            \&quot;key2\&quot;,\n            \&quot;first\&quot;,\n            \&quot;second\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: NOSCRIPT No matching script. Please use EVAL.\&quot;);\n        // Validate that param 1 cannot be negative\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;evalsha\&quot;,\n            sha1,\n            \&quot;-2\&quot;,\n            \&quot;key1\&quot;,\n            \&quot;key2\&quot;,\n            \&quot;first\&quot;,\n            \&quot;second\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR Number of keys can&#x27;t be negative\&quot;);\n        // Validate that param 1 cannot be text\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;evalsha\&quot;,\n            sha1,\n            \&quot;two\&quot;,\n            \&quot;key1\&quot;,\n            \&quot;key2\&quot;,\n            \&quot;first\&quot;,\n            \&quot;second\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR value is not an integer or out of range\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;830c8a75-124c-4170-9a4f-23889314ab6a&quot;,&quot;parentUUID&quot;:&quot;e7504474-0143-435c-842d-6db97282068e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should execute a simple script&quot;,&quot;fullTitle&quot;:&quot;script-command test should execute a simple script&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // Validate that a simple script can be processed\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;EVAL\&quot;,\n            \&quot;local val=\\\&quot;Hello Compose\\\&quot; return val\&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;Hello Compose\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aa695ccf-8efa-4e8a-be03-0b6665cc0128&quot;,&quot;parentUUID&quot;:&quot;e7504474-0143-435c-842d-6db97282068e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create and process the ARGV table&quot;,&quot;fullTitle&quot;:&quot;script-command test should create and process the ARGV table&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;return ARGV[2]\&quot;,\n            \&quot;2\&quot;,\n            \&quot;key1\&quot;,\n            \&quot;key2\&quot;,\n            \&quot;first\&quot;,\n            \&quot;second\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.eql(\&quot;second\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;51ea9126-1ec4-45d5-8686-d69297b6ad27&quot;,&quot;parentUUID&quot;:&quot;e7504474-0143-435c-842d-6db97282068e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create and process the KEYS table&quot;,&quot;fullTitle&quot;:&quot;script-command test should create and process the KEYS table&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;return KEYS[1]\&quot;,\n            \&quot;2\&quot;,\n            \&quot;key1\&quot;,\n            \&quot;key2\&quot;,\n            \&quot;first\&quot;,\n            \&quot;second\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;key1\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb80a1a9-4d42-4542-8f96-4a4bda3e0eaa&quot;,&quot;parentUUID&quot;:&quot;e7504474-0143-435c-842d-6db97282068e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a NUMBER when required&quot;,&quot;fullTitle&quot;:&quot;script-command test should return a NUMBER when required&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;return 123\&quot;,\n            \&quot;2\&quot;,\n            \&quot;key1\&quot;,\n            \&quot;key2\&quot;,\n            \&quot;first\&quot;,\n            \&quot;second\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(123);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;510f7337-b375-46ad-af5a-2bb0b923dd9f&quot;,&quot;parentUUID&quot;:&quot;e7504474-0143-435c-842d-6db97282068e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return NIL when there is no return value&quot;,&quot;fullTitle&quot;:&quot;script-command test should return NIL when there is no return value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;print \\\&quot;Hello World\\\&quot;\&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;33b17242-9eb4-4ab6-bad8-4ac85c012a51&quot;,&quot;parentUUID&quot;:&quot;e7504474-0143-435c-842d-6db97282068e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a TABLE when required&quot;,&quot;fullTitle&quot;:&quot;script-command test should return a TABLE when required&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;return ARGV\&quot;,\n            \&quot;2\&quot;,\n            \&quot;key1\&quot;,\n            \&quot;key2\&quot;,\n            \&quot;first\&quot;,\n            \&quot;second\&quot;,\n            \&quot;third\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.eql([\n            \&quot;first\&quot;,\n            \&quot;second\&quot;,\n            \&quot;third\&quot;\n        ]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;685577bc-c419-4842-ae02-2ae44aae8b35&quot;,&quot;parentUUID&quot;:&quot;e7504474-0143-435c-842d-6db97282068e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return items in order&quot;,&quot;fullTitle&quot;:&quot;script-command test should return items in order&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;return {true, \\\&quot;test\\\&quot;, false, 10, 10.2}\&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.eql([\n            1,\n            \&quot;test\&quot;,\n            null,\n            10,\n            10\n        ]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;85f4a3e1-d157-4e5f-ab62-b0a3f63ad088&quot;,&quot;parentUUID&quot;:&quot;e7504474-0143-435c-842d-6db97282068e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return integer and nil for true and false, respectively&quot;,&quot;fullTitle&quot;:&quot;script-command test should return integer and nil for true and false, respectively&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;return { true, false, false}\&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.eql([\n            1,\n            null,\n            null\n        ]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;99164f60-13d8-4ada-851a-ce0827916f41&quot;,&quot;parentUUID&quot;:&quot;e7504474-0143-435c-842d-6db97282068e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should be able to execute a representative BULL script&quot;,&quot;fullTitle&quot;:&quot;script-command test should be able to execute a representative BULL script&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3e9e9d29-f5ca-4a39-976c-6786b9b126ef&quot;,&quot;parentUUID&quot;:&quot;e7504474-0143-435c-842d-6db97282068e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail when we attempt to EVAL an invalid script&quot;,&quot;fullTitle&quot;:&quot;script-command test should fail when we attempt to EVAL an invalid script&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;-- Invalid\\r\\nscript\&quot;\n        ]);\n        // Validated against redis\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR wrong number of arguments for &#x27;eval&#x27; command\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6bcf423c-16b8-4f77-8ed7-4fb7e52ab44a&quot;,&quot;parentUUID&quot;:&quot;e7504474-0143-435c-842d-6db97282068e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should be able to return a NULL value from a lua script&quot;,&quot;fullTitle&quot;:&quot;script-command test should be able to return a NULL value from a lua script&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;local val = nil return val\&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1c65e687-ecc4-4579-ae7c-177369c905a8&quot;,&quot;parentUUID&quot;:&quot;e7504474-0143-435c-842d-6db97282068e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return table values after the first NIL is encountered and return integers not floats&quot;,&quot;fullTitle&quot;:&quot;script-command test should not return table values after the first NIL is encountered and return integers not floats&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bee035aa-b69a-4b5b-aaff-7a427ac06b36&quot;,&quot;parentUUID&quot;:&quot;e7504474-0143-435c-842d-6db97282068e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a table with embedded calls to redis&quot;,&quot;fullTitle&quot;:&quot;script-command test should return a table with embedded calls to redis&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;flushall\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;hset\&quot;,\n            embeddedkey,\n            \&quot;one\&quot;,\n            \&quot;1\&quot;,\n            \&quot;two\&quot;,\n            \&quot;2\&quot;,\n            \&quot;three\&quot;,\n            \&quot;3\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(3);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;hgetall\&quot;,\n            embeddedkey\n        ]);\n        (0, chai_1.expect)(response).to.eql([\n            \&quot;one\&quot;,\n            \&quot;1\&quot;,\n            \&quot;two\&quot;,\n            \&quot;2\&quot;,\n            \&quot;three\&quot;,\n            \&quot;3\&quot;\n        ]);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            `local j = redis.call(\&quot;HGETALL\&quot;, \&quot;${embeddedkey}\&quot;) return { j, \&quot;SAMPLE\&quot; }`,\n            \&quot;0\&quot;\n        ]);\n        // Validated with redis\n        (0, chai_1.expect)(response).to.eql([\n            \&quot;SAMPLE\&quot;,\n            [\n                \&quot;one\&quot;,\n                \&quot;1\&quot;,\n                \&quot;two\&quot;,\n                \&quot;2\&quot;,\n                \&quot;three\&quot;,\n                \&quot;3\&quot;\n            ]\n        ]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c97549d9-ba98-45df-baa6-78ee652e3f1f&quot;,&quot;parentUUID&quot;:&quot;e7504474-0143-435c-842d-6db97282068e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support the unpack lua command&quot;,&quot;fullTitle&quot;:&quot;script-command test should support the unpack lua command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;flushall\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;hset\&quot;,\n            embeddedkey,\n            \&quot;one\&quot;,\n            \&quot;1\&quot;,\n            \&quot;two\&quot;,\n            \&quot;2\&quot;,\n            \&quot;three\&quot;,\n            \&quot;3\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(3);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            `return { unpack(redis.call(\&quot;hgetall\&quot;, \&quot;${embeddedkey}\&quot;)) }`,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.eql([\n            \&quot;one\&quot;,\n            \&quot;1\&quot;,\n            \&quot;two\&quot;,\n            \&quot;2\&quot;,\n            \&quot;three\&quot;,\n            \&quot;3\&quot;\n        ]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;285f4027-bffe-4a79-a0f9-959e428729dc&quot;,&quot;parentUUID&quot;:&quot;e7504474-0143-435c-842d-6db97282068e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should convert values properly&quot;,&quot;fullTitle&quot;:&quot;script-command test should convert values properly&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;return {1,2,{3,&#x27;Hello World!&#x27;}}\&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.eql([\n            1,\n            2,\n            [\n                3,\n                \&quot;Hello World!\&quot;\n            ]\n        ]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f2577378-764e-4ee0-920b-ce065fbf573d&quot;,&quot;parentUUID&quot;:&quot;e7504474-0143-435c-842d-6db97282068e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return embedded tables from embedded calls&quot;,&quot;fullTitle&quot;:&quot;script-command test should return embedded tables from embedded calls&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;return {1,2,{3,bit.bxor(5,3)}}\&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.eql([\n            1,\n            2,\n            [\n                3,\n                6\n            ]\n        ]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b0b19357-2679-4708-bd8b-5f7c917592be&quot;,&quot;parentUUID&quot;:&quot;e7504474-0143-435c-842d-6db97282068e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cd88f202-8b2e-4593-bb1d-c5a6252d0840&quot;,&quot;830c8a75-124c-4170-9a4f-23889314ab6a&quot;,&quot;aa695ccf-8efa-4e8a-be03-0b6665cc0128&quot;,&quot;51ea9126-1ec4-45d5-8686-d69297b6ad27&quot;,&quot;bb80a1a9-4d42-4542-8f96-4a4bda3e0eaa&quot;,&quot;510f7337-b375-46ad-af5a-2bb0b923dd9f&quot;,&quot;33b17242-9eb4-4ab6-bad8-4ac85c012a51&quot;,&quot;685577bc-c419-4842-ae02-2ae44aae8b35&quot;,&quot;85f4a3e1-d157-4e5f-ab62-b0a3f63ad088&quot;,&quot;99164f60-13d8-4ada-851a-ce0827916f41&quot;,&quot;6bcf423c-16b8-4f77-8ed7-4fb7e52ab44a&quot;,&quot;1c65e687-ecc4-4579-ae7c-177369c905a8&quot;,&quot;c97549d9-ba98-45df-baa6-78ee652e3f1f&quot;,&quot;285f4027-bffe-4a79-a0f9-959e428729dc&quot;,&quot;f2577378-764e-4ee0-920b-ce065fbf573d&quot;,&quot;b0b19357-2679-4708-bd8b-5f7c917592be&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;3e9e9d29-f5ca-4a39-976c-6786b9b126ef&quot;,&quot;bee035aa-b69a-4b5b-aaff-7a427ac06b36&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:60,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;354c51ee-3b89-481f-a772-aa9fd9fa60d2&quot;,&quot;title&quot;:&quot;data-type test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/data-type.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/data-type.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;data-type test\&quot;&quot;,&quot;fullTitle&quot;:&quot;data-type test \&quot;before each\&quot; hook in \&quot;data-type test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c91b0fb0-502b-4f73-8291-cc677af0042e&quot;,&quot;parentUUID&quot;:&quot;354c51ee-3b89-481f-a772-aa9fd9fa60d2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;data-type test\&quot;&quot;,&quot;fullTitle&quot;:&quot;data-type test \&quot;after all\&quot; hook in \&quot;data-type test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;114b1108-3062-4417-a73e-cae2aed9bc95&quot;,&quot;parentUUID&quot;:&quot;354c51ee-3b89-481f-a772-aa9fd9fa60d2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;data-type test\&quot;&quot;,&quot;fullTitle&quot;:&quot;data-type test \&quot;after each\&quot; hook in \&quot;data-type test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb0e5268-1d94-400e-9350-0b5ee83bd549&quot;,&quot;parentUUID&quot;:&quot;354c51ee-3b89-481f-a772-aa9fd9fa60d2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should enumerate data-types&quot;,&quot;fullTitle&quot;:&quot;data-type test should enumerate data-types&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        (0, chai_1.expect)(data_type_1.DataType.NONE).to.equal(\&quot;none\&quot;);\n        (0, chai_1.expect)(data_type_1.DataType.STRING).to.equal(\&quot;string\&quot;);\n        (0, chai_1.expect)(data_type_1.DataType.LIST).to.equal(\&quot;list\&quot;);\n        (0, chai_1.expect)(data_type_1.DataType.SET).to.equal(\&quot;set\&quot;);\n        (0, chai_1.expect)(data_type_1.DataType.ZSET).to.equal(\&quot;zset\&quot;);\n        (0, chai_1.expect)(data_type_1.DataType.HASH).to.equal(\&quot;hash\&quot;);\n        (0, chai_1.expect)(Object.keys(data_type_1.DataType).length).to.equal(6);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf3251e8-806d-4fb9-94f3-b5b837be9b6e&quot;,&quot;parentUUID&quot;:&quot;354c51ee-3b89-481f-a772-aa9fd9fa60d2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cf3251e8-806d-4fb9-94f3-b5b837be9b6e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1c382305-5f19-4c98-ba79-35a493a1d0c8&quot;,&quot;title&quot;:&quot;sorted-set test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;sorted-set test\&quot;&quot;,&quot;fullTitle&quot;:&quot;sorted-set test \&quot;before each\&quot; hook in \&quot;sorted-set test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();\nss = new sorted_set_1.SortedSet();\nz = new Z();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;46a69022-8faf-4ade-864e-5e3a47ee18fc&quot;,&quot;parentUUID&quot;:&quot;1c382305-5f19-4c98-ba79-35a493a1d0c8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;sorted-set test\&quot;&quot;,&quot;fullTitle&quot;:&quot;sorted-set test \&quot;after all\&quot; hook in \&quot;sorted-set test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;845557c6-bfed-4c43-839c-cb39598fe2ed&quot;,&quot;parentUUID&quot;:&quot;1c382305-5f19-4c98-ba79-35a493a1d0c8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;sorted-set test\&quot;&quot;,&quot;fullTitle&quot;:&quot;sorted-set test \&quot;after each\&quot; hook in \&quot;sorted-set test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;102de140-fc60-465a-9a95-6c1cde0291ea&quot;,&quot;parentUUID&quot;:&quot;1c382305-5f19-4c98-ba79-35a493a1d0c8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should instantiate&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should instantiate&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        (0, chai_1.expect)(z.constructor.name).to.equal(\&quot;Z\&quot;);\n        ss = new sorted_set_1.SortedSet();\n        (0, chai_1.expect)(ss.constructor.name).to.equal(\&quot;SortedSet\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e6fc4af3-e75a-4fe4-9d22-0969578ac27f&quot;,&quot;parentUUID&quot;:&quot;1c382305-5f19-4c98-ba79-35a493a1d0c8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should add, get, and delete an entry&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should add, get, and delete an entry&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        let added = z.add(\&quot;test\&quot;, 1);\n        (0, chai_1.expect)(added).to.equal(null);\n        added = ss.add(\&quot;test\&quot;, 1);\n        (0, chai_1.expect)(added).to.equal(null);\n        (0, chai_1.expect)(z.keys().length).to.equal(1);\n        (0, chai_1.expect)(ss.keys().length).to.equal(1);\n        let item = z.get(\&quot;test\&quot;);\n        (0, chai_1.expect)(item.constructor.name).to.equal(\&quot;Number\&quot;);\n        item = ss.get(\&quot;test\&quot;);\n        (0, chai_1.expect)(item.constructor.name).to.equal(\&quot;Number\&quot;);\n        z.del(\&quot;test\&quot;);\n        (0, chai_1.expect)(z.keys().length).to.equal(0);\n        ss.del(\&quot;test\&quot;);\n        (0, chai_1.expect)(ss.keys().length).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;307ca885-a3f6-4a16-952a-f8c1675908fa&quot;,&quot;parentUUID&quot;:&quot;1c382305-5f19-4c98-ba79-35a493a1d0c8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw when attempting to add __proto__ key&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should throw when attempting to add __proto__ key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        (0, chai_1.expect)(() =&gt; {\n            z.add(\&quot;__proto__\&quot;, 0);\n        }).to.throw();\n        /*\n         * Expect(() =&gt; {\n         *   ss.add(&#x27;__proto__&#x27;, 0)\n         * }).to.throw();\n         */\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cdb1df6d-1cbd-4f0b-be44-32e7afeaec23&quot;,&quot;parentUUID&quot;:&quot;1c382305-5f19-4c98-ba79-35a493a1d0c8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not add an undefined or null score&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should not add an undefined or null score&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        let added = z.add(\&quot;test\&quot;, null);\n        (0, chai_1.expect)(added).to.equal(null);\n        (0, chai_1.expect)(z.keys().length).to.equal(0);\n        added = z.add(\&quot;test\&quot;, undefined);\n        (0, chai_1.expect)(z.keys().length).to.equal(0);\n        /*\n         * Typescript prevents adding null\n         * added = ss.add(&#x27;test&#x27;, null);\n         * expect(added).to.equal(null);\n         * expect(ss.keys().length).to.equal(0);\n         * added = ss.add(&#x27;test&#x27;, undefined);\n         * expect(z.keys().length).to.equal(0);\n         */\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;76c4aba4-5186-489d-80ec-b65a94d76385&quot;,&quot;parentUUID&quot;:&quot;1c382305-5f19-4c98-ba79-35a493a1d0c8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not duplicate key/value pairs&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should not duplicate key/value pairs&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        let added = z.add(\&quot;test\&quot;, 123);\n        (0, chai_1.expect)(added).to.equal(null); // This is weird\n        (0, chai_1.expect)(z.keys().length).to.equal(1);\n        added = z.add(\&quot;test\&quot;, 123);\n        (0, chai_1.expect)(added).to.equal(123); // And weirder\n        (0, chai_1.expect)(z.keys().length).to.equal(1);\n        added = ss.add(\&quot;test\&quot;, 123);\n        (0, chai_1.expect)(added).to.equal(null); // This is weird\n        (0, chai_1.expect)(ss.keys().length).to.equal(1);\n        added = ss.add(\&quot;test\&quot;, 123);\n        (0, chai_1.expect)(added).to.equal(123); // And weirder\n        (0, chai_1.expect)(ss.keys().length).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;16f3f0d3-4172-4977-872d-1234c310160f&quot;,&quot;parentUUID&quot;:&quot;1c382305-5f19-4c98-ba79-35a493a1d0c8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the old rank when replacing a key&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should return the old rank when replacing a key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        let added = z.add(\&quot;test\&quot;, 123);\n        (0, chai_1.expect)(added).to.equal(null);\n        (0, chai_1.expect)(z.keys().length).to.equal(1);\n        added = z.add(\&quot;test\&quot;, 321);\n        (0, chai_1.expect)(added).to.equal(123);\n        (0, chai_1.expect)(z.keys().length).to.equal(1);\n        added = z.get(\&quot;test\&quot;);\n        (0, chai_1.expect)(added).to.equal(321);\n        added = ss.add(\&quot;test\&quot;, 123);\n        (0, chai_1.expect)(added).to.equal(null);\n        (0, chai_1.expect)(ss.keys().length).to.equal(1);\n        added = ss.add(\&quot;test\&quot;, 321);\n        (0, chai_1.expect)(added).to.equal(123);\n        (0, chai_1.expect)(ss.keys().length).to.equal(1);\n        added = ss.get(\&quot;test\&quot;);\n        (0, chai_1.expect)(added).to.equal(321);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;286fe1dd-266e-4ef0-99e6-d23e85d19d18&quot;,&quot;parentUUID&quot;:&quot;1c382305-5f19-4c98-ba79-35a493a1d0c8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a value when adding at least 32 values (I think - it is difficult to tell)&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should return a value when adding at least 32 values (I think - it is difficult to tell)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3122d47f-f7c1-4fea-9e89-5dfea2b6d821&quot;,&quot;parentUUID&quot;:&quot;1c382305-5f19-4c98-ba79-35a493a1d0c8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should do what the documentation says here: https://www.npmjs.com/package/redis-sorted-set&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should do what the documentation says here: https://www.npmjs.com/package/redis-sorted-set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        (0, chai_1.expect)(z.add(\&quot;Terminator\&quot;, 8.0)).to.equal(null); // =&gt; null\n        (0, chai_1.expect)(z.add(\&quot;District 9\&quot;, 8.0)).to.equal(null); // =&gt; null\n        (0, chai_1.expect)(z.add(\&quot;Ex Machina\&quot;, 0.7)).to.equal(null); // =&gt; null\n        (0, chai_1.expect)(z.add(\&quot;Ex Machina\&quot;, 7.7)).to.equal(0.7); // =&gt; 0.7\n        // Alias\n        (0, chai_1.expect)(z.set(\&quot;The Matrix\&quot;, 8.7)).to.equal(null); // =&gt; null\n        // Average O(1)\n        (0, chai_1.expect)(z.has(\&quot;Terminator\&quot;)).to.equal(true); // =&gt; true\n        (0, chai_1.expect)(z.has(\&quot;Blade Runner\&quot;)).to.equal(false); // =&gt; false\n        // Average O(1)\n        (0, chai_1.expect)(z.score(\&quot;Ex Machina\&quot;)).to.equal(7.7); // =&gt; 7.7\n        (0, chai_1.expect)(z.score(\&quot;Blade Runner\&quot;)).to.equal(null); // =&gt; null\n        // Alias\n        (0, chai_1.expect)(z.get(\&quot;The Matrix\&quot;)).to.equal(8.7); // =&gt; 8.7\n        // Average O(log(N))\n        (0, chai_1.expect)(z.rem(\&quot;Ex Machina\&quot;)).to.equal(7.7); // =&gt; 7.7\n        // Average O(1)\n        (0, chai_1.expect)(z.rem(\&quot;Ex Machina\&quot;)).to.equal(null); // =&gt; null\n        // Alias\n        (0, chai_1.expect)(z.del(\&quot;Ex Machina\&quot;)).to.equal(null); // =&gt; null\n        /*\n         * Average O(log(N)+M) where M is the number of elements between min and max\n         * This is not working as expected\n         */\n        (0, chai_1.expect)(z.rangeByScore(7, 8)).to.eql([\n            \&quot;District 9\&quot;,\n            \&quot;Terminator\&quot;\n        ]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        (0, chai_1.expect)(z.rangeByScore(8)).to.eql([\n            \&quot;District 9\&quot;,\n            \&quot;Terminator\&quot;,\n            \&quot;The Matrix\&quot;\n        ]); // [8.0-)\n        // =&gt; [&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]\n        (0, chai_1.expect)(z.rangeByScore(8, null, { \&quot;withScores\&quot;: true })).to.eql([\n            [\n                \&quot;District 9\&quot;,\n                8.0\n            ],\n            [\n                \&quot;Terminator\&quot;,\n                8.0\n            ],\n            [\n                \&quot;The Matrix\&quot;,\n                8.7\n            ]\n        ]);\n        // =&gt; [[&#x27;District 9&#x27;, 8.0], [&#x27;Terminator&#x27;, 8.0], [&#x27;The Matrix&#x27;, 8.7]]\n        /*\n         * Average O(log(N)+log(M)) where M as in rangeByScore\n         * Again - not as expected\n         */\n        (0, chai_1.expect)(z.count(7, 8)).to.equal(2); // =&gt; 3\n        /*\n         * Average O(log(N))\n         * Not working as expected\n         */\n        (0, chai_1.expect)(z.rank(\&quot;Ex Machina\&quot;)).to.equal(null); // =&gt; 0\n        // Not working as expected\n        (0, chai_1.expect)(z.rank(\&quot;Terminator\&quot;)).to.equal(1); // =&gt; 2\n        (0, chai_1.expect)(z.rank(\&quot;Blade Runner\&quot;)).to.equal(null); // =&gt; null\n        /*\n         * Average O(log(N)+M) where M as in range\n         * Not working as expected\n         */\n        (0, chai_1.expect)(z.range(0, 2)).to.eql([\n            \&quot;District 9\&quot;,\n            \&quot;Terminator\&quot;,\n            \&quot;The Matrix\&quot;\n        ]);\n        /*\n         * =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n         * Not working as expected\n         */\n        (0, chai_1.expect)(z.range(0, 2, { \&quot;withScores\&quot;: true })).to.eql([\n            [\n                \&quot;District 9\&quot;,\n                8\n            ],\n            [\n                \&quot;Terminator\&quot;,\n                8\n            ],\n            [\n                \&quot;The Matrix\&quot;,\n                8.7\n            ]\n        ]);\n        /*\n         * =&gt; [[&#x27;Ex Machina&#x27;, 7.7],\n         *     [&#x27;District 9&#x27;, 8],\n         *     [&#x27;Terminator&#x27;, 8]]\n         */\n        (0, chai_1.expect)(z.range(-1)).to.eql([\&quot;The Matrix\&quot;]); // =&gt; [&#x27;The Matrix&#x27;]\n        /*\n         * Almost alias\n         * Not working as expected\n         */\n        (0, chai_1.expect)(z.slice(0, 3)).to.eql([\n            \&quot;District 9\&quot;,\n            \&quot;Terminator\&quot;,\n            \&quot;The Matrix\&quot;\n        ]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        /*\n         * Set cardinality (number of elements)\n         * Average O(1)\n         * Not working as expected\n         */\n        (0, chai_1.expect)(z.card()).to.equal(3); // =&gt; 4\n        /*\n         * Alias\n         * Not working as expected\n         */\n        (0, chai_1.expect)(z.length).to.equal(3); // =&gt; 4\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c655611e-13d0-47e1-aa84-05591a41b184&quot;,&quot;parentUUID&quot;:&quot;1c382305-5f19-4c98-ba79-35a493a1d0c8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;the rewrite should do what the documentation says here: https://www.npmjs.com/package/redis-sorted-set&quot;,&quot;fullTitle&quot;:&quot;sorted-set test the rewrite should do what the documentation says here: https://www.npmjs.com/package/redis-sorted-set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        (0, chai_1.expect)(ss.add(\&quot;Terminator\&quot;, 8.0)).to.equal(null); // =&gt; null\n        (0, chai_1.expect)(ss.add(\&quot;District 9\&quot;, 8.0)).to.equal(null); // =&gt; null\n        (0, chai_1.expect)(ss.add(\&quot;Ex Machina\&quot;, 0.7)).to.equal(null); // =&gt; null\n        (0, chai_1.expect)(ss.add(\&quot;Ex Machina\&quot;, 7.7)).to.equal(0.7); // =&gt; 0.7\n        // Alias\n        (0, chai_1.expect)(ss.set(\&quot;The Matrix\&quot;, 8.7)).to.equal(null); // =&gt; null\n        // Average O(1)\n        (0, chai_1.expect)(ss.has(\&quot;Terminator\&quot;)).to.equal(true); // =&gt; true\n        (0, chai_1.expect)(ss.has(\&quot;Blade Runner\&quot;)).to.equal(false); // =&gt; false\n        // Average O(1)\n        (0, chai_1.expect)(ss.score(\&quot;Ex Machina\&quot;)).to.equal(7.7); // =&gt; 7.7\n        (0, chai_1.expect)(ss.score(\&quot;Blade Runner\&quot;)).to.equal(null); // =&gt; null\n        // Alias\n        (0, chai_1.expect)(ss.get(\&quot;The Matrix\&quot;)).to.equal(8.7); // =&gt; 8.7\n        // Average O(log(N))\n        (0, chai_1.expect)(ss.rem(\&quot;Ex Machina\&quot;)).to.equal(7.7); // =&gt; 7.7\n        // Average O(1)\n        (0, chai_1.expect)(ss.rem(\&quot;Ex Machina\&quot;)).to.equal(null); // =&gt; null\n        // Alias\n        (0, chai_1.expect)(ss.del(\&quot;Ex Machina\&quot;)).to.equal(null); // =&gt; null\n        /*\n         * Average O(log(N)+M) where M is the number of elements between min and max\n         * This is not working as expected\n         */\n        (0, chai_1.expect)(ss.rangeByScore(7, 8)).to.eql([\n            \&quot;District 9\&quot;,\n            \&quot;Terminator\&quot;\n        ]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        (0, chai_1.expect)(ss.rangeByScore(8)).to.eql([\n            \&quot;District 9\&quot;,\n            \&quot;Terminator\&quot;,\n            \&quot;The Matrix\&quot;\n        ]); // [8.0-)\n        // =&gt; [&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]\n        (0, chai_1.expect)(ss.rangeByScore(8, null, { \&quot;withScores\&quot;: true })).to.eql([\n            [\n                \&quot;District 9\&quot;,\n                8.0\n            ],\n            [\n                \&quot;Terminator\&quot;,\n                8.0\n            ],\n            [\n                \&quot;The Matrix\&quot;,\n                8.7\n            ]\n        ]);\n        // =&gt; [[&#x27;District 9&#x27;, 8.0], [&#x27;Terminator&#x27;, 8.0], [&#x27;The Matrix&#x27;, 8.7]]\n        /*\n         * Average O(log(N)+log(M)) where M as in rangeByScore\n         * Again - not as expected\n         */\n        (0, chai_1.expect)(ss.count(7, 8)).to.equal(2); // =&gt; 3\n        /*\n         * Average O(log(N))\n         * Not working as expected\n         */\n        (0, chai_1.expect)(ss.rank(\&quot;Ex Machina\&quot;)).to.equal(null); // =&gt; 0\n        // Not working as expected\n        (0, chai_1.expect)(ss.rank(\&quot;Terminator\&quot;)).to.equal(1); // =&gt; 2\n        (0, chai_1.expect)(ss.rank(\&quot;Blade Runner\&quot;)).to.equal(null); // =&gt; null\n        /*\n         * Average O(log(N)+M) where M as in range\n         * Not working as expected\n         */\n        (0, chai_1.expect)(ss.range(0, 2)).to.eql([\n            \&quot;District 9\&quot;,\n            \&quot;Terminator\&quot;,\n            \&quot;The Matrix\&quot;\n        ]);\n        /*\n         * =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n         * Not working as expected\n         */\n        (0, chai_1.expect)(ss.range(0, 2, { \&quot;withScores\&quot;: true })).to.eql([\n            [\n                \&quot;District 9\&quot;,\n                8\n            ],\n            [\n                \&quot;Terminator\&quot;,\n                8\n            ],\n            [\n                \&quot;The Matrix\&quot;,\n                8.7\n            ]\n        ]);\n        /*\n         * =&gt; [[&#x27;Ex Machina&#x27;, 7.7],\n         *     [&#x27;District 9&#x27;, 8],\n         *     [&#x27;Terminator&#x27;, 8]]\n         */\n        (0, chai_1.expect)(ss.range(-1)).to.eql([\&quot;The Matrix\&quot;]); // =&gt; [&#x27;The Matrix&#x27;]\n        /*\n         * Almost alias\n         * Not working as expected\n         */\n        (0, chai_1.expect)(ss.slice(0, 3)).to.eql([\n            \&quot;District 9\&quot;,\n            \&quot;Terminator\&quot;,\n            \&quot;The Matrix\&quot;\n        ]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        /*\n         * Set cardinality (number of elements)\n         * Average O(1)\n         * Not working as expected\n         */\n        (0, chai_1.expect)(ss.card()).to.equal(3); // =&gt; 4\n        /*\n         * Alias\n         * Not working as expected\n         */\n        (0, chai_1.expect)(ss.length).to.equal(3); // =&gt; 4\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;750ed855-b242-42d0-bdb8-3732bb494a80&quot;,&quot;parentUUID&quot;:&quot;1c382305-5f19-4c98-ba79-35a493a1d0c8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;5cfc0350-c52b-4c24-9351-97369b1062c1&quot;,&quot;title&quot;:&quot;skip map&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support basic operations&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map should support basic operations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\n(0, chai_1.expect)(z).to.have.length(0);\n(0, chai_1.expect)(z.toArray()).to.eql([]);\n(0, chai_1.expect)(z.range()).to.eql([]);\n(0, chai_1.expect)(z.rangeByScore()).to.eql([]);\n(0, chai_1.expect)(() =&gt; {\n    z.add(\&quot;__proto__\&quot;, 14);\n}).to.throw();\nz.add(\&quot;5a600e16\&quot;, 8);\nz.add(\&quot;5a600e17\&quot;, 9);\n(0, chai_1.expect)(z.add(\&quot;5a600e18\&quot;, 10)).to.equal(null);\n(0, chai_1.expect)(z.add(\&quot;5a600e17\&quot;, 12)).to.equal(9);\n(0, chai_1.expect)(z).to.have.length(3);\n(0, chai_1.expect)(z.toArray()).to.eql([\n    \&quot;5a600e16\&quot;,\n    \&quot;5a600e18\&quot;,\n    \&quot;5a600e17\&quot;\n]);\n(0, chai_1.expect)(z.toArray()).to.eql(z.range(0, -1));\n(0, chai_1.expect)(z.toArray()).to.eql(z.rangeByScore());\n(0, chai_1.expect)(z.has(\&quot;5a600e16\&quot;)).to.be.ok;\n(0, chai_1.expect)(z.has(\&quot;5a600e17\&quot;)).to.be.ok;\n(0, chai_1.expect)(z.has(\&quot;5a600e18\&quot;)).to.be.ok;\n(0, chai_1.expect)(z.has(\&quot;5a600e19\&quot;)).to.not.be.ok;\n(0, chai_1.expect)(z.score(\&quot;5a600e16\&quot;)).to.equal(8);\n(0, chai_1.expect)(z.score(\&quot;5a600e17\&quot;)).to.equal(12);\n(0, chai_1.expect)(z.score(\&quot;5a600e18\&quot;)).to.equal(10);\n(0, chai_1.expect)(z.score(\&quot;5a600e19\&quot;)).to.equal(null);\n(0, chai_1.expect)(z.rem(\&quot;5a600e16\&quot;)).to.equal(8);\n(0, chai_1.expect)(z).to.have.length(2);\n(0, chai_1.expect)(z.rem(\&quot;5a600e16\&quot;)).to.equal(null);\n(0, chai_1.expect)(z).to.have.length(2);\n(0, chai_1.expect)(z.has(\&quot;5a600e16\&quot;)).to.not.be.ok;\n(0, chai_1.expect)(z.toArray()).to.eql([\n    \&quot;5a600e18\&quot;,\n    \&quot;5a600e17\&quot;\n]);\n(0, chai_1.expect)(z.toArray({ \&quot;withScores\&quot;: true })).\n    to.eql(z.range(0, -1, { \&quot;withScores\&quot;: true }));\n(0, chai_1.expect)(z.toArray()).to.eql(z.rangeByScore());\nz.add(\&quot;5a600e16\&quot;, 10);\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\n(0, chai_1.expect)(z).to.have.length(9);\n// No change, so should be O(1)\nz.add(\&quot;5a600e17\&quot;, 12);\n(0, chai_1.expect)(z.rank(\&quot;5a600e17\&quot;)).to.equal(4);\n(0, chai_1.expect)(z).to.have.length(9);\n(0, chai_1.expect)(z.toArray()).to.eql([\n    \&quot;5a600e16\&quot;,\n    \&quot;5a600e11\&quot;,\n    \&quot;5a600e18\&quot;,\n    \&quot;5a600e13\&quot;,\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e12\&quot;,\n    \&quot;5a600e15\&quot;\n]);\n(0, chai_1.expect)(z.toArray()).to.eql(z.range(0, -1));\n(0, chai_1.expect)(z.toArray()).to.eql(z.rangeByScore());\n(0, chai_1.expect)(z.rangeByScore(14, 16, { \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e14\&quot;,\n        14\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4cd0b173-5532-4881-ab43-3fb2344dee69&quot;,&quot;parentUUID&quot;:&quot;5cfc0350-c52b-4c24-9351-97369b1062c1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;aca6f325-52ae-4106-acd0-f2cd5d91222a&quot;,&quot;title&quot;:&quot;#add&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should implicitly delete&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #add should implicitly delete&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.add(\&quot;5a600e14\&quot;, null)).to.equal(14);\n(0, chai_1.expect)(z.add(\&quot;5a600e19\&quot;, null)).to.equal(null);\n(0, chai_1.expect)(z).to.have.length(8);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e5101298-d145-4154-b5af-5b56e67053b4&quot;,&quot;parentUUID&quot;:&quot;aca6f325-52ae-4106-acd0-f2cd5d91222a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e5101298-d145-4154-b5af-5b56e67053b4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1ba4e381-556d-4ea6-8123-cc3e0e9fe863&quot;,&quot;title&quot;:&quot;#empty&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove all elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #empty should remove all elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\nz.empty();\n(0, chai_1.expect)(z).to.have.length(0);\n(0, chai_1.expect)(z.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;df04e056-0b39-44f7-b966-d8331bb2bb25&quot;,&quot;parentUUID&quot;:&quot;1ba4e381-556d-4ea6-8123-cc3e0e9fe863&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;df04e056-0b39-44f7-b966-d8331bb2bb25&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8099c973-ca56-4c57-8eba-137c2c3679e0&quot;,&quot;title&quot;:&quot;#incrBy(increment, key)&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should increase rank&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #incrBy(increment, key) should increase rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;first\&quot;, 1);\nz.add(\&quot;second\&quot;, 2);\nz.add(\&quot;third\&quot;, 3);\nz.add(\&quot;fourth\&quot;, 4);\n(0, chai_1.expect)(z.incrBy(2, \&quot;first\&quot;)).to.equal(3);\n(0, chai_1.expect)(z.rank(\&quot;first\&quot;)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d5dbfe4-28c6-4d52-a3fa-463c6c44eb32&quot;,&quot;parentUUID&quot;:&quot;8099c973-ca56-4c57-8eba-137c2c3679e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create if not found&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #incrBy(increment, key) should create if not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;first\&quot;, 1);\nz.incrBy(2, \&quot;second\&quot;);\n(0, chai_1.expect)(z.card()).to.equal(2);\n(0, chai_1.expect)(z.rank(\&quot;second\&quot;)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f6633a01-e181-4d6a-ad1a-29e460d16ef4&quot;,&quot;parentUUID&quot;:&quot;8099c973-ca56-4c57-8eba-137c2c3679e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0d5dbfe4-28c6-4d52-a3fa-463c6c44eb32&quot;,&quot;f6633a01-e181-4d6a-ad1a-29e460d16ef4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c4a87a4c-ced6-4ff3-85d4-9f8800ba87cc&quot;,&quot;title&quot;:&quot;#keys&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the keys&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #keys should return the keys&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.keys()).to.eql([\n    \&quot;5a600e16\&quot;,\n    \&quot;5a600e11\&quot;,\n    \&quot;5a600e18\&quot;,\n    \&quot;5a600e13\&quot;,\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e12\&quot;,\n    \&quot;5a600e15\&quot;\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f6936afc-9e34-490d-b431-08646e175278&quot;,&quot;parentUUID&quot;:&quot;c4a87a4c-ced6-4ff3-85d4-9f8800ba87cc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f6936afc-9e34-490d-b431-08646e175278&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;79da66cf-e31a-4c20-a8e4-73d714397ff3&quot;,&quot;title&quot;:&quot;#rangeByScore&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support special ranges&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #rangeByScore should support special ranges&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.rangeByScore(14, null, { \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e14\&quot;,\n        14\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ],\n    [\n        \&quot;5a600e15\&quot;,\n        19\n    ]\n]);\n(0, chai_1.expect)(z.rangeByScore(null, 10, { \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e16\&quot;,\n        3\n    ],\n    [\n        \&quot;5a600e11\&quot;,\n        6\n    ],\n    [\n        \&quot;5a600e18\&quot;,\n        10\n    ]\n]);\n(0, chai_1.expect)(z.rangeByScore(-Infinity, Infinity)).to.eql(z.toArray());\n(0, chai_1.expect)(z.rangeByScore(null, null)).to.eql(z.toArray());&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;86c202b8-8352-4ab1-a3d8-6f5150a1869b&quot;,&quot;parentUUID&quot;:&quot;79da66cf-e31a-4c20-a8e4-73d714397ff3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;86c202b8-8352-4ab1-a3d8-6f5150a1869b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;fe25cb3e-8d78-4c0d-8c77-804f7ca7349e&quot;,&quot;title&quot;:&quot;#count&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should count elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #count should count elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\n(0, chai_1.expect)(z.count()).to.equal(0);\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\nz.add(\&quot;5a600e19\&quot;, 14);\nz.add(\&quot;5a600f00\&quot;, 30.0);\nz.add(\&quot;5a600f01\&quot;, 30.5);\nz.add(\&quot;5a600f02\&quot;, 31.0);\nz.add(\&quot;5a600f03\&quot;, 31.5);\nz.add(\&quot;5a600f04\&quot;, 32.0);\nz.add(\&quot;5a600f05\&quot;, 32.0);\nz.add(\&quot;5a600f06\&quot;, 32.0);\n(0, chai_1.expect)(z.count()).to.eql(z.rangeByScore().length);\n(0, chai_1.expect)(z.count(8)).to.eql(z.rangeByScore(8).length);\n(0, chai_1.expect)(z.count(3, 7)).to.eql(z.rangeByScore(3, 7).length);\n(0, chai_1.expect)(z.count(5, 14)).to.eql(z.rangeByScore(5, 14).length);\n(0, chai_1.expect)(z.count(5, 5)).to.eql(z.rangeByScore(5, 5).length);\n(0, chai_1.expect)(z.count(5, 0)).to.eql(z.rangeByScore(5, 0).length);\n(0, chai_1.expect)(z.count(30, 32)).to.eql(z.rangeByScore(30, 32).length);\n(0, chai_1.expect)(z.count(40)).to.eql(z.rangeByScore(40).length);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf71f221-8510-46f2-b801-f795b487180f&quot;,&quot;parentUUID&quot;:&quot;fe25cb3e-8d78-4c0d-8c77-804f7ca7349e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cf71f221-8510-46f2-b801-f795b487180f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;fb989490-c15a-496b-b8ed-6e59eaa0840d&quot;,&quot;title&quot;:&quot;#range&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support special ranges&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #range should support special ranges&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;first\&quot;, 1);\nz.add(\&quot;second\&quot;, 2);\nz.add(\&quot;third\&quot;, 3);\nz.add(\&quot;fourth\&quot;, 4);\nconst array = [\n    \&quot;first\&quot;,\n    \&quot;second\&quot;,\n    \&quot;third\&quot;,\n    \&quot;fourth\&quot;\n];\n(0, chai_1.expect)(z.range()).to.eql(array);\n(0, chai_1.expect)(z.range(2)).to.eql(array.slice(2));\n(0, chai_1.expect)(z.range(8)).to.eql(array.slice(8));\n(0, chai_1.expect)(z.range(0, 2)).to.eql(array.slice(0, 3));\n(0, chai_1.expect)(z.range(-1)).to.eql([\&quot;fourth\&quot;]);\n(0, chai_1.expect)(z.range(-4)).to.eql(array);\n(0, chai_1.expect)(z.range(-4, -2)).to.eql(array.slice(0, 3));\n(0, chai_1.expect)(z.range(-4, z.length + 1000)).\n    to.eql(array.slice(-4, z.length + 1000));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2637e4fc-3d1e-442d-92df-66c76fda7513&quot;,&quot;parentUUID&quot;:&quot;fb989490-c15a-496b-b8ed-6e59eaa0840d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support withScores&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #range should support withScores&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;first\&quot;, 1);\nz.add(\&quot;second\&quot;, 2);\n(0, chai_1.expect)(z.range(0, 0, { \&quot;withScores\&quot;: true })).\n    to.eql([\n    [\n        \&quot;first\&quot;,\n        1\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;861b9ce3-6444-4de3-acd2-dc7d361534e2&quot;,&quot;parentUUID&quot;:&quot;fb989490-c15a-496b-b8ed-6e59eaa0840d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2637e4fc-3d1e-442d-92df-66c76fda7513&quot;,&quot;861b9ce3-6444-4de3-acd2-dc7d361534e2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;fb378ee2-cdcb-4f83-a4e5-f023d20ddcb3&quot;,&quot;title&quot;:&quot;#intersect&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should intersect two sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #intersect should intersect two sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const a = new Z(), b = new Z();\na.add(\&quot;5a600e10\&quot;, 16);\na.add(\&quot;5a600e12\&quot;, 10);\na.add(\&quot;5a600e14\&quot;, 9);\na.add(\&quot;5a600e15\&quot;, 14);\na.add(\&quot;5a600e17\&quot;, 20);\na.add(\&quot;5a600e18\&quot;, 13);\na.add(\&quot;5a600e19\&quot;, 15);\na.add(\&quot;5a600e1a\&quot;, 19);\na.add(\&quot;5a600e1b\&quot;, 7);\na.add(\&quot;5a600e1c\&quot;, 13);\na.add(\&quot;5a600e1e\&quot;, 10);\nb.add(\&quot;5a600e10\&quot;, 0);\nb.add(\&quot;5a600e11\&quot;, 15);\nb.add(\&quot;5a600e13\&quot;, 5);\nb.add(\&quot;5a600e14\&quot;, 3);\nb.add(\&quot;5a600e15\&quot;, 14);\nb.add(\&quot;5a600e17\&quot;, 12);\nb.add(\&quot;5a600e19\&quot;, 12);\nb.add(\&quot;5a600e1b\&quot;, 16);\nb.add(\&quot;5a600e1c\&quot;, 12);\nb.add(\&quot;5a600e1d\&quot;, 17);\nb.add(\&quot;5a600e1f\&quot;, 3);\n(0, chai_1.expect)(Z.intersect(a, b)).to.eql([\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e19\&quot;,\n    \&quot;5a600e1c\&quot;,\n    \&quot;5a600e15\&quot;,\n    \&quot;5a600e1b\&quot;\n]);\n(0, chai_1.expect)(Z.intersect(b, a)).to.eql([\n    \&quot;5a600e1b\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e1c\&quot;,\n    \&quot;5a600e15\&quot;,\n    \&quot;5a600e19\&quot;,\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e17\&quot;\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1737a9be-d200-4b7b-b8a3-f1f581354da0&quot;,&quot;parentUUID&quot;:&quot;fb378ee2-cdcb-4f83-a4e5-f023d20ddcb3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should intersect three sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #intersect should intersect three sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const a = new Z(), b = new Z(), c = new Z();\na.add(\&quot;5a600e10\&quot;, 16);\na.add(\&quot;5a600e12\&quot;, 10);\na.add(\&quot;5a600e14\&quot;, 9);\na.add(\&quot;5a600e15\&quot;, 14);\na.add(\&quot;5a600e17\&quot;, 20);\na.add(\&quot;5a600e18\&quot;, 13);\na.add(\&quot;5a600e19\&quot;, 15);\na.add(\&quot;5a600e1a\&quot;, 19);\na.add(\&quot;5a600e1b\&quot;, 7);\na.add(\&quot;5a600e1c\&quot;, 13);\na.add(\&quot;5a600e1e\&quot;, 10);\nb.add(\&quot;5a600e10\&quot;, 0);\nb.add(\&quot;5a600e11\&quot;, 15);\nb.add(\&quot;5a600e13\&quot;, 5);\nb.add(\&quot;5a600e14\&quot;, 3);\nb.add(\&quot;5a600e15\&quot;, 14);\nb.add(\&quot;5a600e17\&quot;, 12);\nb.add(\&quot;5a600e19\&quot;, 12);\nb.add(\&quot;5a600e1b\&quot;, 16);\nb.add(\&quot;5a600e1c\&quot;, 12);\nb.add(\&quot;5a600e1d\&quot;, 17);\nb.add(\&quot;5a600e1f\&quot;, 3);\nc.add(\&quot;5a600e10\&quot;, 7);\nc.add(\&quot;5a600e12\&quot;, 20);\nc.add(\&quot;5a600e13\&quot;, 9);\nc.add(\&quot;5a600e14\&quot;, 19);\nc.add(\&quot;5a600e16\&quot;, 19);\nc.add(\&quot;5a600e17\&quot;, 1);\nc.add(\&quot;5a600e18\&quot;, 18);\nc.add(\&quot;5a600e1a\&quot;, 6);\nc.add(\&quot;5a600e1c\&quot;, 15);\nc.add(\&quot;5a600e1f\&quot;, 4);\n(0, chai_1.expect)(Z.intersect(c, a, b)).to.eql([\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e1c\&quot;\n]);\n(0, chai_1.expect)(Z.intersect(c, a, b)).to.eql(c.intersect(a, b));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf91b656-bcd1-4890-8983-89e11ef620e5&quot;,&quot;parentUUID&quot;:&quot;fb378ee2-cdcb-4f83-a4e5-f023d20ddcb3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should intersect four sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #intersect should intersect four sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const a = new Z(), b = new Z(), c = new Z(), d = new Z();\na.add(\&quot;5a600e10\&quot;, 16);\na.add(\&quot;5a600e12\&quot;, 10);\na.add(\&quot;5a600e14\&quot;, 9);\na.add(\&quot;5a600e15\&quot;, 14);\na.add(\&quot;5a600e17\&quot;, 20);\na.add(\&quot;5a600e18\&quot;, 13);\na.add(\&quot;5a600e19\&quot;, 15);\na.add(\&quot;5a600e1a\&quot;, 19);\na.add(\&quot;5a600e1b\&quot;, 7);\na.add(\&quot;5a600e1c\&quot;, 13);\na.add(\&quot;5a600e1e\&quot;, 10);\nb.add(\&quot;5a600e10\&quot;, 0);\nb.add(\&quot;5a600e11\&quot;, 15);\nb.add(\&quot;5a600e13\&quot;, 5);\nb.add(\&quot;5a600e14\&quot;, 3);\nb.add(\&quot;5a600e15\&quot;, 14);\nb.add(\&quot;5a600e17\&quot;, 12);\nb.add(\&quot;5a600e19\&quot;, 12);\nb.add(\&quot;5a600e1b\&quot;, 16);\nb.add(\&quot;5a600e1c\&quot;, 12);\nb.add(\&quot;5a600e1d\&quot;, 17);\nb.add(\&quot;5a600e1f\&quot;, 3);\nc.add(\&quot;5a600e10\&quot;, 7);\nc.add(\&quot;5a600e12\&quot;, 20);\nc.add(\&quot;5a600e13\&quot;, 9);\nc.add(\&quot;5a600e14\&quot;, 19);\nc.add(\&quot;5a600e16\&quot;, 19);\nc.add(\&quot;5a600e17\&quot;, 1);\nc.add(\&quot;5a600e18\&quot;, 18);\nc.add(\&quot;5a600e1a\&quot;, 6);\nc.add(\&quot;5a600e1c\&quot;, 15);\nc.add(\&quot;5a600e1f\&quot;, 4);\nd.add(\&quot;5a600e1c\&quot;, 400);\nd.add(\&quot;5a600e17\&quot;, 500);\nd.add(\&quot;5a600e1f\&quot;, 600);\nd.add(\&quot;5a600e20\&quot;, 700);\n(0, chai_1.expect)(Z.intersect(d, c, a, b)).to.eql([\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e1c\&quot;\n]);\n(0, chai_1.expect)(Z.intersect(d, c, a, b)).to.eql(d.intersect(c, a, b));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;19f10e71-54be-4e02-aadc-43d624a59ef6&quot;,&quot;parentUUID&quot;:&quot;fb378ee2-cdcb-4f83-a4e5-f023d20ddcb3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1737a9be-d200-4b7b-b8a3-f1f581354da0&quot;,&quot;cf91b656-bcd1-4890-8983-89e11ef620e5&quot;,&quot;19f10e71-54be-4e02-aadc-43d624a59ef6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;0b818bc1-7a87-430f-bb2c-95e85b3c08ee&quot;,&quot;title&quot;:&quot;#rank&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get the correct rank&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #rank should get the correct rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.rank(\&quot;5a600e12\&quot;)).to.equal(7);\n(0, chai_1.expect)(z.rank(\&quot;5a600e13\&quot;)).to.equal(3);\n(0, chai_1.expect)(z.rank(\&quot;5a600e16\&quot;)).to.equal(0);\n(0, chai_1.expect)(z.rank(\&quot;5a600e15\&quot;)).to.equal(8);\n(0, chai_1.expect)(z.rank(\&quot;not in set\&quot;)).to.equal(null);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bebf83c1-90a0-4b51-b592-19f3c81d0c49&quot;,&quot;parentUUID&quot;:&quot;0b818bc1-7a87-430f-bb2c-95e85b3c08ee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bebf83c1-90a0-4b51-b592-19f3c81d0c49&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3eee015b-afb8-4cf4-98ab-9433a1676331&quot;,&quot;title&quot;:&quot;#rem&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete special elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #rem should delete special elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.rem(\&quot;5a600e15\&quot;)).to.equal(19);\n(0, chai_1.expect)(z).to.have.length(8);\n(0, chai_1.expect)(z.rem(\&quot;5a600e16\&quot;)).to.equal(3);\n(0, chai_1.expect)(z).to.have.length(7);\n(0, chai_1.expect)(z.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e11\&quot;,\n        6\n    ],\n    [\n        \&quot;5a600e18\&quot;,\n        10\n    ],\n    [\n        \&quot;5a600e13\&quot;,\n        11\n    ],\n    [\n        \&quot;5a600e17\&quot;,\n        12\n    ],\n    [\n        \&quot;5a600e14\&quot;,\n        14\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a765a724-d4b4-4a5c-b8ce-8c1a76d188f7&quot;,&quot;parentUUID&quot;:&quot;3eee015b-afb8-4cf4-98ab-9433a1676331&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should delete many elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #rem should delete many elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.rem(\&quot;5a600e11\&quot;)).to.equal(6);\n(0, chai_1.expect)(z.rem(\&quot;5a600e13\&quot;)).to.equal(11);\n(0, chai_1.expect)(z.rem(\&quot;5a600e14\&quot;)).to.equal(14);\n(0, chai_1.expect)(z.rem(\&quot;5a600e15\&quot;)).to.equal(19);\n(0, chai_1.expect)(z.rem(\&quot;5a600e16\&quot;)).to.equal(3);\n(0, chai_1.expect)(z.rem(\&quot;5a600e17\&quot;)).to.equal(12);\n(0, chai_1.expect)(z.length).to.equal(3);\n(0, chai_1.expect)(z.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e18\&quot;,\n        10\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8fb1ee2f-a5ad-4ae8-b500-c2374730fec9&quot;,&quot;parentUUID&quot;:&quot;3eee015b-afb8-4cf4-98ab-9433a1676331&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a765a724-d4b4-4a5c-b8ce-8c1a76d188f7&quot;,&quot;8fb1ee2f-a5ad-4ae8-b500-c2374730fec9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e1e7d099-7b4a-435b-ab72-ba6552f33db9&quot;,&quot;title&quot;:&quot;#remRangeByScore&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should strip out a range of elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #remRangeByScore should strip out a range of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.remRangeByScore(4, 14)).to.equal(5);\n(0, chai_1.expect)(z).to.have.length(4);\n(0, chai_1.expect)(z.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e16\&quot;,\n        3\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ],\n    [\n        \&quot;5a600e15\&quot;,\n        19\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a5801214-bcd9-4b37-a61b-e961d46f519c&quot;,&quot;parentUUID&quot;:&quot;e1e7d099-7b4a-435b-ab72-ba6552f33db9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should strip out all the elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #remRangeByScore should strip out all the elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.remRangeByScore(3, 19)).to.equal(9);\n(0, chai_1.expect)(z).to.have.length(0);\n(0, chai_1.expect)(z.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;054285a3-6f00-4577-8f6d-172686fd893d&quot;,&quot;parentUUID&quot;:&quot;e1e7d099-7b4a-435b-ab72-ba6552f33db9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a5801214-bcd9-4b37-a61b-e961d46f519c&quot;,&quot;054285a3-6f00-4577-8f6d-172686fd893d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b2c95401-46b0-4b34-aa19-00877ece6fea&quot;,&quot;title&quot;:&quot;#remRangeByRank&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should strip out a slice of elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #remRangeByRank should strip out a slice of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.remRangeByRank(1, 6)).to.equal(5);\n(0, chai_1.expect)(z).to.have.length(4);\n(0, chai_1.expect)(z.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e16\&quot;,\n        3\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ],\n    [\n        \&quot;5a600e15\&quot;,\n        19\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd3c0e6f-f772-4b2e-83ce-350fc3f5fdd4&quot;,&quot;parentUUID&quot;:&quot;b2c95401-46b0-4b34-aa19-00877ece6fea&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should strip out all elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #remRangeByRank should strip out all elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.remRangeByRank(0, 9)).to.equal(9);\n(0, chai_1.expect)(z).to.have.length(0);\n(0, chai_1.expect)(z.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d9574017-6cd4-4389-ad5f-237c342fd900&quot;,&quot;parentUUID&quot;:&quot;b2c95401-46b0-4b34-aa19-00877ece6fea&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fd3c0e6f-f772-4b2e-83ce-350fc3f5fdd4&quot;,&quot;d9574017-6cd4-4389-ad5f-237c342fd900&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;484f3818-82b5-40dd-8121-2510e5f2707e&quot;,&quot;title&quot;:&quot;#values&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the values&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #values should return the values&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;first\&quot;, -1);\nz.add(\&quot;third\&quot;, 5);\nz.add(\&quot;second\&quot;, 3);\n(0, chai_1.expect)(z.values()).to.eql([\n    -1,\n    3,\n    5\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f0055b2e-cf6b-41c5-98bd-a11858779a38&quot;,&quot;parentUUID&quot;:&quot;484f3818-82b5-40dd-8121-2510e5f2707e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f0055b2e-cf6b-41c5-98bd-a11858779a38&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;4ea00826-03e2-4fec-b9c0-0ca0c6359688&quot;,&quot;title&quot;:&quot;unique&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should ensure values are unique&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map unique should ensure values are unique&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z({ \&quot;unique\&quot;: true });\nassert.equal(z.keys().length, 0, \&quot;Expected an empty SortedSet\&quot;);\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(() =&gt; {\n    z.add(\&quot;5a600e19\&quot;, 11);\n}).to.throw(/unique/);\n// Quick exit test\n(0, chai_1.expect)(() =&gt; {\n    z.add(\&quot;5a600dff\&quot;, z._head.next[z._level - 1].next.value);\n}).to.throw(/unique/);\n// This test ensures the key &lt; key check doesn&#x27;t come into play\n(0, chai_1.expect)(() =&gt; {\n    z.add(\&quot;5a600dff\&quot;, 11);\n}).to.throw(/unique/);\n(0, chai_1.expect)(() =&gt; {\n    z.add(\&quot;5a600e18\&quot;, 10);\n}).to.not.throw();\n(0, chai_1.expect)(z).to.have.length(9);\n(0, chai_1.expect)(z.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e16\&quot;,\n        3\n    ],\n    [\n        \&quot;5a600e11\&quot;,\n        6\n    ],\n    [\n        \&quot;5a600e18\&quot;,\n        10\n    ],\n    [\n        \&quot;5a600e13\&quot;,\n        11\n    ],\n    [\n        \&quot;5a600e17\&quot;,\n        12\n    ],\n    [\n        \&quot;5a600e14\&quot;,\n        14\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ],\n    [\n        \&quot;5a600e15\&quot;,\n        19\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;65102b6a-3b1d-45a2-984d-13c236634e9b&quot;,&quot;parentUUID&quot;:&quot;4ea00826-03e2-4fec-b9c0-0ca0c6359688&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert keys if constraint broken during update&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map unique should revert keys if constraint broken during update&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z({ \&quot;unique\&quot;: true });\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(() =&gt; {\n    z.add(\&quot;5a600e13\&quot;, 14);\n}).to.throw(/unique/);\n(0, chai_1.expect)(z).to.have.length(9);\n(0, chai_1.expect)(z.score(\&quot;5a600e13\&quot;)).to.equal(11);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d38926ac-bbaf-4b14-b53d-1641a30b1409&quot;,&quot;parentUUID&quot;:&quot;4ea00826-03e2-4fec-b9c0-0ca0c6359688&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;65102b6a-3b1d-45a2-984d-13c236634e9b&quot;,&quot;d38926ac-bbaf-4b14-b53d-1641a30b1409&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;4cd0b173-5532-4881-ab43-3fb2344dee69&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;76e1fd76-498d-4513-8d25-ed140ff12131&quot;,&quot;title&quot;:&quot;skip map rewrite&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support basic operations&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite should support basic operations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\n(0, chai_1.expect)(ss).to.have.length(0);\n(0, chai_1.expect)(ss.toArray()).to.eql([]);\n(0, chai_1.expect)(ss.range()).to.eql([]);\n(0, chai_1.expect)(ss.rangeByScore()).to.eql([]);\n/*\n * Expect(() =&gt; {\n *   Ss.add(&#x27;__proto__&#x27;, 14);\n * }).to.throw();\n */\nss.add(\&quot;5a600e16\&quot;, 8);\nss.add(\&quot;5a600e17\&quot;, 9);\n(0, chai_1.expect)(ss.add(\&quot;5a600e18\&quot;, 10)).to.equal(null);\n(0, chai_1.expect)(ss.add(\&quot;5a600e17\&quot;, 12)).to.equal(9);\n(0, chai_1.expect)(ss).to.have.length(3);\n(0, chai_1.expect)(ss.toArray()).to.eql([\n    \&quot;5a600e16\&quot;,\n    \&quot;5a600e18\&quot;,\n    \&quot;5a600e17\&quot;\n]);\n(0, chai_1.expect)(ss.toArray()).to.eql(ss.range(0, -1));\n(0, chai_1.expect)(ss.toArray()).to.eql(ss.rangeByScore());\n(0, chai_1.expect)(ss.has(\&quot;5a600e16\&quot;)).to.be.ok;\n(0, chai_1.expect)(ss.has(\&quot;5a600e17\&quot;)).to.be.ok;\n(0, chai_1.expect)(ss.has(\&quot;5a600e18\&quot;)).to.be.ok;\n(0, chai_1.expect)(ss.has(\&quot;5a600e19\&quot;)).to.not.be.ok;\n(0, chai_1.expect)(ss.score(\&quot;5a600e16\&quot;)).to.equal(8);\n(0, chai_1.expect)(ss.score(\&quot;5a600e17\&quot;)).to.equal(12);\n(0, chai_1.expect)(ss.score(\&quot;5a600e18\&quot;)).to.equal(10);\n(0, chai_1.expect)(ss.score(\&quot;5a600e19\&quot;)).to.equal(null);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e16\&quot;)).to.equal(8);\n(0, chai_1.expect)(ss).to.have.length(2);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e16\&quot;)).to.equal(null);\n(0, chai_1.expect)(ss).to.have.length(2);\n(0, chai_1.expect)(ss.has(\&quot;5a600e16\&quot;)).to.not.be.ok;\n(0, chai_1.expect)(ss.toArray()).to.eql([\n    \&quot;5a600e18\&quot;,\n    \&quot;5a600e17\&quot;\n]);\n(0, chai_1.expect)(ss.toArray({ \&quot;withScores\&quot;: true })).\n    to.eql(ss.range(0, -1, { \&quot;withScores\&quot;: true }));\n(0, chai_1.expect)(ss.toArray()).to.eql(ss.rangeByScore());\nss.add(\&quot;5a600e16\&quot;, 10);\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\n(0, chai_1.expect)(ss).to.have.length(9);\n// No change, so should be O(1)\nss.add(\&quot;5a600e17\&quot;, 12);\n(0, chai_1.expect)(ss.rank(\&quot;5a600e17\&quot;)).to.equal(4);\n(0, chai_1.expect)(ss).to.have.length(9);\n(0, chai_1.expect)(ss.toArray()).to.eql([\n    \&quot;5a600e16\&quot;,\n    \&quot;5a600e11\&quot;,\n    \&quot;5a600e18\&quot;,\n    \&quot;5a600e13\&quot;,\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e12\&quot;,\n    \&quot;5a600e15\&quot;\n]);\n(0, chai_1.expect)(ss.toArray()).to.eql(ss.range(0, -1));\n(0, chai_1.expect)(ss.toArray()).to.eql(ss.rangeByScore());\n(0, chai_1.expect)(ss.rangeByScore(14, 16, { \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e14\&quot;,\n        14\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7b212cd6-4209-42ab-9141-f499bba795dc&quot;,&quot;parentUUID&quot;:&quot;76e1fd76-498d-4513-8d25-ed140ff12131&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;eb6cf96f-fa9f-4a56-963e-ef55a801f25d&quot;,&quot;title&quot;:&quot;#add&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should implicitly delete&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #add should implicitly delete&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.add(\&quot;5a600e14\&quot;, null)).to.equal(14);\n(0, chai_1.expect)(ss.add(\&quot;5a600e19\&quot;, null)).to.equal(null);\n(0, chai_1.expect)(ss).to.have.length(8);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b190454f-e753-43ad-b92f-38efafa6994c&quot;,&quot;parentUUID&quot;:&quot;eb6cf96f-fa9f-4a56-963e-ef55a801f25d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b190454f-e753-43ad-b92f-38efafa6994c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6189666e-816c-43aa-bb63-b6214004065e&quot;,&quot;title&quot;:&quot;#empty&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove all elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #empty should remove all elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\nss.empty();\n(0, chai_1.expect)(ss).to.have.length(0);\n(0, chai_1.expect)(ss.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;daa3a6e4-dd33-467e-b428-502350fb6c31&quot;,&quot;parentUUID&quot;:&quot;6189666e-816c-43aa-bb63-b6214004065e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;daa3a6e4-dd33-467e-b428-502350fb6c31&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;77ab7b0b-cac6-41c6-bb7e-8ce25a8ba46a&quot;,&quot;title&quot;:&quot;#incrBy(increment, key)&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should increase rank&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #incrBy(increment, key) should increase rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;first\&quot;, 1);\nss.add(\&quot;second\&quot;, 2);\nss.add(\&quot;third\&quot;, 3);\nss.add(\&quot;fourth\&quot;, 4);\n(0, chai_1.expect)(ss.incrBy(2, \&quot;first\&quot;)).to.equal(3);\n(0, chai_1.expect)(ss.rank(\&quot;first\&quot;)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a222d050-5d8f-41c2-b3a9-60803789910b&quot;,&quot;parentUUID&quot;:&quot;77ab7b0b-cac6-41c6-bb7e-8ce25a8ba46a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create if not found&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #incrBy(increment, key) should create if not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;first\&quot;, 1);\nss.incrBy(2, \&quot;second\&quot;);\n(0, chai_1.expect)(ss.card()).to.equal(2);\n(0, chai_1.expect)(ss.rank(\&quot;second\&quot;)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bf23b940-4906-472b-bb0f-0e2087c966dc&quot;,&quot;parentUUID&quot;:&quot;77ab7b0b-cac6-41c6-bb7e-8ce25a8ba46a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a222d050-5d8f-41c2-b3a9-60803789910b&quot;,&quot;bf23b940-4906-472b-bb0f-0e2087c966dc&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3b6cbcff-1bab-436b-b6c2-21965c91de5a&quot;,&quot;title&quot;:&quot;#keys&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the keys&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #keys should return the keys&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.keys()).to.eql([\n    \&quot;5a600e16\&quot;,\n    \&quot;5a600e11\&quot;,\n    \&quot;5a600e18\&quot;,\n    \&quot;5a600e13\&quot;,\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e12\&quot;,\n    \&quot;5a600e15\&quot;\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;956cb528-f031-4535-a0ab-0f39547f4162&quot;,&quot;parentUUID&quot;:&quot;3b6cbcff-1bab-436b-b6c2-21965c91de5a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;956cb528-f031-4535-a0ab-0f39547f4162&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6d324bb3-b210-4c57-9a4a-37c370d9c624&quot;,&quot;title&quot;:&quot;#rangeByScore&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support special ranges&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #rangeByScore should support special ranges&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.rangeByScore(14, null, { \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e14\&quot;,\n        14\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ],\n    [\n        \&quot;5a600e15\&quot;,\n        19\n    ]\n]);\n(0, chai_1.expect)(ss.rangeByScore(null, 10, { \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e16\&quot;,\n        3\n    ],\n    [\n        \&quot;5a600e11\&quot;,\n        6\n    ],\n    [\n        \&quot;5a600e18\&quot;,\n        10\n    ]\n]);\n(0, chai_1.expect)(ss.rangeByScore(-Infinity, Infinity)).to.eql(ss.toArray());\n(0, chai_1.expect)(ss.rangeByScore(null, null)).to.eql(ss.toArray());&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4b00e28d-ad44-4415-a69a-19d75d4fe227&quot;,&quot;parentUUID&quot;:&quot;6d324bb3-b210-4c57-9a4a-37c370d9c624&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4b00e28d-ad44-4415-a69a-19d75d4fe227&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c4fdccc2-d99e-4600-b667-26d7fc298cfb&quot;,&quot;title&quot;:&quot;#count&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should count elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #count should count elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\n(0, chai_1.expect)(ss.count()).to.equal(0);\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\nss.add(\&quot;5a600e19\&quot;, 14);\nss.add(\&quot;5a600f00\&quot;, 30.0);\nss.add(\&quot;5a600f01\&quot;, 30.5);\nss.add(\&quot;5a600f02\&quot;, 31.0);\nss.add(\&quot;5a600f03\&quot;, 31.5);\nss.add(\&quot;5a600f04\&quot;, 32.0);\nss.add(\&quot;5a600f05\&quot;, 32.0);\nss.add(\&quot;5a600f06\&quot;, 32.0);\n(0, chai_1.expect)(ss.count()).to.eql(ss.rangeByScore().length);\n(0, chai_1.expect)(ss.count(8)).to.eql(ss.rangeByScore(8).length);\n(0, chai_1.expect)(ss.count(3, 7)).to.eql(ss.rangeByScore(3, 7).length);\n(0, chai_1.expect)(ss.count(5, 14)).to.eql(ss.rangeByScore(5, 14).length);\n(0, chai_1.expect)(ss.count(5, 5)).to.eql(ss.rangeByScore(5, 5).length);\n(0, chai_1.expect)(ss.count(5, 0)).to.eql(ss.rangeByScore(5, 0).length);\n(0, chai_1.expect)(ss.count(30, 32)).to.eql(ss.rangeByScore(30, 32).length);\n(0, chai_1.expect)(ss.count(40)).to.eql(ss.rangeByScore(40).length);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8c8016d7-cc1b-40ad-b920-576ca71f3fe5&quot;,&quot;parentUUID&quot;:&quot;c4fdccc2-d99e-4600-b667-26d7fc298cfb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8c8016d7-cc1b-40ad-b920-576ca71f3fe5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;9d45ec5a-101e-4866-87fd-45142733d00f&quot;,&quot;title&quot;:&quot;#range&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support special ranges&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #range should support special ranges&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;first\&quot;, 1);\nss.add(\&quot;second\&quot;, 2);\nss.add(\&quot;third\&quot;, 3);\nss.add(\&quot;fourth\&quot;, 4);\nconst array = [\n    \&quot;first\&quot;,\n    \&quot;second\&quot;,\n    \&quot;third\&quot;,\n    \&quot;fourth\&quot;\n];\n(0, chai_1.expect)(ss.range()).to.eql(array);\n(0, chai_1.expect)(ss.range(2)).to.eql(array.slice(2));\n(0, chai_1.expect)(ss.range(8)).to.eql(array.slice(8));\n(0, chai_1.expect)(ss.range(0, 2)).to.eql(array.slice(0, 3));\n(0, chai_1.expect)(ss.range(-1)).to.eql([\&quot;fourth\&quot;]);\n(0, chai_1.expect)(ss.range(-4)).to.eql(array);\n(0, chai_1.expect)(ss.range(-4, -2)).to.eql(array.slice(0, 3));\n(0, chai_1.expect)(ss.range(-4, ss.length + 1000)).\n    to.eql(array.slice(-4, ss.length + 1000));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b36cc1cf-1c49-4973-b267-1a32b0347b6d&quot;,&quot;parentUUID&quot;:&quot;9d45ec5a-101e-4866-87fd-45142733d00f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support withScores&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #range should support withScores&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;first\&quot;, 1);\nss.add(\&quot;second\&quot;, 2);\n(0, chai_1.expect)(ss.range(0, 0, { \&quot;withScores\&quot;: true })).\n    to.eql([\n    [\n        \&quot;first\&quot;,\n        1\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;213c4ae9-3b14-433d-a06f-40e1f756b055&quot;,&quot;parentUUID&quot;:&quot;9d45ec5a-101e-4866-87fd-45142733d00f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b36cc1cf-1c49-4973-b267-1a32b0347b6d&quot;,&quot;213c4ae9-3b14-433d-a06f-40e1f756b055&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8896474a-6c9d-4236-bd45-101450fc9edc&quot;,&quot;title&quot;:&quot;#intersect&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should intersect two sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #intersect should intersect two sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const a = new sorted_set_1.SortedSet(), b = new sorted_set_1.SortedSet();\na.add(\&quot;5a600e10\&quot;, 16);\na.add(\&quot;5a600e12\&quot;, 10);\na.add(\&quot;5a600e14\&quot;, 9);\na.add(\&quot;5a600e15\&quot;, 14);\na.add(\&quot;5a600e17\&quot;, 20);\na.add(\&quot;5a600e18\&quot;, 13);\na.add(\&quot;5a600e19\&quot;, 15);\na.add(\&quot;5a600e1a\&quot;, 19);\na.add(\&quot;5a600e1b\&quot;, 7);\na.add(\&quot;5a600e1c\&quot;, 13);\na.add(\&quot;5a600e1e\&quot;, 10);\nb.add(\&quot;5a600e10\&quot;, 0);\nb.add(\&quot;5a600e11\&quot;, 15);\nb.add(\&quot;5a600e13\&quot;, 5);\nb.add(\&quot;5a600e14\&quot;, 3);\nb.add(\&quot;5a600e15\&quot;, 14);\nb.add(\&quot;5a600e17\&quot;, 12);\nb.add(\&quot;5a600e19\&quot;, 12);\nb.add(\&quot;5a600e1b\&quot;, 16);\nb.add(\&quot;5a600e1c\&quot;, 12);\nb.add(\&quot;5a600e1d\&quot;, 17);\nb.add(\&quot;5a600e1f\&quot;, 3);\n(0, chai_1.expect)(sorted_set_1.SortedSet.intersect(a, b)).to.eql([\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e19\&quot;,\n    \&quot;5a600e1c\&quot;,\n    \&quot;5a600e15\&quot;,\n    \&quot;5a600e1b\&quot;\n]);\n(0, chai_1.expect)(sorted_set_1.SortedSet.intersect(b, a)).to.eql([\n    \&quot;5a600e1b\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e1c\&quot;,\n    \&quot;5a600e15\&quot;,\n    \&quot;5a600e19\&quot;,\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e17\&quot;\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;436d1af3-6ae5-4357-a9fa-85ed6657280f&quot;,&quot;parentUUID&quot;:&quot;8896474a-6c9d-4236-bd45-101450fc9edc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should intersect three sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #intersect should intersect three sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const a = new sorted_set_1.SortedSet(), b = new sorted_set_1.SortedSet(), c = new sorted_set_1.SortedSet();\na.add(\&quot;5a600e10\&quot;, 16);\na.add(\&quot;5a600e12\&quot;, 10);\na.add(\&quot;5a600e14\&quot;, 9);\na.add(\&quot;5a600e15\&quot;, 14);\na.add(\&quot;5a600e17\&quot;, 20);\na.add(\&quot;5a600e18\&quot;, 13);\na.add(\&quot;5a600e19\&quot;, 15);\na.add(\&quot;5a600e1a\&quot;, 19);\na.add(\&quot;5a600e1b\&quot;, 7);\na.add(\&quot;5a600e1c\&quot;, 13);\na.add(\&quot;5a600e1e\&quot;, 10);\nb.add(\&quot;5a600e10\&quot;, 0);\nb.add(\&quot;5a600e11\&quot;, 15);\nb.add(\&quot;5a600e13\&quot;, 5);\nb.add(\&quot;5a600e14\&quot;, 3);\nb.add(\&quot;5a600e15\&quot;, 14);\nb.add(\&quot;5a600e17\&quot;, 12);\nb.add(\&quot;5a600e19\&quot;, 12);\nb.add(\&quot;5a600e1b\&quot;, 16);\nb.add(\&quot;5a600e1c\&quot;, 12);\nb.add(\&quot;5a600e1d\&quot;, 17);\nb.add(\&quot;5a600e1f\&quot;, 3);\nc.add(\&quot;5a600e10\&quot;, 7);\nc.add(\&quot;5a600e12\&quot;, 20);\nc.add(\&quot;5a600e13\&quot;, 9);\nc.add(\&quot;5a600e14\&quot;, 19);\nc.add(\&quot;5a600e16\&quot;, 19);\nc.add(\&quot;5a600e17\&quot;, 1);\nc.add(\&quot;5a600e18\&quot;, 18);\nc.add(\&quot;5a600e1a\&quot;, 6);\nc.add(\&quot;5a600e1c\&quot;, 15);\nc.add(\&quot;5a600e1f\&quot;, 4);\n(0, chai_1.expect)(sorted_set_1.SortedSet.intersect(c, a, b)).to.eql([\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e1c\&quot;\n]);\n// Expect(SortedSet.intersect(c, a, b)).to.eql(c.intersect(a, b));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;42bca508-09f3-4b0c-a7cb-33307717fe27&quot;,&quot;parentUUID&quot;:&quot;8896474a-6c9d-4236-bd45-101450fc9edc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should intersect four sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #intersect should intersect four sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const a = new sorted_set_1.SortedSet(), b = new sorted_set_1.SortedSet(), c = new sorted_set_1.SortedSet(), d = new sorted_set_1.SortedSet();\na.add(\&quot;5a600e10\&quot;, 16);\na.add(\&quot;5a600e12\&quot;, 10);\na.add(\&quot;5a600e14\&quot;, 9);\na.add(\&quot;5a600e15\&quot;, 14);\na.add(\&quot;5a600e17\&quot;, 20);\na.add(\&quot;5a600e18\&quot;, 13);\na.add(\&quot;5a600e19\&quot;, 15);\na.add(\&quot;5a600e1a\&quot;, 19);\na.add(\&quot;5a600e1b\&quot;, 7);\na.add(\&quot;5a600e1c\&quot;, 13);\na.add(\&quot;5a600e1e\&quot;, 10);\nb.add(\&quot;5a600e10\&quot;, 0);\nb.add(\&quot;5a600e11\&quot;, 15);\nb.add(\&quot;5a600e13\&quot;, 5);\nb.add(\&quot;5a600e14\&quot;, 3);\nb.add(\&quot;5a600e15\&quot;, 14);\nb.add(\&quot;5a600e17\&quot;, 12);\nb.add(\&quot;5a600e19\&quot;, 12);\nb.add(\&quot;5a600e1b\&quot;, 16);\nb.add(\&quot;5a600e1c\&quot;, 12);\nb.add(\&quot;5a600e1d\&quot;, 17);\nb.add(\&quot;5a600e1f\&quot;, 3);\nc.add(\&quot;5a600e10\&quot;, 7);\nc.add(\&quot;5a600e12\&quot;, 20);\nc.add(\&quot;5a600e13\&quot;, 9);\nc.add(\&quot;5a600e14\&quot;, 19);\nc.add(\&quot;5a600e16\&quot;, 19);\nc.add(\&quot;5a600e17\&quot;, 1);\nc.add(\&quot;5a600e18\&quot;, 18);\nc.add(\&quot;5a600e1a\&quot;, 6);\nc.add(\&quot;5a600e1c\&quot;, 15);\nc.add(\&quot;5a600e1f\&quot;, 4);\nd.add(\&quot;5a600e1c\&quot;, 400);\nd.add(\&quot;5a600e17\&quot;, 500);\nd.add(\&quot;5a600e1f\&quot;, 600);\nd.add(\&quot;5a600e20\&quot;, 700);\n(0, chai_1.expect)(sorted_set_1.SortedSet.intersect(d, c, a, b)).to.eql([\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e1c\&quot;\n]);\n// Expect(SortedSet.intersect(d, c, a, b)).to.eql(d.intersect(c, a, b));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;63b2b3bb-2146-4b7f-bda6-52805a10d196&quot;,&quot;parentUUID&quot;:&quot;8896474a-6c9d-4236-bd45-101450fc9edc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;436d1af3-6ae5-4357-a9fa-85ed6657280f&quot;,&quot;42bca508-09f3-4b0c-a7cb-33307717fe27&quot;,&quot;63b2b3bb-2146-4b7f-bda6-52805a10d196&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f19d98c9-3b15-4d55-9876-ca6b74470e3b&quot;,&quot;title&quot;:&quot;#rank&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get the correct rank&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #rank should get the correct rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.rank(\&quot;5a600e12\&quot;)).to.equal(7);\n(0, chai_1.expect)(ss.rank(\&quot;5a600e13\&quot;)).to.equal(3);\n(0, chai_1.expect)(ss.rank(\&quot;5a600e16\&quot;)).to.equal(0);\n(0, chai_1.expect)(ss.rank(\&quot;5a600e15\&quot;)).to.equal(8);\n(0, chai_1.expect)(ss.rank(\&quot;not in set\&quot;)).to.equal(null);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f5d97b13-f65e-4bf2-a3d2-eaa11a89c210&quot;,&quot;parentUUID&quot;:&quot;f19d98c9-3b15-4d55-9876-ca6b74470e3b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f5d97b13-f65e-4bf2-a3d2-eaa11a89c210&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f26b40b0-135a-4460-b9a6-33df69e0f034&quot;,&quot;title&quot;:&quot;#rem&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete special elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #rem should delete special elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e15\&quot;)).to.equal(19);\n(0, chai_1.expect)(ss).to.have.length(8);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e16\&quot;)).to.equal(3);\n(0, chai_1.expect)(ss).to.have.length(7);\n(0, chai_1.expect)(ss.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e11\&quot;,\n        6\n    ],\n    [\n        \&quot;5a600e18\&quot;,\n        10\n    ],\n    [\n        \&quot;5a600e13\&quot;,\n        11\n    ],\n    [\n        \&quot;5a600e17\&quot;,\n        12\n    ],\n    [\n        \&quot;5a600e14\&quot;,\n        14\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;10f9b256-b564-4454-b2d2-ee9f120e5f9c&quot;,&quot;parentUUID&quot;:&quot;f26b40b0-135a-4460-b9a6-33df69e0f034&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should delete many elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #rem should delete many elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e11\&quot;)).to.equal(6);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e13\&quot;)).to.equal(11);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e14\&quot;)).to.equal(14);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e15\&quot;)).to.equal(19);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e16\&quot;)).to.equal(3);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e17\&quot;)).to.equal(12);\n(0, chai_1.expect)(ss.length).to.equal(3);\n(0, chai_1.expect)(ss.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e18\&quot;,\n        10\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;783ad12b-8608-4895-bbb8-0a687ea38593&quot;,&quot;parentUUID&quot;:&quot;f26b40b0-135a-4460-b9a6-33df69e0f034&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;10f9b256-b564-4454-b2d2-ee9f120e5f9c&quot;,&quot;783ad12b-8608-4895-bbb8-0a687ea38593&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;51148258-0381-441a-843e-8e679017211b&quot;,&quot;title&quot;:&quot;#remRangeByScore&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should strip out a range of elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #remRangeByScore should strip out a range of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.remRangeByScore(4, 14)).to.equal(5);\n(0, chai_1.expect)(ss).to.have.length(4);\n(0, chai_1.expect)(ss.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e16\&quot;,\n        3\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ],\n    [\n        \&quot;5a600e15\&quot;,\n        19\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4ef2ce22-166d-42f7-a993-8911346a3ab8&quot;,&quot;parentUUID&quot;:&quot;51148258-0381-441a-843e-8e679017211b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should strip out all the elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #remRangeByScore should strip out all the elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.remRangeByScore(3, 19)).to.equal(9);\n(0, chai_1.expect)(ss).to.have.length(0);\n(0, chai_1.expect)(ss.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4d7dd09b-960d-4fa8-9322-7cfcd3c9f8e9&quot;,&quot;parentUUID&quot;:&quot;51148258-0381-441a-843e-8e679017211b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4ef2ce22-166d-42f7-a993-8911346a3ab8&quot;,&quot;4d7dd09b-960d-4fa8-9322-7cfcd3c9f8e9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d5290df5-63ac-4ee4-9900-4303a28fb856&quot;,&quot;title&quot;:&quot;#remRangeByRank&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should strip out a slice of elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #remRangeByRank should strip out a slice of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.remRangeByRank(1, 6)).to.equal(5);\n(0, chai_1.expect)(ss).to.have.length(4);\n(0, chai_1.expect)(ss.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e16\&quot;,\n        3\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ],\n    [\n        \&quot;5a600e15\&quot;,\n        19\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1bcd9c26-0f66-4e61-96ea-ccc7d41e79e5&quot;,&quot;parentUUID&quot;:&quot;d5290df5-63ac-4ee4-9900-4303a28fb856&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should strip out all elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #remRangeByRank should strip out all elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.remRangeByRank(0, 9)).to.equal(9);\n(0, chai_1.expect)(ss).to.have.length(0);\n(0, chai_1.expect)(ss.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3675a089-fa3e-45b0-9fcd-332f37391fe8&quot;,&quot;parentUUID&quot;:&quot;d5290df5-63ac-4ee4-9900-4303a28fb856&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1bcd9c26-0f66-4e61-96ea-ccc7d41e79e5&quot;,&quot;3675a089-fa3e-45b0-9fcd-332f37391fe8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;873e3bf4-1c1e-47e2-8b9a-cd16f71a4239&quot;,&quot;title&quot;:&quot;#values&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the values&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #values should return the values&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;first\&quot;, -1);\nss.add(\&quot;third\&quot;, 5);\nss.add(\&quot;second\&quot;, 3);\n(0, chai_1.expect)(ss.values()).to.eql([\n    -1,\n    3,\n    5\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa519328-59de-4680-bd2c-1b87351e0915&quot;,&quot;parentUUID&quot;:&quot;873e3bf4-1c1e-47e2-8b9a-cd16f71a4239&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fa519328-59de-4680-bd2c-1b87351e0915&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;62a6d120-1c7d-4854-9dab-132ffab1f4f2&quot;,&quot;title&quot;:&quot;unique rewrite&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should ensure values are unique&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite unique rewrite should ensure values are unique&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const options = { \&quot;unique\&quot;: true }, ss = new sorted_set_1.SortedSet(options);\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(() =&gt; {\n    ss.add(\&quot;5a600e19\&quot;, 11);\n}).to.throw(/unique/);\n// Quick exit test\n(0, chai_1.expect)(() =&gt; {\n    ss.add(\&quot;5a600dff\&quot;, ss._head.next[ss._level - 1].next.value);\n}).to.throw(/unique/);\n// This test ensures the key &lt; key check doesn&#x27;t come into play\n(0, chai_1.expect)(() =&gt; {\n    ss.add(\&quot;5a600dff\&quot;, 11);\n}).to.throw(/unique/);\n(0, chai_1.expect)(() =&gt; {\n    ss.add(\&quot;5a600e18\&quot;, 10);\n}).to.not.throw();\n(0, chai_1.expect)(ss).to.have.length(9);\n(0, chai_1.expect)(ss.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e16\&quot;,\n        3\n    ],\n    [\n        \&quot;5a600e11\&quot;,\n        6\n    ],\n    [\n        \&quot;5a600e18\&quot;,\n        10\n    ],\n    [\n        \&quot;5a600e13\&quot;,\n        11\n    ],\n    [\n        \&quot;5a600e17\&quot;,\n        12\n    ],\n    [\n        \&quot;5a600e14\&quot;,\n        14\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ],\n    [\n        \&quot;5a600e15\&quot;,\n        19\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;31ff0223-3f20-4bf8-bdc2-574aad177740&quot;,&quot;parentUUID&quot;:&quot;62a6d120-1c7d-4854-9dab-132ffab1f4f2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert keys if constraint broken during update&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite unique rewrite should revert keys if constraint broken during update&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet({ \&quot;unique\&quot;: true });\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(() =&gt; {\n    ss.add(\&quot;5a600e13\&quot;, 14);\n}).to.throw(/unique/);\n(0, chai_1.expect)(ss).to.have.length(9);\n(0, chai_1.expect)(ss.score(\&quot;5a600e13\&quot;)).to.equal(11);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf454d50-86aa-4883-ad71-bfecb38e4ec0&quot;,&quot;parentUUID&quot;:&quot;62a6d120-1c7d-4854-9dab-132ffab1f4f2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;31ff0223-3f20-4bf8-bdc2-574aad177740&quot;,&quot;cf454d50-86aa-4883-ad71-bfecb38e4ec0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;7b212cd6-4209-42ab-9141-f499bba795dc&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;e6fc4af3-e75a-4fe4-9d22-0969578ac27f&quot;,&quot;307ca885-a3f6-4a16-952a-f8c1675908fa&quot;,&quot;cdb1df6d-1cbd-4f0b-be44-32e7afeaec23&quot;,&quot;76c4aba4-5186-489d-80ec-b65a94d76385&quot;,&quot;16f3f0d3-4172-4977-872d-1234c310160f&quot;,&quot;286fe1dd-266e-4ef0-99e6-d23e85d19d18&quot;,&quot;c655611e-13d0-47e1-aa84-05591a41b184&quot;,&quot;750ed855-b242-42d0-bdb8-3732bb494a80&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;3122d47f-f7c1-4fea-9e89-5dfea2b6d821&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5b8883fb-4028-414d-8fef-ca8169ee6987&quot;,&quot;title&quot;:&quot;lua-bit test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/lua/lua-bit.test.ts&quot;,&quot;file&quot;:&quot;/test/lua/lua-bit.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;lua-bit test\&quot;&quot;,&quot;fullTitle&quot;:&quot;lua-bit test \&quot;before all\&quot; hook in \&quot;lua-bit test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(\&quot;ready\&quot;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield (0, common_test_1.sendCommand)(client, [\&quot;flushall\&quot;]);\n    yield (0, common_test_1.sendCommand)(client, [\n        \&quot;select\&quot;,\n        \&quot;0\&quot;\n    ]);\n    yield (0, common_test_1.sendCommand)(client, [\n        \&quot;script\&quot;,\n        \&quot;flush\&quot;\n    ]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;287c7768-a3de-4a85-b6ac-9dcfd05b1a0b&quot;,&quot;parentUUID&quot;:&quot;5b8883fb-4028-414d-8fef-ca8169ee6987&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;lua-bit test\&quot;&quot;,&quot;fullTitle&quot;:&quot;lua-bit test \&quot;before each\&quot; hook in \&quot;lua-bit test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;967691ab-49e7-4ccf-b4ea-8994ba6afe53&quot;,&quot;parentUUID&quot;:&quot;5b8883fb-4028-414d-8fef-ca8169ee6987&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;lua-bit test\&quot;&quot;,&quot;fullTitle&quot;:&quot;lua-bit test \&quot;after all\&quot; hook in \&quot;lua-bit test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;05aa49c7-57ac-4593-af7e-3e51f69018f4&quot;,&quot;parentUUID&quot;:&quot;5b8883fb-4028-414d-8fef-ca8169ee6987&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;lua-bit test\&quot;&quot;,&quot;fullTitle&quot;:&quot;lua-bit test \&quot;after each\&quot; hook in \&quot;lua-bit test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f142e552-1db1-4937-830f-6fe631364b15&quot;,&quot;parentUUID&quot;:&quot;5b8883fb-4028-414d-8fef-ca8169ee6987&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should leverage the LUA bit library for bit AND op&quot;,&quot;fullTitle&quot;:&quot;lua-bit test should leverage the LUA bit library for bit AND op&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;local val = bit.band(5, 1) return val \&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;be588129-417b-40f0-b999-8c7689f28a5d&quot;,&quot;parentUUID&quot;:&quot;5b8883fb-4028-414d-8fef-ca8169ee6987&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should leverage the LUA bit library for bit OR op&quot;,&quot;fullTitle&quot;:&quot;lua-bit test should leverage the LUA bit library for bit OR op&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;local val = bit.bor(5, 1) return val \&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(5);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;58a4105b-dc5a-480d-ac05-b2cf8b47d8d9&quot;,&quot;parentUUID&quot;:&quot;5b8883fb-4028-414d-8fef-ca8169ee6987&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should leverage the LUA bit library for bit XOR op&quot;,&quot;fullTitle&quot;:&quot;lua-bit test should leverage the LUA bit library for bit XOR op&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;local val = bit.bxor(5, 1) return val \&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(4);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b916554b-7928-412e-bd12-5a02d098144f&quot;,&quot;parentUUID&quot;:&quot;5b8883fb-4028-414d-8fef-ca8169ee6987&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should leverage the LUA bit library for bit NOT op&quot;,&quot;fullTitle&quot;:&quot;lua-bit test should leverage the LUA bit library for bit NOT op&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;local val = bit.bnot(5) return val \&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(-6);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e1af1fd3-23b1-460e-9696-c450248abfdf&quot;,&quot;parentUUID&quot;:&quot;5b8883fb-4028-414d-8fef-ca8169ee6987&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should leverage the LUA bit library for bit LSHIFT op&quot;,&quot;fullTitle&quot;:&quot;lua-bit test should leverage the LUA bit library for bit LSHIFT op&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;local val = bit.lshift(5, 1) return val \&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(10);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5395e4cb-1e20-4722-9491-baaf26db8930&quot;,&quot;parentUUID&quot;:&quot;5b8883fb-4028-414d-8fef-ca8169ee6987&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should leverage the LUA bit library for bit RSHIFT op&quot;,&quot;fullTitle&quot;:&quot;lua-bit test should leverage the LUA bit library for bit RSHIFT op&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield (0, common_test_1.sendCommand)(new net.Socket(), [\n            \&quot;info\&quot;,\n            \&quot;server\&quot;\n        ]);\n        // Only run this test if this is unit-redis-ness\n        if (!(/redis_version:5/gim).test(response)) {\n            response = yield (0, common_test_1.sendCommand)(client, [\n                \&quot;eval\&quot;,\n                \&quot;local val = bit.rshift(-5, 1) return val \&quot;,\n                \&quot;0\&quot;\n            ]);\n            (0, chai_1.expect)(response).to.equal(-3);\n        }\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a8c5b52e-ed6e-4451-9411-f5d9a57328ca&quot;,&quot;parentUUID&quot;:&quot;5b8883fb-4028-414d-8fef-ca8169ee6987&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should leverage the LUA bit library for bit ARSHIFT op&quot;,&quot;fullTitle&quot;:&quot;lua-bit test should leverage the LUA bit library for bit ARSHIFT op&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;local val = bit.arshift(5, 1) return val \&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(2);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c7a28105-70f7-45f7-b0b6-b49605da5bad&quot;,&quot;parentUUID&quot;:&quot;5b8883fb-4028-414d-8fef-ca8169ee6987&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;be588129-417b-40f0-b999-8c7689f28a5d&quot;,&quot;58a4105b-dc5a-480d-ac05-b2cf8b47d8d9&quot;,&quot;b916554b-7928-412e-bd12-5a02d098144f&quot;,&quot;e1af1fd3-23b1-460e-9696-c450248abfdf&quot;,&quot;5395e4cb-1e20-4722-9491-baaf26db8930&quot;,&quot;a8c5b52e-ed6e-4451-9411-f5d9a57328ca&quot;,&quot;c7a28105-70f7-45f7-b0b6-b49605da5bad&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:15,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b49d743a-632c-455b-bb97-e762d0f01963&quot;,&quot;title&quot;:&quot;dictionary test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/dictionary.test.ts&quot;,&quot;file&quot;:&quot;/test/dictionary.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;dictionary test\&quot;&quot;,&quot;fullTitle&quot;:&quot;dictionary test \&quot;before each\&quot; hook in \&quot;dictionary test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;dictionary = new dictionary_1.Dictionary();\nsinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ffd31acf-604a-4d62-89bd-f0da4cd6859c&quot;,&quot;parentUUID&quot;:&quot;b49d743a-632c-455b-bb97-e762d0f01963&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;dictionary test\&quot;&quot;,&quot;fullTitle&quot;:&quot;dictionary test \&quot;after all\&quot; hook in \&quot;dictionary test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ec9204c-6637-460d-88f9-3cc6a14906a7&quot;,&quot;parentUUID&quot;:&quot;b49d743a-632c-455b-bb97-e762d0f01963&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;dictionary test\&quot;&quot;,&quot;fullTitle&quot;:&quot;dictionary test \&quot;after each\&quot; hook in \&quot;dictionary test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a0f8fd3e-0917-47f1-9a8b-fd5cf73798bd&quot;,&quot;parentUUID&quot;:&quot;b49d743a-632c-455b-bb97-e762d0f01963&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should construct&quot;,&quot;fullTitle&quot;:&quot;dictionary test should construct&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        (0, chai_1.expect)(dictionary.constructor.name).to.equal(\&quot;Dictionary\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;326eefb0-a8d8-4c5f-bb86-af2cb0643053&quot;,&quot;parentUUID&quot;:&quot;b49d743a-632c-455b-bb97-e762d0f01963&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should implement basic put/get/remove/size/clear/contains/exists/keys/values functionality&quot;,&quot;fullTitle&quot;:&quot;dictionary test should implement basic put/get/remove/size/clear/contains/exists/keys/values functionality&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;dictionary.put(\&quot;item\&quot;, \&quot;one\&quot;);\n(0, chai_1.expect)(dictionary.exists(\&quot;item\&quot;)).to.equal(true);\n(0, chai_1.expect)(dictionary.exists(\&quot;one\&quot;)).to.equal(false);\n(0, chai_1.expect)(dictionary.get(\&quot;item\&quot;)).to.equal(\&quot;one\&quot;);\n(0, chai_1.expect)(dictionary.size()).to.equal(1);\n(0, chai_1.expect)(dictionary.contains(\&quot;one\&quot;)).to.equal(true);\n(0, chai_1.expect)(dictionary.keys().length).to.equal(1);\n(0, chai_1.expect)(dictionary.values().length).to.equal(1);\ndictionary.put(\&quot;item\&quot;, \&quot;two\&quot;);\n(0, chai_1.expect)(dictionary.get(\&quot;item\&quot;)).to.equal(\&quot;two\&quot;);\ndictionary.put(\&quot;one\&quot;, { \&quot;embedded\&quot;: true });\ndictionary.remove(\&quot;three\&quot;);\n(0, chai_1.expect)(dictionary.size()).to.equal(2);\nlet foundTwo = false;\nfor (const each of dictionary) {\n    if (!foundTwo) {\n        (0, chai_1.expect)(each).to.equal(\&quot;two\&quot;);\n        foundTwo = true;\n    }\n    else {\n        (0, chai_1.expect)(each).to.eql({ \&quot;embedded\&quot;: true });\n    }\n}\ndictionary.remove(\&quot;item\&quot;);\n(0, chai_1.expect)(dictionary.size()).to.equal(1);\ndictionary.clear();\n(0, chai_1.expect)(dictionary.size()).to.equal(0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b59aebf9-f24d-4a49-bc5c-3d8923db0e6d&quot;,&quot;parentUUID&quot;:&quot;b49d743a-632c-455b-bb97-e762d0f01963&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;326eefb0-a8d8-4c5f-bb86-af2cb0643053&quot;,&quot;b59aebf9-f24d-4a49-bc5c-3d8923db0e6d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f3f67e49-930c-4d5c-a75a-e73410114e67&quot;,&quot;title&quot;:&quot;logger test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/unit-redis-ness/test/logger.test.ts&quot;,&quot;file&quot;:&quot;/test/logger.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;logger test\&quot;&quot;,&quot;fullTitle&quot;:&quot;logger test \&quot;before each\&quot; hook in \&quot;logger test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c300265f-29c9-4c09-9644-ff57b8e0a61e&quot;,&quot;parentUUID&quot;:&quot;f3f67e49-930c-4d5c-a75a-e73410114e67&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;logger test\&quot;&quot;,&quot;fullTitle&quot;:&quot;logger test \&quot;after all\&quot; hook in \&quot;logger test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9c3b15fc-98ef-4f8a-bd73-3f217276f365&quot;,&quot;parentUUID&quot;:&quot;f3f67e49-930c-4d5c-a75a-e73410114e67&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;logger test\&quot;&quot;,&quot;fullTitle&quot;:&quot;logger test \&quot;after each\&quot; hook in \&quot;logger test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a3247a5-b4d2-41c1-92b2-94939013fc34&quot;,&quot;parentUUID&quot;:&quot;f3f67e49-930c-4d5c-a75a-e73410114e67&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should construct&quot;,&quot;fullTitle&quot;:&quot;logger test should construct&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        logger = new logger_1.Logger(module.id);\n        (0, chai_1.expect)(logger.constructor.name).to.equal(\&quot;Logger\&quot;);\n        logger.info(\&quot;This is an info message\&quot;);\n        logger.warn(\&quot;This is a warning message\&quot;);\n        logger.debug(\&quot;This is an invisible debug message\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;81352c71-523c-477d-91c2-bd95a03c755e&quot;,&quot;parentUUID&quot;:&quot;f3f67e49-930c-4d5c-a75a-e73410114e67&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not construct when initialized with an empty string&quot;,&quot;fullTitle&quot;:&quot;logger test should not construct when initialized with an empty string&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;(0, chai_1.expect)(() =&gt; {\n    logger = new logger_1.Logger(\&quot;\&quot;);\n}).to.throw();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;58e23136-8e88-44f0-9961-9af9809204b0&quot;,&quot;parentUUID&quot;:&quot;f3f67e49-930c-4d5c-a75a-e73410114e67&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;81352c71-523c-477d-91c2-bd95a03c755e&quot;,&quot;58e23136-8e88-44f0-9961-9af9809204b0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.2.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;docs/mochawesome&quot;},&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;docs/mochawesome&quot;,&quot;reportTitle&quot;:&quot;unit-redis-ness&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;docs/mochawesome/assets&quot;,&quot;jsonFile&quot;:&quot;/home/lane/git/unit-redis-ness/docs/mochawesome/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/home/lane/git/unit-redis-ness/docs/mochawesome/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>