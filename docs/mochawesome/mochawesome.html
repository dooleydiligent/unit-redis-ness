<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:38,&quot;tests&quot;:107,&quot;passes&quot;:104,&quot;pending&quot;:3,&quot;failures&quot;:0,&quot;start&quot;:&quot;2024-06-18T20:34:07.613Z&quot;,&quot;end&quot;:&quot;2024-06-18T20:34:07.975Z&quot;,&quot;duration&quot;:362,&quot;testsRegistered&quot;:107,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:2.803738317757009,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;8a4b12d3-8176-441a-bbac-440c1740dd04&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;19baab2e-0837-49f8-a446-08e7abd1e663&quot;,&quot;parentUUID&quot;:&quot;8a4b12d3-8176-441a-bbac-440c1740dd04&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;after all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n})&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f95bc930-4b87-4719-b628-a47393bd2c3a&quot;,&quot;parentUUID&quot;:&quot;8a4b12d3-8176-441a-bbac-440c1740dd04&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;0766e6ce-3716-4ace-9040-e2fd53f4acd1&quot;,&quot;title&quot;:&quot;client command test&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/command/client-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/client-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;client command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;client command test \&quot;before all\&quot; hook in \&quot;client command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:29,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(\&quot;ready\&quot;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f5cc32b4-1c82-4789-afb5-e592e01c10c4&quot;,&quot;parentUUID&quot;:&quot;0766e6ce-3716-4ace-9040-e2fd53f4acd1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;client command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;client command test \&quot;before each\&quot; hook in \&quot;client command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec13539d-8dc0-4caa-9932-2d442507ecdb&quot;,&quot;parentUUID&quot;:&quot;0766e6ce-3716-4ace-9040-e2fd53f4acd1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;client command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;client command test \&quot;after all\&quot; hook in \&quot;client command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd3f4b16-134b-46dc-950e-ff40d33a4617&quot;,&quot;parentUUID&quot;:&quot;0766e6ce-3716-4ace-9040-e2fd53f4acd1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;client command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;client command test \&quot;after each\&quot; hook in \&quot;client command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;867938e3-cfdf-4746-8a45-4dae0fd77cc8&quot;,&quot;parentUUID&quot;:&quot;0766e6ce-3716-4ace-9040-e2fd53f4acd1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not allow more than 3 parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should not allow more than 3 parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;one\&quot;,\n            \&quot;two\&quot;,\n            \&quot;three\&quot;,\n            \&quot;four\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR Unknown subcommand or wrong number of arguments for &#x27;one&#x27;. Try CLIENT HELP\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b91d897d-67b1-4708-9de5-e0acba6d9c06&quot;,&quot;parentUUID&quot;:&quot;0766e6ce-3716-4ace-9040-e2fd53f4acd1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail predictably when an unknown subcommand is passed&quot;,&quot;fullTitle&quot;:&quot;client command test should fail predictably when an unknown subcommand is passed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;whatever\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(util.format(DEFAULT_ERROR, \&quot;whatever\&quot;));\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a154157c-faff-46a6-b7be-2971356c521f&quot;,&quot;parentUUID&quot;:&quot;0766e6ce-3716-4ace-9040-e2fd53f4acd1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a NIL name when called with \&quot;GETNAME\&quot; subcommand&quot;,&quot;fullTitle&quot;:&quot;client command test should return a NIL name when called with \&quot;GETNAME\&quot; subcommand&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;getname\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;60d7a09a-3748-4913-ac9b-72718d3614c3&quot;,&quot;parentUUID&quot;:&quot;0766e6ce-3716-4ace-9040-e2fd53f4acd1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail predictably when \&quot;GETNAME\&quot; is called with too many parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should fail predictably when \&quot;GETNAME\&quot; is called with too many parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;getname\&quot;,\n            \&quot;extra\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(util.format(DEFAULT_ERROR, \&quot;getname\&quot;));\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;79379194-b90c-4fa0-b54a-7b5bb6136b43&quot;,&quot;parentUUID&quot;:&quot;0766e6ce-3716-4ace-9040-e2fd53f4acd1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with \&quot;OK\&quot; when \&quot;setname\&quot; is called with a valid name&quot;,&quot;fullTitle&quot;:&quot;client command test should respond with \&quot;OK\&quot; when \&quot;setname\&quot; is called with a valid name&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;setname\&quot;,\n            \&quot;whatever\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;getname\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;whatever\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;afd96903-6013-46d4-92af-09d5b425c9f6&quot;,&quot;parentUUID&quot;:&quot;0766e6ce-3716-4ace-9040-e2fd53f4acd1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should persist the value for \&quot;setname\&quot; across tests&quot;,&quot;fullTitle&quot;:&quot;client command test should persist the value for \&quot;setname\&quot; across tests&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;getname\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;whatever\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;31224fdd-9fe0-4230-951f-888d102c45d8&quot;,&quot;parentUUID&quot;:&quot;0766e6ce-3716-4ace-9040-e2fd53f4acd1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with a predictable message when \&quot;setname\&quot; called with too many parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should respond with a predictable message when \&quot;setname\&quot; called with too many parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;setname\&quot;,\n            \&quot;test\&quot;,\n            \&quot;two\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(util.format(DEFAULT_ERROR, \&quot;setname\&quot;));\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e39576b6-02aa-4d79-a2a8-559d77d12344&quot;,&quot;parentUUID&quot;:&quot;0766e6ce-3716-4ace-9040-e2fd53f4acd1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not allow whitespace in \&quot;setname\&quot; subcommand&quot;,&quot;fullTitle&quot;:&quot;client command test should not allow whitespace in \&quot;setname\&quot; subcommand&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;setname\&quot;,\n            \&quot;te\\nst\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR Client names cannot contain spaces, newlines or special characters.\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;25614f50-0b71-4cbe-beca-4a68c35ae4a8&quot;,&quot;parentUUID&quot;:&quot;0766e6ce-3716-4ace-9040-e2fd53f4acd1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the server-assigned client id&quot;,&quot;fullTitle&quot;:&quot;client command test should return the server-assigned client id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;id\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.be.a(\&quot;number\&quot;);\n        (0, chai_1.expect)(String(response).length).to.be.greaterThan(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;30409449-7f26-4d36-902e-4aab289ad9b6&quot;,&quot;parentUUID&quot;:&quot;0766e6ce-3716-4ace-9040-e2fd53f4acd1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with a predictable message when \&quot;id\&quot; called with too many parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should respond with a predictable message when \&quot;id\&quot; called with too many parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;id\&quot;,\n            \&quot;test\&quot;,\n            \&quot;two\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(util.format(DEFAULT_ERROR, \&quot;id\&quot;));\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d07369d0-669e-4141-a4d2-99b133fbaeeb&quot;,&quot;parentUUID&quot;:&quot;0766e6ce-3716-4ace-9040-e2fd53f4acd1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a bunch of information when client \&quot;list\&quot; subcommand is invoked&quot;,&quot;fullTitle&quot;:&quot;client command test should return a bunch of information when client \&quot;list\&quot; subcommand is invoked&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;list\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.be.a(\&quot;string\&quot;);\n        (0, chai_1.expect)(response.length).to.be.greaterThan(0);\n        (0, chai_1.expect)(response).to.match(/ name=whatever /);\n        (0, chai_1.expect)(response).to.match(/\\bdb=0\\b/);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;39e2939e-368c-4ae6-b5f3-09019d0c70e5&quot;,&quot;parentUUID&quot;:&quot;0766e6ce-3716-4ace-9040-e2fd53f4acd1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with a predictable message when \&quot;list\&quot; called with too many parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should respond with a predictable message when \&quot;list\&quot; called with too many parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;client\&quot;,\n            \&quot;list\&quot;,\n            \&quot;test\&quot;,\n            \&quot;two\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR syntax error\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d0b728ac-6473-436b-9201-90a8e88b6245&quot;,&quot;parentUUID&quot;:&quot;0766e6ce-3716-4ace-9040-e2fd53f4acd1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b91d897d-67b1-4708-9de5-e0acba6d9c06&quot;,&quot;a154157c-faff-46a6-b7be-2971356c521f&quot;,&quot;60d7a09a-3748-4913-ac9b-72718d3614c3&quot;,&quot;79379194-b90c-4fa0-b54a-7b5bb6136b43&quot;,&quot;afd96903-6013-46d4-92af-09d5b425c9f6&quot;,&quot;31224fdd-9fe0-4230-951f-888d102c45d8&quot;,&quot;e39576b6-02aa-4d79-a2a8-559d77d12344&quot;,&quot;25614f50-0b71-4cbe-beca-4a68c35ae4a8&quot;,&quot;30409449-7f26-4d36-902e-4aab289ad9b6&quot;,&quot;d07369d0-669e-4141-a4d2-99b133fbaeeb&quot;,&quot;39e2939e-368c-4ae6-b5f3-09019d0c70e5&quot;,&quot;d0b728ac-6473-436b-9201-90a8e88b6245&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:34,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1c80308f-994d-4923-a714-609c30a15330&quot;,&quot;title&quot;:&quot;multi command test&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/command/multi-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/multi-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;multi command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;multi command test \&quot;before all\&quot; hook in \&quot;multi command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(\&quot;ready\&quot;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1662f664-945a-42e6-adbb-f711889227ed&quot;,&quot;parentUUID&quot;:&quot;1c80308f-994d-4923-a714-609c30a15330&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;multi command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;multi command test \&quot;before each\&quot; hook in \&quot;multi command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2ca0e201-22ee-4167-a75a-28f121ad4578&quot;,&quot;parentUUID&quot;:&quot;1c80308f-994d-4923-a714-609c30a15330&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;multi command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;multi command test \&quot;after all\&quot; hook in \&quot;multi command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a6ffaf5f-a63f-4590-89bc-ad75efbbfa1b&quot;,&quot;parentUUID&quot;:&quot;1c80308f-994d-4923-a714-609c30a15330&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;multi command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;multi command test \&quot;after each\&quot; hook in \&quot;multi command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8ecf0625-837b-4538-815f-1bd6dbe02731&quot;,&quot;parentUUID&quot;:&quot;1c80308f-994d-4923-a714-609c30a15330&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not allow nested MULTI invocations&quot;,&quot;fullTitle&quot;:&quot;multi command test should not allow nested MULTI invocations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;multi\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;multi\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR MULTI calls can not be nested\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;62aff95c-0ab4-44fa-801b-4ffd6ea4ff67&quot;,&quot;parentUUID&quot;:&quot;1c80308f-994d-4923-a714-609c30a15330&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respect the DISCARD command&quot;,&quot;fullTitle&quot;:&quot;multi command test should respect the DISCARD command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;discard\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bbf9a010-2985-4c23-953f-4d616f5e47f2&quot;,&quot;parentUUID&quot;:&quot;1c80308f-994d-4923-a714-609c30a15330&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not allow DISCARD without MULTI&quot;,&quot;fullTitle&quot;:&quot;multi command test should not allow DISCARD without MULTI&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;discard\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR DISCARD without MULTI\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eb6004fe-5f03-4250-8d25-8ee812e0223c&quot;,&quot;parentUUID&quot;:&quot;1c80308f-994d-4923-a714-609c30a15330&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should continue to validate commands after MULTI&quot;,&quot;fullTitle&quot;:&quot;multi command test should continue to validate commands after MULTI&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;multi\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;unknown\&quot;,\n            \&quot;command\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR unknown command `unknown`, with args beginning with: `command`, \&quot;, `${response}`);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;lpush\&quot;,\n            \&quot;test\&quot;,\n            \&quot;one\&quot;,\n            \&quot;two\&quot;,\n            \&quot;three\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;QUEUED\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;40a7da11-758e-4af5-a62f-5d698adf67ce&quot;,&quot;parentUUID&quot;:&quot;1c80308f-994d-4923-a714-609c30a15330&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should EXECABORT from a previous error&quot;,&quot;fullTitle&quot;:&quot;multi command test should EXECABORT from a previous error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;exec\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: EXECABORT Transaction discarded because of previous errors.\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;090a4f3c-9385-4a7f-9baf-26baf12da5f7&quot;,&quot;parentUUID&quot;:&quot;1c80308f-994d-4923-a714-609c30a15330&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should queue a set of commands when there is no intervening error&quot;,&quot;fullTitle&quot;:&quot;multi command test should queue a set of commands when there is no intervening error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;multi\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;lpush\&quot;,\n            \&quot;test\&quot;,\n            \&quot;one\&quot;,\n            \&quot;two\&quot;,\n            \&quot;three\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;QUEUED\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;exec\&quot;]);\n        (0, chai_1.expect)(response).to.eql([3]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;82e5cc44-6d44-4f3d-8453-a23764f99a23&quot;,&quot;parentUUID&quot;:&quot;1c80308f-994d-4923-a714-609c30a15330&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reset transaction state after executing commands&quot;,&quot;fullTitle&quot;:&quot;multi command test should reset transaction state after executing commands&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;multi\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;discard\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;40a03f66-e7ee-4bd4-970f-1a8b16520ffd&quot;,&quot;parentUUID&quot;:&quot;1c80308f-994d-4923-a714-609c30a15330&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the results of multiple commands in the order provided&quot;,&quot;fullTitle&quot;:&quot;multi command test should return the results of multiple commands in the order provided&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;multi\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;lpop\&quot;,\n            \&quot;test\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;QUEUED\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;lpop\&quot;,\n            \&quot;test\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;QUEUED\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;brpoplpush\&quot;,\n            \&quot;test\&quot;,\n            \&quot;dest\&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;QUEUED\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;exec\&quot;]);\n        (0, chai_1.expect)(response).to.eql([\n            \&quot;three\&quot;,\n            \&quot;two\&quot;,\n            \&quot;one\&quot;\n        ]);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;exists\&quot;,\n            \&quot;test\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(0);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;exists\&quot;,\n            \&quot;dest\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;71dbb847-5299-4c80-bd33-3bb222f831e2&quot;,&quot;parentUUID&quot;:&quot;1c80308f-994d-4923-a714-609c30a15330&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should validate the behavior of brpoplpush&quot;,&quot;fullTitle&quot;:&quot;multi command test should validate the behavior of brpoplpush&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;flushall\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;lpush\&quot;,\n            \&quot;test\&quot;,\n            \&quot;one\&quot;,\n            \&quot;two\&quot;,\n            \&quot;three\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(3);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;lpop\&quot;,\n            \&quot;test\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;three\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;lpop\&quot;,\n            \&quot;test\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;two\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;brpoplpush\&quot;,\n            \&quot;test\&quot;,\n            \&quot;dest\&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;one\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c84e72d-86e1-4910-8521-1a2e33b161cd&quot;,&quot;parentUUID&quot;:&quot;1c80308f-994d-4923-a714-609c30a15330&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail when EXEC issued without MULTI&quot;,&quot;fullTitle&quot;:&quot;multi command test should fail when EXEC issued without MULTI&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;exec\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR EXEC without MULTI\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d39822ad-5695-4930-9baa-9234ff3e85d6&quot;,&quot;parentUUID&quot;:&quot;1c80308f-994d-4923-a714-609c30a15330&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;62aff95c-0ab4-44fa-801b-4ffd6ea4ff67&quot;,&quot;bbf9a010-2985-4c23-953f-4d616f5e47f2&quot;,&quot;eb6004fe-5f03-4250-8d25-8ee812e0223c&quot;,&quot;40a7da11-758e-4af5-a62f-5d698adf67ce&quot;,&quot;090a4f3c-9385-4a7f-9baf-26baf12da5f7&quot;,&quot;82e5cc44-6d44-4f3d-8453-a23764f99a23&quot;,&quot;40a03f66-e7ee-4bd4-970f-1a8b16520ffd&quot;,&quot;71dbb847-5299-4c80-bd33-3bb222f831e2&quot;,&quot;5c84e72d-86e1-4910-8521-1a2e33b161cd&quot;,&quot;d39822ad-5695-4930-9baa-9234ff3e85d6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:30,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;19abc252-f8d6-4b02-9399-bc4131d9c81d&quot;,&quot;title&quot;:&quot;script-command test&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/command/script-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/script-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;script-command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;script-command test \&quot;before all\&quot; hook in \&quot;script-command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(\&quot;ready\&quot;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield (0, common_test_1.sendCommand)(client, [\&quot;flushall\&quot;]);\n    yield (0, common_test_1.sendCommand)(client, [\n        \&quot;select\&quot;,\n        \&quot;0\&quot;\n    ]);\n    yield (0, common_test_1.sendCommand)(client, [\n        \&quot;script\&quot;,\n        \&quot;flush\&quot;\n    ]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;af2cdcea-c49f-46fa-9a18-eefacede3113&quot;,&quot;parentUUID&quot;:&quot;19abc252-f8d6-4b02-9399-bc4131d9c81d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;script-command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;script-command test \&quot;before each\&quot; hook in \&quot;script-command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e3031282-d10c-41e4-a5a1-357df14eede2&quot;,&quot;parentUUID&quot;:&quot;19abc252-f8d6-4b02-9399-bc4131d9c81d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;script-command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;script-command test \&quot;after all\&quot; hook in \&quot;script-command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dee3d7b9-a463-4e3c-94e3-8693ee9569c8&quot;,&quot;parentUUID&quot;:&quot;19abc252-f8d6-4b02-9399-bc4131d9c81d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;script-command test\&quot;&quot;,&quot;fullTitle&quot;:&quot;script-command test \&quot;after each\&quot; hook in \&quot;script-command test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0c8135ea-2f14-497f-b137-e43857f6cca2&quot;,&quot;parentUUID&quot;:&quot;19abc252-f8d6-4b02-9399-bc4131d9c81d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should calcuclate the correct sha1 of a script and store the script&quot;,&quot;fullTitle&quot;:&quot;script-command test should calcuclate the correct sha1 of a script and store the script&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;script\&quot;,\n            \&quot;exists\&quot;,\n            sha1\n        ]);\n        (0, chai_1.expect)(response).to.eql([0]);\n        // Validate failure on unparseable script\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;script\&quot;,\n            \&quot;load\&quot;,\n            code\n        ]);\n        (0, chai_1.expect)(response).to.match(/ReplyError: ERR .*/);\n        // Validate success on parseable script\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;script\&quot;,\n            \&quot;load\&quot;,\n            `${code}}`\n        ]);\n        (0, chai_1.expect)(response).to.equal(sha1);\n        // Validate a script is persisted\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;script\&quot;,\n            \&quot;exists\&quot;,\n            sha1\n        ]);\n        (0, chai_1.expect)(response).to.eql([1]);\n        // Validate response to unknown sub command\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;script\&quot;,\n            \&quot;test\&quot;,\n            sha1\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR Unknown subcommand or wrong number of arguments for &#x27;test&#x27;. Try SCRIPT HELP.\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c29cbcd4-a657-4b62-8fec-9019d600baf9&quot;,&quot;parentUUID&quot;:&quot;19abc252-f8d6-4b02-9399-bc4131d9c81d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should evaluate a loaded lua script using evalsha&quot;,&quot;fullTitle&quot;:&quot;script-command test should evaluate a loaded lua script using evalsha&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // Validate that NOSCRIPT is triggered\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;evalsha\&quot;,\n            `${sha1}xx`,\n            \&quot;2\&quot;,\n            \&quot;key1\&quot;,\n            \&quot;key2\&quot;,\n            \&quot;first\&quot;,\n            \&quot;second\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: NOSCRIPT No matching script. Please use EVAL.\&quot;);\n        // Validate that param 1 cannot be negative\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;evalsha\&quot;,\n            sha1,\n            \&quot;-2\&quot;,\n            \&quot;key1\&quot;,\n            \&quot;key2\&quot;,\n            \&quot;first\&quot;,\n            \&quot;second\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR Number of keys can&#x27;t be negative\&quot;);\n        // Validate that param 1 cannot be text\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;evalsha\&quot;,\n            sha1,\n            \&quot;two\&quot;,\n            \&quot;key1\&quot;,\n            \&quot;key2\&quot;,\n            \&quot;first\&quot;,\n            \&quot;second\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR value is not an integer or out of range\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a3cb2dd8-4291-4f6e-a7c4-5c977004273e&quot;,&quot;parentUUID&quot;:&quot;19abc252-f8d6-4b02-9399-bc4131d9c81d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should execute a simple script&quot;,&quot;fullTitle&quot;:&quot;script-command test should execute a simple script&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // Validate that a simple script can be processed\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;EVAL\&quot;,\n            \&quot;local val=\\\&quot;Hello Compose\\\&quot; return val\&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;Hello Compose\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;839af48d-2b29-4b66-9823-b271d767479b&quot;,&quot;parentUUID&quot;:&quot;19abc252-f8d6-4b02-9399-bc4131d9c81d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create and process the ARGV table&quot;,&quot;fullTitle&quot;:&quot;script-command test should create and process the ARGV table&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;return ARGV[2]\&quot;,\n            \&quot;2\&quot;,\n            \&quot;key1\&quot;,\n            \&quot;key2\&quot;,\n            \&quot;first\&quot;,\n            \&quot;second\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.eql(\&quot;second\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c849c2db-efa5-423b-bdae-4fa331d9f11b&quot;,&quot;parentUUID&quot;:&quot;19abc252-f8d6-4b02-9399-bc4131d9c81d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create and process the KEYS table&quot;,&quot;fullTitle&quot;:&quot;script-command test should create and process the KEYS table&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;return KEYS[1]\&quot;,\n            \&quot;2\&quot;,\n            \&quot;key1\&quot;,\n            \&quot;key2\&quot;,\n            \&quot;first\&quot;,\n            \&quot;second\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(\&quot;key1\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;643b6b02-46c8-43d8-a018-954de3591e9f&quot;,&quot;parentUUID&quot;:&quot;19abc252-f8d6-4b02-9399-bc4131d9c81d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a NUMBER when required&quot;,&quot;fullTitle&quot;:&quot;script-command test should return a NUMBER when required&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;return 123\&quot;,\n            \&quot;2\&quot;,\n            \&quot;key1\&quot;,\n            \&quot;key2\&quot;,\n            \&quot;first\&quot;,\n            \&quot;second\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(123);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f2ad2e4-d960-467e-9849-b6754669ae68&quot;,&quot;parentUUID&quot;:&quot;19abc252-f8d6-4b02-9399-bc4131d9c81d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return NIL when there is no return value&quot;,&quot;fullTitle&quot;:&quot;script-command test should return NIL when there is no return value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;print \\\&quot;Hello World\\\&quot;\&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5d98519-9f08-4f51-a345-98a706ca3ac8&quot;,&quot;parentUUID&quot;:&quot;19abc252-f8d6-4b02-9399-bc4131d9c81d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a TABLE when required&quot;,&quot;fullTitle&quot;:&quot;script-command test should return a TABLE when required&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;return ARGV\&quot;,\n            \&quot;2\&quot;,\n            \&quot;key1\&quot;,\n            \&quot;key2\&quot;,\n            \&quot;first\&quot;,\n            \&quot;second\&quot;,\n            \&quot;third\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.eql([\n            \&quot;first\&quot;,\n            \&quot;second\&quot;,\n            \&quot;third\&quot;\n        ]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;678421b5-33cb-4d8e-9f53-230371deeafb&quot;,&quot;parentUUID&quot;:&quot;19abc252-f8d6-4b02-9399-bc4131d9c81d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return items in order&quot;,&quot;fullTitle&quot;:&quot;script-command test should return items in order&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;return {true, \\\&quot;test\\\&quot;, false, 10, 10.2}\&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.eql([\n            1,\n            \&quot;test\&quot;,\n            null,\n            10,\n            10\n        ]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c7f19634-7549-4c2a-9745-cbd80a792756&quot;,&quot;parentUUID&quot;:&quot;19abc252-f8d6-4b02-9399-bc4131d9c81d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return integer and nil for true and false, respectively&quot;,&quot;fullTitle&quot;:&quot;script-command test should return integer and nil for true and false, respectively&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;return { true, false, false}\&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.eql([\n            1,\n            null,\n            null\n        ]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f3654a6b-eeb9-436e-8b29-858edc3dd129&quot;,&quot;parentUUID&quot;:&quot;19abc252-f8d6-4b02-9399-bc4131d9c81d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should be able to execute a representative BULL script&quot;,&quot;fullTitle&quot;:&quot;script-command test should be able to execute a representative BULL script&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0bbc5162-a682-469d-acba-b4c8ccaf10b6&quot;,&quot;parentUUID&quot;:&quot;19abc252-f8d6-4b02-9399-bc4131d9c81d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail when we attempt to EVAL an invalid script&quot;,&quot;fullTitle&quot;:&quot;script-command test should fail when we attempt to EVAL an invalid script&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;-- Invalid\\r\\nscript\&quot;\n        ]);\n        // Validated against redis\n        (0, chai_1.expect)(response).to.equal(\&quot;ReplyError: ERR wrong number of arguments for &#x27;eval&#x27; command\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2cc4099d-b40e-45fd-ac84-c79cb078115e&quot;,&quot;parentUUID&quot;:&quot;19abc252-f8d6-4b02-9399-bc4131d9c81d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should be able to return a NULL value from a lua script&quot;,&quot;fullTitle&quot;:&quot;script-command test should be able to return a NULL value from a lua script&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;local val = nil return val\&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b30bfa66-194c-44c0-9fe4-c0f2944fb376&quot;,&quot;parentUUID&quot;:&quot;19abc252-f8d6-4b02-9399-bc4131d9c81d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not return table values after the first NIL is encountered and return integers not floats&quot;,&quot;fullTitle&quot;:&quot;script-command test should not return table values after the first NIL is encountered and return integers not floats&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;29b2008b-27ad-4359-9e8a-f2443bc5aa7a&quot;,&quot;parentUUID&quot;:&quot;19abc252-f8d6-4b02-9399-bc4131d9c81d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a table with embedded calls to redis&quot;,&quot;fullTitle&quot;:&quot;script-command test should return a table with embedded calls to redis&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;flushall\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;hset\&quot;,\n            embeddedkey,\n            \&quot;one\&quot;,\n            \&quot;1\&quot;,\n            \&quot;two\&quot;,\n            \&quot;2\&quot;,\n            \&quot;three\&quot;,\n            \&quot;3\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(3);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;hgetall\&quot;,\n            embeddedkey\n        ]);\n        (0, chai_1.expect)(response).to.eql([\n            \&quot;one\&quot;,\n            \&quot;1\&quot;,\n            \&quot;two\&quot;,\n            \&quot;2\&quot;,\n            \&quot;three\&quot;,\n            \&quot;3\&quot;\n        ]);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            `local j = redis.call(\&quot;HGETALL\&quot;, \&quot;${embeddedkey}\&quot;) return { j, \&quot;SAMPLE\&quot; }`,\n            \&quot;0\&quot;\n        ]);\n        // Validated with redis\n        (0, chai_1.expect)(response).to.eql([\n            \&quot;SAMPLE\&quot;,\n            [\n                \&quot;one\&quot;,\n                \&quot;1\&quot;,\n                \&quot;two\&quot;,\n                \&quot;2\&quot;,\n                \&quot;three\&quot;,\n                \&quot;3\&quot;\n            ]\n        ]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a2300413-de28-4822-833c-ac9743271729&quot;,&quot;parentUUID&quot;:&quot;19abc252-f8d6-4b02-9399-bc4131d9c81d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support the unpack lua command&quot;,&quot;fullTitle&quot;:&quot;script-command test should support the unpack lua command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\&quot;flushall\&quot;]);\n        (0, chai_1.expect)(response).to.equal(\&quot;OK\&quot;);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;hset\&quot;,\n            embeddedkey,\n            \&quot;one\&quot;,\n            \&quot;1\&quot;,\n            \&quot;two\&quot;,\n            \&quot;2\&quot;,\n            \&quot;three\&quot;,\n            \&quot;3\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(3);\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            `return { unpack(redis.call(\&quot;hgetall\&quot;, \&quot;${embeddedkey}\&quot;)) }`,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.eql([\n            \&quot;one\&quot;,\n            \&quot;1\&quot;,\n            \&quot;two\&quot;,\n            \&quot;2\&quot;,\n            \&quot;three\&quot;,\n            \&quot;3\&quot;\n        ]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7454904f-2f8f-450d-a98d-e0fc014fcfaa&quot;,&quot;parentUUID&quot;:&quot;19abc252-f8d6-4b02-9399-bc4131d9c81d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should convert values properly&quot;,&quot;fullTitle&quot;:&quot;script-command test should convert values properly&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;return {1,2,{3,&#x27;Hello World!&#x27;}}\&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.eql([\n            1,\n            2,\n            [\n                3,\n                \&quot;Hello World!\&quot;\n            ]\n        ]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5fdf3eec-651c-4ed5-ad72-6901f8dc4f09&quot;,&quot;parentUUID&quot;:&quot;19abc252-f8d6-4b02-9399-bc4131d9c81d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return embedded tables from embedded calls&quot;,&quot;fullTitle&quot;:&quot;script-command test should return embedded tables from embedded calls&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;return {1,2,{3,bit.bxor(5,3)}}\&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.eql([\n            1,\n            2,\n            [\n                3,\n                6\n            ]\n        ]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a3c0bf33-921f-4ac6-8b61-3a2e5fc76548&quot;,&quot;parentUUID&quot;:&quot;19abc252-f8d6-4b02-9399-bc4131d9c81d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c29cbcd4-a657-4b62-8fec-9019d600baf9&quot;,&quot;a3cb2dd8-4291-4f6e-a7c4-5c977004273e&quot;,&quot;839af48d-2b29-4b66-9823-b271d767479b&quot;,&quot;c849c2db-efa5-423b-bdae-4fa331d9f11b&quot;,&quot;643b6b02-46c8-43d8-a018-954de3591e9f&quot;,&quot;2f2ad2e4-d960-467e-9849-b6754669ae68&quot;,&quot;d5d98519-9f08-4f51-a345-98a706ca3ac8&quot;,&quot;678421b5-33cb-4d8e-9f53-230371deeafb&quot;,&quot;c7f19634-7549-4c2a-9745-cbd80a792756&quot;,&quot;f3654a6b-eeb9-436e-8b29-858edc3dd129&quot;,&quot;2cc4099d-b40e-45fd-ac84-c79cb078115e&quot;,&quot;b30bfa66-194c-44c0-9fe4-c0f2944fb376&quot;,&quot;a2300413-de28-4822-833c-ac9743271729&quot;,&quot;7454904f-2f8f-450d-a98d-e0fc014fcfaa&quot;,&quot;5fdf3eec-651c-4ed5-ad72-6901f8dc4f09&quot;,&quot;a3c0bf33-921f-4ac6-8b61-3a2e5fc76548&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;0bbc5162-a682-469d-acba-b4c8ccaf10b6&quot;,&quot;29b2008b-27ad-4359-9e8a-f2443bc5aa7a&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:116,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a336dc7e-e573-4171-af14-c5a6b584aab5&quot;,&quot;title&quot;:&quot;data-type test&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/data-type.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/data-type.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;data-type test\&quot;&quot;,&quot;fullTitle&quot;:&quot;data-type test \&quot;before each\&quot; hook in \&quot;data-type test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d7836301-8ea9-49cc-ad90-c139642eb62f&quot;,&quot;parentUUID&quot;:&quot;a336dc7e-e573-4171-af14-c5a6b584aab5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;data-type test\&quot;&quot;,&quot;fullTitle&quot;:&quot;data-type test \&quot;after all\&quot; hook in \&quot;data-type test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;863127e8-4345-486c-9c13-337b47e9a9bd&quot;,&quot;parentUUID&quot;:&quot;a336dc7e-e573-4171-af14-c5a6b584aab5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;data-type test\&quot;&quot;,&quot;fullTitle&quot;:&quot;data-type test \&quot;after each\&quot; hook in \&quot;data-type test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;19395818-1750-47de-b269-1fbe283e9dfc&quot;,&quot;parentUUID&quot;:&quot;a336dc7e-e573-4171-af14-c5a6b584aab5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should enumerate data-types&quot;,&quot;fullTitle&quot;:&quot;data-type test should enumerate data-types&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        (0, chai_1.expect)(data_type_1.DataType.NONE).to.equal(\&quot;none\&quot;);\n        (0, chai_1.expect)(data_type_1.DataType.STRING).to.equal(\&quot;string\&quot;);\n        (0, chai_1.expect)(data_type_1.DataType.LIST).to.equal(\&quot;list\&quot;);\n        (0, chai_1.expect)(data_type_1.DataType.SET).to.equal(\&quot;set\&quot;);\n        (0, chai_1.expect)(data_type_1.DataType.ZSET).to.equal(\&quot;zset\&quot;);\n        (0, chai_1.expect)(data_type_1.DataType.HASH).to.equal(\&quot;hash\&quot;);\n        (0, chai_1.expect)(Object.keys(data_type_1.DataType).length).to.equal(6);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b11b7f80-0d3e-4b43-aa7b-7c4d8ad6c8b8&quot;,&quot;parentUUID&quot;:&quot;a336dc7e-e573-4171-af14-c5a6b584aab5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b11b7f80-0d3e-4b43-aa7b-7c4d8ad6c8b8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1bf2afee-7a84-402c-bf92-343e69a88a03&quot;,&quot;title&quot;:&quot;sorted-set test&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;sorted-set test\&quot;&quot;,&quot;fullTitle&quot;:&quot;sorted-set test \&quot;before each\&quot; hook in \&quot;sorted-set test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();\nss = new sorted_set_1.SortedSet();\nz = new Z();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7c2f5d8f-5ee1-41b0-98d7-f161785eb2be&quot;,&quot;parentUUID&quot;:&quot;1bf2afee-7a84-402c-bf92-343e69a88a03&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;sorted-set test\&quot;&quot;,&quot;fullTitle&quot;:&quot;sorted-set test \&quot;after all\&quot; hook in \&quot;sorted-set test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ba4eecc-9d1e-4a42-9c68-965c8deacc37&quot;,&quot;parentUUID&quot;:&quot;1bf2afee-7a84-402c-bf92-343e69a88a03&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;sorted-set test\&quot;&quot;,&quot;fullTitle&quot;:&quot;sorted-set test \&quot;after each\&quot; hook in \&quot;sorted-set test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a62de314-a06c-493a-bc56-d3dc057c69ea&quot;,&quot;parentUUID&quot;:&quot;1bf2afee-7a84-402c-bf92-343e69a88a03&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should instantiate&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should instantiate&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        (0, chai_1.expect)(z.constructor.name).to.equal(\&quot;Z\&quot;);\n        ss = new sorted_set_1.SortedSet();\n        (0, chai_1.expect)(ss.constructor.name).to.equal(\&quot;SortedSet\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9d8bfd36-2617-4d69-a51e-05377d3427ff&quot;,&quot;parentUUID&quot;:&quot;1bf2afee-7a84-402c-bf92-343e69a88a03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should add, get, and delete an entry&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should add, get, and delete an entry&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        let added = z.add(\&quot;test\&quot;, 1);\n        (0, chai_1.expect)(added).to.equal(null);\n        added = ss.add(\&quot;test\&quot;, 1);\n        (0, chai_1.expect)(added).to.equal(null);\n        (0, chai_1.expect)(z.keys().length).to.equal(1);\n        (0, chai_1.expect)(ss.keys().length).to.equal(1);\n        let item = z.get(\&quot;test\&quot;);\n        (0, chai_1.expect)(item.constructor.name).to.equal(\&quot;Number\&quot;);\n        item = ss.get(\&quot;test\&quot;);\n        (0, chai_1.expect)(item.constructor.name).to.equal(\&quot;Number\&quot;);\n        z.del(\&quot;test\&quot;);\n        (0, chai_1.expect)(z.keys().length).to.equal(0);\n        ss.del(\&quot;test\&quot;);\n        (0, chai_1.expect)(ss.keys().length).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b3f10d64-ee0d-434a-8ae9-79c3a8532aa2&quot;,&quot;parentUUID&quot;:&quot;1bf2afee-7a84-402c-bf92-343e69a88a03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw when attempting to add __proto__ key&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should throw when attempting to add __proto__ key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        (0, chai_1.expect)(() =&gt; {\n            z.add(\&quot;__proto__\&quot;, 0);\n        }).to.throw();\n        /*\n         * Expect(() =&gt; {\n         *   ss.add(&#x27;__proto__&#x27;, 0)\n         * }).to.throw();\n         */\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;64b18d20-2b18-49c6-ac68-0a01a7d5919e&quot;,&quot;parentUUID&quot;:&quot;1bf2afee-7a84-402c-bf92-343e69a88a03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not add an undefined or null score&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should not add an undefined or null score&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        let added = z.add(\&quot;test\&quot;, null);\n        (0, chai_1.expect)(added).to.equal(null);\n        (0, chai_1.expect)(z.keys().length).to.equal(0);\n        added = z.add(\&quot;test\&quot;, undefined);\n        (0, chai_1.expect)(z.keys().length).to.equal(0);\n        /*\n         * Typescript prevents adding null\n         * added = ss.add(&#x27;test&#x27;, null);\n         * expect(added).to.equal(null);\n         * expect(ss.keys().length).to.equal(0);\n         * added = ss.add(&#x27;test&#x27;, undefined);\n         * expect(z.keys().length).to.equal(0);\n         */\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d439ae06-91f0-48e6-8529-bf86c383107f&quot;,&quot;parentUUID&quot;:&quot;1bf2afee-7a84-402c-bf92-343e69a88a03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not duplicate key/value pairs&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should not duplicate key/value pairs&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        let added = z.add(\&quot;test\&quot;, 123);\n        (0, chai_1.expect)(added).to.equal(null); // This is weird\n        (0, chai_1.expect)(z.keys().length).to.equal(1);\n        added = z.add(\&quot;test\&quot;, 123);\n        (0, chai_1.expect)(added).to.equal(123); // And weirder\n        (0, chai_1.expect)(z.keys().length).to.equal(1);\n        added = ss.add(\&quot;test\&quot;, 123);\n        (0, chai_1.expect)(added).to.equal(null); // This is weird\n        (0, chai_1.expect)(ss.keys().length).to.equal(1);\n        added = ss.add(\&quot;test\&quot;, 123);\n        (0, chai_1.expect)(added).to.equal(123); // And weirder\n        (0, chai_1.expect)(ss.keys().length).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c472604c-a0d3-405b-83ce-b136a805eef0&quot;,&quot;parentUUID&quot;:&quot;1bf2afee-7a84-402c-bf92-343e69a88a03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the old rank when replacing a key&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should return the old rank when replacing a key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        let added = z.add(\&quot;test\&quot;, 123);\n        (0, chai_1.expect)(added).to.equal(null);\n        (0, chai_1.expect)(z.keys().length).to.equal(1);\n        added = z.add(\&quot;test\&quot;, 321);\n        (0, chai_1.expect)(added).to.equal(123);\n        (0, chai_1.expect)(z.keys().length).to.equal(1);\n        added = z.get(\&quot;test\&quot;);\n        (0, chai_1.expect)(added).to.equal(321);\n        added = ss.add(\&quot;test\&quot;, 123);\n        (0, chai_1.expect)(added).to.equal(null);\n        (0, chai_1.expect)(ss.keys().length).to.equal(1);\n        added = ss.add(\&quot;test\&quot;, 321);\n        (0, chai_1.expect)(added).to.equal(123);\n        (0, chai_1.expect)(ss.keys().length).to.equal(1);\n        added = ss.get(\&quot;test\&quot;);\n        (0, chai_1.expect)(added).to.equal(321);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1a811aab-c838-42b9-8821-d59a3211cf37&quot;,&quot;parentUUID&quot;:&quot;1bf2afee-7a84-402c-bf92-343e69a88a03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a value when adding at least 32 values (I think - it is difficult to tell)&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should return a value when adding at least 32 values (I think - it is difficult to tell)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;82d4a3b5-ba1d-4357-88b2-918eb9b0f879&quot;,&quot;parentUUID&quot;:&quot;1bf2afee-7a84-402c-bf92-343e69a88a03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should do what the documentation says here: https://www.npmjs.com/package/redis-sorted-set&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should do what the documentation says here: https://www.npmjs.com/package/redis-sorted-set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        (0, chai_1.expect)(z.add(\&quot;Terminator\&quot;, 8.0)).to.equal(null); // =&gt; null\n        (0, chai_1.expect)(z.add(\&quot;District 9\&quot;, 8.0)).to.equal(null); // =&gt; null\n        (0, chai_1.expect)(z.add(\&quot;Ex Machina\&quot;, 0.7)).to.equal(null); // =&gt; null\n        (0, chai_1.expect)(z.add(\&quot;Ex Machina\&quot;, 7.7)).to.equal(0.7); // =&gt; 0.7\n        // Alias\n        (0, chai_1.expect)(z.set(\&quot;The Matrix\&quot;, 8.7)).to.equal(null); // =&gt; null\n        // Average O(1)\n        (0, chai_1.expect)(z.has(\&quot;Terminator\&quot;)).to.equal(true); // =&gt; true\n        (0, chai_1.expect)(z.has(\&quot;Blade Runner\&quot;)).to.equal(false); // =&gt; false\n        // Average O(1)\n        (0, chai_1.expect)(z.score(\&quot;Ex Machina\&quot;)).to.equal(7.7); // =&gt; 7.7\n        (0, chai_1.expect)(z.score(\&quot;Blade Runner\&quot;)).to.equal(null); // =&gt; null\n        // Alias\n        (0, chai_1.expect)(z.get(\&quot;The Matrix\&quot;)).to.equal(8.7); // =&gt; 8.7\n        // Average O(log(N))\n        (0, chai_1.expect)(z.rem(\&quot;Ex Machina\&quot;)).to.equal(7.7); // =&gt; 7.7\n        // Average O(1)\n        (0, chai_1.expect)(z.rem(\&quot;Ex Machina\&quot;)).to.equal(null); // =&gt; null\n        // Alias\n        (0, chai_1.expect)(z.del(\&quot;Ex Machina\&quot;)).to.equal(null); // =&gt; null\n        /*\n         * Average O(log(N)+M) where M is the number of elements between min and max\n         * This is not working as expected\n         */\n        (0, chai_1.expect)(z.rangeByScore(7, 8)).to.eql([\n            \&quot;District 9\&quot;,\n            \&quot;Terminator\&quot;\n        ]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        (0, chai_1.expect)(z.rangeByScore(8)).to.eql([\n            \&quot;District 9\&quot;,\n            \&quot;Terminator\&quot;,\n            \&quot;The Matrix\&quot;\n        ]); // [8.0-∞)\n        // =&gt; [&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]\n        (0, chai_1.expect)(z.rangeByScore(8, null, { \&quot;withScores\&quot;: true })).to.eql([\n            [\n                \&quot;District 9\&quot;,\n                8.0\n            ],\n            [\n                \&quot;Terminator\&quot;,\n                8.0\n            ],\n            [\n                \&quot;The Matrix\&quot;,\n                8.7\n            ]\n        ]);\n        // =&gt; [[&#x27;District 9&#x27;, 8.0], [&#x27;Terminator&#x27;, 8.0], [&#x27;The Matrix&#x27;, 8.7]]\n        /*\n         * Average O(log(N)+log(M)) where M as in rangeByScore\n         * Again - not as expected\n         */\n        (0, chai_1.expect)(z.count(7, 8)).to.equal(2); // =&gt; 3\n        /*\n         * Average O(log(N))\n         * Not working as expected\n         */\n        (0, chai_1.expect)(z.rank(\&quot;Ex Machina\&quot;)).to.equal(null); // =&gt; 0\n        // Not working as expected\n        (0, chai_1.expect)(z.rank(\&quot;Terminator\&quot;)).to.equal(1); // =&gt; 2\n        (0, chai_1.expect)(z.rank(\&quot;Blade Runner\&quot;)).to.equal(null); // =&gt; null\n        /*\n         * Average O(log(N)+M) where M as in range\n         * Not working as expected\n         */\n        (0, chai_1.expect)(z.range(0, 2)).to.eql([\n            \&quot;District 9\&quot;,\n            \&quot;Terminator\&quot;,\n            \&quot;The Matrix\&quot;\n        ]);\n        /*\n         * =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n         * Not working as expected\n         */\n        (0, chai_1.expect)(z.range(0, 2, { \&quot;withScores\&quot;: true })).to.eql([\n            [\n                \&quot;District 9\&quot;,\n                8\n            ],\n            [\n                \&quot;Terminator\&quot;,\n                8\n            ],\n            [\n                \&quot;The Matrix\&quot;,\n                8.7\n            ]\n        ]);\n        /*\n         * =&gt; [[&#x27;Ex Machina&#x27;, 7.7],\n         *     [&#x27;District 9&#x27;, 8],\n         *     [&#x27;Terminator&#x27;, 8]]\n         */\n        (0, chai_1.expect)(z.range(-1)).to.eql([\&quot;The Matrix\&quot;]); // =&gt; [&#x27;The Matrix&#x27;]\n        /*\n         * Almost alias\n         * Not working as expected\n         */\n        (0, chai_1.expect)(z.slice(0, 3)).to.eql([\n            \&quot;District 9\&quot;,\n            \&quot;Terminator\&quot;,\n            \&quot;The Matrix\&quot;\n        ]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        /*\n         * Set cardinality (number of elements)\n         * Average O(1)\n         * Not working as expected\n         */\n        (0, chai_1.expect)(z.card()).to.equal(3); // =&gt; 4\n        /*\n         * Alias\n         * Not working as expected\n         */\n        (0, chai_1.expect)(z.length).to.equal(3); // =&gt; 4\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;73c2c258-2ee1-4156-84a1-d6b62ec04cad&quot;,&quot;parentUUID&quot;:&quot;1bf2afee-7a84-402c-bf92-343e69a88a03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;the rewrite should do what the documentation says here: https://www.npmjs.com/package/redis-sorted-set&quot;,&quot;fullTitle&quot;:&quot;sorted-set test the rewrite should do what the documentation says here: https://www.npmjs.com/package/redis-sorted-set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        (0, chai_1.expect)(ss.add(\&quot;Terminator\&quot;, 8.0)).to.equal(null); // =&gt; null\n        (0, chai_1.expect)(ss.add(\&quot;District 9\&quot;, 8.0)).to.equal(null); // =&gt; null\n        (0, chai_1.expect)(ss.add(\&quot;Ex Machina\&quot;, 0.7)).to.equal(null); // =&gt; null\n        (0, chai_1.expect)(ss.add(\&quot;Ex Machina\&quot;, 7.7)).to.equal(0.7); // =&gt; 0.7\n        // Alias\n        (0, chai_1.expect)(ss.set(\&quot;The Matrix\&quot;, 8.7)).to.equal(null); // =&gt; null\n        // Average O(1)\n        (0, chai_1.expect)(ss.has(\&quot;Terminator\&quot;)).to.equal(true); // =&gt; true\n        (0, chai_1.expect)(ss.has(\&quot;Blade Runner\&quot;)).to.equal(false); // =&gt; false\n        // Average O(1)\n        (0, chai_1.expect)(ss.score(\&quot;Ex Machina\&quot;)).to.equal(7.7); // =&gt; 7.7\n        (0, chai_1.expect)(ss.score(\&quot;Blade Runner\&quot;)).to.equal(null); // =&gt; null\n        // Alias\n        (0, chai_1.expect)(ss.get(\&quot;The Matrix\&quot;)).to.equal(8.7); // =&gt; 8.7\n        // Average O(log(N))\n        (0, chai_1.expect)(ss.rem(\&quot;Ex Machina\&quot;)).to.equal(7.7); // =&gt; 7.7\n        // Average O(1)\n        (0, chai_1.expect)(ss.rem(\&quot;Ex Machina\&quot;)).to.equal(null); // =&gt; null\n        // Alias\n        (0, chai_1.expect)(ss.del(\&quot;Ex Machina\&quot;)).to.equal(null); // =&gt; null\n        /*\n         * Average O(log(N)+M) where M is the number of elements between min and max\n         * This is not working as expected\n         */\n        (0, chai_1.expect)(ss.rangeByScore(7, 8)).to.eql([\n            \&quot;District 9\&quot;,\n            \&quot;Terminator\&quot;\n        ]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        (0, chai_1.expect)(ss.rangeByScore(8)).to.eql([\n            \&quot;District 9\&quot;,\n            \&quot;Terminator\&quot;,\n            \&quot;The Matrix\&quot;\n        ]); // [8.0-∞)\n        // =&gt; [&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]\n        (0, chai_1.expect)(ss.rangeByScore(8, null, { \&quot;withScores\&quot;: true })).to.eql([\n            [\n                \&quot;District 9\&quot;,\n                8.0\n            ],\n            [\n                \&quot;Terminator\&quot;,\n                8.0\n            ],\n            [\n                \&quot;The Matrix\&quot;,\n                8.7\n            ]\n        ]);\n        // =&gt; [[&#x27;District 9&#x27;, 8.0], [&#x27;Terminator&#x27;, 8.0], [&#x27;The Matrix&#x27;, 8.7]]\n        /*\n         * Average O(log(N)+log(M)) where M as in rangeByScore\n         * Again - not as expected\n         */\n        (0, chai_1.expect)(ss.count(7, 8)).to.equal(2); // =&gt; 3\n        /*\n         * Average O(log(N))\n         * Not working as expected\n         */\n        (0, chai_1.expect)(ss.rank(\&quot;Ex Machina\&quot;)).to.equal(null); // =&gt; 0\n        // Not working as expected\n        (0, chai_1.expect)(ss.rank(\&quot;Terminator\&quot;)).to.equal(1); // =&gt; 2\n        (0, chai_1.expect)(ss.rank(\&quot;Blade Runner\&quot;)).to.equal(null); // =&gt; null\n        /*\n         * Average O(log(N)+M) where M as in range\n         * Not working as expected\n         */\n        (0, chai_1.expect)(ss.range(0, 2)).to.eql([\n            \&quot;District 9\&quot;,\n            \&quot;Terminator\&quot;,\n            \&quot;The Matrix\&quot;\n        ]);\n        /*\n         * =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n         * Not working as expected\n         */\n        (0, chai_1.expect)(ss.range(0, 2, { \&quot;withScores\&quot;: true })).to.eql([\n            [\n                \&quot;District 9\&quot;,\n                8\n            ],\n            [\n                \&quot;Terminator\&quot;,\n                8\n            ],\n            [\n                \&quot;The Matrix\&quot;,\n                8.7\n            ]\n        ]);\n        /*\n         * =&gt; [[&#x27;Ex Machina&#x27;, 7.7],\n         *     [&#x27;District 9&#x27;, 8],\n         *     [&#x27;Terminator&#x27;, 8]]\n         */\n        (0, chai_1.expect)(ss.range(-1)).to.eql([\&quot;The Matrix\&quot;]); // =&gt; [&#x27;The Matrix&#x27;]\n        /*\n         * Almost alias\n         * Not working as expected\n         */\n        (0, chai_1.expect)(ss.slice(0, 3)).to.eql([\n            \&quot;District 9\&quot;,\n            \&quot;Terminator\&quot;,\n            \&quot;The Matrix\&quot;\n        ]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        /*\n         * Set cardinality (number of elements)\n         * Average O(1)\n         * Not working as expected\n         */\n        (0, chai_1.expect)(ss.card()).to.equal(3); // =&gt; 4\n        /*\n         * Alias\n         * Not working as expected\n         */\n        (0, chai_1.expect)(ss.length).to.equal(3); // =&gt; 4\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a681174d-8eb2-491a-a376-4ea53472a203&quot;,&quot;parentUUID&quot;:&quot;1bf2afee-7a84-402c-bf92-343e69a88a03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;11943f5f-cc0b-476c-9734-0b0933ac8567&quot;,&quot;title&quot;:&quot;skip map&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support basic operations&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map should support basic operations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\n(0, chai_1.expect)(z).to.have.length(0);\n(0, chai_1.expect)(z.toArray()).to.eql([]);\n(0, chai_1.expect)(z.range()).to.eql([]);\n(0, chai_1.expect)(z.rangeByScore()).to.eql([]);\n(0, chai_1.expect)(() =&gt; {\n    z.add(\&quot;__proto__\&quot;, 14);\n}).to.throw();\nz.add(\&quot;5a600e16\&quot;, 8);\nz.add(\&quot;5a600e17\&quot;, 9);\n(0, chai_1.expect)(z.add(\&quot;5a600e18\&quot;, 10)).to.equal(null);\n(0, chai_1.expect)(z.add(\&quot;5a600e17\&quot;, 12)).to.equal(9);\n(0, chai_1.expect)(z).to.have.length(3);\n(0, chai_1.expect)(z.toArray()).to.eql([\n    \&quot;5a600e16\&quot;,\n    \&quot;5a600e18\&quot;,\n    \&quot;5a600e17\&quot;\n]);\n(0, chai_1.expect)(z.toArray()).to.eql(z.range(0, -1));\n(0, chai_1.expect)(z.toArray()).to.eql(z.rangeByScore());\n(0, chai_1.expect)(z.has(\&quot;5a600e16\&quot;)).to.be.ok;\n(0, chai_1.expect)(z.has(\&quot;5a600e17\&quot;)).to.be.ok;\n(0, chai_1.expect)(z.has(\&quot;5a600e18\&quot;)).to.be.ok;\n(0, chai_1.expect)(z.has(\&quot;5a600e19\&quot;)).to.not.be.ok;\n(0, chai_1.expect)(z.score(\&quot;5a600e16\&quot;)).to.equal(8);\n(0, chai_1.expect)(z.score(\&quot;5a600e17\&quot;)).to.equal(12);\n(0, chai_1.expect)(z.score(\&quot;5a600e18\&quot;)).to.equal(10);\n(0, chai_1.expect)(z.score(\&quot;5a600e19\&quot;)).to.equal(null);\n(0, chai_1.expect)(z.rem(\&quot;5a600e16\&quot;)).to.equal(8);\n(0, chai_1.expect)(z).to.have.length(2);\n(0, chai_1.expect)(z.rem(\&quot;5a600e16\&quot;)).to.equal(null);\n(0, chai_1.expect)(z).to.have.length(2);\n(0, chai_1.expect)(z.has(\&quot;5a600e16\&quot;)).to.not.be.ok;\n(0, chai_1.expect)(z.toArray()).to.eql([\n    \&quot;5a600e18\&quot;,\n    \&quot;5a600e17\&quot;\n]);\n(0, chai_1.expect)(z.toArray({ \&quot;withScores\&quot;: true })).\n    to.eql(z.range(0, -1, { \&quot;withScores\&quot;: true }));\n(0, chai_1.expect)(z.toArray()).to.eql(z.rangeByScore());\nz.add(\&quot;5a600e16\&quot;, 10);\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\n(0, chai_1.expect)(z).to.have.length(9);\n// No change, so should be O(1)\nz.add(\&quot;5a600e17\&quot;, 12);\n(0, chai_1.expect)(z.rank(\&quot;5a600e17\&quot;)).to.equal(4);\n(0, chai_1.expect)(z).to.have.length(9);\n(0, chai_1.expect)(z.toArray()).to.eql([\n    \&quot;5a600e16\&quot;,\n    \&quot;5a600e11\&quot;,\n    \&quot;5a600e18\&quot;,\n    \&quot;5a600e13\&quot;,\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e12\&quot;,\n    \&quot;5a600e15\&quot;\n]);\n(0, chai_1.expect)(z.toArray()).to.eql(z.range(0, -1));\n(0, chai_1.expect)(z.toArray()).to.eql(z.rangeByScore());\n(0, chai_1.expect)(z.rangeByScore(14, 16, { \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e14\&quot;,\n        14\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f0fb172c-1e08-404e-86ce-93e80dd173b4&quot;,&quot;parentUUID&quot;:&quot;11943f5f-cc0b-476c-9734-0b0933ac8567&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3163c662-3d1a-4fba-9777-1cb1325da5c8&quot;,&quot;title&quot;:&quot;#add&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should implicitly delete&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #add should implicitly delete&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.add(\&quot;5a600e14\&quot;, null)).to.equal(14);\n(0, chai_1.expect)(z.add(\&quot;5a600e19\&quot;, null)).to.equal(null);\n(0, chai_1.expect)(z).to.have.length(8);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;54636583-0d4b-409c-b45f-9486cb7fa3d8&quot;,&quot;parentUUID&quot;:&quot;3163c662-3d1a-4fba-9777-1cb1325da5c8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;54636583-0d4b-409c-b45f-9486cb7fa3d8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;017e8335-be19-4062-af66-e091a35dd970&quot;,&quot;title&quot;:&quot;#empty&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove all elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #empty should remove all elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\nz.empty();\n(0, chai_1.expect)(z).to.have.length(0);\n(0, chai_1.expect)(z.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e9a95bff-e4d7-4b4e-9399-dd19e4410488&quot;,&quot;parentUUID&quot;:&quot;017e8335-be19-4062-af66-e091a35dd970&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e9a95bff-e4d7-4b4e-9399-dd19e4410488&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c3a395d2-991e-4995-8d2f-1627a26e4505&quot;,&quot;title&quot;:&quot;#incrBy(increment, key)&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should increase rank&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #incrBy(increment, key) should increase rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;first\&quot;, 1);\nz.add(\&quot;second\&quot;, 2);\nz.add(\&quot;third\&quot;, 3);\nz.add(\&quot;fourth\&quot;, 4);\n(0, chai_1.expect)(z.incrBy(2, \&quot;first\&quot;)).to.equal(3);\n(0, chai_1.expect)(z.rank(\&quot;first\&quot;)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1fe386c6-6894-43f8-b0a2-6976da2f8fcc&quot;,&quot;parentUUID&quot;:&quot;c3a395d2-991e-4995-8d2f-1627a26e4505&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create if not found&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #incrBy(increment, key) should create if not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;first\&quot;, 1);\nz.incrBy(2, \&quot;second\&quot;);\n(0, chai_1.expect)(z.card()).to.equal(2);\n(0, chai_1.expect)(z.rank(\&quot;second\&quot;)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;04acbf18-d7eb-481a-b149-8f841f6060bf&quot;,&quot;parentUUID&quot;:&quot;c3a395d2-991e-4995-8d2f-1627a26e4505&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1fe386c6-6894-43f8-b0a2-6976da2f8fcc&quot;,&quot;04acbf18-d7eb-481a-b149-8f841f6060bf&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a43736ae-b6d0-4a21-bc99-90fb21e56693&quot;,&quot;title&quot;:&quot;#keys&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the keys&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #keys should return the keys&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.keys()).to.eql([\n    \&quot;5a600e16\&quot;,\n    \&quot;5a600e11\&quot;,\n    \&quot;5a600e18\&quot;,\n    \&quot;5a600e13\&quot;,\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e12\&quot;,\n    \&quot;5a600e15\&quot;\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bbaae95a-02cc-401e-9831-205395af86be&quot;,&quot;parentUUID&quot;:&quot;a43736ae-b6d0-4a21-bc99-90fb21e56693&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bbaae95a-02cc-401e-9831-205395af86be&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;22d1cd54-bf7c-4134-b6e9-936d05b41825&quot;,&quot;title&quot;:&quot;#rangeByScore&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support special ranges&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #rangeByScore should support special ranges&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.rangeByScore(14, null, { \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e14\&quot;,\n        14\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ],\n    [\n        \&quot;5a600e15\&quot;,\n        19\n    ]\n]);\n(0, chai_1.expect)(z.rangeByScore(null, 10, { \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e16\&quot;,\n        3\n    ],\n    [\n        \&quot;5a600e11\&quot;,\n        6\n    ],\n    [\n        \&quot;5a600e18\&quot;,\n        10\n    ]\n]);\n(0, chai_1.expect)(z.rangeByScore(-Infinity, Infinity)).to.eql(z.toArray());\n(0, chai_1.expect)(z.rangeByScore(null, null)).to.eql(z.toArray());&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;520de029-74b6-4a86-9a41-b82a59dbcaed&quot;,&quot;parentUUID&quot;:&quot;22d1cd54-bf7c-4134-b6e9-936d05b41825&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;520de029-74b6-4a86-9a41-b82a59dbcaed&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;bc920f3e-0978-49ec-83be-a5b7c606d5f1&quot;,&quot;title&quot;:&quot;#count&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should count elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #count should count elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\n(0, chai_1.expect)(z.count()).to.equal(0);\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\nz.add(\&quot;5a600e19\&quot;, 14);\nz.add(\&quot;5a600f00\&quot;, 30.0);\nz.add(\&quot;5a600f01\&quot;, 30.5);\nz.add(\&quot;5a600f02\&quot;, 31.0);\nz.add(\&quot;5a600f03\&quot;, 31.5);\nz.add(\&quot;5a600f04\&quot;, 32.0);\nz.add(\&quot;5a600f05\&quot;, 32.0);\nz.add(\&quot;5a600f06\&quot;, 32.0);\n(0, chai_1.expect)(z.count()).to.eql(z.rangeByScore().length);\n(0, chai_1.expect)(z.count(8)).to.eql(z.rangeByScore(8).length);\n(0, chai_1.expect)(z.count(3, 7)).to.eql(z.rangeByScore(3, 7).length);\n(0, chai_1.expect)(z.count(5, 14)).to.eql(z.rangeByScore(5, 14).length);\n(0, chai_1.expect)(z.count(5, 5)).to.eql(z.rangeByScore(5, 5).length);\n(0, chai_1.expect)(z.count(5, 0)).to.eql(z.rangeByScore(5, 0).length);\n(0, chai_1.expect)(z.count(30, 32)).to.eql(z.rangeByScore(30, 32).length);\n(0, chai_1.expect)(z.count(40)).to.eql(z.rangeByScore(40).length);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;208f0cc1-8d37-4436-b311-9b3f9fdd9753&quot;,&quot;parentUUID&quot;:&quot;bc920f3e-0978-49ec-83be-a5b7c606d5f1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;208f0cc1-8d37-4436-b311-9b3f9fdd9753&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ca36f839-8967-4c85-b78d-bc7e38ca01e5&quot;,&quot;title&quot;:&quot;#range&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support special ranges&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #range should support special ranges&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;first\&quot;, 1);\nz.add(\&quot;second\&quot;, 2);\nz.add(\&quot;third\&quot;, 3);\nz.add(\&quot;fourth\&quot;, 4);\nconst array = [\n    \&quot;first\&quot;,\n    \&quot;second\&quot;,\n    \&quot;third\&quot;,\n    \&quot;fourth\&quot;\n];\n(0, chai_1.expect)(z.range()).to.eql(array);\n(0, chai_1.expect)(z.range(2)).to.eql(array.slice(2));\n(0, chai_1.expect)(z.range(8)).to.eql(array.slice(8));\n(0, chai_1.expect)(z.range(0, 2)).to.eql(array.slice(0, 3));\n(0, chai_1.expect)(z.range(-1)).to.eql([\&quot;fourth\&quot;]);\n(0, chai_1.expect)(z.range(-4)).to.eql(array);\n(0, chai_1.expect)(z.range(-4, -2)).to.eql(array.slice(0, 3));\n(0, chai_1.expect)(z.range(-4, z.length + 1000)).\n    to.eql(array.slice(-4, z.length + 1000));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dffbf3f2-c639-4687-b8fa-6ee803f7d595&quot;,&quot;parentUUID&quot;:&quot;ca36f839-8967-4c85-b78d-bc7e38ca01e5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support withScores&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #range should support withScores&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;first\&quot;, 1);\nz.add(\&quot;second\&quot;, 2);\n(0, chai_1.expect)(z.range(0, 0, { \&quot;withScores\&quot;: true })).\n    to.eql([\n    [\n        \&quot;first\&quot;,\n        1\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;07971b13-8068-4c33-a42b-ff1a5a703d7a&quot;,&quot;parentUUID&quot;:&quot;ca36f839-8967-4c85-b78d-bc7e38ca01e5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;dffbf3f2-c639-4687-b8fa-6ee803f7d595&quot;,&quot;07971b13-8068-4c33-a42b-ff1a5a703d7a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1a92dfde-24a6-45a3-a410-fb285e05360e&quot;,&quot;title&quot;:&quot;#intersect&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should intersect two sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #intersect should intersect two sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const a = new Z(), b = new Z();\na.add(\&quot;5a600e10\&quot;, 16);\na.add(\&quot;5a600e12\&quot;, 10);\na.add(\&quot;5a600e14\&quot;, 9);\na.add(\&quot;5a600e15\&quot;, 14);\na.add(\&quot;5a600e17\&quot;, 20);\na.add(\&quot;5a600e18\&quot;, 13);\na.add(\&quot;5a600e19\&quot;, 15);\na.add(\&quot;5a600e1a\&quot;, 19);\na.add(\&quot;5a600e1b\&quot;, 7);\na.add(\&quot;5a600e1c\&quot;, 13);\na.add(\&quot;5a600e1e\&quot;, 10);\nb.add(\&quot;5a600e10\&quot;, 0);\nb.add(\&quot;5a600e11\&quot;, 15);\nb.add(\&quot;5a600e13\&quot;, 5);\nb.add(\&quot;5a600e14\&quot;, 3);\nb.add(\&quot;5a600e15\&quot;, 14);\nb.add(\&quot;5a600e17\&quot;, 12);\nb.add(\&quot;5a600e19\&quot;, 12);\nb.add(\&quot;5a600e1b\&quot;, 16);\nb.add(\&quot;5a600e1c\&quot;, 12);\nb.add(\&quot;5a600e1d\&quot;, 17);\nb.add(\&quot;5a600e1f\&quot;, 3);\n(0, chai_1.expect)(Z.intersect(a, b)).to.eql([\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e19\&quot;,\n    \&quot;5a600e1c\&quot;,\n    \&quot;5a600e15\&quot;,\n    \&quot;5a600e1b\&quot;\n]);\n(0, chai_1.expect)(Z.intersect(b, a)).to.eql([\n    \&quot;5a600e1b\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e1c\&quot;,\n    \&quot;5a600e15\&quot;,\n    \&quot;5a600e19\&quot;,\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e17\&quot;\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c6c45266-81d6-40fb-948e-1db4dfee2119&quot;,&quot;parentUUID&quot;:&quot;1a92dfde-24a6-45a3-a410-fb285e05360e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should intersect three sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #intersect should intersect three sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const a = new Z(), b = new Z(), c = new Z();\na.add(\&quot;5a600e10\&quot;, 16);\na.add(\&quot;5a600e12\&quot;, 10);\na.add(\&quot;5a600e14\&quot;, 9);\na.add(\&quot;5a600e15\&quot;, 14);\na.add(\&quot;5a600e17\&quot;, 20);\na.add(\&quot;5a600e18\&quot;, 13);\na.add(\&quot;5a600e19\&quot;, 15);\na.add(\&quot;5a600e1a\&quot;, 19);\na.add(\&quot;5a600e1b\&quot;, 7);\na.add(\&quot;5a600e1c\&quot;, 13);\na.add(\&quot;5a600e1e\&quot;, 10);\nb.add(\&quot;5a600e10\&quot;, 0);\nb.add(\&quot;5a600e11\&quot;, 15);\nb.add(\&quot;5a600e13\&quot;, 5);\nb.add(\&quot;5a600e14\&quot;, 3);\nb.add(\&quot;5a600e15\&quot;, 14);\nb.add(\&quot;5a600e17\&quot;, 12);\nb.add(\&quot;5a600e19\&quot;, 12);\nb.add(\&quot;5a600e1b\&quot;, 16);\nb.add(\&quot;5a600e1c\&quot;, 12);\nb.add(\&quot;5a600e1d\&quot;, 17);\nb.add(\&quot;5a600e1f\&quot;, 3);\nc.add(\&quot;5a600e10\&quot;, 7);\nc.add(\&quot;5a600e12\&quot;, 20);\nc.add(\&quot;5a600e13\&quot;, 9);\nc.add(\&quot;5a600e14\&quot;, 19);\nc.add(\&quot;5a600e16\&quot;, 19);\nc.add(\&quot;5a600e17\&quot;, 1);\nc.add(\&quot;5a600e18\&quot;, 18);\nc.add(\&quot;5a600e1a\&quot;, 6);\nc.add(\&quot;5a600e1c\&quot;, 15);\nc.add(\&quot;5a600e1f\&quot;, 4);\n(0, chai_1.expect)(Z.intersect(c, a, b)).to.eql([\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e1c\&quot;\n]);\n(0, chai_1.expect)(Z.intersect(c, a, b)).to.eql(c.intersect(a, b));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;51217dcc-0365-4a3a-9e25-7bd404a9f561&quot;,&quot;parentUUID&quot;:&quot;1a92dfde-24a6-45a3-a410-fb285e05360e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should intersect four sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #intersect should intersect four sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const a = new Z(), b = new Z(), c = new Z(), d = new Z();\na.add(\&quot;5a600e10\&quot;, 16);\na.add(\&quot;5a600e12\&quot;, 10);\na.add(\&quot;5a600e14\&quot;, 9);\na.add(\&quot;5a600e15\&quot;, 14);\na.add(\&quot;5a600e17\&quot;, 20);\na.add(\&quot;5a600e18\&quot;, 13);\na.add(\&quot;5a600e19\&quot;, 15);\na.add(\&quot;5a600e1a\&quot;, 19);\na.add(\&quot;5a600e1b\&quot;, 7);\na.add(\&quot;5a600e1c\&quot;, 13);\na.add(\&quot;5a600e1e\&quot;, 10);\nb.add(\&quot;5a600e10\&quot;, 0);\nb.add(\&quot;5a600e11\&quot;, 15);\nb.add(\&quot;5a600e13\&quot;, 5);\nb.add(\&quot;5a600e14\&quot;, 3);\nb.add(\&quot;5a600e15\&quot;, 14);\nb.add(\&quot;5a600e17\&quot;, 12);\nb.add(\&quot;5a600e19\&quot;, 12);\nb.add(\&quot;5a600e1b\&quot;, 16);\nb.add(\&quot;5a600e1c\&quot;, 12);\nb.add(\&quot;5a600e1d\&quot;, 17);\nb.add(\&quot;5a600e1f\&quot;, 3);\nc.add(\&quot;5a600e10\&quot;, 7);\nc.add(\&quot;5a600e12\&quot;, 20);\nc.add(\&quot;5a600e13\&quot;, 9);\nc.add(\&quot;5a600e14\&quot;, 19);\nc.add(\&quot;5a600e16\&quot;, 19);\nc.add(\&quot;5a600e17\&quot;, 1);\nc.add(\&quot;5a600e18\&quot;, 18);\nc.add(\&quot;5a600e1a\&quot;, 6);\nc.add(\&quot;5a600e1c\&quot;, 15);\nc.add(\&quot;5a600e1f\&quot;, 4);\nd.add(\&quot;5a600e1c\&quot;, 400);\nd.add(\&quot;5a600e17\&quot;, 500);\nd.add(\&quot;5a600e1f\&quot;, 600);\nd.add(\&quot;5a600e20\&quot;, 700);\n(0, chai_1.expect)(Z.intersect(d, c, a, b)).to.eql([\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e1c\&quot;\n]);\n(0, chai_1.expect)(Z.intersect(d, c, a, b)).to.eql(d.intersect(c, a, b));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c27fc526-c058-45ee-89f5-58d6b7312683&quot;,&quot;parentUUID&quot;:&quot;1a92dfde-24a6-45a3-a410-fb285e05360e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c6c45266-81d6-40fb-948e-1db4dfee2119&quot;,&quot;51217dcc-0365-4a3a-9e25-7bd404a9f561&quot;,&quot;c27fc526-c058-45ee-89f5-58d6b7312683&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;efa1b4da-d870-4580-a682-40c1bbe67fba&quot;,&quot;title&quot;:&quot;#rank&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get the correct rank&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #rank should get the correct rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.rank(\&quot;5a600e12\&quot;)).to.equal(7);\n(0, chai_1.expect)(z.rank(\&quot;5a600e13\&quot;)).to.equal(3);\n(0, chai_1.expect)(z.rank(\&quot;5a600e16\&quot;)).to.equal(0);\n(0, chai_1.expect)(z.rank(\&quot;5a600e15\&quot;)).to.equal(8);\n(0, chai_1.expect)(z.rank(\&quot;not in set\&quot;)).to.equal(null);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8cea47d6-b812-4e71-96d2-18788b704768&quot;,&quot;parentUUID&quot;:&quot;efa1b4da-d870-4580-a682-40c1bbe67fba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8cea47d6-b812-4e71-96d2-18788b704768&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e413155f-2d3d-4ea8-b7e2-3247a24b44ae&quot;,&quot;title&quot;:&quot;#rem&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete special elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #rem should delete special elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.rem(\&quot;5a600e15\&quot;)).to.equal(19);\n(0, chai_1.expect)(z).to.have.length(8);\n(0, chai_1.expect)(z.rem(\&quot;5a600e16\&quot;)).to.equal(3);\n(0, chai_1.expect)(z).to.have.length(7);\n(0, chai_1.expect)(z.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e11\&quot;,\n        6\n    ],\n    [\n        \&quot;5a600e18\&quot;,\n        10\n    ],\n    [\n        \&quot;5a600e13\&quot;,\n        11\n    ],\n    [\n        \&quot;5a600e17\&quot;,\n        12\n    ],\n    [\n        \&quot;5a600e14\&quot;,\n        14\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1bff91be-645f-49c4-9eda-b99ec52b4e20&quot;,&quot;parentUUID&quot;:&quot;e413155f-2d3d-4ea8-b7e2-3247a24b44ae&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should delete many elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #rem should delete many elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.rem(\&quot;5a600e11\&quot;)).to.equal(6);\n(0, chai_1.expect)(z.rem(\&quot;5a600e13\&quot;)).to.equal(11);\n(0, chai_1.expect)(z.rem(\&quot;5a600e14\&quot;)).to.equal(14);\n(0, chai_1.expect)(z.rem(\&quot;5a600e15\&quot;)).to.equal(19);\n(0, chai_1.expect)(z.rem(\&quot;5a600e16\&quot;)).to.equal(3);\n(0, chai_1.expect)(z.rem(\&quot;5a600e17\&quot;)).to.equal(12);\n(0, chai_1.expect)(z.length).to.equal(3);\n(0, chai_1.expect)(z.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e18\&quot;,\n        10\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fec8d4b4-dd22-4739-83dc-578f55ce2bff&quot;,&quot;parentUUID&quot;:&quot;e413155f-2d3d-4ea8-b7e2-3247a24b44ae&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1bff91be-645f-49c4-9eda-b99ec52b4e20&quot;,&quot;fec8d4b4-dd22-4739-83dc-578f55ce2bff&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ae2a7967-1042-425e-ac15-3783587147f0&quot;,&quot;title&quot;:&quot;#remRangeByScore&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should strip out a range of elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #remRangeByScore should strip out a range of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.remRangeByScore(4, 14)).to.equal(5);\n(0, chai_1.expect)(z).to.have.length(4);\n(0, chai_1.expect)(z.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e16\&quot;,\n        3\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ],\n    [\n        \&quot;5a600e15\&quot;,\n        19\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6036b8ae-11fd-40bc-a20a-f6e1e5b9337b&quot;,&quot;parentUUID&quot;:&quot;ae2a7967-1042-425e-ac15-3783587147f0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should strip out all the elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #remRangeByScore should strip out all the elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.remRangeByScore(3, 19)).to.equal(9);\n(0, chai_1.expect)(z).to.have.length(0);\n(0, chai_1.expect)(z.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c7533886-96ec-419b-a042-f9b7df33d411&quot;,&quot;parentUUID&quot;:&quot;ae2a7967-1042-425e-ac15-3783587147f0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6036b8ae-11fd-40bc-a20a-f6e1e5b9337b&quot;,&quot;c7533886-96ec-419b-a042-f9b7df33d411&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;25597e42-7a9f-431c-892d-069c0df7d578&quot;,&quot;title&quot;:&quot;#remRangeByRank&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should strip out a slice of elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #remRangeByRank should strip out a slice of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.remRangeByRank(1, 6)).to.equal(5);\n(0, chai_1.expect)(z).to.have.length(4);\n(0, chai_1.expect)(z.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e16\&quot;,\n        3\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ],\n    [\n        \&quot;5a600e15\&quot;,\n        19\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b998f39-6b40-4382-aa39-9873cb2bce1b&quot;,&quot;parentUUID&quot;:&quot;25597e42-7a9f-431c-892d-069c0df7d578&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should strip out all elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #remRangeByRank should strip out all elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(z.remRangeByRank(0, 9)).to.equal(9);\n(0, chai_1.expect)(z).to.have.length(0);\n(0, chai_1.expect)(z.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;79bcd42c-d02d-4bc4-9d6f-3fc0a2bd9290&quot;,&quot;parentUUID&quot;:&quot;25597e42-7a9f-431c-892d-069c0df7d578&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6b998f39-6b40-4382-aa39-9873cb2bce1b&quot;,&quot;79bcd42c-d02d-4bc4-9d6f-3fc0a2bd9290&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;87ead636-81b4-40ab-bff0-ceb829eebd0e&quot;,&quot;title&quot;:&quot;#values&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the values&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #values should return the values&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z();\nz.add(\&quot;first\&quot;, -1);\nz.add(\&quot;third\&quot;, 5);\nz.add(\&quot;second\&quot;, 3);\n(0, chai_1.expect)(z.values()).to.eql([\n    -1,\n    3,\n    5\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8cc932bb-d9f3-4803-8c4a-55fc8ac0ee3d&quot;,&quot;parentUUID&quot;:&quot;87ead636-81b4-40ab-bff0-ceb829eebd0e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8cc932bb-d9f3-4803-8c4a-55fc8ac0ee3d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f6d2de5b-08f5-4b18-9c16-c5cbcde0ff00&quot;,&quot;title&quot;:&quot;unique&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should ensure values are unique&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map unique should ensure values are unique&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z({ \&quot;unique\&quot;: true });\nassert.equal(z.keys().length, 0, \&quot;Expected an empty SortedSet\&quot;);\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(() =&gt; {\n    z.add(\&quot;5a600e19\&quot;, 11);\n}).to.throw(/unique/);\n// Quick exit test\n(0, chai_1.expect)(() =&gt; {\n    z.add(\&quot;5a600dff\&quot;, z._head.next[z._level - 1].next.value);\n}).to.throw(/unique/);\n// This test ensures the key &lt; key check doesn&#x27;t come into play\n(0, chai_1.expect)(() =&gt; {\n    z.add(\&quot;5a600dff\&quot;, 11);\n}).to.throw(/unique/);\n(0, chai_1.expect)(() =&gt; {\n    z.add(\&quot;5a600e18\&quot;, 10);\n}).to.not.throw();\n(0, chai_1.expect)(z).to.have.length(9);\n(0, chai_1.expect)(z.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e16\&quot;,\n        3\n    ],\n    [\n        \&quot;5a600e11\&quot;,\n        6\n    ],\n    [\n        \&quot;5a600e18\&quot;,\n        10\n    ],\n    [\n        \&quot;5a600e13\&quot;,\n        11\n    ],\n    [\n        \&quot;5a600e17\&quot;,\n        12\n    ],\n    [\n        \&quot;5a600e14\&quot;,\n        14\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ],\n    [\n        \&quot;5a600e15\&quot;,\n        19\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8d03a988-9e7e-4dc7-86e6-d79e1b7a9d65&quot;,&quot;parentUUID&quot;:&quot;f6d2de5b-08f5-4b18-9c16-c5cbcde0ff00&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert keys if constraint broken during update&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map unique should revert keys if constraint broken during update&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const z = new Z({ \&quot;unique\&quot;: true });\nz.add(\&quot;5a600e10\&quot;, 16);\nz.add(\&quot;5a600e11\&quot;, 6);\nz.add(\&quot;5a600e12\&quot;, 17);\nz.add(\&quot;5a600e13\&quot;, 11);\nz.add(\&quot;5a600e14\&quot;, 14);\nz.add(\&quot;5a600e15\&quot;, 19);\nz.add(\&quot;5a600e16\&quot;, 3);\nz.add(\&quot;5a600e17\&quot;, 12);\nz.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(() =&gt; {\n    z.add(\&quot;5a600e13\&quot;, 14);\n}).to.throw(/unique/);\n(0, chai_1.expect)(z).to.have.length(9);\n(0, chai_1.expect)(z.score(\&quot;5a600e13\&quot;)).to.equal(11);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eb935d9f-a5b4-4aea-a99c-04cc8645c428&quot;,&quot;parentUUID&quot;:&quot;f6d2de5b-08f5-4b18-9c16-c5cbcde0ff00&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8d03a988-9e7e-4dc7-86e6-d79e1b7a9d65&quot;,&quot;eb935d9f-a5b4-4aea-a99c-04cc8645c428&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;f0fb172c-1e08-404e-86ce-93e80dd173b4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;adec9268-a6d2-49bd-8c99-c7e6b93e3fe5&quot;,&quot;title&quot;:&quot;skip map rewrite&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support basic operations&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite should support basic operations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\n(0, chai_1.expect)(ss).to.have.length(0);\n(0, chai_1.expect)(ss.toArray()).to.eql([]);\n(0, chai_1.expect)(ss.range()).to.eql([]);\n(0, chai_1.expect)(ss.rangeByScore()).to.eql([]);\n/*\n * Expect(() =&gt; {\n *   Ss.add(&#x27;__proto__&#x27;, 14);\n * }).to.throw();\n */\nss.add(\&quot;5a600e16\&quot;, 8);\nss.add(\&quot;5a600e17\&quot;, 9);\n(0, chai_1.expect)(ss.add(\&quot;5a600e18\&quot;, 10)).to.equal(null);\n(0, chai_1.expect)(ss.add(\&quot;5a600e17\&quot;, 12)).to.equal(9);\n(0, chai_1.expect)(ss).to.have.length(3);\n(0, chai_1.expect)(ss.toArray()).to.eql([\n    \&quot;5a600e16\&quot;,\n    \&quot;5a600e18\&quot;,\n    \&quot;5a600e17\&quot;\n]);\n(0, chai_1.expect)(ss.toArray()).to.eql(ss.range(0, -1));\n(0, chai_1.expect)(ss.toArray()).to.eql(ss.rangeByScore());\n(0, chai_1.expect)(ss.has(\&quot;5a600e16\&quot;)).to.be.ok;\n(0, chai_1.expect)(ss.has(\&quot;5a600e17\&quot;)).to.be.ok;\n(0, chai_1.expect)(ss.has(\&quot;5a600e18\&quot;)).to.be.ok;\n(0, chai_1.expect)(ss.has(\&quot;5a600e19\&quot;)).to.not.be.ok;\n(0, chai_1.expect)(ss.score(\&quot;5a600e16\&quot;)).to.equal(8);\n(0, chai_1.expect)(ss.score(\&quot;5a600e17\&quot;)).to.equal(12);\n(0, chai_1.expect)(ss.score(\&quot;5a600e18\&quot;)).to.equal(10);\n(0, chai_1.expect)(ss.score(\&quot;5a600e19\&quot;)).to.equal(null);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e16\&quot;)).to.equal(8);\n(0, chai_1.expect)(ss).to.have.length(2);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e16\&quot;)).to.equal(null);\n(0, chai_1.expect)(ss).to.have.length(2);\n(0, chai_1.expect)(ss.has(\&quot;5a600e16\&quot;)).to.not.be.ok;\n(0, chai_1.expect)(ss.toArray()).to.eql([\n    \&quot;5a600e18\&quot;,\n    \&quot;5a600e17\&quot;\n]);\n(0, chai_1.expect)(ss.toArray({ \&quot;withScores\&quot;: true })).\n    to.eql(ss.range(0, -1, { \&quot;withScores\&quot;: true }));\n(0, chai_1.expect)(ss.toArray()).to.eql(ss.rangeByScore());\nss.add(\&quot;5a600e16\&quot;, 10);\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\n(0, chai_1.expect)(ss).to.have.length(9);\n// No change, so should be O(1)\nss.add(\&quot;5a600e17\&quot;, 12);\n(0, chai_1.expect)(ss.rank(\&quot;5a600e17\&quot;)).to.equal(4);\n(0, chai_1.expect)(ss).to.have.length(9);\n(0, chai_1.expect)(ss.toArray()).to.eql([\n    \&quot;5a600e16\&quot;,\n    \&quot;5a600e11\&quot;,\n    \&quot;5a600e18\&quot;,\n    \&quot;5a600e13\&quot;,\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e12\&quot;,\n    \&quot;5a600e15\&quot;\n]);\n(0, chai_1.expect)(ss.toArray()).to.eql(ss.range(0, -1));\n(0, chai_1.expect)(ss.toArray()).to.eql(ss.rangeByScore());\n(0, chai_1.expect)(ss.rangeByScore(14, 16, { \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e14\&quot;,\n        14\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;339f14bd-0fee-4aa7-be15-9a5511d0baa7&quot;,&quot;parentUUID&quot;:&quot;adec9268-a6d2-49bd-8c99-c7e6b93e3fe5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;2c15ef88-fcdb-437c-900c-c4db0d066f20&quot;,&quot;title&quot;:&quot;#add&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should implicitly delete&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #add should implicitly delete&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.add(\&quot;5a600e14\&quot;, null)).to.equal(14);\n(0, chai_1.expect)(ss.add(\&quot;5a600e19\&quot;, null)).to.equal(null);\n(0, chai_1.expect)(ss).to.have.length(8);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d0bbe9ad-7c35-4695-8916-315c60f29239&quot;,&quot;parentUUID&quot;:&quot;2c15ef88-fcdb-437c-900c-c4db0d066f20&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d0bbe9ad-7c35-4695-8916-315c60f29239&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;7d9bbb08-5003-4204-b56e-f7bd0420f5d6&quot;,&quot;title&quot;:&quot;#empty&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove all elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #empty should remove all elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\nss.empty();\n(0, chai_1.expect)(ss).to.have.length(0);\n(0, chai_1.expect)(ss.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ae905bf-920b-4f3c-8587-4ba8ccd84711&quot;,&quot;parentUUID&quot;:&quot;7d9bbb08-5003-4204-b56e-f7bd0420f5d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3ae905bf-920b-4f3c-8587-4ba8ccd84711&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;4e187eef-7c75-43ec-9326-ceefea5e46af&quot;,&quot;title&quot;:&quot;#incrBy(increment, key)&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should increase rank&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #incrBy(increment, key) should increase rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;first\&quot;, 1);\nss.add(\&quot;second\&quot;, 2);\nss.add(\&quot;third\&quot;, 3);\nss.add(\&quot;fourth\&quot;, 4);\n(0, chai_1.expect)(ss.incrBy(2, \&quot;first\&quot;)).to.equal(3);\n(0, chai_1.expect)(ss.rank(\&quot;first\&quot;)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;49f6bc62-5d51-4de1-bcfb-cd87a19d055d&quot;,&quot;parentUUID&quot;:&quot;4e187eef-7c75-43ec-9326-ceefea5e46af&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create if not found&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #incrBy(increment, key) should create if not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;first\&quot;, 1);\nss.incrBy(2, \&quot;second\&quot;);\n(0, chai_1.expect)(ss.card()).to.equal(2);\n(0, chai_1.expect)(ss.rank(\&quot;second\&quot;)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c0e995a-190d-43a4-84b4-d8946e73cc20&quot;,&quot;parentUUID&quot;:&quot;4e187eef-7c75-43ec-9326-ceefea5e46af&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;49f6bc62-5d51-4de1-bcfb-cd87a19d055d&quot;,&quot;5c0e995a-190d-43a4-84b4-d8946e73cc20&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5e41aa8b-a2c2-4823-a25f-5a8d686272ab&quot;,&quot;title&quot;:&quot;#keys&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the keys&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #keys should return the keys&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.keys()).to.eql([\n    \&quot;5a600e16\&quot;,\n    \&quot;5a600e11\&quot;,\n    \&quot;5a600e18\&quot;,\n    \&quot;5a600e13\&quot;,\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e12\&quot;,\n    \&quot;5a600e15\&quot;\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d466921d-a078-4832-80b0-56aa7b913532&quot;,&quot;parentUUID&quot;:&quot;5e41aa8b-a2c2-4823-a25f-5a8d686272ab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d466921d-a078-4832-80b0-56aa7b913532&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;025d7119-6baa-4e9d-9dbc-9311b472b2b5&quot;,&quot;title&quot;:&quot;#rangeByScore&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support special ranges&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #rangeByScore should support special ranges&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.rangeByScore(14, null, { \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e14\&quot;,\n        14\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ],\n    [\n        \&quot;5a600e15\&quot;,\n        19\n    ]\n]);\n(0, chai_1.expect)(ss.rangeByScore(null, 10, { \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e16\&quot;,\n        3\n    ],\n    [\n        \&quot;5a600e11\&quot;,\n        6\n    ],\n    [\n        \&quot;5a600e18\&quot;,\n        10\n    ]\n]);\n(0, chai_1.expect)(ss.rangeByScore(-Infinity, Infinity)).to.eql(ss.toArray());\n(0, chai_1.expect)(ss.rangeByScore(null, null)).to.eql(ss.toArray());&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ade65c80-7d5c-4ce6-b54b-89a1f5cb94f5&quot;,&quot;parentUUID&quot;:&quot;025d7119-6baa-4e9d-9dbc-9311b472b2b5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ade65c80-7d5c-4ce6-b54b-89a1f5cb94f5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3f769df0-7a47-454d-b889-61cc55b4804f&quot;,&quot;title&quot;:&quot;#count&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should count elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #count should count elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\n(0, chai_1.expect)(ss.count()).to.equal(0);\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\nss.add(\&quot;5a600e19\&quot;, 14);\nss.add(\&quot;5a600f00\&quot;, 30.0);\nss.add(\&quot;5a600f01\&quot;, 30.5);\nss.add(\&quot;5a600f02\&quot;, 31.0);\nss.add(\&quot;5a600f03\&quot;, 31.5);\nss.add(\&quot;5a600f04\&quot;, 32.0);\nss.add(\&quot;5a600f05\&quot;, 32.0);\nss.add(\&quot;5a600f06\&quot;, 32.0);\n(0, chai_1.expect)(ss.count()).to.eql(ss.rangeByScore().length);\n(0, chai_1.expect)(ss.count(8)).to.eql(ss.rangeByScore(8).length);\n(0, chai_1.expect)(ss.count(3, 7)).to.eql(ss.rangeByScore(3, 7).length);\n(0, chai_1.expect)(ss.count(5, 14)).to.eql(ss.rangeByScore(5, 14).length);\n(0, chai_1.expect)(ss.count(5, 5)).to.eql(ss.rangeByScore(5, 5).length);\n(0, chai_1.expect)(ss.count(5, 0)).to.eql(ss.rangeByScore(5, 0).length);\n(0, chai_1.expect)(ss.count(30, 32)).to.eql(ss.rangeByScore(30, 32).length);\n(0, chai_1.expect)(ss.count(40)).to.eql(ss.rangeByScore(40).length);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;21b8c5c9-b459-4c06-ad40-b2952bf1445f&quot;,&quot;parentUUID&quot;:&quot;3f769df0-7a47-454d-b889-61cc55b4804f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;21b8c5c9-b459-4c06-ad40-b2952bf1445f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5150a4f9-4c27-49aa-bbe4-6b90e79bd15a&quot;,&quot;title&quot;:&quot;#range&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support special ranges&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #range should support special ranges&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;first\&quot;, 1);\nss.add(\&quot;second\&quot;, 2);\nss.add(\&quot;third\&quot;, 3);\nss.add(\&quot;fourth\&quot;, 4);\nconst array = [\n    \&quot;first\&quot;,\n    \&quot;second\&quot;,\n    \&quot;third\&quot;,\n    \&quot;fourth\&quot;\n];\n(0, chai_1.expect)(ss.range()).to.eql(array);\n(0, chai_1.expect)(ss.range(2)).to.eql(array.slice(2));\n(0, chai_1.expect)(ss.range(8)).to.eql(array.slice(8));\n(0, chai_1.expect)(ss.range(0, 2)).to.eql(array.slice(0, 3));\n(0, chai_1.expect)(ss.range(-1)).to.eql([\&quot;fourth\&quot;]);\n(0, chai_1.expect)(ss.range(-4)).to.eql(array);\n(0, chai_1.expect)(ss.range(-4, -2)).to.eql(array.slice(0, 3));\n(0, chai_1.expect)(ss.range(-4, ss.length + 1000)).\n    to.eql(array.slice(-4, ss.length + 1000));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0bc5415e-faf0-4f09-bb33-d4b41b828473&quot;,&quot;parentUUID&quot;:&quot;5150a4f9-4c27-49aa-bbe4-6b90e79bd15a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support withScores&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #range should support withScores&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;first\&quot;, 1);\nss.add(\&quot;second\&quot;, 2);\n(0, chai_1.expect)(ss.range(0, 0, { \&quot;withScores\&quot;: true })).\n    to.eql([\n    [\n        \&quot;first\&quot;,\n        1\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;56a15d03-d937-4af4-a2fb-dd4eaf8ee080&quot;,&quot;parentUUID&quot;:&quot;5150a4f9-4c27-49aa-bbe4-6b90e79bd15a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0bc5415e-faf0-4f09-bb33-d4b41b828473&quot;,&quot;56a15d03-d937-4af4-a2fb-dd4eaf8ee080&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;43467541-ee0a-4091-9223-8c0b9dba938d&quot;,&quot;title&quot;:&quot;#intersect&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should intersect two sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #intersect should intersect two sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const a = new sorted_set_1.SortedSet(), b = new sorted_set_1.SortedSet();\na.add(\&quot;5a600e10\&quot;, 16);\na.add(\&quot;5a600e12\&quot;, 10);\na.add(\&quot;5a600e14\&quot;, 9);\na.add(\&quot;5a600e15\&quot;, 14);\na.add(\&quot;5a600e17\&quot;, 20);\na.add(\&quot;5a600e18\&quot;, 13);\na.add(\&quot;5a600e19\&quot;, 15);\na.add(\&quot;5a600e1a\&quot;, 19);\na.add(\&quot;5a600e1b\&quot;, 7);\na.add(\&quot;5a600e1c\&quot;, 13);\na.add(\&quot;5a600e1e\&quot;, 10);\nb.add(\&quot;5a600e10\&quot;, 0);\nb.add(\&quot;5a600e11\&quot;, 15);\nb.add(\&quot;5a600e13\&quot;, 5);\nb.add(\&quot;5a600e14\&quot;, 3);\nb.add(\&quot;5a600e15\&quot;, 14);\nb.add(\&quot;5a600e17\&quot;, 12);\nb.add(\&quot;5a600e19\&quot;, 12);\nb.add(\&quot;5a600e1b\&quot;, 16);\nb.add(\&quot;5a600e1c\&quot;, 12);\nb.add(\&quot;5a600e1d\&quot;, 17);\nb.add(\&quot;5a600e1f\&quot;, 3);\n(0, chai_1.expect)(sorted_set_1.SortedSet.intersect(a, b)).to.eql([\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e19\&quot;,\n    \&quot;5a600e1c\&quot;,\n    \&quot;5a600e15\&quot;,\n    \&quot;5a600e1b\&quot;\n]);\n(0, chai_1.expect)(sorted_set_1.SortedSet.intersect(b, a)).to.eql([\n    \&quot;5a600e1b\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e1c\&quot;,\n    \&quot;5a600e15\&quot;,\n    \&quot;5a600e19\&quot;,\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e17\&quot;\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d92a168e-d6f6-445f-8fd2-126a4e72141a&quot;,&quot;parentUUID&quot;:&quot;43467541-ee0a-4091-9223-8c0b9dba938d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should intersect three sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #intersect should intersect three sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const a = new sorted_set_1.SortedSet(), b = new sorted_set_1.SortedSet(), c = new sorted_set_1.SortedSet();\na.add(\&quot;5a600e10\&quot;, 16);\na.add(\&quot;5a600e12\&quot;, 10);\na.add(\&quot;5a600e14\&quot;, 9);\na.add(\&quot;5a600e15\&quot;, 14);\na.add(\&quot;5a600e17\&quot;, 20);\na.add(\&quot;5a600e18\&quot;, 13);\na.add(\&quot;5a600e19\&quot;, 15);\na.add(\&quot;5a600e1a\&quot;, 19);\na.add(\&quot;5a600e1b\&quot;, 7);\na.add(\&quot;5a600e1c\&quot;, 13);\na.add(\&quot;5a600e1e\&quot;, 10);\nb.add(\&quot;5a600e10\&quot;, 0);\nb.add(\&quot;5a600e11\&quot;, 15);\nb.add(\&quot;5a600e13\&quot;, 5);\nb.add(\&quot;5a600e14\&quot;, 3);\nb.add(\&quot;5a600e15\&quot;, 14);\nb.add(\&quot;5a600e17\&quot;, 12);\nb.add(\&quot;5a600e19\&quot;, 12);\nb.add(\&quot;5a600e1b\&quot;, 16);\nb.add(\&quot;5a600e1c\&quot;, 12);\nb.add(\&quot;5a600e1d\&quot;, 17);\nb.add(\&quot;5a600e1f\&quot;, 3);\nc.add(\&quot;5a600e10\&quot;, 7);\nc.add(\&quot;5a600e12\&quot;, 20);\nc.add(\&quot;5a600e13\&quot;, 9);\nc.add(\&quot;5a600e14\&quot;, 19);\nc.add(\&quot;5a600e16\&quot;, 19);\nc.add(\&quot;5a600e17\&quot;, 1);\nc.add(\&quot;5a600e18\&quot;, 18);\nc.add(\&quot;5a600e1a\&quot;, 6);\nc.add(\&quot;5a600e1c\&quot;, 15);\nc.add(\&quot;5a600e1f\&quot;, 4);\n(0, chai_1.expect)(sorted_set_1.SortedSet.intersect(c, a, b)).to.eql([\n    \&quot;5a600e10\&quot;,\n    \&quot;5a600e14\&quot;,\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e1c\&quot;\n]);\n// Expect(SortedSet.intersect(c, a, b)).to.eql(c.intersect(a, b));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d0268a79-5251-4231-8cf8-98894029c172&quot;,&quot;parentUUID&quot;:&quot;43467541-ee0a-4091-9223-8c0b9dba938d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should intersect four sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #intersect should intersect four sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const a = new sorted_set_1.SortedSet(), b = new sorted_set_1.SortedSet(), c = new sorted_set_1.SortedSet(), d = new sorted_set_1.SortedSet();\na.add(\&quot;5a600e10\&quot;, 16);\na.add(\&quot;5a600e12\&quot;, 10);\na.add(\&quot;5a600e14\&quot;, 9);\na.add(\&quot;5a600e15\&quot;, 14);\na.add(\&quot;5a600e17\&quot;, 20);\na.add(\&quot;5a600e18\&quot;, 13);\na.add(\&quot;5a600e19\&quot;, 15);\na.add(\&quot;5a600e1a\&quot;, 19);\na.add(\&quot;5a600e1b\&quot;, 7);\na.add(\&quot;5a600e1c\&quot;, 13);\na.add(\&quot;5a600e1e\&quot;, 10);\nb.add(\&quot;5a600e10\&quot;, 0);\nb.add(\&quot;5a600e11\&quot;, 15);\nb.add(\&quot;5a600e13\&quot;, 5);\nb.add(\&quot;5a600e14\&quot;, 3);\nb.add(\&quot;5a600e15\&quot;, 14);\nb.add(\&quot;5a600e17\&quot;, 12);\nb.add(\&quot;5a600e19\&quot;, 12);\nb.add(\&quot;5a600e1b\&quot;, 16);\nb.add(\&quot;5a600e1c\&quot;, 12);\nb.add(\&quot;5a600e1d\&quot;, 17);\nb.add(\&quot;5a600e1f\&quot;, 3);\nc.add(\&quot;5a600e10\&quot;, 7);\nc.add(\&quot;5a600e12\&quot;, 20);\nc.add(\&quot;5a600e13\&quot;, 9);\nc.add(\&quot;5a600e14\&quot;, 19);\nc.add(\&quot;5a600e16\&quot;, 19);\nc.add(\&quot;5a600e17\&quot;, 1);\nc.add(\&quot;5a600e18\&quot;, 18);\nc.add(\&quot;5a600e1a\&quot;, 6);\nc.add(\&quot;5a600e1c\&quot;, 15);\nc.add(\&quot;5a600e1f\&quot;, 4);\nd.add(\&quot;5a600e1c\&quot;, 400);\nd.add(\&quot;5a600e17\&quot;, 500);\nd.add(\&quot;5a600e1f\&quot;, 600);\nd.add(\&quot;5a600e20\&quot;, 700);\n(0, chai_1.expect)(sorted_set_1.SortedSet.intersect(d, c, a, b)).to.eql([\n    \&quot;5a600e17\&quot;,\n    \&quot;5a600e1c\&quot;\n]);\n// Expect(SortedSet.intersect(d, c, a, b)).to.eql(d.intersect(c, a, b));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3fda143e-ffbe-4785-8228-9d2790fea132&quot;,&quot;parentUUID&quot;:&quot;43467541-ee0a-4091-9223-8c0b9dba938d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d92a168e-d6f6-445f-8fd2-126a4e72141a&quot;,&quot;d0268a79-5251-4231-8cf8-98894029c172&quot;,&quot;3fda143e-ffbe-4785-8228-9d2790fea132&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a61baf3d-ebd9-4876-b9a6-26263fe9309b&quot;,&quot;title&quot;:&quot;#rank&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get the correct rank&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #rank should get the correct rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.rank(\&quot;5a600e12\&quot;)).to.equal(7);\n(0, chai_1.expect)(ss.rank(\&quot;5a600e13\&quot;)).to.equal(3);\n(0, chai_1.expect)(ss.rank(\&quot;5a600e16\&quot;)).to.equal(0);\n(0, chai_1.expect)(ss.rank(\&quot;5a600e15\&quot;)).to.equal(8);\n(0, chai_1.expect)(ss.rank(\&quot;not in set\&quot;)).to.equal(null);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4504188-8faa-4934-9882-0aaf12b3ea0b&quot;,&quot;parentUUID&quot;:&quot;a61baf3d-ebd9-4876-b9a6-26263fe9309b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c4504188-8faa-4934-9882-0aaf12b3ea0b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;4a1d407b-20e2-455d-82df-fb5e3a5f6ad9&quot;,&quot;title&quot;:&quot;#rem&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete special elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #rem should delete special elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e15\&quot;)).to.equal(19);\n(0, chai_1.expect)(ss).to.have.length(8);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e16\&quot;)).to.equal(3);\n(0, chai_1.expect)(ss).to.have.length(7);\n(0, chai_1.expect)(ss.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e11\&quot;,\n        6\n    ],\n    [\n        \&quot;5a600e18\&quot;,\n        10\n    ],\n    [\n        \&quot;5a600e13\&quot;,\n        11\n    ],\n    [\n        \&quot;5a600e17\&quot;,\n        12\n    ],\n    [\n        \&quot;5a600e14\&quot;,\n        14\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d9da06a5-d230-4763-a439-452f7baa9869&quot;,&quot;parentUUID&quot;:&quot;4a1d407b-20e2-455d-82df-fb5e3a5f6ad9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should delete many elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #rem should delete many elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e11\&quot;)).to.equal(6);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e13\&quot;)).to.equal(11);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e14\&quot;)).to.equal(14);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e15\&quot;)).to.equal(19);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e16\&quot;)).to.equal(3);\n(0, chai_1.expect)(ss.rem(\&quot;5a600e17\&quot;)).to.equal(12);\n(0, chai_1.expect)(ss.length).to.equal(3);\n(0, chai_1.expect)(ss.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e18\&quot;,\n        10\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e55c2573-6ce0-4685-8f67-4177d71f34f8&quot;,&quot;parentUUID&quot;:&quot;4a1d407b-20e2-455d-82df-fb5e3a5f6ad9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d9da06a5-d230-4763-a439-452f7baa9869&quot;,&quot;e55c2573-6ce0-4685-8f67-4177d71f34f8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6506779e-ed99-4edc-80b7-e2113da72fa4&quot;,&quot;title&quot;:&quot;#remRangeByScore&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should strip out a range of elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #remRangeByScore should strip out a range of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.remRangeByScore(4, 14)).to.equal(5);\n(0, chai_1.expect)(ss).to.have.length(4);\n(0, chai_1.expect)(ss.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e16\&quot;,\n        3\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ],\n    [\n        \&quot;5a600e15\&quot;,\n        19\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f92cc83f-6786-4eec-b0ee-67da93f7d58f&quot;,&quot;parentUUID&quot;:&quot;6506779e-ed99-4edc-80b7-e2113da72fa4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should strip out all the elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #remRangeByScore should strip out all the elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.remRangeByScore(3, 19)).to.equal(9);\n(0, chai_1.expect)(ss).to.have.length(0);\n(0, chai_1.expect)(ss.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;13bf3abf-5468-4124-865b-2a1c410f7db3&quot;,&quot;parentUUID&quot;:&quot;6506779e-ed99-4edc-80b7-e2113da72fa4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f92cc83f-6786-4eec-b0ee-67da93f7d58f&quot;,&quot;13bf3abf-5468-4124-865b-2a1c410f7db3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6b2b0869-9679-4cfa-aa40-a2bc0bb43432&quot;,&quot;title&quot;:&quot;#remRangeByRank&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should strip out a slice of elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #remRangeByRank should strip out a slice of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.remRangeByRank(1, 6)).to.equal(5);\n(0, chai_1.expect)(ss).to.have.length(4);\n(0, chai_1.expect)(ss.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e16\&quot;,\n        3\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ],\n    [\n        \&quot;5a600e15\&quot;,\n        19\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3a4a0b2e-2223-4a33-8976-8c6573dd15e5&quot;,&quot;parentUUID&quot;:&quot;6b2b0869-9679-4cfa-aa40-a2bc0bb43432&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should strip out all elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #remRangeByRank should strip out all elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(ss.remRangeByRank(0, 9)).to.equal(9);\n(0, chai_1.expect)(ss).to.have.length(0);\n(0, chai_1.expect)(ss.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4fd1ff16-7f7f-486c-af77-766d6ebc8f67&quot;,&quot;parentUUID&quot;:&quot;6b2b0869-9679-4cfa-aa40-a2bc0bb43432&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3a4a0b2e-2223-4a33-8976-8c6573dd15e5&quot;,&quot;4fd1ff16-7f7f-486c-af77-766d6ebc8f67&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;41eca259-5df7-4e33-a150-c42802e0aaf8&quot;,&quot;title&quot;:&quot;#values&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the values&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #values should return the values&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet();\nss.add(\&quot;first\&quot;, -1);\nss.add(\&quot;third\&quot;, 5);\nss.add(\&quot;second\&quot;, 3);\n(0, chai_1.expect)(ss.values()).to.eql([\n    -1,\n    3,\n    5\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a40aae03-0837-4cda-bbac-199f7d9c2c1b&quot;,&quot;parentUUID&quot;:&quot;41eca259-5df7-4e33-a150-c42802e0aaf8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a40aae03-0837-4cda-bbac-199f7d9c2c1b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8cb90dff-315c-48de-93dd-440affbb1bb7&quot;,&quot;title&quot;:&quot;unique rewrite&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should ensure values are unique&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite unique rewrite should ensure values are unique&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const options = { \&quot;unique\&quot;: true }, ss = new sorted_set_1.SortedSet(options);\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(() =&gt; {\n    ss.add(\&quot;5a600e19\&quot;, 11);\n}).to.throw(/unique/);\n// Quick exit test\n(0, chai_1.expect)(() =&gt; {\n    ss.add(\&quot;5a600dff\&quot;, ss._head.next[ss._level - 1].next.value);\n}).to.throw(/unique/);\n// This test ensures the key &lt; key check doesn&#x27;t come into play\n(0, chai_1.expect)(() =&gt; {\n    ss.add(\&quot;5a600dff\&quot;, 11);\n}).to.throw(/unique/);\n(0, chai_1.expect)(() =&gt; {\n    ss.add(\&quot;5a600e18\&quot;, 10);\n}).to.not.throw();\n(0, chai_1.expect)(ss).to.have.length(9);\n(0, chai_1.expect)(ss.toArray({ \&quot;withScores\&quot;: true })).to.eql([\n    [\n        \&quot;5a600e16\&quot;,\n        3\n    ],\n    [\n        \&quot;5a600e11\&quot;,\n        6\n    ],\n    [\n        \&quot;5a600e18\&quot;,\n        10\n    ],\n    [\n        \&quot;5a600e13\&quot;,\n        11\n    ],\n    [\n        \&quot;5a600e17\&quot;,\n        12\n    ],\n    [\n        \&quot;5a600e14\&quot;,\n        14\n    ],\n    [\n        \&quot;5a600e10\&quot;,\n        16\n    ],\n    [\n        \&quot;5a600e12\&quot;,\n        17\n    ],\n    [\n        \&quot;5a600e15\&quot;,\n        19\n    ]\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;99501e4f-67e1-4f65-ba16-9a2417cf5085&quot;,&quot;parentUUID&quot;:&quot;8cb90dff-315c-48de-93dd-440affbb1bb7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert keys if constraint broken during update&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite unique rewrite should revert keys if constraint broken during update&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const ss = new sorted_set_1.SortedSet({ \&quot;unique\&quot;: true });\nss.add(\&quot;5a600e10\&quot;, 16);\nss.add(\&quot;5a600e11\&quot;, 6);\nss.add(\&quot;5a600e12\&quot;, 17);\nss.add(\&quot;5a600e13\&quot;, 11);\nss.add(\&quot;5a600e14\&quot;, 14);\nss.add(\&quot;5a600e15\&quot;, 19);\nss.add(\&quot;5a600e16\&quot;, 3);\nss.add(\&quot;5a600e17\&quot;, 12);\nss.add(\&quot;5a600e18\&quot;, 10);\n(0, chai_1.expect)(() =&gt; {\n    ss.add(\&quot;5a600e13\&quot;, 14);\n}).to.throw(/unique/);\n(0, chai_1.expect)(ss).to.have.length(9);\n(0, chai_1.expect)(ss.score(\&quot;5a600e13\&quot;)).to.equal(11);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f91d6d86-cff9-4629-ae0d-55602c44c0d9&quot;,&quot;parentUUID&quot;:&quot;8cb90dff-315c-48de-93dd-440affbb1bb7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;99501e4f-67e1-4f65-ba16-9a2417cf5085&quot;,&quot;f91d6d86-cff9-4629-ae0d-55602c44c0d9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;339f14bd-0fee-4aa7-be15-9a5511d0baa7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;9d8bfd36-2617-4d69-a51e-05377d3427ff&quot;,&quot;b3f10d64-ee0d-434a-8ae9-79c3a8532aa2&quot;,&quot;64b18d20-2b18-49c6-ac68-0a01a7d5919e&quot;,&quot;d439ae06-91f0-48e6-8529-bf86c383107f&quot;,&quot;c472604c-a0d3-405b-83ce-b136a805eef0&quot;,&quot;1a811aab-c838-42b9-8821-d59a3211cf37&quot;,&quot;73c2c258-2ee1-4156-84a1-d6b62ec04cad&quot;,&quot;a681174d-8eb2-491a-a376-4ea53472a203&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;82d4a3b5-ba1d-4357-88b2-918eb9b0f879&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:10,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5e5e6c45-f0b3-4be8-a566-290644cf3377&quot;,&quot;title&quot;:&quot;lua-bit test&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/lua/lua-bit.test.ts&quot;,&quot;file&quot;:&quot;/test/lua/lua-bit.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;lua-bit test\&quot;&quot;,&quot;fullTitle&quot;:&quot;lua-bit test \&quot;before all\&quot; hook in \&quot;lua-bit test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(\&quot;ready\&quot;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield (0, common_test_1.sendCommand)(client, [\&quot;flushall\&quot;]);\n    yield (0, common_test_1.sendCommand)(client, [\n        \&quot;select\&quot;,\n        \&quot;0\&quot;\n    ]);\n    yield (0, common_test_1.sendCommand)(client, [\n        \&quot;script\&quot;,\n        \&quot;flush\&quot;\n    ]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ac4c891c-3a8e-44bb-afd3-5e46003e2a9b&quot;,&quot;parentUUID&quot;:&quot;5e5e6c45-f0b3-4be8-a566-290644cf3377&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;lua-bit test\&quot;&quot;,&quot;fullTitle&quot;:&quot;lua-bit test \&quot;before each\&quot; hook in \&quot;lua-bit test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;19e644b0-f934-47ee-9c91-5306f57f06eb&quot;,&quot;parentUUID&quot;:&quot;5e5e6c45-f0b3-4be8-a566-290644cf3377&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;lua-bit test\&quot;&quot;,&quot;fullTitle&quot;:&quot;lua-bit test \&quot;after all\&quot; hook in \&quot;lua-bit test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;61b8658c-618d-47f0-a34c-fc4e0281f00e&quot;,&quot;parentUUID&quot;:&quot;5e5e6c45-f0b3-4be8-a566-290644cf3377&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;lua-bit test\&quot;&quot;,&quot;fullTitle&quot;:&quot;lua-bit test \&quot;after each\&quot; hook in \&quot;lua-bit test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a940cc7e-81ae-467c-9cb2-79d4ddcdea73&quot;,&quot;parentUUID&quot;:&quot;5e5e6c45-f0b3-4be8-a566-290644cf3377&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should leverage the LUA bit library for bit AND op&quot;,&quot;fullTitle&quot;:&quot;lua-bit test should leverage the LUA bit library for bit AND op&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;local val = bit.band(5, 1) return val \&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a903b785-56e2-4e80-86f6-6843d73e56b2&quot;,&quot;parentUUID&quot;:&quot;5e5e6c45-f0b3-4be8-a566-290644cf3377&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should leverage the LUA bit library for bit OR op&quot;,&quot;fullTitle&quot;:&quot;lua-bit test should leverage the LUA bit library for bit OR op&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;local val = bit.bor(5, 1) return val \&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(5);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b9273f8c-21dc-4b92-9ebf-969ee0af8a07&quot;,&quot;parentUUID&quot;:&quot;5e5e6c45-f0b3-4be8-a566-290644cf3377&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should leverage the LUA bit library for bit XOR op&quot;,&quot;fullTitle&quot;:&quot;lua-bit test should leverage the LUA bit library for bit XOR op&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;local val = bit.bxor(5, 1) return val \&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(4);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee58b01c-f8ce-4ced-bdf8-1e1850ecd439&quot;,&quot;parentUUID&quot;:&quot;5e5e6c45-f0b3-4be8-a566-290644cf3377&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should leverage the LUA bit library for bit NOT op&quot;,&quot;fullTitle&quot;:&quot;lua-bit test should leverage the LUA bit library for bit NOT op&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;local val = bit.bnot(5) return val \&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(-6);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;696e64ad-51d7-4319-8100-4b78b84ec036&quot;,&quot;parentUUID&quot;:&quot;5e5e6c45-f0b3-4be8-a566-290644cf3377&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should leverage the LUA bit library for bit LSHIFT op&quot;,&quot;fullTitle&quot;:&quot;lua-bit test should leverage the LUA bit library for bit LSHIFT op&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;local val = bit.lshift(5, 1) return val \&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(10);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dc5d253a-38ab-40e5-b602-78d0475988c1&quot;,&quot;parentUUID&quot;:&quot;5e5e6c45-f0b3-4be8-a566-290644cf3377&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should leverage the LUA bit library for bit RSHIFT op&quot;,&quot;fullTitle&quot;:&quot;lua-bit test should leverage the LUA bit library for bit RSHIFT op&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield (0, common_test_1.sendCommand)(new net.Socket(), [\n            \&quot;info\&quot;,\n            \&quot;server\&quot;\n        ]);\n        // Only run this test if this is unit-redis-ness\n        if (!(/redis_version:5/gim).test(response)) {\n            response = yield (0, common_test_1.sendCommand)(client, [\n                \&quot;eval\&quot;,\n                \&quot;local val = bit.rshift(-5, 1) return val \&quot;,\n                \&quot;0\&quot;\n            ]);\n            (0, chai_1.expect)(response).to.equal(-3);\n        }\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f64a61f8-9b6b-4b24-9d78-6b4c43522b0b&quot;,&quot;parentUUID&quot;:&quot;5e5e6c45-f0b3-4be8-a566-290644cf3377&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should leverage the LUA bit library for bit ARSHIFT op&quot;,&quot;fullTitle&quot;:&quot;lua-bit test should leverage the LUA bit library for bit ARSHIFT op&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield (0, common_test_1.sendCommand)(client, [\n            \&quot;eval\&quot;,\n            \&quot;local val = bit.arshift(5, 1) return val \&quot;,\n            \&quot;0\&quot;\n        ]);\n        (0, chai_1.expect)(response).to.equal(2);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6740893c-be93-4684-8dff-683a7046e136&quot;,&quot;parentUUID&quot;:&quot;5e5e6c45-f0b3-4be8-a566-290644cf3377&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a903b785-56e2-4e80-86f6-6843d73e56b2&quot;,&quot;b9273f8c-21dc-4b92-9ebf-969ee0af8a07&quot;,&quot;ee58b01c-f8ce-4ced-bdf8-1e1850ecd439&quot;,&quot;696e64ad-51d7-4319-8100-4b78b84ec036&quot;,&quot;dc5d253a-38ab-40e5-b602-78d0475988c1&quot;,&quot;f64a61f8-9b6b-4b24-9d78-6b4c43522b0b&quot;,&quot;6740893c-be93-4684-8dff-683a7046e136&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:37,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e66a3892-ce2f-4387-9061-fec480c9925c&quot;,&quot;title&quot;:&quot;dictionary test&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/dictionary.test.ts&quot;,&quot;file&quot;:&quot;/test/dictionary.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;dictionary test\&quot;&quot;,&quot;fullTitle&quot;:&quot;dictionary test \&quot;before each\&quot; hook in \&quot;dictionary test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;dictionary = new dictionary_1.Dictionary();\nsinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;926b29a1-373f-4be2-8653-adeb8f5ec422&quot;,&quot;parentUUID&quot;:&quot;e66a3892-ce2f-4387-9061-fec480c9925c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;dictionary test\&quot;&quot;,&quot;fullTitle&quot;:&quot;dictionary test \&quot;after all\&quot; hook in \&quot;dictionary test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;243249fd-b063-4e3a-9b40-b6b741d1176b&quot;,&quot;parentUUID&quot;:&quot;e66a3892-ce2f-4387-9061-fec480c9925c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;dictionary test\&quot;&quot;,&quot;fullTitle&quot;:&quot;dictionary test \&quot;after each\&quot; hook in \&quot;dictionary test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2e3b5ef1-260e-475f-8bcb-6b1a12d486ce&quot;,&quot;parentUUID&quot;:&quot;e66a3892-ce2f-4387-9061-fec480c9925c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should construct&quot;,&quot;fullTitle&quot;:&quot;dictionary test should construct&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        (0, chai_1.expect)(dictionary.constructor.name).to.equal(\&quot;Dictionary\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53aef074-2352-4fa9-bb82-79ed5c176f2b&quot;,&quot;parentUUID&quot;:&quot;e66a3892-ce2f-4387-9061-fec480c9925c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should implement basic put/get/remove/size/clear/contains/exists/keys/values functionality&quot;,&quot;fullTitle&quot;:&quot;dictionary test should implement basic put/get/remove/size/clear/contains/exists/keys/values functionality&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;dictionary.put(\&quot;item\&quot;, \&quot;one\&quot;);\n(0, chai_1.expect)(dictionary.exists(\&quot;item\&quot;)).to.equal(true);\n(0, chai_1.expect)(dictionary.exists(\&quot;one\&quot;)).to.equal(false);\n(0, chai_1.expect)(dictionary.get(\&quot;item\&quot;)).to.equal(\&quot;one\&quot;);\n(0, chai_1.expect)(dictionary.size()).to.equal(1);\n(0, chai_1.expect)(dictionary.contains(\&quot;one\&quot;)).to.equal(true);\n(0, chai_1.expect)(dictionary.keys().length).to.equal(1);\n(0, chai_1.expect)(dictionary.values().length).to.equal(1);\ndictionary.put(\&quot;item\&quot;, \&quot;two\&quot;);\n(0, chai_1.expect)(dictionary.get(\&quot;item\&quot;)).to.equal(\&quot;two\&quot;);\ndictionary.put(\&quot;one\&quot;, { \&quot;embedded\&quot;: true });\ndictionary.remove(\&quot;three\&quot;);\n(0, chai_1.expect)(dictionary.size()).to.equal(2);\nlet foundTwo = false;\nfor (const each of dictionary) {\n    if (!foundTwo) {\n        (0, chai_1.expect)(each).to.equal(\&quot;two\&quot;);\n        foundTwo = true;\n    }\n    else {\n        (0, chai_1.expect)(each).to.eql({ \&quot;embedded\&quot;: true });\n    }\n}\ndictionary.remove(\&quot;item\&quot;);\n(0, chai_1.expect)(dictionary.size()).to.equal(1);\ndictionary.clear();\n(0, chai_1.expect)(dictionary.size()).to.equal(0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4a675359-7a87-40ef-a1fe-2975cb8d48e9&quot;,&quot;parentUUID&quot;:&quot;e66a3892-ce2f-4387-9061-fec480c9925c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;53aef074-2352-4fa9-bb82-79ed5c176f2b&quot;,&quot;4a675359-7a87-40ef-a1fe-2975cb8d48e9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3c8bbab9-6a66-4377-a534-c8fe6a5ec293&quot;,&quot;title&quot;:&quot;logger test&quot;,&quot;fullFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/test/logger.test.ts&quot;,&quot;file&quot;:&quot;/test/logger.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;logger test\&quot;&quot;,&quot;fullTitle&quot;:&quot;logger test \&quot;before each\&quot; hook in \&quot;logger test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4912c5a8-7cee-4c36-9e0c-716c3d56d0bb&quot;,&quot;parentUUID&quot;:&quot;3c8bbab9-6a66-4377-a534-c8fe6a5ec293&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;logger test\&quot;&quot;,&quot;fullTitle&quot;:&quot;logger test \&quot;after all\&quot; hook in \&quot;logger test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a7f564b7-3113-43a1-965b-f3da3baf8e50&quot;,&quot;parentUUID&quot;:&quot;3c8bbab9-6a66-4377-a534-c8fe6a5ec293&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;logger test\&quot;&quot;,&quot;fullTitle&quot;:&quot;logger test \&quot;after each\&quot; hook in \&quot;logger test\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f7ab3013-6ad0-4bcb-82c7-96f2bd57cda8&quot;,&quot;parentUUID&quot;:&quot;3c8bbab9-6a66-4377-a534-c8fe6a5ec293&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should construct&quot;,&quot;fullTitle&quot;:&quot;logger test should construct&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        logger = new logger_1.Logger(module.id);\n        (0, chai_1.expect)(logger.constructor.name).to.equal(\&quot;Logger\&quot;);\n        logger.info(\&quot;This is an info message\&quot;);\n        logger.warn(\&quot;This is a warning message\&quot;);\n        logger.debug(\&quot;This is an invisible debug message\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;81f2637b-c527-4449-aa0f-de935ca380bd&quot;,&quot;parentUUID&quot;:&quot;3c8bbab9-6a66-4377-a534-c8fe6a5ec293&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not construct when initialized with an empty string&quot;,&quot;fullTitle&quot;:&quot;logger test should not construct when initialized with an empty string&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;(0, chai_1.expect)(() =&gt; {\n    logger = new logger_1.Logger(\&quot;\&quot;);\n}).to.throw();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;da1c0f41-3840-489b-b043-b138f4770160&quot;,&quot;parentUUID&quot;:&quot;3c8bbab9-6a66-4377-a534-c8fe6a5ec293&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;81f2637b-c527-4449-aa0f-de935ca380bd&quot;,&quot;da1c0f41-3840-489b-b043-b138f4770160&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.2.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;docs/mochawesome&quot;},&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;docs/mochawesome&quot;,&quot;reportTitle&quot;:&quot;unit-redis-ness&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;docs/mochawesome/assets&quot;,&quot;jsonFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/docs/mochawesome/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/mnt/tuscawilla/git/unit-redis-ness/docs/mochawesome/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>