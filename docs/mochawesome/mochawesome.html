<!doctype html>
<<<<<<< HEAD
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:88,&quot;tests&quot;:281,&quot;passes&quot;:280,&quot;pending&quot;:1,&quot;failures&quot;:0,&quot;start&quot;:&quot;2020-01-14T23:22:44.310Z&quot;,&quot;end&quot;:&quot;2020-01-14T23:22:55.197Z&quot;,&quot;duration&quot;:10887,&quot;testsRegistered&quot;:281,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0.3558718861209964,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;446f7183-3598-4288-8835-764cd738567b&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8421050e-32aa-4d30-859a-94ff9d0ec263&quot;,&quot;parentUUID&quot;:&quot;446f7183-3598-4288-8835-764cd738567b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n})&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bfc99336-8c91-4c59-aeda-ee84bab2ba27&quot;,&quot;parentUUID&quot;:&quot;446f7183-3598-4288-8835-764cd738567b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;694b2c5f-089f-40c5-aaea-1384be387a45&quot;,&quot;title&quot;:&quot;dictionary test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/dictionary.test.ts&quot;,&quot;file&quot;:&quot;/test/dictionary.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;dictionary test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;dictionary = new dictionary_1.Dictionary();\nsinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b1c4c61-16cd-41bf-9537-7af2efc56faf&quot;,&quot;parentUUID&quot;:&quot;694b2c5f-089f-40c5-aaea-1384be387a45&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;dictionary test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;612ec8e5-4909-4d4c-8cf9-bd5427d34cd6&quot;,&quot;parentUUID&quot;:&quot;694b2c5f-089f-40c5-aaea-1384be387a45&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;dictionary test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;160d5720-6fe0-444d-957e-89d9cc567347&quot;,&quot;parentUUID&quot;:&quot;694b2c5f-089f-40c5-aaea-1384be387a45&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should construct&quot;,&quot;fullTitle&quot;:&quot;dictionary test should construct&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        chai_1.expect(dictionary.constructor.name).to.equal(&#x27;Dictionary&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;675104a7-5522-4e55-9730-d66fef179b4e&quot;,&quot;parentUUID&quot;:&quot;694b2c5f-089f-40c5-aaea-1384be387a45&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should implement basic put/get/remove/size/clear/contains/exists/keys/values functionality&quot;,&quot;fullTitle&quot;:&quot;dictionary test should implement basic put/get/remove/size/clear/contains/exists/keys/values functionality&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;dictionary.put(&#x27;item&#x27;, &#x27;one&#x27;);\nchai_1.expect(dictionary.exists(&#x27;item&#x27;)).to.equal(true);\nchai_1.expect(dictionary.exists(&#x27;one&#x27;)).to.equal(false);\nchai_1.expect(dictionary.get(&#x27;item&#x27;)).to.equal(&#x27;one&#x27;);\nchai_1.expect(dictionary.size()).to.equal(1);\nchai_1.expect(dictionary.contains(&#x27;one&#x27;)).to.equal(true);\nchai_1.expect(dictionary.keys().length).to.equal(1);\nchai_1.expect(dictionary.values().length).to.equal(1);\ndictionary.put(&#x27;item&#x27;, &#x27;two&#x27;);\nchai_1.expect(dictionary.get(&#x27;item&#x27;)).to.equal(&#x27;two&#x27;);\ndictionary.put(&#x27;one&#x27;, { embedded: true });\ndictionary.remove(&#x27;three&#x27;);\nchai_1.expect(dictionary.size()).to.equal(2);\nlet foundTwo = false;\nfor (const each of dictionary) {\n    if (!foundTwo) {\n        chai_1.expect(each).to.equal(&#x27;two&#x27;);\n        foundTwo = true;\n    }\n    else {\n        chai_1.expect(each).to.eql({ embedded: true });\n    }\n}\ndictionary.remove(&#x27;item&#x27;);\nchai_1.expect(dictionary.size()).to.equal(1);\ndictionary.clear();\nchai_1.expect(dictionary.size()).to.equal(0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f8064af7-2d7c-4d8a-8b3d-e1849a082434&quot;,&quot;parentUUID&quot;:&quot;694b2c5f-089f-40c5-aaea-1384be387a45&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;675104a7-5522-4e55-9730-d66fef179b4e&quot;,&quot;f8064af7-2d7c-4d8a-8b3d-e1849a082434&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;51695780-d9f8-4c0d-b736-7be44467b0dd&quot;,&quot;title&quot;:&quot;logger test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/logger.test.ts&quot;,&quot;file&quot;:&quot;/test/logger.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;logger test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;62aa5167-3d39-4b20-9dcf-947d20140190&quot;,&quot;parentUUID&quot;:&quot;51695780-d9f8-4c0d-b736-7be44467b0dd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;logger test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;780e4ec7-c78e-464b-b60d-b15f4fc15552&quot;,&quot;parentUUID&quot;:&quot;51695780-d9f8-4c0d-b736-7be44467b0dd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;logger test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;030143b6-aa20-4924-9535-f3a28c7a6db5&quot;,&quot;parentUUID&quot;:&quot;51695780-d9f8-4c0d-b736-7be44467b0dd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should construct&quot;,&quot;fullTitle&quot;:&quot;logger test should construct&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        logger = new logger_1.Logger(module.id);\n        chai_1.expect(logger.constructor.name).to.equal(&#x27;Logger&#x27;);\n        logger.info(`This is an info message`);\n        logger.warn(&#x27;This is a warning message&#x27;);\n        logger.debug(`This is an invisible debug message`);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;39a58bea-ed3a-4b1e-8aff-90168053b606&quot;,&quot;parentUUID&quot;:&quot;51695780-d9f8-4c0d-b736-7be44467b0dd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not construct when initialized with an empty string&quot;,&quot;fullTitle&quot;:&quot;logger test should not construct when initialized with an empty string&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(() =&gt; {\n    logger = new logger_1.Logger(&#x27;&#x27;);\n}).to.throw();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4cc9a3c9-5697-40ea-b00e-9eb13ddf577a&quot;,&quot;parentUUID&quot;:&quot;51695780-d9f8-4c0d-b736-7be44467b0dd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;39a58bea-ed3a-4b1e-8aff-90168053b606&quot;,&quot;4cc9a3c9-5697-40ea-b00e-9eb13ddf577a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;3515a7a0-4314-4dc4-84cd-66a08cee3d4b&quot;,&quot;title&quot;:&quot;client command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/client-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/client-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;client command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:27,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;842f9ec8-82fc-49e0-a32a-0ddbd38b5273&quot;,&quot;parentUUID&quot;:&quot;3515a7a0-4314-4dc4-84cd-66a08cee3d4b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;client command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a7ef9b05-4664-48e9-b19f-bc02dc6a15e9&quot;,&quot;parentUUID&quot;:&quot;3515a7a0-4314-4dc4-84cd-66a08cee3d4b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;client command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;744d1442-75b5-4dc6-9531-7a9a04eb313a&quot;,&quot;parentUUID&quot;:&quot;3515a7a0-4314-4dc4-84cd-66a08cee3d4b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;client command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a1f2672f-5a74-4e0f-b180-fa2835126aa2&quot;,&quot;parentUUID&quot;:&quot;3515a7a0-4314-4dc4-84cd-66a08cee3d4b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not allow more than 3 parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should not allow more than 3 parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:27,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;, &#x27;four&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR Unknown subcommand or wrong number of arguments for \\&#x27;one\\&#x27;. Try CLIENT HELP&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;94285f68-9a69-4770-a0b5-0b68bbb5542d&quot;,&quot;parentUUID&quot;:&quot;3515a7a0-4314-4dc4-84cd-66a08cee3d4b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail predictably when an unknown subcommand is passed&quot;,&quot;fullTitle&quot;:&quot;client command test should fail predictably when an unknown subcommand is passed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;whatever&#x27;]);\n        chai_1.expect(response).to.equal(util.format(DEFAULT_ERROR, &#x27;whatever&#x27;));\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;267498e9-c9e7-47bd-9102-2760d6eaf4b4&quot;,&quot;parentUUID&quot;:&quot;3515a7a0-4314-4dc4-84cd-66a08cee3d4b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a NIL name when called with \&quot;GETNAME\&quot; subcommand&quot;,&quot;fullTitle&quot;:&quot;client command test should return a NIL name when called with \&quot;GETNAME\&quot; subcommand&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;getname&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;93bd8be8-a31e-435e-9450-cada66cc6f82&quot;,&quot;parentUUID&quot;:&quot;3515a7a0-4314-4dc4-84cd-66a08cee3d4b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail predictably when \&quot;GETNAME\&quot; is called with too many parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should fail predictably when \&quot;GETNAME\&quot; is called with too many parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;getname&#x27;, &#x27;extra&#x27;]);\n        chai_1.expect(response).to.equal(util.format(DEFAULT_ERROR, &#x27;getname&#x27;));\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7e91de28-4fc2-4f23-8a8a-fb06353d54c8&quot;,&quot;parentUUID&quot;:&quot;3515a7a0-4314-4dc4-84cd-66a08cee3d4b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with \&quot;OK\&quot; when \&quot;setname\&quot; is called with a valid name&quot;,&quot;fullTitle&quot;:&quot;client command test should respond with \&quot;OK\&quot; when \&quot;setname\&quot; is called with a valid name&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;setname&#x27;, &#x27;whatever&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;getname&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;whatever&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e6c82e99-19cd-44af-9217-8973665d9d43&quot;,&quot;parentUUID&quot;:&quot;3515a7a0-4314-4dc4-84cd-66a08cee3d4b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should persist the value for \&quot;setname\&quot; across tests&quot;,&quot;fullTitle&quot;:&quot;client command test should persist the value for \&quot;setname\&quot; across tests&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;getname&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;whatever&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;16e13fe2-4239-4682-8b8a-fb1e0c9fa5c4&quot;,&quot;parentUUID&quot;:&quot;3515a7a0-4314-4dc4-84cd-66a08cee3d4b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with a predictable message when \&quot;setname\&quot; called with too many parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should respond with a predictable message when \&quot;setname\&quot; called with too many parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;setname&#x27;, &#x27;test&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(util.format(DEFAULT_ERROR, &#x27;setname&#x27;));\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2dce8b95-7a55-46ff-b733-f3b986c32870&quot;,&quot;parentUUID&quot;:&quot;3515a7a0-4314-4dc4-84cd-66a08cee3d4b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not allow whitespace in \&quot;setname\&quot; subcommand&quot;,&quot;fullTitle&quot;:&quot;client command test should not allow whitespace in \&quot;setname\&quot; subcommand&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;setname&#x27;, &#x27;te\\nst&#x27;]);\n        chai_1.expect(response).to.equal(`ReplyError: ERR Client names cannot contain spaces, newlines or special characters.`);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5ad9a6ab-b65e-4413-95dd-52aac4797258&quot;,&quot;parentUUID&quot;:&quot;3515a7a0-4314-4dc4-84cd-66a08cee3d4b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the server-assigned client id&quot;,&quot;fullTitle&quot;:&quot;client command test should return the server-assigned client id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;id&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n        chai_1.expect(String(response).length).to.be.greaterThan(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a7b349f3-4518-4bd1-ac4b-9e79e9b7344f&quot;,&quot;parentUUID&quot;:&quot;3515a7a0-4314-4dc4-84cd-66a08cee3d4b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with a predictable message when \&quot;id\&quot; called with too many parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should respond with a predictable message when \&quot;id\&quot; called with too many parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;id&#x27;, &#x27;test&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(util.format(DEFAULT_ERROR, &#x27;id&#x27;));\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a8ab4a90-e714-4dc5-b263-3a79714ac78a&quot;,&quot;parentUUID&quot;:&quot;3515a7a0-4314-4dc4-84cd-66a08cee3d4b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a bunch of information when client \&quot;list\&quot; subcommand is invoked&quot;,&quot;fullTitle&quot;:&quot;client command test should return a bunch of information when client \&quot;list\&quot; subcommand is invoked&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;list&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;string&#x27;);\n        chai_1.expect(response.length).to.be.greaterThan(0);\n        chai_1.expect(response).to.match(/ name=whatever /);\n        chai_1.expect(response).to.match(/\\bdb=0\\b/);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c8dc2d29-71e8-4e1b-9136-17b35d2ecfb6&quot;,&quot;parentUUID&quot;:&quot;3515a7a0-4314-4dc4-84cd-66a08cee3d4b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with a predictable message when \&quot;list\&quot; called with too many parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should respond with a predictable message when \&quot;list\&quot; called with too many parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;list&#x27;, &#x27;test&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR syntax error&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;132c8cdf-6138-4843-81a0-eb880f5259ab&quot;,&quot;parentUUID&quot;:&quot;3515a7a0-4314-4dc4-84cd-66a08cee3d4b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;94285f68-9a69-4770-a0b5-0b68bbb5542d&quot;,&quot;267498e9-c9e7-47bd-9102-2760d6eaf4b4&quot;,&quot;93bd8be8-a31e-435e-9450-cada66cc6f82&quot;,&quot;7e91de28-4fc2-4f23-8a8a-fb06353d54c8&quot;,&quot;e6c82e99-19cd-44af-9217-8973665d9d43&quot;,&quot;16e13fe2-4239-4682-8b8a-fb1e0c9fa5c4&quot;,&quot;2dce8b95-7a55-46ff-b733-f3b986c32870&quot;,&quot;5ad9a6ab-b65e-4413-95dd-52aac4797258&quot;,&quot;a7b349f3-4518-4bd1-ac4b-9e79e9b7344f&quot;,&quot;a8ab4a90-e714-4dc5-b263-3a79714ac78a&quot;,&quot;c8dc2d29-71e8-4e1b-9136-17b35d2ecfb6&quot;,&quot;132c8cdf-6138-4843-81a0-eb880f5259ab&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:55,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;2b4ed793-30c8-485d-a703-3802b6a73f17&quot;,&quot;title&quot;:&quot;flushall-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/db/flushall-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/db/flushall-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushall-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4b5654c-3197-4889-a5bc-065fdbdbfc7b&quot;,&quot;parentUUID&quot;:&quot;2b4ed793-30c8-485d-a703-3802b6a73f17&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushall-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6da7373d-5dab-4e95-b0dc-fe2353d09d13&quot;,&quot;parentUUID&quot;:&quot;2b4ed793-30c8-485d-a703-3802b6a73f17&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushall-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6fe63999-f5a1-4194-bb17-6ab359a0d354&quot;,&quot;parentUUID&quot;:&quot;2b4ed793-30c8-485d-a703-3802b6a73f17&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushall-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3779a323-b00c-4641-b9c2-5eb24fbf3cd3&quot;,&quot;parentUUID&quot;:&quot;2b4ed793-30c8-485d-a703-3802b6a73f17&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove all keys from all databases&quot;,&quot;fullTitle&quot;:&quot;flushall-command test should remove all keys from all databases&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:174,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        for (let db = 0; db &lt; 16; db++) {\n            response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, `${db}`]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;dbid&#x27;, `${db}`]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n            console.log(`DB: ${db}: dbsize: ${response}`);\n            chai_1.expect(response).to.equal(1);\n        }\n        response = yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        for (let db = 0; db &lt; 16; db++) {\n            response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, `${db}`]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n            chai_1.expect(response).to.equal(0);\n        }\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4dbcb90c-ba4f-47be-8ed7-42e0a9434385&quot;,&quot;parentUUID&quot;:&quot;2b4ed793-30c8-485d-a703-3802b6a73f17&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4dbcb90c-ba4f-47be-8ed7-42e0a9434385&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:174,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;99a9d454-3164-436d-945a-3929462ee586&quot;,&quot;title&quot;:&quot;flushdb-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/db/flushdb-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/db/flushdb-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushdb-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:43,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f71f95e-6d66-4171-b7ac-494fa027acc6&quot;,&quot;parentUUID&quot;:&quot;99a9d454-3164-436d-945a-3929462ee586&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushdb-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7df3f772-e2ca-46cb-b479-06235d0af344&quot;,&quot;parentUUID&quot;:&quot;99a9d454-3164-436d-945a-3929462ee586&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushdb-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;73ad0e25-71ab-4000-8293-9604b636f1f6&quot;,&quot;parentUUID&quot;:&quot;99a9d454-3164-436d-945a-3929462ee586&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushdb-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f566e73d-6ee3-473a-ba32-ad0f5cfb909b&quot;,&quot;parentUUID&quot;:&quot;99a9d454-3164-436d-945a-3929462ee586&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove all keys from only the currently selected databases&quot;,&quot;fullTitle&quot;:&quot;flushdb-command test should remove all keys from only the currently selected databases&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:261,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        for (let db = 0; db &lt; 16; db++) {\n            response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, `${db}`]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;dbid&#x27;, `${db}`]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n            chai_1.expect(response).to.equal(1);\n        }\n        for (let db = 0; db &lt; 16; db++) {\n            if (db !== 14) {\n                response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, `${db}`]);\n                chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n                response = yield common_test_1.sendCommand(client, [&#x27;flushdb&#x27;]);\n                chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n                response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;dbid&#x27;]);\n                chai_1.expect(response).to.equal(0);\n                response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n                chai_1.expect(response).to.equal(0);\n            }\n        }\n        response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;14&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;dbid&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;14&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d3e7d292-3353-41bf-a0ad-16d33c08214d&quot;,&quot;parentUUID&quot;:&quot;99a9d454-3164-436d-945a-3929462ee586&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d3e7d292-3353-41bf-a0ad-16d33c08214d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:261,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b08e2a9f-67b8-4c8c-ad83-58b7a3f9abcb&quot;,&quot;title&quot;:&quot;hget command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/hash/hget-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/hash/hget-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hget command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:44,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;380fb049-f571-4fc6-8658-aeebd44e45d8&quot;,&quot;parentUUID&quot;:&quot;b08e2a9f-67b8-4c8c-ad83-58b7a3f9abcb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hget command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3585fef1-96af-497a-9064-ca2dd8104481&quot;,&quot;parentUUID&quot;:&quot;b08e2a9f-67b8-4c8c-ad83-58b7a3f9abcb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hget command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6924a6f1-73eb-40fa-9696-a53b671ecb3b&quot;,&quot;parentUUID&quot;:&quot;b08e2a9f-67b8-4c8c-ad83-58b7a3f9abcb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hget command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9fefe878-0219-4739-b3ec-eccb8d16b726&quot;,&quot;parentUUID&quot;:&quot;b08e2a9f-67b8-4c8c-ad83-58b7a3f9abcb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should require exactly 2 parameters&quot;,&quot;fullTitle&quot;:&quot;hget command test should require exactly 2 parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;hget&#x27;, &#x27;test&#x27;])\n    .then((response1) =&gt; {\n    chai_1.expect(response1).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;hget\\&#x27; command&#x27;);\n    common_test_1.sendCommand(new net.Socket(), [&#x27;hget&#x27;, &#x27;test&#x27;, &#x27;one&#x27;, &#x27;two&#x27;])\n        .then((response2) =&gt; {\n        chai_1.expect(response2).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;hget\\&#x27; command&#x27;);\n        common_test_1.sendCommand(new net.Socket(), [&#x27;hget&#x27;, &#x27;test&#x27;, &#x27;one&#x27;])\n            .then((response3) =&gt; {\n            chai_1.expect(response3).to.equal(null);\n            done();\n        });\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c754f213-d3b3-43ae-be91-f09891d769bb&quot;,&quot;parentUUID&quot;:&quot;b08e2a9f-67b8-4c8c-ad83-58b7a3f9abcb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should get a value after it has be set&quot;,&quot;fullTitle&quot;:&quot;hget command test should get a value after it has be set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, &#x27;test&#x27;, &#x27;one&#x27;, &#x27;two&#x27;])\n    .then(() =&gt; {\n    common_test_1.sendCommand(new net.Socket(), [&#x27;hget&#x27;, &#x27;test&#x27;, &#x27;one&#x27;])\n        .then((response) =&gt; {\n        chai_1.expect(response).to.equal(&#x27;two&#x27;);\n        done();\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;92306d48-0053-475e-8ffd-06a581ed87e5&quot;,&quot;parentUUID&quot;:&quot;b08e2a9f-67b8-4c8c-ad83-58b7a3f9abcb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return nil string when the key exists but the field does not&quot;,&quot;fullTitle&quot;:&quot;hget command test should return nil string when the key exists but the field does not&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;hget&#x27;, &#x27;test&#x27;, &#x27;two&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(null);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f6cefb16-4a74-4f3e-a383-0cf33f21e672&quot;,&quot;parentUUID&quot;:&quot;b08e2a9f-67b8-4c8c-ad83-58b7a3f9abcb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c754f213-d3b3-43ae-be91-f09891d769bb&quot;,&quot;92306d48-0053-475e-8ffd-06a581ed87e5&quot;,&quot;f6cefb16-4a74-4f3e-a383-0cf33f21e672&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;46473d45-7455-4926-a527-32bf7e5c358f&quot;,&quot;title&quot;:&quot;hset command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/hash/hset-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/hash/hset-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hset command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(new net.Socket(), [&#x27;flushall&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b754b2b1-f206-4143-a1f5-c82596477b3f&quot;,&quot;parentUUID&quot;:&quot;46473d45-7455-4926-a527-32bf7e5c358f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hset command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1f7cdfc-99c1-4e27-a3f7-0a600437ced7&quot;,&quot;parentUUID&quot;:&quot;46473d45-7455-4926-a527-32bf7e5c358f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hset command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;011d12c0-9899-425a-b272-c6fb14a5e834&quot;,&quot;parentUUID&quot;:&quot;46473d45-7455-4926-a527-32bf7e5c358f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hset command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c7ad7066-b3b1-4022-bd91-8d5aefeccb3d&quot;,&quot;parentUUID&quot;:&quot;46473d45-7455-4926-a527-32bf7e5c358f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should require a minimum of 3 parameters&quot;,&quot;fullTitle&quot;:&quot;hset command test should require a minimum of 3 parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = safeId();\n        chai_1.expect(uniqueKey).not.to.equal(lastId);\n        lastId = uniqueKey;\n        let response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, uniqueKey]);\n        chai_1.expect(response).to.match(/ReplyError: ERR wrong number of arguments for \\&#x27;hset\\&#x27; command/i);\n        response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, uniqueKey, &#x27;one&#x27;]);\n        chai_1.expect(response).to.match(/ReplyError: ERR wrong number of arguments for \\&#x27;hm?set\\&#x27; command/i);\n        response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, uniqueKey, &#x27;one&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;134ed9d0-57e1-417a-bc68-137c1266bcc5&quot;,&quot;parentUUID&quot;:&quot;46473d45-7455-4926-a527-32bf7e5c358f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should only accept an odd number of parameters&quot;,&quot;fullTitle&quot;:&quot;hset command test should only accept an odd number of parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = safeId();\n        chai_1.expect(uniqueKey).not.to.equal(lastId);\n        lastId = uniqueKey;\n        const response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, uniqueKey, &#x27;one2&#x27;, &#x27;two&#x27;, &#x27;fail&#x27;]);\n        chai_1.expect(response).to.match(/ReplyError: ERR wrong number of arguments for hm?set/i);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ad807aa-8500-48d7-9eb4-643e80d2c815&quot;,&quot;parentUUID&quot;:&quot;46473d45-7455-4926-a527-32bf7e5c358f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should only report added fields&quot;,&quot;fullTitle&quot;:&quot;hset command test should only report added fields&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = safeId();\n        chai_1.expect(uniqueKey).not.to.equal(lastId);\n        lastId = uniqueKey;\n        let response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, uniqueKey, &#x27;one&#x27;, &#x27;six&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, uniqueKey, &#x27;one&#x27;, &#x27;anothervalue&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hget&#x27;, uniqueKey, &#x27;one&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;anothervalue&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;deda6c33-a044-41ef-85d6-127c15a98b7f&quot;,&quot;parentUUID&quot;:&quot;46473d45-7455-4926-a527-32bf7e5c358f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;134ed9d0-57e1-417a-bc68-137c1266bcc5&quot;,&quot;0ad807aa-8500-48d7-9eb4-643e80d2c815&quot;,&quot;deda6c33-a044-41ef-85d6-127c15a98b7f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:36,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;4d6c32c9-4a14-4f5c-83b8-60ba8882ac5d&quot;,&quot;title&quot;:&quot;del-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/del-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/del-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;del-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4b0b6f1a-87f9-4719-affc-49ad74f906d5&quot;,&quot;parentUUID&quot;:&quot;4d6c32c9-4a14-4f5c-83b8-60ba8882ac5d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;del-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e75117b1-2d51-448a-b86d-8dce035e68fd&quot;,&quot;parentUUID&quot;:&quot;4d6c32c9-4a14-4f5c-83b8-60ba8882ac5d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;del-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c396f0f1-2449-41b7-8ae5-64bb094ee50a&quot;,&quot;parentUUID&quot;:&quot;4d6c32c9-4a14-4f5c-83b8-60ba8882ac5d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;del-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;85f55e24-954c-4c71-ba93-ff4ca0746175&quot;,&quot;parentUUID&quot;:&quot;4d6c32c9-4a14-4f5c-83b8-60ba8882ac5d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report ZERO when called with no keys present&quot;,&quot;fullTitle&quot;:&quot;del-command test should report ZERO when called with no keys present&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;del&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n    chai_1.expect(response).to.equal(0);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;10548d92-f1a3-4a07-8875-e7bde2e40a41&quot;,&quot;parentUUID&quot;:&quot;4d6c32c9-4a14-4f5c-83b8-60ba8882ac5d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report the number of keys actually removed&quot;,&quot;fullTitle&quot;:&quot;del-command test should report the number of keys actually removed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const client = new net.Socket();\ncommon_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;key1&#x27;, &#x27;data&#x27;])\n    .then(() =&gt; {\n    common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;key2&#x27;, &#x27;data&#x27;])\n        .then(() =&gt; {\n        common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;key3&#x27;, &#x27;data&#x27;])\n            .then(() =&gt; {\n            common_test_1.sendCommand(client, [&#x27;del&#x27;, &#x27;key1&#x27;, &#x27;key3&#x27;])\n                .then((response) =&gt; {\n                chai_1.expect(response).to.equal(2);\n                done();\n            });\n        });\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;77a91860-100b-4fcf-a1a4-73551681164a&quot;,&quot;parentUUID&quot;:&quot;4d6c32c9-4a14-4f5c-83b8-60ba8882ac5d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have retained key2 from the previous test&quot;,&quot;fullTitle&quot;:&quot;del-command test should have retained key2 from the previous test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;del&#x27;, &#x27;key2&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(1);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f674e461-7ef2-48bf-b58e-a41146b16b08&quot;,&quot;parentUUID&quot;:&quot;4d6c32c9-4a14-4f5c-83b8-60ba8882ac5d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;10548d92-f1a3-4a07-8875-e7bde2e40a41&quot;,&quot;77a91860-100b-4fcf-a1a4-73551681164a&quot;,&quot;f674e461-7ef2-48bf-b58e-a41146b16b08&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:14,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;423139bb-c858-41c3-91c6-25050e771611&quot;,&quot;title&quot;:&quot;exists-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/exists-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/exists-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;exists-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    // Set a key with a millisecond TTL to validate exists respects TTL\n    common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;ttlkey&#x27;, &#x27;value&#x27;, &#x27;PX&#x27;, &#x27;3&#x27;])\n        .then(() =&gt; {\n        done();\n    });\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74278796-9ba1-43fc-9f0f-d430b1072313&quot;,&quot;parentUUID&quot;:&quot;423139bb-c858-41c3-91c6-25050e771611&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;exists-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9b1da1bf-e2ae-461d-9a9a-d7060c5f5cde&quot;,&quot;parentUUID&quot;:&quot;423139bb-c858-41c3-91c6-25050e771611&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;exists-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d9d37f9-3c3e-4d13-aa9d-eda80c4ffd4b&quot;,&quot;parentUUID&quot;:&quot;423139bb-c858-41c3-91c6-25050e771611&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;exists-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d7b23208-53bf-487d-9c13-11ae78ffa468&quot;,&quot;parentUUID&quot;:&quot;423139bb-c858-41c3-91c6-25050e771611&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report ZERO when none of the specified keys exist&quot;,&quot;fullTitle&quot;:&quot;exists-command test should report ZERO when none of the specified keys exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;exists&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n    chai_1.expect(response).to.equal(0);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;49f309a4-e536-4354-bceb-4140a08b5766&quot;,&quot;parentUUID&quot;:&quot;423139bb-c858-41c3-91c6-25050e771611&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should require at least ONE parameter&quot;,&quot;fullTitle&quot;:&quot;exists-command test should require at least ONE parameter&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;exists&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;exists\\&#x27; command&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f00250b3-bcfe-4c29-8456-4d9439e29875&quot;,&quot;parentUUID&quot;:&quot;423139bb-c858-41c3-91c6-25050e771611&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report GREATER THAN ZERO when checking for the same existing key multiple times&quot;,&quot;fullTitle&quot;:&quot;exists-command test should report GREATER THAN ZERO when checking for the same existing key multiple times&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;key&#x27;, &#x27;value&#x27;])\n    .then(() =&gt; {\n    common_test_1.sendCommand(new net.Socket(), [&#x27;exists&#x27;, &#x27;key&#x27;, &#x27;key&#x27;, &#x27;unknownkey&#x27;, &#x27;another&#x27;, &#x27;another&#x27;])\n        .then((response) =&gt; {\n        chai_1.expect(response).to.equal(2);\n        done();\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;35a57467-6783-4127-b461-dc675f64469c&quot;,&quot;parentUUID&quot;:&quot;423139bb-c858-41c3-91c6-25050e771611&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respect the TTL value on a key&quot;,&quot;fullTitle&quot;:&quot;exists-command test should respect the TTL value on a key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;exists&#x27;, &#x27;ttlkey&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(0);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5ab8b113-f3da-44d9-b4f7-2ac591e95bc1&quot;,&quot;parentUUID&quot;:&quot;423139bb-c858-41c3-91c6-25050e771611&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;49f309a4-e536-4354-bceb-4140a08b5766&quot;,&quot;f00250b3-bcfe-4c29-8456-4d9439e29875&quot;,&quot;35a57467-6783-4127-b461-dc675f64469c&quot;,&quot;5ab8b113-f3da-44d9-b4f7-2ac591e95bc1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:14,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;a0332df7-5c66-4919-8d6d-dfa34d8d9ed6&quot;,&quot;title&quot;:&quot;expire-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/expire-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/expire-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;expire-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:33,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f7ce6d73-4428-4a74-93f6-f6aff71969da&quot;,&quot;parentUUID&quot;:&quot;a0332df7-5c66-4919-8d6d-dfa34d8d9ed6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;expire-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d4b9d2c1-83f5-4d5b-b16b-77e431114eec&quot;,&quot;parentUUID&quot;:&quot;a0332df7-5c66-4919-8d6d-dfa34d8d9ed6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;expire-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b266b60-4c76-459b-b68d-b7a9cbd480cc&quot;,&quot;parentUUID&quot;:&quot;a0332df7-5c66-4919-8d6d-dfa34d8d9ed6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;expire-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a608f617-404a-40c5-bb8d-8bff0414eabb&quot;,&quot;parentUUID&quot;:&quot;a0332df7-5c66-4919-8d6d-dfa34d8d9ed6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report ZERO when expire called on non-existent key&quot;,&quot;fullTitle&quot;:&quot;expire-command test should report ZERO when expire called on non-existent key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;expire&#x27;, &#x27;no-key&#x27;, &#x27;1000&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;18e4f812-a7e9-40d3-9da7-5fcd87bc7ce6&quot;,&quot;parentUUID&quot;:&quot;a0332df7-5c66-4919-8d6d-dfa34d8d9ed6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should require an integer value for the ttl parameter&quot;,&quot;fullTitle&quot;:&quot;expire-command test should require an integer value for the ttl parameter&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;mykey&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;expire&#x27;, &#x27;mykey&#x27;, &#x27;10.2&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;expire&#x27;, &#x27;mykey&#x27;, &#x27;ten&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8c4213ba-2028-4e3d-9440-3efdd33a22f6&quot;,&quot;parentUUID&quot;:&quot;a0332df7-5c66-4919-8d6d-dfa34d8d9ed6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should set the requested ttl on a key&quot;,&quot;fullTitle&quot;:&quot;expire-command test should set the requested ttl on a key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;expire&#x27;, &#x27;mykey&#x27;, &#x27;10000&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;mykey&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;15593911-54b8-41f0-8722-63e306a6bd7b&quot;,&quot;parentUUID&quot;:&quot;a0332df7-5c66-4919-8d6d-dfa34d8d9ed6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should expire a key when we set a negative ttl&quot;,&quot;fullTitle&quot;:&quot;expire-command test should expire a key when we set a negative ttl&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // Note that this is not consistent with documentation\n        response = yield common_test_1.sendCommand(client, [&#x27;expire&#x27;, &#x27;mykey&#x27;, &#x27;-1&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;mykey&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f612351f-ef4a-4096-9968-e52443971834&quot;,&quot;parentUUID&quot;:&quot;a0332df7-5c66-4919-8d6d-dfa34d8d9ed6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with ZKEYs (and other key types - as yet untested)&quot;,&quot;fullTitle&quot;:&quot;expire-command test should work with ZKEYs (and other key types - as yet untested)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2015,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;1&#x27;, &#x27;member&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(1);\n    common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;zkey&#x27;])\n        .then((response) =&gt; {\n        chai_1.expect(response).to.equal(1);\n        common_test_1.sendCommand(client, [&#x27;expire&#x27;, &#x27;zkey&#x27;, &#x27;1&#x27;])\n            .then((response) =&gt; {\n            chai_1.expect(response).to.equal(1);\n            setTimeout(() =&gt; {\n                common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;zkey&#x27;])\n                    .then((response) =&gt; {\n                    chai_1.expect(response).to.equal(0, `Unexpected response ${response} should be ZERO`);\n                    done();\n                });\n            }, 2000);\n        });\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eb98a360-a1f0-440f-a52c-72cecc024dbf&quot;,&quot;parentUUID&quot;:&quot;a0332df7-5c66-4919-8d6d-dfa34d8d9ed6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should survive the RENAME operation&quot;,&quot;fullTitle&quot;:&quot;expire-command test should survive the RENAME operation&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;rename-test&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;expire&#x27;, &#x27;rename-test&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;rename&#x27;, &#x27;rename-test&#x27;, &#x27;new-name&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;new-name&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;rename-test&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        yield setTimeout(() =&gt; __awaiter(void 0, void 0, void 0, function* () {\n            response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;new-name&#x27;]);\n            chai_1.expect(response).to.equal(0);\n        }), 2000);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4407979a-3158-4572-83da-f1d9e872838b&quot;,&quot;parentUUID&quot;:&quot;a0332df7-5c66-4919-8d6d-dfa34d8d9ed6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;18e4f812-a7e9-40d3-9da7-5fcd87bc7ce6&quot;,&quot;8c4213ba-2028-4e3d-9440-3efdd33a22f6&quot;,&quot;15593911-54b8-41f0-8722-63e306a6bd7b&quot;,&quot;f612351f-ef4a-4096-9968-e52443971834&quot;,&quot;eb98a360-a1f0-440f-a52c-72cecc024dbf&quot;,&quot;4407979a-3158-4572-83da-f1d9e872838b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2048,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b120b0bd-e96f-435d-a17e-ef4fc8fe8021&quot;,&quot;title&quot;:&quot;keys-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/keys-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/keys-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;keys-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e11db2fa-4afa-40cc-9f6e-a087bc1195cd&quot;,&quot;parentUUID&quot;:&quot;b120b0bd-e96f-435d-a17e-ef4fc8fe8021&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;keys-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;54aa46c1-1822-409b-a468-63b6a6ed592f&quot;,&quot;parentUUID&quot;:&quot;b120b0bd-e96f-435d-a17e-ef4fc8fe8021&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;keys-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6a38c904-0f0a-4eb2-b9d7-72b2bed1dfaa&quot;,&quot;parentUUID&quot;:&quot;b120b0bd-e96f-435d-a17e-ef4fc8fe8021&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;keys-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b07f4ce9-2c34-4b48-b6be-04ac2f420034&quot;,&quot;parentUUID&quot;:&quot;b120b0bd-e96f-435d-a17e-ef4fc8fe8021&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should retrieve keys by glob patterns&quot;,&quot;fullTitle&quot;:&quot;keys-command test should retrieve keys by glob patterns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;mset&#x27;, &#x27;firstname&#x27;, &#x27;Jack&#x27;, &#x27;lastname&#x27;, &#x27;Stuntman&#x27;, &#x27;age&#x27;, &#x27;35&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;keys&#x27;, &#x27;*name*&#x27;]);\n        chai_1.expect(response.sort()).to.eql([&#x27;firstname&#x27;, &#x27;lastname&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;keys&#x27;, &#x27;a??&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;age&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;keys&#x27;, &#x27;*&#x27;]);\n        // NOTE: There does not appear to be a guarantee of order\n        chai_1.expect(response.sort()).to.eql([&#x27;age&#x27;, &#x27;firstname&#x27;, &#x27;lastname&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9b0f36c-8b36-4479-8552-049cddcf966b&quot;,&quot;parentUUID&quot;:&quot;b120b0bd-e96f-435d-a17e-ef4fc8fe8021&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c9b0f36c-8b36-4479-8552-049cddcf966b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:20,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;4fcd79b3-bf4e-4b10-913f-50b796d0e7b0&quot;,&quot;title&quot;:&quot;move-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/move-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/move-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;move-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:30,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5f3ac6e5-0b5a-43d8-89aa-bb0ced7afae4&quot;,&quot;parentUUID&quot;:&quot;4fcd79b3-bf4e-4b10-913f-50b796d0e7b0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;move-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;65a34b7f-43a1-4860-8f25-85c0293ffe1c&quot;,&quot;parentUUID&quot;:&quot;4fcd79b3-bf4e-4b10-913f-50b796d0e7b0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;move-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6cba7c09-429d-4c0a-a96d-8b005caf8dd8&quot;,&quot;parentUUID&quot;:&quot;4fcd79b3-bf4e-4b10-913f-50b796d0e7b0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;move-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa36fe2c-e897-4c7a-a9af-8d54d13946fe&quot;,&quot;parentUUID&quot;:&quot;4fcd79b3-bf4e-4b10-913f-50b796d0e7b0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not allow target and source db to be the same&quot;,&quot;fullTitle&quot;:&quot;move-command test should not allow target and source db to be the same&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // Even if source key does not exist\n        response = yield common_test_1.sendCommand(client, [&#x27;move&#x27;, uniqueKey, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR source and destination objects are the same&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b9b4d2c7-9bdf-493a-9020-437a9975845e&quot;,&quot;parentUUID&quot;:&quot;4fcd79b3-bf4e-4b10-913f-50b796d0e7b0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should also report ZERO when the target key already exists&quot;,&quot;fullTitle&quot;:&quot;move-command test should also report ZERO when the target key already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, uniqueKey, &#x27;database ZERO&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;move&#x27;, uniqueKey, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR source and destination objects are the same&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bf3daa47-6620-40ec-a971-8fa551dd57c2&quot;,&quot;parentUUID&quot;:&quot;4fcd79b3-bf4e-4b10-913f-50b796d0e7b0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should move a key from one database to another otherwise&quot;,&quot;fullTitle&quot;:&quot;move-command test should move a key from one database to another otherwise&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;move&#x27;, uniqueKey, &#x27;14&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;14&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ae40a8f0-0fba-4ddc-9083-6734071ebecb&quot;,&quot;parentUUID&quot;:&quot;4fcd79b3-bf4e-4b10-913f-50b796d0e7b0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report error when target database is invalid and key exists&quot;,&quot;fullTitle&quot;:&quot;move-command test should report error when target database is invalid and key exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // Database 14 is already selected\n        response = yield common_test_1.sendCommand(client, [&#x27;move&#x27;, uniqueKey, &#x27;InvalidDb&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR index out of range&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9b85cbc2-08b4-468c-896f-f8629ab7da0f&quot;,&quot;parentUUID&quot;:&quot;4fcd79b3-bf4e-4b10-913f-50b796d0e7b0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 0 when the key does not exist in the current db&quot;,&quot;fullTitle&quot;:&quot;move-command test should return 0 when the key does not exist in the current db&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;flushdb&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;move&#x27;, &#x27;nokey&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f45154fb-4b0e-4f23-b411-a0684452c6d4&quot;,&quot;parentUUID&quot;:&quot;4fcd79b3-bf4e-4b10-913f-50b796d0e7b0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 0 when the key exists in both source and target db&quot;,&quot;fullTitle&quot;:&quot;move-command test should return 0 when the key exists in both source and target db&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:34,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;nokey&#x27;, &#x27;db0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;nokey&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;nokey&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;nokey&#x27;, &#x27;db1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;move&#x27;, &#x27;nokey&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;nokey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;db1&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;nokey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;db0&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad87f376-9856-4a42-9826-dcf3faf62e3d&quot;,&quot;parentUUID&quot;:&quot;4fcd79b3-bf4e-4b10-913f-50b796d0e7b0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b9b4d2c7-9bdf-493a-9020-437a9975845e&quot;,&quot;bf3daa47-6620-40ec-a971-8fa551dd57c2&quot;,&quot;ae40a8f0-0fba-4ddc-9083-6734071ebecb&quot;,&quot;9b85cbc2-08b4-468c-896f-f8629ab7da0f&quot;,&quot;f45154fb-4b0e-4f23-b411-a0684452c6d4&quot;,&quot;ad87f376-9856-4a42-9826-dcf3faf62e3d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:65,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;d078e789-0358-4723-9051-54e20df2c45c&quot;,&quot;title&quot;:&quot;randomkey-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/randomkey-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/randomkey-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;randomkey-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;85400798-5a20-4efa-b48b-9b2c0b9009a4&quot;,&quot;parentUUID&quot;:&quot;d078e789-0358-4723-9051-54e20df2c45c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;randomkey-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;92f1344a-f756-4340-8109-e081c9d974a0&quot;,&quot;parentUUID&quot;:&quot;d078e789-0358-4723-9051-54e20df2c45c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;randomkey-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e4436330-3387-48ce-89a0-b0ef540a6681&quot;,&quot;parentUUID&quot;:&quot;d078e789-0358-4723-9051-54e20df2c45c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;randomkey-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7fa3a55a-0797-47f0-bdac-2e5c00e289c3&quot;,&quot;parentUUID&quot;:&quot;d078e789-0358-4723-9051-54e20df2c45c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return NIL when the database is empty&quot;,&quot;fullTitle&quot;:&quot;randomkey-command test should return NIL when the database is empty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;flushdb&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;randomkey&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;268d70aa-b24a-41ef-a448-36e98c978dea&quot;,&quot;parentUUID&quot;:&quot;d078e789-0358-4723-9051-54e20df2c45c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return list, zkey, hash, and string keys without preference&quot;,&quot;fullTitle&quot;:&quot;randomkey-command test should return list, zkey, hash, and string keys without preference&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:41,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const results = [];\n        response = yield common_test_1.sendCommand(client, [&#x27;hset&#x27;, &#x27;hash&#x27;, &#x27;field&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpush&#x27;, &#x27;list&#x27;, &#x27;element&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;1&#x27;, &#x27;member&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;string&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        for (let i = 0; i &lt; 15; i++) {\n            response = yield common_test_1.sendCommand(client, [&#x27;randomkey&#x27;]);\n            chai_1.expect(response).to.be.a(&#x27;string&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;type&#x27;, response]);\n            chai_1.expect(response).to.be.a(&#x27;string&#x27;);\n            if (results.indexOf(response) === -1) {\n                results.push(response);\n            }\n            if (results.length === 4) {\n                break;\n            }\n        }\n        chai_1.expect(results.length).to.be.greaterThan(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7647dba1-a502-42f8-bb6b-b40de4efa5e6&quot;,&quot;parentUUID&quot;:&quot;d078e789-0358-4723-9051-54e20df2c45c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;268d70aa-b24a-41ef-a448-36e98c978dea&quot;,&quot;7647dba1-a502-42f8-bb6b-b40de4efa5e6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:44,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;594b3de7-eaf4-4c66-9a54-bf9e698985fe&quot;,&quot;title&quot;:&quot;rename-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/rename-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/rename-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rename-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3934816c-e1ce-4c0e-811b-5896ac442eca&quot;,&quot;parentUUID&quot;:&quot;594b3de7-eaf4-4c66-9a54-bf9e698985fe&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rename-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;285a1541-cbad-4caf-8d6e-fe542b6213c1&quot;,&quot;parentUUID&quot;:&quot;594b3de7-eaf4-4c66-9a54-bf9e698985fe&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rename-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f0754c1b-ad30-4f82-b77a-77a8d155190e&quot;,&quot;parentUUID&quot;:&quot;594b3de7-eaf4-4c66-9a54-bf9e698985fe&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rename-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;706e3e8b-5a73-459a-8641-eb44dfda2f20&quot;,&quot;parentUUID&quot;:&quot;594b3de7-eaf4-4c66-9a54-bf9e698985fe&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report an error when the key does not exist&quot;,&quot;fullTitle&quot;:&quot;rename-command test should report an error when the key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;rename&#x27;, &#x27;mykey&#x27;, &#x27;my-otherkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR no such key&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b50a1276-334d-4707-b5cc-daad5a6ef6e2&quot;,&quot;parentUUID&quot;:&quot;594b3de7-eaf4-4c66-9a54-bf9e698985fe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should rename a key&quot;,&quot;fullTitle&quot;:&quot;rename-command test should rename a key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;mykey&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;rename&#x27;, &#x27;mykey&#x27;, &#x27;my-otherkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;mykey&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;my-otherkey&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;036ce6a8-85c2-4d2f-aa9d-0e5823ea0417&quot;,&quot;parentUUID&quot;:&quot;594b3de7-eaf4-4c66-9a54-bf9e698985fe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should overwrite an existing key without notice&quot;,&quot;fullTitle&quot;:&quot;rename-command test should overwrite an existing key without notice&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;myoriginalkey&#x27;, &#x27;something&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;rename&#x27;, &#x27;my-otherkey&#x27;, &#x27;myoriginalkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;myoriginalkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ada0d97c-e00f-4819-9bc0-e74cd2d80a46&quot;,&quot;parentUUID&quot;:&quot;594b3de7-eaf4-4c66-9a54-bf9e698985fe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b50a1276-334d-4707-b5cc-daad5a6ef6e2&quot;,&quot;036ce6a8-85c2-4d2f-aa9d-0e5823ea0417&quot;,&quot;ada0d97c-e00f-4819-9bc0-e74cd2d80a46&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:29,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;2865bba2-6530-4741-b44b-8e7521085ceb&quot;,&quot;title&quot;:&quot;renamenx-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/renamenx-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/renamenx-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;renamenx-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:29,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4619bb94-2993-4680-a35f-1b9185cbd633&quot;,&quot;parentUUID&quot;:&quot;2865bba2-6530-4741-b44b-8e7521085ceb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;renamenx-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;12fd480f-e9ca-4885-a1a8-583fd9da5958&quot;,&quot;parentUUID&quot;:&quot;2865bba2-6530-4741-b44b-8e7521085ceb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;renamenx-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9bf0d7ee-d53b-492d-9345-2491b6ad0971&quot;,&quot;parentUUID&quot;:&quot;2865bba2-6530-4741-b44b-8e7521085ceb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;renamenx-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5940799c-3fe4-4dbe-ae57-5648c671fb27&quot;,&quot;parentUUID&quot;:&quot;2865bba2-6530-4741-b44b-8e7521085ceb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report an error when the key does not exist&quot;,&quot;fullTitle&quot;:&quot;renamenx-command test should report an error when the key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;renamenx&#x27;, &#x27;mykey&#x27;, &#x27;my-otherkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR no such key&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;675deae5-1a81-42d5-9a03-a3cdb62f9d7a&quot;,&quot;parentUUID&quot;:&quot;2865bba2-6530-4741-b44b-8e7521085ceb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 0 when attempting renamenx with source = destination&quot;,&quot;fullTitle&quot;:&quot;renamenx-command test should return 0 when attempting renamenx with source = destination&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;key&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;renamenx&#x27;, &#x27;key&#x27;, &#x27;key&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;key&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1eaf96d3-b75f-4256-807b-82c3c926d28e&quot;,&quot;parentUUID&quot;:&quot;2865bba2-6530-4741-b44b-8e7521085ceb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should rename a key when requested&quot;,&quot;fullTitle&quot;:&quot;renamenx-command test should rename a key when requested&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:40,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;renamenx&#x27;, &#x27;key&#x27;, &#x27;newkey&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;key&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;newkey&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4526ef0e-4c50-4445-bc2c-003fadb0fcbb&quot;,&quot;parentUUID&quot;:&quot;2865bba2-6530-4741-b44b-8e7521085ceb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;675deae5-1a81-42d5-9a03-a3cdb62f9d7a&quot;,&quot;1eaf96d3-b75f-4256-807b-82c3c926d28e&quot;,&quot;4526ef0e-4c50-4445-bc2c-003fadb0fcbb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:49,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;5a35ba88-533d-4f77-8a20-402938dea0c8&quot;,&quot;title&quot;:&quot;ttl-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/ttl-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/ttl-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ttl-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    // Set a key with a couple - second TTL to validate exists respects TTL\n    common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;ttlkey&#x27;, &#x27;value&#x27;, &#x27;EX&#x27;, &#x27;30&#x27;])\n        .then(() =&gt; {\n        done();\n    });\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a1cf1a06-3d4d-42a4-889d-b2d129f5db60&quot;,&quot;parentUUID&quot;:&quot;5a35ba88-533d-4f77-8a20-402938dea0c8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ttl-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a995e0fa-2f5c-406a-aeea-3effe6c8c3e3&quot;,&quot;parentUUID&quot;:&quot;5a35ba88-533d-4f77-8a20-402938dea0c8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ttl-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dc7c7915-7093-49a8-96fc-0434d37a2c9d&quot;,&quot;parentUUID&quot;:&quot;5a35ba88-533d-4f77-8a20-402938dea0c8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ttl-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a4cbe8df-c461-4cdd-b4b5-4325168ad681&quot;,&quot;parentUUID&quot;:&quot;5a35ba88-533d-4f77-8a20-402938dea0c8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report -2 when the key does not exist&quot;,&quot;fullTitle&quot;:&quot;ttl-command test should report -2 when the key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;ttl&#x27;, &#x27;nokey&#x27;]);\n        chai_1.expect(response).to.equal(-2);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0fecffec-b2f9-40a2-9217-f5135b929489&quot;,&quot;parentUUID&quot;:&quot;5a35ba88-533d-4f77-8a20-402938dea0c8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return -1 when the key exists but does not have a ttl&quot;,&quot;fullTitle&quot;:&quot;ttl-command test should return -1 when the key exists but does not have a ttl&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;newkey&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;ttl&#x27;, &#x27;newkey&#x27;]);\n        chai_1.expect(response).to.equal(-1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f11461c-aa11-4fa7-896a-8595aba3202a&quot;,&quot;parentUUID&quot;:&quot;5a35ba88-533d-4f77-8a20-402938dea0c8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the current ttl in seconds when available&quot;,&quot;fullTitle&quot;:&quot;ttl-command test should return the current ttl in seconds when available&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;ttl&#x27;, &#x27;ttlkey&#x27;]);\n        chai_1.expect(response).to.be.greaterThan(0);\n        chai_1.expect(response).to.be.lessThan(31);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2602bc5b-7eb2-4339-8dc2-d357ac006eea&quot;,&quot;parentUUID&quot;:&quot;5a35ba88-533d-4f77-8a20-402938dea0c8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0fecffec-b2f9-40a2-9217-f5135b929489&quot;,&quot;2f11461c-aa11-4fa7-896a-8595aba3202a&quot;,&quot;2602bc5b-7eb2-4339-8dc2-d357ac006eea&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;09d1761c-0041-4212-bc19-e65bea876e8c&quot;,&quot;title&quot;:&quot;type-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/type-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/type-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;type-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7016a377-dcb6-40c1-901a-857c6b7c699f&quot;,&quot;parentUUID&quot;:&quot;09d1761c-0041-4212-bc19-e65bea876e8c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;type-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c01b375b-ddb8-42c1-a16d-063f3c50864e&quot;,&quot;parentUUID&quot;:&quot;09d1761c-0041-4212-bc19-e65bea876e8c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;type-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;95c75ef7-78b2-4d95-ac66-17f501e4ab30&quot;,&quot;parentUUID&quot;:&quot;09d1761c-0041-4212-bc19-e65bea876e8c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;type-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d4042c18-0318-40c0-9553-538f2ecce3a4&quot;,&quot;parentUUID&quot;:&quot;09d1761c-0041-4212-bc19-e65bea876e8c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report the type of key&quot;,&quot;fullTitle&quot;:&quot;type-command test should report the type of key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;string-key&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;type&#x27;, &#x27;string-key&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;string&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpush&#x27;, &#x27;list-key&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;type&#x27;, &#x27;list-key&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;list&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;set-key&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;type&#x27;, &#x27;set-key&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;set&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;123&#x27;, &#x27;something&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;type&#x27;, &#x27;zkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;zset&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;type&#x27;, &#x27;never&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;none&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4bdb4ea8-8a32-4375-abe9-7bf24d88cfbc&quot;,&quot;parentUUID&quot;:&quot;09d1761c-0041-4212-bc19-e65bea876e8c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4bdb4ea8-8a32-4375-abe9-7bf24d88cfbc&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:25,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;594beff5-7057-45e5-aada-e9f228b11a15&quot;,&quot;title&quot;:&quot;blpop-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/blpop-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/blpop-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;blpop-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a22670f5-bdba-4274-893c-c4e6f2e501cb&quot;,&quot;parentUUID&quot;:&quot;594beff5-7057-45e5-aada-e9f228b11a15&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;blpop-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;db99e079-3977-4635-af9e-242c1f364656&quot;,&quot;parentUUID&quot;:&quot;594beff5-7057-45e5-aada-e9f228b11a15&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;blpop-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f894652-6fe0-47dd-8460-504bacbbebca&quot;,&quot;parentUUID&quot;:&quot;594beff5-7057-45e5-aada-e9f228b11a15&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;blpop-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e6706da5-a71b-4eb3-a659-adf6048f5b2d&quot;,&quot;parentUUID&quot;:&quot;594beff5-7057-45e5-aada-e9f228b11a15&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return NIL when timeout &gt; 0 and list does not exist&quot;,&quot;fullTitle&quot;:&quot;blpop-command test should return NIL when timeout &gt; 0 and list does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1029,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;blpop&#x27;, &#x27;no-key&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5795ca51-ba05-49be-a0c7-2664b25fe96d&quot;,&quot;parentUUID&quot;:&quot;594beff5-7057-45e5-aada-e9f228b11a15&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should wait for a list to exist and return the list name and value&quot;,&quot;fullTitle&quot;:&quot;blpop-command test should wait for a list to exist and return the list name and value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;blpop&#x27;, &#x27;no-key&#x27;, &#x27;0&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.eql([&#x27;no-key&#x27;, &#x27;THE NEW VALUE&#x27;]);\n    done();\n});\ncommon_test_1.sendCommand(new net.Socket(), [&#x27;lpush&#x27;, &#x27;no-key&#x27;, &#x27;THE NEW VALUE&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(1);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;04a128bf-2de7-4874-9d06-b1a9908550c7&quot;,&quot;parentUUID&quot;:&quot;594beff5-7057-45e5-aada-e9f228b11a15&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the list name and HEAD value&quot;,&quot;fullTitle&quot;:&quot;blpop-command test should return the list name and HEAD value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;blpop&#x27;, &#x27;no-key2&#x27;, &#x27;0&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.eql([&#x27;no-key2&#x27;, &#x27;first&#x27;]);\n    done();\n});\ncommon_test_1.sendCommand(new net.Socket(), [&#x27;lpush&#x27;, &#x27;no-key2&#x27;, &#x27;third&#x27;, &#x27;second&#x27;, &#x27;first&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(3);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5882f877-7208-41af-b909-73dce6847fcd&quot;,&quot;parentUUID&quot;:&quot;594beff5-7057-45e5-aada-e9f228b11a15&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support blocking lpop against multiple lists in one call&quot;,&quot;fullTitle&quot;:&quot;blpop-command test should support blocking lpop against multiple lists in one call&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;blpop&#x27;, &#x27;list1&#x27;, &#x27;list2&#x27;, &#x27;list3&#x27;, &#x27;0&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.eql([&#x27;list2&#x27;, &#x27;THE NEW VALUE&#x27;]);\n    done();\n});\ncommon_test_1.sendCommand(new net.Socket(), [&#x27;lpush&#x27;, &#x27;list2&#x27;, &#x27;THE NEW VALUE&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(1);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;78781075-9d1b-478f-9d0e-3022e9551524&quot;,&quot;parentUUID&quot;:&quot;594beff5-7057-45e5-aada-e9f228b11a15&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the pushd value when it already exists even if a timeout is set&quot;,&quot;fullTitle&quot;:&quot;blpop-command test should return the pushd value when it already exists even if a timeout is set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const uniqueKey = `poplpush${new Date().getTime()}`;\ncommon_test_1.sendCommand(new net.Socket(), [&#x27;lpush&#x27;, uniqueKey, &#x27;third&#x27;, &#x27;second&#x27;, &#x27;first&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(3);\n    common_test_1.sendCommand(client, [&#x27;blpop&#x27;, uniqueKey, &#x27;0&#x27;])\n        .then((response) =&gt; {\n        chai_1.expect(response).to.eql([uniqueKey, &#x27;first&#x27;]);\n        done();\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aca6911f-7d07-48e1-abfc-9a1d3e9962d9&quot;,&quot;parentUUID&quot;:&quot;594beff5-7057-45e5-aada-e9f228b11a15&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5795ca51-ba05-49be-a0c7-2664b25fe96d&quot;,&quot;04a128bf-2de7-4874-9d06-b1a9908550c7&quot;,&quot;5882f877-7208-41af-b909-73dce6847fcd&quot;,&quot;78781075-9d1b-478f-9d0e-3022e9551524&quot;,&quot;aca6911f-7d07-48e1-abfc-9a1d3e9962d9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1056,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;fa022eff-6703-4e1a-a894-4f1f5e279b97&quot;,&quot;title&quot;:&quot;brpop-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/brpop-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/brpop-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;brpop-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;28799989-4cf4-40e9-8ae9-e2d705968dbf&quot;,&quot;parentUUID&quot;:&quot;fa022eff-6703-4e1a-a894-4f1f5e279b97&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;brpop-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9ef57b40-d112-4648-9192-b6a0fcae0bef&quot;,&quot;parentUUID&quot;:&quot;fa022eff-6703-4e1a-a894-4f1f5e279b97&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;brpop-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7e869910-a234-4d15-a803-e5a263a83a7f&quot;,&quot;parentUUID&quot;:&quot;fa022eff-6703-4e1a-a894-4f1f5e279b97&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;brpop-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;352a3551-61f7-4d7e-a3ba-7b091a43420c&quot;,&quot;parentUUID&quot;:&quot;fa022eff-6703-4e1a-a894-4f1f5e279b97&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return NIL when timeout &gt; 0 and list does not exist&quot;,&quot;fullTitle&quot;:&quot;brpop-command test should return NIL when timeout &gt; 0 and list does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1005,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;brpop&#x27;, &#x27;no-key&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e7c2bbc9-696a-457c-a6fa-b319b74fb722&quot;,&quot;parentUUID&quot;:&quot;fa022eff-6703-4e1a-a894-4f1f5e279b97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should wait for a list to exist and return the list name and value&quot;,&quot;fullTitle&quot;:&quot;brpop-command test should wait for a list to exist and return the list name and value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;brpop&#x27;, &#x27;no-key&#x27;, &#x27;0&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.eql([&#x27;no-key&#x27;, &#x27;THE NEW VALUE&#x27;]);\n    done();\n});\ncommon_test_1.sendCommand(new net.Socket(), [&#x27;lpush&#x27;, &#x27;no-key&#x27;, &#x27;THE NEW VALUE&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(1);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4500a524-8772-4a23-92aa-6e8b213e5dd2&quot;,&quot;parentUUID&quot;:&quot;fa022eff-6703-4e1a-a894-4f1f5e279b97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the list name and TAIL value&quot;,&quot;fullTitle&quot;:&quot;brpop-command test should return the list name and TAIL value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;flushall&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n    common_test_1.sendCommand(client, [&#x27;brpop&#x27;, &#x27;no-key2&#x27;, &#x27;0&#x27;])\n        .then((response) =&gt; {\n        chai_1.expect(response).to.eql([&#x27;no-key2&#x27;, &#x27;first&#x27;]);\n        done();\n    });\n    common_test_1.sendCommand(new net.Socket(), [&#x27;rpush&#x27;, &#x27;no-key2&#x27;, &#x27;third&#x27;, &#x27;second&#x27;, &#x27;first&#x27;])\n        .then((response) =&gt; {\n        chai_1.expect(response).to.equal(3);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;65c7163e-f7f3-46f6-a469-afd0c6999b6a&quot;,&quot;parentUUID&quot;:&quot;fa022eff-6703-4e1a-a894-4f1f5e279b97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support blocking rpop against multiple lists in one call&quot;,&quot;fullTitle&quot;:&quot;brpop-command test should support blocking rpop against multiple lists in one call&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;brpop&#x27;, &#x27;list1&#x27;, &#x27;list2&#x27;, &#x27;list3&#x27;, &#x27;0&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.eql([&#x27;list3&#x27;, &#x27;THE NEW VALUE&#x27;]);\n    done();\n});\ncommon_test_1.sendCommand(new net.Socket(), [&#x27;lpush&#x27;, &#x27;list3&#x27;, &#x27;THE NEW VALUE&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(1);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;681f381b-7fcb-46bd-9d07-714d9cdc2432&quot;,&quot;parentUUID&quot;:&quot;fa022eff-6703-4e1a-a894-4f1f5e279b97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the pushd value when it already exists even if a timeout is set&quot;,&quot;fullTitle&quot;:&quot;brpop-command test should return the pushd value when it already exists even if a timeout is set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const uniqueKey = `poprpush${new Date().getTime()}`;\ncommon_test_1.sendCommand(new net.Socket(), [&#x27;rpush&#x27;, uniqueKey, &#x27;third&#x27;, &#x27;second&#x27;, &#x27;first&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(3);\n    common_test_1.sendCommand(client, [&#x27;brpop&#x27;, uniqueKey, &#x27;0&#x27;])\n        .then((response) =&gt; {\n        chai_1.expect(response).to.eql([uniqueKey, &#x27;first&#x27;]);\n        done();\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bc30cc63-7e14-46d6-9f9d-e497aa22e3e6&quot;,&quot;parentUUID&quot;:&quot;fa022eff-6703-4e1a-a894-4f1f5e279b97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e7c2bbc9-696a-457c-a6fa-b319b74fb722&quot;,&quot;4500a524-8772-4a23-92aa-6e8b213e5dd2&quot;,&quot;65c7163e-f7f3-46f6-a469-afd0c6999b6a&quot;,&quot;681f381b-7fcb-46bd-9d07-714d9cdc2432&quot;,&quot;bc30cc63-7e14-46d6-9f9d-e497aa22e3e6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1040,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;1924e5c5-bc7b-492e-b07f-24fae89a74b5&quot;,&quot;title&quot;:&quot;brpoplpush-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/brpoplpush-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/brpoplpush-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;brpoplpush-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b6154aea-3cc1-4540-9b6e-cbc4637842ec&quot;,&quot;parentUUID&quot;:&quot;1924e5c5-bc7b-492e-b07f-24fae89a74b5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;brpoplpush-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        sinon.createSandbox();\n        yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n        yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cdfd9b03-99b0-4d05-a28a-4a50969da897&quot;,&quot;parentUUID&quot;:&quot;1924e5c5-bc7b-492e-b07f-24fae89a74b5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;brpoplpush-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4a194f1-1042-41e6-9604-335af93d476a&quot;,&quot;parentUUID&quot;:&quot;1924e5c5-bc7b-492e-b07f-24fae89a74b5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;brpoplpush-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;603d716b-31c4-4985-8219-32ffa94836f2&quot;,&quot;parentUUID&quot;:&quot;1924e5c5-bc7b-492e-b07f-24fae89a74b5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return NIL when destination does not exist and timeout expires&quot;,&quot;fullTitle&quot;:&quot;brpoplpush-command test should return NIL when destination does not exist and timeout expires&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2004,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;brpoplpush&#x27;, &#x27;src&#x27;, &#x27;dst&#x27;, &#x27;2&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2c676fd7-c16e-4d97-b7a9-6d1202c6993a&quot;,&quot;parentUUID&quot;:&quot;1924e5c5-bc7b-492e-b07f-24fae89a74b5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the poplpushed value when lpush is called&quot;,&quot;fullTitle&quot;:&quot;brpoplpush-command test should return the poplpushed value when lpush is called&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;brpoplpush&#x27;, &#x27;poplpushkey&#x27;, &#x27;poplpopkey&#x27;, &#x27;0&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;value1&#x27;);\n    done();\n});\ncommon_test_1.sendCommand(new net.Socket(), [&#x27;lpush&#x27;, &#x27;poplpushkey&#x27;, &#x27;value1&#x27;, &#x27;value2&#x27;, &#x27;value3&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(3);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e33c4aa5-4600-4883-97d1-a4ee941af965&quot;,&quot;parentUUID&quot;:&quot;1924e5c5-bc7b-492e-b07f-24fae89a74b5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the pushd value when it already exists even if a timeout is set&quot;,&quot;fullTitle&quot;:&quot;brpoplpush-command test should return the pushd value when it already exists even if a timeout is set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const uniqueKey = `poplpush${new Date().getTime()}`;\ncommon_test_1.sendCommand(new net.Socket(), [&#x27;lpush&#x27;, uniqueKey, &#x27;value1&#x27;, &#x27;value2&#x27;, &#x27;value3&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(3);\n    common_test_1.sendCommand(client, [&#x27;brpoplpush&#x27;, uniqueKey, &#x27;poplpopkey&#x27;, &#x27;0&#x27;])\n        .then((response) =&gt; {\n        chai_1.expect(response).to.equal(&#x27;value1&#x27;);\n        done();\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2a848222-eef4-496c-869f-662fadaee1be&quot;,&quot;parentUUID&quot;:&quot;1924e5c5-bc7b-492e-b07f-24fae89a74b5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2c676fd7-c16e-4d97-b7a9-6d1202c6993a&quot;,&quot;e33c4aa5-4600-4883-97d1-a4ee941af965&quot;,&quot;2a848222-eef4-496c-869f-662fadaee1be&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2019,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;5cf9c4ec-ee06-4275-870c-553d12487609&quot;,&quot;title&quot;:&quot;lindex-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/lindex-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/lindex-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lindex-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fdb1869b-e4ac-43a1-8771-79ec60e50a42&quot;,&quot;parentUUID&quot;:&quot;5cf9c4ec-ee06-4275-870c-553d12487609&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lindex-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6e21bbff-23a9-4cb4-8593-37059c14eec0&quot;,&quot;parentUUID&quot;:&quot;5cf9c4ec-ee06-4275-870c-553d12487609&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lindex-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e312ed80-7a40-4e7b-9489-a819172f3745&quot;,&quot;parentUUID&quot;:&quot;5cf9c4ec-ee06-4275-870c-553d12487609&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lindex-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;48f41a2d-73e3-4346-9380-5326109ee8d1&quot;,&quot;parentUUID&quot;:&quot;5cf9c4ec-ee06-4275-870c-553d12487609&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report NIL when lindex called with invalid index on non-existent key&quot;,&quot;fullTitle&quot;:&quot;lindex-command test should report NIL when lindex called with invalid index on non-existent key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, &#x27;no-key&#x27;, &#x27;negative one thousand&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d3abd8d-aa0a-4dda-82b8-dc29563b1ae5&quot;,&quot;parentUUID&quot;:&quot;5cf9c4ec-ee06-4275-870c-553d12487609&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report ERR when attempting to get lindex of non-list key&quot;,&quot;fullTitle&quot;:&quot;lindex-command test should report ERR when attempting to get lindex of non-list key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;lkey&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, &#x27;lkey&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;80c20268-6521-4209-ba55-c7dc86f1c287&quot;,&quot;parentUUID&quot;:&quot;5cf9c4ec-ee06-4275-870c-553d12487609&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the correct key at an index&quot;,&quot;fullTitle&quot;:&quot;lindex-command test should return the correct key at an index&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = `lkey-${new Date().getTime()}`;\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, uniqueKey, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;a&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;b&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;-1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;c&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;-100&#x27;]);\n        chai_1.expect(response).to.equal(null);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, uniqueKey, &#x27;a1&#x27;, &#x27;b2&#x27;, &#x27;c3&#x27;]);\n        chai_1.expect(response).to.equal(6);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;-6&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;a&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;-7&#x27;]);\n        chai_1.expect(response).to.equal(null);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;100&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;65ec7599-dde0-494b-9832-2c40cfbe6f0c&quot;,&quot;parentUUID&quot;:&quot;5cf9c4ec-ee06-4275-870c-553d12487609&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1d3abd8d-aa0a-4dda-82b8-dc29563b1ae5&quot;,&quot;80c20268-6521-4209-ba55-c7dc86f1c287&quot;,&quot;65ec7599-dde0-494b-9832-2c40cfbe6f0c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:36,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;a13acf9d-a8d3-4bf1-9532-10d24da68940&quot;,&quot;title&quot;:&quot;llen-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/llen-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/llen-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;llen-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:37,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b7361e01-a465-430f-ad42-f62e0e4da0b9&quot;,&quot;parentUUID&quot;:&quot;a13acf9d-a8d3-4bf1-9532-10d24da68940&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;llen-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ef68df73-121f-4e21-a248-3fa8f69bbec8&quot;,&quot;parentUUID&quot;:&quot;a13acf9d-a8d3-4bf1-9532-10d24da68940&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;llen-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2dd3d690-dcc0-40e7-9dd0-1daacd959003&quot;,&quot;parentUUID&quot;:&quot;a13acf9d-a8d3-4bf1-9532-10d24da68940&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;llen-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7d5121ac-1621-4732-8300-ca00971bebf6&quot;,&quot;parentUUID&quot;:&quot;a13acf9d-a8d3-4bf1-9532-10d24da68940&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report 0 when llen called on non-existent key&quot;,&quot;fullTitle&quot;:&quot;llen-command test should report 0 when llen called on non-existent key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, &#x27;no-key&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eccd45f2-a852-4f81-a919-460c0f840878&quot;,&quot;parentUUID&quot;:&quot;a13acf9d-a8d3-4bf1-9532-10d24da68940&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report WRONGTYPE when attempting to get llen of non-list key&quot;,&quot;fullTitle&quot;:&quot;llen-command test should report WRONGTYPE when attempting to get llen of non-list key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;lkey&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, &#x27;lkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1131c40a-6442-4cd0-a1a0-f9c1c7ecc1d5&quot;,&quot;parentUUID&quot;:&quot;a13acf9d-a8d3-4bf1-9532-10d24da68940&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the correct list length&quot;,&quot;fullTitle&quot;:&quot;llen-command test should return the correct list length&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = `lkey-${new Date().getTime()}`;\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, uniqueKey, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpop&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(&#x27;c&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpop&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(&#x27;b&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpop&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(&#x27;a&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpop&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(null);\n        // The list goes away when the last element is popped\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, uniqueKey, &#x27;-6&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c6db6934-9db1-4c1b-b434-fbae26cfc13b&quot;,&quot;parentUUID&quot;:&quot;a13acf9d-a8d3-4bf1-9532-10d24da68940&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;eccd45f2-a852-4f81-a919-460c0f840878&quot;,&quot;1131c40a-6442-4cd0-a1a0-f9c1c7ecc1d5&quot;,&quot;c6db6934-9db1-4c1b-b434-fbae26cfc13b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:22,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;dad71a75-ca5f-4e31-b846-45e6de95d670&quot;,&quot;title&quot;:&quot;lpop-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/lpop-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/lpop-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpop-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e9284d84-32c4-4b46-93d0-928f6ded3dcf&quot;,&quot;parentUUID&quot;:&quot;dad71a75-ca5f-4e31-b846-45e6de95d670&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpop-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cfd881ad-c1f1-427e-b401-1a8bd5ab9143&quot;,&quot;parentUUID&quot;:&quot;dad71a75-ca5f-4e31-b846-45e6de95d670&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpop-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;414907c4-41ff-4399-b4df-ca6e57f8cb33&quot;,&quot;parentUUID&quot;:&quot;dad71a75-ca5f-4e31-b846-45e6de95d670&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpop-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6371cbd3-9a0b-41da-94c6-83bfa809a2f3&quot;,&quot;parentUUID&quot;:&quot;dad71a75-ca5f-4e31-b846-45e6de95d670&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report NIL when lpop called on non-existent key&quot;,&quot;fullTitle&quot;:&quot;lpop-command test should report NIL when lpop called on non-existent key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, &#x27;no-key&#x27;]);\n        chai_1.expect(response).to.equal(null);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;no-key&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f5d2adc3-f965-443c-80fe-a775a72cc129&quot;,&quot;parentUUID&quot;:&quot;dad71a75-ca5f-4e31-b846-45e6de95d670&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return values from the left side of a list&quot;,&quot;fullTitle&quot;:&quot;lpop-command test should return values from the left side of a list&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, testKey, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, testKey]);\n        chai_1.expect(response).to.equal(&#x27;a&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, testKey]);\n        chai_1.expect(response).to.equal(&#x27;b&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, testKey]);\n        chai_1.expect(response).to.equal(&#x27;c&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, testKey]);\n        chai_1.expect(response).to.equal(&#x27;d&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, testKey]);\n        chai_1.expect(response).to.equal(null);\n        // The list goes away when the last element is removed\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, testKey]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;053c86ee-6f6c-46b6-baeb-39971791e89c&quot;,&quot;parentUUID&quot;:&quot;dad71a75-ca5f-4e31-b846-45e6de95d670&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f5d2adc3-f965-443c-80fe-a775a72cc129&quot;,&quot;053c86ee-6f6c-46b6-baeb-39971791e89c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:23,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;9b93be57-16ca-4a90-b85e-3b619bfb7298&quot;,&quot;title&quot;:&quot;lpush-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/lpush-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/lpush-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpush-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:27,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;29233eb7-ddae-454a-ac36-51e1a5f088a2&quot;,&quot;parentUUID&quot;:&quot;9b93be57-16ca-4a90-b85e-3b619bfb7298&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpush-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4d862ac8-95e0-4f09-8133-1ff1d8b42acb&quot;,&quot;parentUUID&quot;:&quot;9b93be57-16ca-4a90-b85e-3b619bfb7298&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpush-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f413384c-85b1-4648-8b43-e6210ac89b4a&quot;,&quot;parentUUID&quot;:&quot;9b93be57-16ca-4a90-b85e-3b619bfb7298&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpush-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;00f07385-a504-4be6-b293-f8573d3c9b66&quot;,&quot;parentUUID&quot;:&quot;9b93be57-16ca-4a90-b85e-3b619bfb7298&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report ERR when attempting to lpush to a non-list key&quot;,&quot;fullTitle&quot;:&quot;lpush-command test should report ERR when attempting to lpush to a non-list key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;lkey&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpush&#x27;, &#x27;lkey&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7ab4c5a7-6a72-4b14-a2b8-005149c57cee&quot;,&quot;parentUUID&quot;:&quot;9b93be57-16ca-4a90-b85e-3b619bfb7298&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create a list if it doesn&#x27;t already exist&quot;,&quot;fullTitle&quot;:&quot;lpush-command test should create a list if it doesn&#x27;t already exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, testKey]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpush&#x27;, testKey, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]);\n        // The list is now &#x27;c&#x27;, &#x27;b&#x27;, &#x27;a&#x27;\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, testKey]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bf1e4875-bcca-4222-aa56-4f92ad5d2532&quot;,&quot;parentUUID&quot;:&quot;9b93be57-16ca-4a90-b85e-3b619bfb7298&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have created the list in a predicatble order&quot;,&quot;fullTitle&quot;:&quot;lpush-command test should have created the list in a predicatble order&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, testKey, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;b&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, testKey]);\n        chai_1.expect(response).to.equal(&#x27;c&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, testKey]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpop&#x27;, testKey]);\n        chai_1.expect(response).to.equal(&#x27;a&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e6228f60-e624-49ec-81ad-ca159e1c937f&quot;,&quot;parentUUID&quot;:&quot;9b93be57-16ca-4a90-b85e-3b619bfb7298&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7ab4c5a7-6a72-4b14-a2b8-005149c57cee&quot;,&quot;bf1e4875-bcca-4222-aa56-4f92ad5d2532&quot;,&quot;e6228f60-e624-49ec-81ad-ca159e1c937f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:30,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;519b545f-6b16-4934-9ac4-d5cfb720fd7b&quot;,&quot;title&quot;:&quot;lrange-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/lrange-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/lrange-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lrange-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aa9b6d9d-1bfb-48ee-9e76-65c32a7cc4c0&quot;,&quot;parentUUID&quot;:&quot;519b545f-6b16-4934-9ac4-d5cfb720fd7b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lrange-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f80c72c-0b8b-40e6-8ff8-b3f7cd13714a&quot;,&quot;parentUUID&quot;:&quot;519b545f-6b16-4934-9ac4-d5cfb720fd7b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lrange-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9f7f1a1-5d10-4dd4-9c11-8d64fc6ea359&quot;,&quot;parentUUID&quot;:&quot;519b545f-6b16-4934-9ac4-d5cfb720fd7b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lrange-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f7d183d6-227d-45d9-9158-e8076be17598&quot;,&quot;parentUUID&quot;:&quot;519b545f-6b16-4934-9ac4-d5cfb720fd7b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;return an empty list when the key does not exist&quot;,&quot;fullTitle&quot;:&quot;lrange-command test return an empty list when the key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;no-key&#x27;, &#x27;0&#x27;, &#x27;100&#x27;]);\n        chai_1.expect(response).to.eql([]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a1322058-b55c-46bc-bc96-3e438bd3fdb0&quot;,&quot;parentUUID&quot;:&quot;519b545f-6b16-4934-9ac4-d5cfb720fd7b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report an error when start or stop index are invalid&quot;,&quot;fullTitle&quot;:&quot;lrange-command test should report an error when start or stop index are invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;no-key&#x27;, &#x27;negative one&#x27;, &#x27;-2&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;no-key&#x27;, &#x27;0&#x27;, &#x27;negative two&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;no-key&#x27;, &#x27;-1&#x27;, &#x27;-100&#x27;]);\n        chai_1.expect(response).to.eql([]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d978d98b-998a-4186-bdda-a2a6d4d1ea4b&quot;,&quot;parentUUID&quot;:&quot;519b545f-6b16-4934-9ac4-d5cfb720fd7b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return predictable results&quot;,&quot;fullTitle&quot;:&quot;lrange-command test should return predictable results&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;newlist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;newlist&#x27;, &#x27;world&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;newlist&#x27;, &#x27;0&#x27;, &#x27;-1&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;hello&#x27;, &#x27;world&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b0882d9c-05db-4fc8-9981-cc829806696f&quot;,&quot;parentUUID&quot;:&quot;519b545f-6b16-4934-9ac4-d5cfb720fd7b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reproduce the results from the redis documentation&quot;,&quot;fullTitle&quot;:&quot;lrange-command test should reproduce the results from the redis documentation&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;doclist&#x27;, &#x27;one&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;doclist&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;doclist&#x27;, &#x27;three&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;doclist&#x27;, &#x27;0&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;one&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;doclist&#x27;, &#x27;-3&#x27;, &#x27;2&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;doclist&#x27;, &#x27;-100&#x27;, &#x27;100&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;doclist&#x27;, &#x27;5&#x27;, &#x27;10&#x27;]);\n        chai_1.expect(response).to.eql([]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;00d3222e-a210-4190-9597-338cc9035b41&quot;,&quot;parentUUID&quot;:&quot;519b545f-6b16-4934-9ac4-d5cfb720fd7b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a1322058-b55c-46bc-bc96-3e438bd3fdb0&quot;,&quot;d978d98b-998a-4186-bdda-a2a6d4d1ea4b&quot;,&quot;b0882d9c-05db-4fc8-9981-cc829806696f&quot;,&quot;00d3222e-a210-4190-9597-338cc9035b41&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:41,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;6c1acc04-08d3-4d57-83a2-843a32f3589e&quot;,&quot;title&quot;:&quot;lrem-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/lrem-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/lrem-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lrem-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;26e1de54-cf9a-40cf-989c-0eb0a3765b20&quot;,&quot;parentUUID&quot;:&quot;6c1acc04-08d3-4d57-83a2-843a32f3589e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lrem-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d8e41f7d-e5f1-44d8-a4bd-2bb14b846a84&quot;,&quot;parentUUID&quot;:&quot;6c1acc04-08d3-4d57-83a2-843a32f3589e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lrem-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7dc2a20a-57e7-458b-a196-faeb95f4b5b8&quot;,&quot;parentUUID&quot;:&quot;6c1acc04-08d3-4d57-83a2-843a32f3589e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lrem-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6edfe8cc-e372-4359-b9e3-b4340738725b&quot;,&quot;parentUUID&quot;:&quot;6c1acc04-08d3-4d57-83a2-843a32f3589e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should NOT report 0 when lrem called with invalid non-existent key&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should NOT report 0 when lrem called with invalid non-existent key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lrem&#x27;, &#x27;no-key&#x27;, &#x27;negative one thousand&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7e682031-1833-4702-a7ee-1846a102c9ec&quot;,&quot;parentUUID&quot;:&quot;6c1acc04-08d3-4d57-83a2-843a32f3589e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report ERR when lrem called against existing key with invalid count argument&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should report ERR when lrem called against existing key with invalid count argument&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lpush&#x27;, &#x27;lrem&#x27;, &#x27;akey&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrem&#x27;, &#x27;lrem&#x27;, &#x27;negative one thousand&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;650dbcc1-2c9a-429e-bb4d-5abbc25c968a&quot;,&quot;parentUUID&quot;:&quot;6c1acc04-08d3-4d57-83a2-843a32f3589e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report 0 when lrem called with valid arguments and non-existing element&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should report 0 when lrem called with valid arguments and non-existing element&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lrem&#x27;, &#x27;lrem&#x27;, &#x27;0&#x27;, &#x27;does not exist&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb47134c-4908-403c-85c4-d3ab52639521&quot;,&quot;parentUUID&quot;:&quot;6c1acc04-08d3-4d57-83a2-843a32f3589e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should use negative index counters&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should use negative index counters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:44,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;foo&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrem&#x27;, &#x27;mylist&#x27;, &#x27;-2&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;mylist&#x27;, &#x27;0&#x27;, &#x27;-1&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;hello&#x27;, &#x27;foo&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;49f5fd65-b095-4a14-b0b0-647cd7a1ea11&quot;,&quot;parentUUID&quot;:&quot;6c1acc04-08d3-4d57-83a2-843a32f3589e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a ZERO result when the key does not exist&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should return a ZERO result when the key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lrem&#x27;, &#x27;otherlist&#x27;, &#x27;1&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;477a4fcd-7007-4fce-9b15-5e48945476aa&quot;,&quot;parentUUID&quot;:&quot;6c1acc04-08d3-4d57-83a2-843a32f3589e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove every matchin element when count is 0&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should remove every matchin element when count is 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;flushdb&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;foo&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrem&#x27;, &#x27;mylist&#x27;, &#x27;0&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(3);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d4d173c2-cf03-4d4b-8cb2-70e8b582dec4&quot;,&quot;parentUUID&quot;:&quot;6c1acc04-08d3-4d57-83a2-843a32f3589e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove the list when all elements are gone&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should remove the list when all elements are gone&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lrem&#x27;, &#x27;mylist&#x27;, &#x27;0&#x27;, &#x27;foo&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;mylist&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e3971475-2cea-4e1d-ad4e-5e3f31e48434&quot;,&quot;parentUUID&quot;:&quot;6c1acc04-08d3-4d57-83a2-843a32f3589e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove only the number of requested elements when count &gt; 0&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should remove only the number of requested elements when count &gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;calibrate&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrem&#x27;, &#x27;mylist&#x27;, &#x27;1&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;mylist&#x27;, &#x27;0&#x27;, &#x27;2&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;hello&#x27;, &#x27;calibrate&#x27;, &#x27;hello&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9ff3870d-1831-45db-8408-73824677e77e&quot;,&quot;parentUUID&quot;:&quot;6c1acc04-08d3-4d57-83a2-843a32f3589e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should default to startIndex ZERO when it is less than ZERO&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should default to startIndex ZERO when it is less than ZERO&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:35,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        for (let i = 0; i &lt; 10; i++) {\n            response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;newlist&#x27;, `${i}`]);\n            chai_1.expect(response).to.equal(i + 1);\n        }\n        response = yield common_test_1.sendCommand(client, [&#x27;ltrim&#x27;, &#x27;newlist&#x27;, &#x27;-100&#x27;, &#x27;2&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, &#x27;newlist&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;newlist&#x27;, &#x27;0&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;0&#x27;, &#x27;1&#x27;, &#x27;2&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c567cea-c945-45af-bdb0-d7ad12b0a4c8&quot;,&quot;parentUUID&quot;:&quot;6c1acc04-08d3-4d57-83a2-843a32f3589e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove the list when start &gt; end or start &gt; llen&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should remove the list when start &gt; end or start &gt; llen&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;newlist&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;ltrim&#x27;, &#x27;newlist&#x27;, &#x27;10&#x27;, &#x27;2&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;newlist&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;afa978f5-30be-4d13-b891-0d79247a8ffa&quot;,&quot;parentUUID&quot;:&quot;6c1acc04-08d3-4d57-83a2-843a32f3589e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should properly handle a negative endIndex&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should properly handle a negative endIndex&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:29,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        for (let i = 0; i &lt; 7; i++) {\n            response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;neglist&#x27;, `${i}`]);\n            chai_1.expect(response).to.equal(i + 1);\n        }\n        response = yield common_test_1.sendCommand(client, [&#x27;ltrim&#x27;, &#x27;neglist&#x27;, &#x27;-100&#x27;, &#x27;-3&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;neglist&#x27;, &#x27;0&#x27;, &#x27;100&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;0&#x27;, &#x27;1&#x27;, &#x27;2&#x27;, &#x27;3&#x27;, &#x27;4&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;250b517c-dc04-4bcd-a1be-e75203d939de&quot;,&quot;parentUUID&quot;:&quot;6c1acc04-08d3-4d57-83a2-843a32f3589e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove the key when abs(endIndex) is &gt; llen&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should remove the key when abs(endIndex) is &gt; llen&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;ltrim&#x27;, &#x27;neglist&#x27;, &#x27;-100&#x27;, &#x27;-6&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;neglist&#x27;]);\n        chai_1.expect(response).to.eql(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ce62dc2b-841b-4868-9706-3f394330223a&quot;,&quot;parentUUID&quot;:&quot;6c1acc04-08d3-4d57-83a2-843a32f3589e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7e682031-1833-4702-a7ee-1846a102c9ec&quot;,&quot;650dbcc1-2c9a-429e-bb4d-5abbc25c968a&quot;,&quot;fb47134c-4908-403c-85c4-d3ab52639521&quot;,&quot;49f5fd65-b095-4a14-b0b0-647cd7a1ea11&quot;,&quot;477a4fcd-7007-4fce-9b15-5e48945476aa&quot;,&quot;d4d173c2-cf03-4d4b-8cb2-70e8b582dec4&quot;,&quot;e3971475-2cea-4e1d-ad4e-5e3f31e48434&quot;,&quot;9ff3870d-1831-45db-8408-73824677e77e&quot;,&quot;5c567cea-c945-45af-bdb0-d7ad12b0a4c8&quot;,&quot;afa978f5-30be-4d13-b891-0d79247a8ffa&quot;,&quot;250b517c-dc04-4bcd-a1be-e75203d939de&quot;,&quot;ce62dc2b-841b-4868-9706-3f394330223a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:166,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;adef50f0-7e89-4ef4-b8f8-39ea03745136&quot;,&quot;title&quot;:&quot;lset-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/lset-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/lset-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lset-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9b4b8e78-401f-4351-bbde-547f6392a68b&quot;,&quot;parentUUID&quot;:&quot;adef50f0-7e89-4ef4-b8f8-39ea03745136&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lset-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f791332-fe24-4796-9703-d2fe629ae0d4&quot;,&quot;parentUUID&quot;:&quot;adef50f0-7e89-4ef4-b8f8-39ea03745136&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lset-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3425d02b-6793-47dd-878c-3131943bee82&quot;,&quot;parentUUID&quot;:&quot;adef50f0-7e89-4ef4-b8f8-39ea03745136&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lset-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f55df6cc-bd08-43c6-bf87-29ed13f9738d&quot;,&quot;parentUUID&quot;:&quot;adef50f0-7e89-4ef4-b8f8-39ea03745136&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail when a key does not exist&quot;,&quot;fullTitle&quot;:&quot;lset-command test should fail when a key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lset&#x27;, &#x27;no-key&#x27;, &#x27;negative one thousand&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR no such key&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5ad7192e-7e7e-4515-85c8-7b0350db952c&quot;,&quot;parentUUID&quot;:&quot;adef50f0-7e89-4ef4-b8f8-39ea03745136&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should replace a valid index&quot;,&quot;fullTitle&quot;:&quot;lset-command test should replace a valid index&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, testkey, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;lset&#x27;, testkey, &#x27;-1&#x27;, &#x27;z&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, testkey, &#x27;0&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;z&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;caabfa25-b148-4e6f-b871-1258dc6b2907&quot;,&quot;parentUUID&quot;:&quot;adef50f0-7e89-4ef4-b8f8-39ea03745136&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should recognize invalid indexes&quot;,&quot;fullTitle&quot;:&quot;lset-command test should recognize invalid indexes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lset&#x27;, testkey, &#x27;invalid&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fc2a0a08-8908-481f-a7d1-b396fa3f46df&quot;,&quot;parentUUID&quot;:&quot;adef50f0-7e89-4ef4-b8f8-39ea03745136&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5ad7192e-7e7e-4515-85c8-7b0350db952c&quot;,&quot;caabfa25-b148-4e6f-b871-1258dc6b2907&quot;,&quot;fc2a0a08-8908-481f-a7d1-b396fa3f46df&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;be6edc07-cd62-4c8d-8be0-9f7587660d17&quot;,&quot;title&quot;:&quot;ltrim-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/ltrim-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/ltrim-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ltrim-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9b60b15c-6981-44d5-83d3-d603101d534c&quot;,&quot;parentUUID&quot;:&quot;be6edc07-cd62-4c8d-8be0-9f7587660d17&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ltrim-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0e0bc25f-b740-446a-999a-56b8e07a6541&quot;,&quot;parentUUID&quot;:&quot;be6edc07-cd62-4c8d-8be0-9f7587660d17&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ltrim-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e09c5058-175c-455e-9c72-7375c45e6f58&quot;,&quot;parentUUID&quot;:&quot;be6edc07-cd62-4c8d-8be0-9f7587660d17&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ltrim-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;afffcd7c-0a1c-49e8-bb00-d0a96f7415c8&quot;,&quot;parentUUID&quot;:&quot;be6edc07-cd62-4c8d-8be0-9f7587660d17&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report OK when the key does not exist&quot;,&quot;fullTitle&quot;:&quot;ltrim-command test should report OK when the key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;ltrim&#x27;, &#x27;no-key&#x27;, &#x27;0&#x27;, &#x27;100&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4782c838-792c-4a08-ae0c-0bd30e9fb390&quot;,&quot;parentUUID&quot;:&quot;be6edc07-cd62-4c8d-8be0-9f7587660d17&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should trim a list to the requested size or less&quot;,&quot;fullTitle&quot;:&quot;ltrim-command test should trim a list to the requested size or less&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;calibrate&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;mylist&#x27;, &#x27;0&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;hello&#x27;, &#x27;hello&#x27;, &#x27;calibrate&#x27;, &#x27;hello&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, &#x27;mylist&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;ltrim&#x27;, &#x27;mylist&#x27;, &#x27;0&#x27;, &#x27;100&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, &#x27;mylist&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;mylist&#x27;, &#x27;0&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;hello&#x27;, &#x27;hello&#x27;, &#x27;calibrate&#x27;, &#x27;hello&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;ltrim&#x27;, &#x27;mylist&#x27;, &#x27;1&#x27;, &#x27;4&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;mylist&#x27;, &#x27;0&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;hello&#x27;, &#x27;calibrate&#x27;, &#x27;hello&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, &#x27;mylist&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;ltrim&#x27;, &#x27;mylist&#x27;, &#x27;-2&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, &#x27;mylist&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;mylist&#x27;, &#x27;0&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;calibrate&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2b59d54b-98e8-406a-bf5d-8c50452dd0d0&quot;,&quot;parentUUID&quot;:&quot;be6edc07-cd62-4c8d-8be0-9f7587660d17&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reject an invalid start index&quot;,&quot;fullTitle&quot;:&quot;ltrim-command test should reject an invalid start index&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;ltrim&#x27;, &#x27;testlist&#x27;, &#x27;wrong&#x27;, &#x27;10&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;be8fc29d-edf9-464f-900f-f3b0e569e540&quot;,&quot;parentUUID&quot;:&quot;be6edc07-cd62-4c8d-8be0-9f7587660d17&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4782c838-792c-4a08-ae0c-0bd30e9fb390&quot;,&quot;2b59d54b-98e8-406a-bf5d-8c50452dd0d0&quot;,&quot;be8fc29d-edf9-464f-900f-f3b0e569e540&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:22,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;89a73a76-2006-4437-a985-0fbe6fd779f5&quot;,&quot;title&quot;:&quot;rpop-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/rpop-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/rpop-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpop-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;299ff2a0-da21-4d71-8e38-a2b361399989&quot;,&quot;parentUUID&quot;:&quot;89a73a76-2006-4437-a985-0fbe6fd779f5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpop-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8a027c19-78d3-43c2-ba90-4eef1304826b&quot;,&quot;parentUUID&quot;:&quot;89a73a76-2006-4437-a985-0fbe6fd779f5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpop-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3880c9d-112c-4190-bbfe-c2aaa1ed7e3f&quot;,&quot;parentUUID&quot;:&quot;89a73a76-2006-4437-a985-0fbe6fd779f5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpop-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;797e1d6d-9e16-4cee-9bf0-229428237a9e&quot;,&quot;parentUUID&quot;:&quot;89a73a76-2006-4437-a985-0fbe6fd779f5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report NIL when rpop called on non-existent key&quot;,&quot;fullTitle&quot;:&quot;rpop-command test should report NIL when rpop called on non-existent key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;rpop&#x27;, &#x27;no-key&#x27;]);\n        chai_1.expect(response).to.equal(null);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;no-key&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cbe50877-fc1d-4b67-b66d-4b1f8e1e4dca&quot;,&quot;parentUUID&quot;:&quot;89a73a76-2006-4437-a985-0fbe6fd779f5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cbe50877-fc1d-4b67-b66d-4b1f8e1e4dca&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;554a655e-8c1c-46ee-b288-6e4f01032340&quot;,&quot;title&quot;:&quot;rpoplpush-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/rpoplpush-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/rpoplpush-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpoplpush-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:33,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;62ab368f-c1b9-4fb1-978b-8b17e78aaf5f&quot;,&quot;parentUUID&quot;:&quot;554a655e-8c1c-46ee-b288-6e4f01032340&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpoplpush-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fe18e4bb-1315-4862-a8d1-3bf35a1ee0cd&quot;,&quot;parentUUID&quot;:&quot;554a655e-8c1c-46ee-b288-6e4f01032340&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpoplpush-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d8546834-28f2-48db-9643-0c4ae6efc62f&quot;,&quot;parentUUID&quot;:&quot;554a655e-8c1c-46ee-b288-6e4f01032340&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpoplpush-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;46676bee-0526-49c6-9428-16f7c00612c2&quot;,&quot;parentUUID&quot;:&quot;554a655e-8c1c-46ee-b288-6e4f01032340&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return NIL when destination does not exist&quot;,&quot;fullTitle&quot;:&quot;rpoplpush-command test should return NIL when destination does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;rpoplpush&#x27;, &#x27;src&#x27;, &#x27;dst&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;87b2845b-1486-4477-aab5-dfd54129badc&quot;,&quot;parentUUID&quot;:&quot;554a655e-8c1c-46ee-b288-6e4f01032340&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should rotate a list when src and dst are the same&quot;,&quot;fullTitle&quot;:&quot;rpoplpush-command test should rotate a list when src and dst are the same&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;src&#x27;, &#x27;a&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;src&#x27;, &#x27;b&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;src&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;src&#x27;, &#x27;0&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpoplpush&#x27;, &#x27;src&#x27;, &#x27;src&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;c&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;src&#x27;, &#x27;0&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;c&#x27;, &#x27;a&#x27;, &#x27;b&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1e22ff8d-e05e-495f-98b9-bdc3319ab823&quot;,&quot;parentUUID&quot;:&quot;554a655e-8c1c-46ee-b288-6e4f01032340&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create the target list if it does not exist&quot;,&quot;fullTitle&quot;:&quot;rpoplpush-command test should create the target list if it does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;dst&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpoplpush&#x27;, &#x27;src&#x27;, &#x27;dst&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;b&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;dst&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;src&#x27;, &#x27;0&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;c&#x27;, &#x27;a&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;dst&#x27;, &#x27;0&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;b&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;98482f6a-5958-46c7-b6d1-f304c80d86a6&quot;,&quot;parentUUID&quot;:&quot;554a655e-8c1c-46ee-b288-6e4f01032340&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;87b2845b-1486-4477-aab5-dfd54129badc&quot;,&quot;1e22ff8d-e05e-495f-98b9-bdc3319ab823&quot;,&quot;98482f6a-5958-46c7-b6d1-f304c80d86a6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:32,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;85f0ce86-0f21-4946-a295-141a0860abf7&quot;,&quot;title&quot;:&quot;rpush-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/rpush-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/rpush-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpush-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;55e9dd8e-9bc2-4784-b526-60dbb546ebb0&quot;,&quot;parentUUID&quot;:&quot;85f0ce86-0f21-4946-a295-141a0860abf7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpush-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74e0c523-825f-4b8a-a5a5-7a157824be9b&quot;,&quot;parentUUID&quot;:&quot;85f0ce86-0f21-4946-a295-141a0860abf7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpush-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2b3af674-51cb-46b5-9e48-9e4f0a24fcac&quot;,&quot;parentUUID&quot;:&quot;85f0ce86-0f21-4946-a295-141a0860abf7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpush-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;82efbabc-4d8b-4f23-9f0b-1082faa48dfa&quot;,&quot;parentUUID&quot;:&quot;85f0ce86-0f21-4946-a295-141a0860abf7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report ERR when attempting to rpush to a non-list key&quot;,&quot;fullTitle&quot;:&quot;rpush-command test should report ERR when attempting to rpush to a non-list key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;lkey&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;lkey&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;56a564ba-db3d-4861-ae3a-bbacb1c71173&quot;,&quot;parentUUID&quot;:&quot;85f0ce86-0f21-4946-a295-141a0860abf7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;56a564ba-db3d-4861-ae3a-bbacb1c71173&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;840293ee-9604-4931-8c27-2e75a4593cb5&quot;,&quot;title&quot;:&quot;multi command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/multi-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/multi-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;multi command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:42,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4fd23f5-e249-4493-8243-acc4d6d806ba&quot;,&quot;parentUUID&quot;:&quot;840293ee-9604-4931-8c27-2e75a4593cb5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;multi command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b3e1f0ff-b819-48f8-83d9-149b4abd27ff&quot;,&quot;parentUUID&quot;:&quot;840293ee-9604-4931-8c27-2e75a4593cb5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;multi command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad09be87-ae09-4da2-9655-d643e472c775&quot;,&quot;parentUUID&quot;:&quot;840293ee-9604-4931-8c27-2e75a4593cb5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;multi command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8c3ce6a-436d-4fe7-b3fe-71e6d6e8d8c1&quot;,&quot;parentUUID&quot;:&quot;840293ee-9604-4931-8c27-2e75a4593cb5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not allow nested MULTI invocations&quot;,&quot;fullTitle&quot;:&quot;multi command test should not allow nested MULTI invocations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;multi&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;multi&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR MULTI calls can not be nested&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;de82e575-1ace-41b2-a10f-23564c347c90&quot;,&quot;parentUUID&quot;:&quot;840293ee-9604-4931-8c27-2e75a4593cb5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respect the DISCARD command&quot;,&quot;fullTitle&quot;:&quot;multi command test should respect the DISCARD command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;discard&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;09a3fe8a-5a5e-4726-9a2b-db31a01e9c4b&quot;,&quot;parentUUID&quot;:&quot;840293ee-9604-4931-8c27-2e75a4593cb5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not allow DISCARD without MULTI&quot;,&quot;fullTitle&quot;:&quot;multi command test should not allow DISCARD without MULTI&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;discard&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR DISCARD without MULTI&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd51a2fa-232c-4d47-864e-772e4f5a604f&quot;,&quot;parentUUID&quot;:&quot;840293ee-9604-4931-8c27-2e75a4593cb5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should continue to validate commands after MULTI&quot;,&quot;fullTitle&quot;:&quot;multi command test should continue to validate commands after MULTI&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;multi&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;unknown&#x27;, &#x27;command&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR unknown command `unknown`, with args beginning with: `command`, &#x27;, `${response}`);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpush&#x27;, &#x27;test&#x27;, &#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;QUEUED&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8dd16ddd-4b16-43fe-bf4c-a68fc35c3ee8&quot;,&quot;parentUUID&quot;:&quot;840293ee-9604-4931-8c27-2e75a4593cb5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should EXECABORT from a previous error&quot;,&quot;fullTitle&quot;:&quot;multi command test should EXECABORT from a previous error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;exec&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: EXECABORT Transaction discarded because of previous errors.&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;05e86e2f-04a7-47d4-a5c4-cf4a9a08a5a1&quot;,&quot;parentUUID&quot;:&quot;840293ee-9604-4931-8c27-2e75a4593cb5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should queue a set of commands when there is no intervening error&quot;,&quot;fullTitle&quot;:&quot;multi command test should queue a set of commands when there is no intervening error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;multi&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpush&#x27;, &#x27;test&#x27;, &#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;QUEUED&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exec&#x27;]);\n        chai_1.expect(response).to.eql([3]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f87f4e20-4a73-4438-9163-77578577c3c2&quot;,&quot;parentUUID&quot;:&quot;840293ee-9604-4931-8c27-2e75a4593cb5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reset transaction state after executing commands&quot;,&quot;fullTitle&quot;:&quot;multi command test should reset transaction state after executing commands&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;multi&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;discard&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;05f0873d-5bbd-478b-8bf7-d634032a8110&quot;,&quot;parentUUID&quot;:&quot;840293ee-9604-4931-8c27-2e75a4593cb5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the results of multiple commands in the order provided&quot;,&quot;fullTitle&quot;:&quot;multi command test should return the results of multiple commands in the order provided&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;multi&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;QUEUED&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;QUEUED&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;brpoplpush&#x27;, &#x27;test&#x27;, &#x27;dest&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;QUEUED&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exec&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;three&#x27;, &#x27;two&#x27;, &#x27;one&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;dest&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;15740998-7d6c-4dd0-a83b-4b7ea59b4db3&quot;,&quot;parentUUID&quot;:&quot;840293ee-9604-4931-8c27-2e75a4593cb5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should validate the behavior of brpoplpush&quot;,&quot;fullTitle&quot;:&quot;multi command test should validate the behavior of brpoplpush&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpush&#x27;, &#x27;test&#x27;, &#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;three&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;two&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;brpoplpush&#x27;, &#x27;test&#x27;, &#x27;dest&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;one&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;07622753-7d09-4d1c-8495-b48b14cfbc5d&quot;,&quot;parentUUID&quot;:&quot;840293ee-9604-4931-8c27-2e75a4593cb5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;de82e575-1ace-41b2-a10f-23564c347c90&quot;,&quot;09a3fe8a-5a5e-4726-9a2b-db31a01e9c4b&quot;,&quot;cd51a2fa-232c-4d47-864e-772e4f5a604f&quot;,&quot;8dd16ddd-4b16-43fe-bf4c-a68fc35c3ee8&quot;,&quot;05e86e2f-04a7-47d4-a5c4-cf4a9a08a5a1&quot;,&quot;f87f4e20-4a73-4438-9163-77578577c3c2&quot;,&quot;05f0873d-5bbd-478b-8bf7-d634032a8110&quot;,&quot;15740998-7d6c-4dd0-a83b-4b7ea59b4db3&quot;,&quot;07622753-7d09-4d1c-8495-b48b14cfbc5d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:48,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;9f58be89-9ff3-4708-8f90-bc17827e35a6&quot;,&quot;title&quot;:&quot;script-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/script-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/script-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;script-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:28,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;flush&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b2ac30e-7b13-437b-a6c1-5566127743fb&quot;,&quot;parentUUID&quot;:&quot;9f58be89-9ff3-4708-8f90-bc17827e35a6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;script-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6d704530-3df6-4429-8a83-01dd4fe1ddca&quot;,&quot;parentUUID&quot;:&quot;9f58be89-9ff3-4708-8f90-bc17827e35a6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;script-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dc7faccf-5aea-4f52-a079-31e65cf146bb&quot;,&quot;parentUUID&quot;:&quot;9f58be89-9ff3-4708-8f90-bc17827e35a6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;script-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;054ef39f-f01e-4456-b9ea-86f707de3b7a&quot;,&quot;parentUUID&quot;:&quot;9f58be89-9ff3-4708-8f90-bc17827e35a6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should calcuclate the correct sha1 of a script and store the script&quot;,&quot;fullTitle&quot;:&quot;script-command test should calcuclate the correct sha1 of a script and store the script&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:72,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;exists&#x27;, sha1]);\n        chai_1.expect(response).to.eql([0]);\n        // validate failure on unparseable script\n        response = yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;load&#x27;, code]);\n        chai_1.expect(response).to.match(/ReplyError: ERR .*/);\n        // validate success on parseable script\n        response = yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;load&#x27;, `${code}}`]);\n        chai_1.expect(response).to.equal(sha1);\n        // validate a script is persisted\n        response = yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;exists&#x27;, sha1]);\n        chai_1.expect(response).to.eql([1]);\n        // validate response to unknown sub command\n        response = yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;test&#x27;, sha1]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR Unknown subcommand or wrong number of arguments for \\&#x27;test\\&#x27;. Try SCRIPT HELP.&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb1b6917-8d25-46ff-af5d-33bc52c5549d&quot;,&quot;parentUUID&quot;:&quot;9f58be89-9ff3-4708-8f90-bc17827e35a6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should evaluate a loaded lua script using evalsha&quot;,&quot;fullTitle&quot;:&quot;script-command test should evaluate a loaded lua script using evalsha&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // Validate that NOSCRIPT is triggered\n        response = yield common_test_1.sendCommand(client, [&#x27;evalsha&#x27;, `${sha1}xx`, &#x27;2&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;first&#x27;, &#x27;second&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: NOSCRIPT No matching script. Please use EVAL.&#x27;);\n        // Validate that param 1 cannot be negative\n        response = yield common_test_1.sendCommand(client, [&#x27;evalsha&#x27;, sha1, &#x27;-2&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;first&#x27;, &#x27;second&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR Number of keys can\\&#x27;t be negative&#x27;);\n        // Validate that param 1 cannot be text\n        response = yield common_test_1.sendCommand(client, [&#x27;evalsha&#x27;, sha1, &#x27;two&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;first&#x27;, &#x27;second&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;001ed570-71a2-428a-817f-df380677da7e&quot;,&quot;parentUUID&quot;:&quot;9f58be89-9ff3-4708-8f90-bc17827e35a6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should execute a simple script&quot;,&quot;fullTitle&quot;:&quot;script-command test should execute a simple script&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // Validate that a simple script can be processed\n        response = yield common_test_1.sendCommand(client, [&#x27;EVAL&#x27;, &#x27;local val=\&quot;Hello Compose\&quot; return val&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;Hello Compose&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;412f94b7-8046-4962-848b-b7ca3179b083&quot;,&quot;parentUUID&quot;:&quot;9f58be89-9ff3-4708-8f90-bc17827e35a6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create and process the ARGV table&quot;,&quot;fullTitle&quot;:&quot;script-command test should create and process the ARGV table&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;eval&#x27;, &#x27;return ARGV[2]&#x27;, &#x27;2&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;first&#x27;, &#x27;second&#x27;]);\n        chai_1.expect(response).to.eql(&#x27;second&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;13cd742c-e8f7-4884-a78b-b5518f9de8a7&quot;,&quot;parentUUID&quot;:&quot;9f58be89-9ff3-4708-8f90-bc17827e35a6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create and process the KEYS table&quot;,&quot;fullTitle&quot;:&quot;script-command test should create and process the KEYS table&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;eval&#x27;, &#x27;return KEYS[1]&#x27;, &#x27;2&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;first&#x27;, &#x27;second&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;key1&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6bf1f6f5-fbef-4371-a021-0cc8343c9f13&quot;,&quot;parentUUID&quot;:&quot;9f58be89-9ff3-4708-8f90-bc17827e35a6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a NUMBER when required&quot;,&quot;fullTitle&quot;:&quot;script-command test should return a NUMBER when required&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;eval&#x27;, &#x27;return 123&#x27;, &#x27;2&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;first&#x27;, &#x27;second&#x27;]);\n        chai_1.expect(response).to.equal(123);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4819b52a-abd4-499a-a995-2a3ee11d061a&quot;,&quot;parentUUID&quot;:&quot;9f58be89-9ff3-4708-8f90-bc17827e35a6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return NIL when there is no return value&quot;,&quot;fullTitle&quot;:&quot;script-command test should return NIL when there is no return value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;eval&#x27;, &#x27;print \&quot;Hello World\&quot;&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9814d404-b2ef-402b-9883-899eed726aa9&quot;,&quot;parentUUID&quot;:&quot;9f58be89-9ff3-4708-8f90-bc17827e35a6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a TABLE when required&quot;,&quot;fullTitle&quot;:&quot;script-command test should return a TABLE when required&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [`eval`, `return ARGV`, &#x27;2&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;first&#x27;, &#x27;second&#x27;, &#x27;third&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;first&#x27;, &#x27;second&#x27;, &#x27;third&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0f092f54-c59d-4103-a216-fcbb52676d6e&quot;,&quot;parentUUID&quot;:&quot;9f58be89-9ff3-4708-8f90-bc17827e35a6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return items in order&quot;,&quot;fullTitle&quot;:&quot;script-command test should return items in order&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;eval&#x27;, &#x27;return {true, \&quot;test\&quot;, false, 10, 10.2}&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.eql([1, &#x27;test&#x27;, null, 10, 10]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;18211f2a-5ed9-4cea-bf41-ee00f60e87b1&quot;,&quot;parentUUID&quot;:&quot;9f58be89-9ff3-4708-8f90-bc17827e35a6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return integer and nil for true and false, respectively&quot;,&quot;fullTitle&quot;:&quot;script-command test should return integer and nil for true and false, respectively&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;eval&#x27;, &#x27;return { true, false, false}&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.eql([1, null, null]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;72e0a08f-227c-465d-93cc-c5833a9dfedb&quot;,&quot;parentUUID&quot;:&quot;9f58be89-9ff3-4708-8f90-bc17827e35a6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cb1b6917-8d25-46ff-af5d-33bc52c5549d&quot;,&quot;001ed570-71a2-428a-817f-df380677da7e&quot;,&quot;412f94b7-8046-4962-848b-b7ca3179b083&quot;,&quot;13cd742c-e8f7-4884-a78b-b5518f9de8a7&quot;,&quot;6bf1f6f5-fbef-4371-a021-0cc8343c9f13&quot;,&quot;4819b52a-abd4-499a-a995-2a3ee11d061a&quot;,&quot;9814d404-b2ef-402b-9883-899eed726aa9&quot;,&quot;0f092f54-c59d-4103-a216-fcbb52676d6e&quot;,&quot;18211f2a-5ed9-4cea-bf41-ee00f60e87b1&quot;,&quot;72e0a08f-227c-465d-93cc-c5833a9dfedb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:170,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;c1e3620f-0e82-448d-b2f2-838b7a4dd083&quot;,&quot;title&quot;:&quot;resp-server test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/server/resp-server.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/server/resp-server.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;resp-server test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;48d158d3-8707-4ef8-b88c-8e75133a06bb&quot;,&quot;parentUUID&quot;:&quot;c1e3620f-0e82-448d-b2f2-838b7a4dd083&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;resp-server test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f251deec-f57e-442f-8521-1822acac1e47&quot;,&quot;parentUUID&quot;:&quot;c1e3620f-0e82-448d-b2f2-838b7a4dd083&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;d58a7a79-aa67-4ec2-85a2-d88f706c771a&quot;,&quot;title&quot;:&quot;server start and stop tests&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/server/resp-server.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/server/resp-server.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should instantiate&quot;,&quot;fullTitle&quot;:&quot;resp-server test server start and stop tests should instantiate&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            respServer = new resp_server_1.RespServer();\n            chai_1.expect(respServer.constructor.name).to.equal(&#x27;RespServer&#x27;);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e5f9fbb1-78f1-4b6e-acdc-9b5ca53fe84f&quot;,&quot;parentUUID&quot;:&quot;d58a7a79-aa67-4ec2-85a2-d88f706c771a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should emit \&quot;ready\&quot; on startup&quot;,&quot;fullTitle&quot;:&quot;resp-server test server start and stop tests should emit \&quot;ready\&quot; on startup&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;480a6577-408d-448b-8b08-99986c0acb48&quot;,&quot;parentUUID&quot;:&quot;d58a7a79-aa67-4ec2-85a2-d88f706c771a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should emit \&quot;closed\&quot; on shutdown&quot;,&quot;fullTitle&quot;:&quot;resp-server test server start and stop tests should emit \&quot;closed\&quot; on shutdown&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer.on(&#x27;closed&#x27;, () =&gt; {\n    done();\n});\nrespServer.stop();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a69d68b9-aa58-4e58-9a72-a6c601d8b4ed&quot;,&quot;parentUUID&quot;:&quot;d58a7a79-aa67-4ec2-85a2-d88f706c771a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should accept connections on default ${env.REDIS_HOST}:${env.REDIS_PORT}&quot;,&quot;fullTitle&quot;:&quot;resp-server test server start and stop tests should accept connections on default ${env.REDIS_HOST}:${env.REDIS_PORT}&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    const client = new net.Socket();\n    client.on(&#x27;ready&#x27;, (data) =&gt; {\n        respServer.on(&#x27;closed&#x27;, () =&gt; {\n            done();\n        });\n        respServer.stop();\n    });\n    client.on(&#x27;connect&#x27;, (data) =&gt; {\n    });\n    client.on(&#x27;error&#x27;, (err) =&gt; {\n        assert_1.fail(`Unexpected error during connection`, err.stack);\n    });\n    client.connect(Number(process.env.REDIS_PORT || 6379), process.env.REDIS_HOST || &#x27;localhost&#x27;, () =&gt; {\n    });\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2313160e-0a16-4a59-a77e-c8147334f445&quot;,&quot;parentUUID&quot;:&quot;d58a7a79-aa67-4ec2-85a2-d88f706c771a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e5f9fbb1-78f1-4b6e-acdc-9b5ca53fe84f&quot;,&quot;480a6577-408d-448b-8b08-99986c0acb48&quot;,&quot;a69d68b9-aa58-4e58-9a72-a6c601d8b4ed&quot;,&quot;2313160e-0a16-4a59-a77e-c8147334f445&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:11,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;0049de86-74a5-470e-9325-8f8d22e1cd8a&quot;,&quot;title&quot;:&quot;other server tests&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/server/resp-server.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/server/resp-server.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    client = new net.Socket();\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b8395749-7d14-4271-adb1-1df75c348f8f&quot;,&quot;parentUUID&quot;:&quot;0049de86-74a5-470e-9325-8f8d22e1cd8a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            yield respServer.stop();\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ff175d48-6a91-481f-8451-76d9c4207645&quot;,&quot;parentUUID&quot;:&quot;0049de86-74a5-470e-9325-8f8d22e1cd8a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should respond properly to the \&quot;ping\&quot; command&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should respond properly to the \&quot;ping\&quot; command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;ping&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;PONG&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f19a6e4e-876b-4b48-b3b2-79120b7a375f&quot;,&quot;parentUUID&quot;:&quot;0049de86-74a5-470e-9325-8f8d22e1cd8a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond properly to the \&quot;echo\&quot; command&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should respond properly to the \&quot;echo\&quot; command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;echo&#x27;, &#x27;test&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;test&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f67d252-6049-40ad-8418-d9e394a860a1&quot;,&quot;parentUUID&quot;:&quot;0049de86-74a5-470e-9325-8f8d22e1cd8a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with \&quot;ERR\&quot; when echo command has no parameters&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should respond with \&quot;ERR\&quot; when echo command has no parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            // Note that &#x27;ReplyError:&#x27; is supplied by the redis parser, NOT by the code under test\n            const response = yield common_test_1.sendCommand(client, [&#x27;echo&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;echo\\&#x27; command&#x27;);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1df5b6a4-0fec-44d6-8ce4-1e82eb48578b&quot;,&quot;parentUUID&quot;:&quot;0049de86-74a5-470e-9325-8f8d22e1cd8a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with \&quot;ERR\&quot; when echo command has two or more parameters&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should respond with \&quot;ERR\&quot; when echo command has two or more parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;echo&#x27;, &#x27;one&#x27;, &#x27;two&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;echo\\&#x27; command&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3e8d759d-0356-45ec-90df-cb898e4e693d&quot;,&quot;parentUUID&quot;:&quot;0049de86-74a5-470e-9325-8f8d22e1cd8a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond to the \&quot;time\&quot; command with an array of two strings&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should respond to the \&quot;time\&quot; command with an array of two strings&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Note: we use hrtime which should already do what we need so we don&#x27;t validate\ncommon_test_1.sendCommand(client, [&#x27;time&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.be.an(&#x27;array&#x27;);\n    chai_1.expect(response.length).to.equal(2);\n    chai_1.expect(parseInt(response[0], 10)).to.be.greaterThan(0);\n    chai_1.expect(parseInt(response[1], 10)).to.be.greaterThan(0);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e08e04d7-4bef-4c0b-b6bb-4ca935261d8a&quot;,&quot;parentUUID&quot;:&quot;0049de86-74a5-470e-9325-8f8d22e1cd8a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with nulCommand when the command is not known&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should respond with nulCommand when the command is not known&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;felix&#x27;, &#x27;the&#x27;, &#x27;cat&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.match(/^ReplyError: ERR unknown command.*/);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;db2f30fc-5807-43e6-968f-3ee3ce81a06b&quot;,&quot;parentUUID&quot;:&quot;0049de86-74a5-470e-9325-8f8d22e1cd8a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should implement the info command&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should implement the info command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            const response = yield common_test_1.sendCommand(client, [&#x27;info&#x27;]);\n            chai_1.expect(response).to.match(/^# server\\r\\nredis_version:.*/im);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;50be170a-9673-46bf-b2b5-396802b1e1e0&quot;,&quot;parentUUID&quot;:&quot;0049de86-74a5-470e-9325-8f8d22e1cd8a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should implement the SET command&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should implement the SET command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;SET&#x27;, &#x27;this&#x27;, &#x27;that&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n    common_test_1.sendCommand(client, [&#x27;GET&#x27;, &#x27;this&#x27;])\n        .then((getresponse) =&gt; {\n        chai_1.expect(getresponse).to.equal(&#x27;that&#x27;);\n        done();\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c8fb6ed7-94f3-4806-8444-d2c56809ce59&quot;,&quot;parentUUID&quot;:&quot;0049de86-74a5-470e-9325-8f8d22e1cd8a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return nil string when GET is invoked with unknown parameters&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should return nil string when GET is invoked with unknown parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;GET&#x27;, &#x27; &#x27;])\n    .then((getresponse) =&gt; {\n    chai_1.expect(getresponse).to.equal(null);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f8649648-fb7a-476e-83ea-9873fc78be4f&quot;,&quot;parentUUID&quot;:&quot;0049de86-74a5-470e-9325-8f8d22e1cd8a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should implement the info command with a known parameter&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should implement the info command with a known parameter&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;info&#x27;, &#x27;memory&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.match(/^# memory.*/mi);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5f2fd281-7739-4a8c-83f7-a133b8ae60cd&quot;,&quot;parentUUID&quot;:&quot;0049de86-74a5-470e-9325-8f8d22e1cd8a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not respond when info is called with an unknown paramter&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should not respond when info is called with an unknown paramter&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            const response = yield common_test_1.sendCommand(client, [&#x27;info&#x27;, &#x27;juicy&#x27;]);\n            // Don&#x27;t know how to send an empty - non-null string response yet\n            chai_1.expect(String(response).trim()).to.equal(&#x27;&#x27;);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4a363936-6445-41d4-a635-8fec72a14164&quot;,&quot;parentUUID&quot;:&quot;0049de86-74a5-470e-9325-8f8d22e1cd8a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report the number of keys in the current database&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should report the number of keys in the current database&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            const response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n            chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n            chai_1.expect(response).to.be.greaterThan(0);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4bd327ad-596b-4325-8996-b6c25316aa8e&quot;,&quot;parentUUID&quot;:&quot;0049de86-74a5-470e-9325-8f8d22e1cd8a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support the \&quot;select\&quot; command&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should support the \&quot;select\&quot; command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            let response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;12&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n            chai_1.expect(response).to.equal(0);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;324beed5-a952-4e85-8cb3-17891131e7df&quot;,&quot;parentUUID&quot;:&quot;0049de86-74a5-470e-9325-8f8d22e1cd8a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not allow us to select an invalid database&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should not allow us to select an invalid database&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            let response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;one&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;ReplyError: ERR invalid DB index&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;-12&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;ReplyError: ERR DB index is out of range&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;22&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;ReplyError: ERR DB index is out of range&#x27;);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ed760d93-dbfc-4856-8aad-2167da8129de&quot;,&quot;parentUUID&quot;:&quot;0049de86-74a5-470e-9325-8f8d22e1cd8a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond properly to the \&quot;quit\&quot; command&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should respond properly to the \&quot;quit\&quot; command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Note however that the server does not disconnect us.  That is the client&#x27;s job\ncommon_test_1.sendCommand(client, [&#x27;quit&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0083810a-7f2a-4e98-9dc8-91e96acd66b7&quot;,&quot;parentUUID&quot;:&quot;0049de86-74a5-470e-9325-8f8d22e1cd8a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f19a6e4e-876b-4b48-b3b2-79120b7a375f&quot;,&quot;6f67d252-6049-40ad-8418-d9e394a860a1&quot;,&quot;1df5b6a4-0fec-44d6-8ce4-1e82eb48578b&quot;,&quot;3e8d759d-0356-45ec-90df-cb898e4e693d&quot;,&quot;e08e04d7-4bef-4c0b-b6bb-4ca935261d8a&quot;,&quot;db2f30fc-5807-43e6-968f-3ee3ce81a06b&quot;,&quot;50be170a-9673-46bf-b2b5-396802b1e1e0&quot;,&quot;c8fb6ed7-94f3-4806-8444-d2c56809ce59&quot;,&quot;f8649648-fb7a-476e-83ea-9873fc78be4f&quot;,&quot;5f2fd281-7739-4a8c-83f7-a133b8ae60cd&quot;,&quot;4a363936-6445-41d4-a635-8fec72a14164&quot;,&quot;4bd327ad-596b-4325-8996-b6c25316aa8e&quot;,&quot;324beed5-a952-4e85-8cb3-17891131e7df&quot;,&quot;ed760d93-dbfc-4856-8aad-2167da8129de&quot;,&quot;0083810a-7f2a-4e98-9dc8-91e96acd66b7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:32,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;06bcfa22-04a6-4a65-9d03-b0f4d9d5055d&quot;,&quot;title&quot;:&quot;sdiff-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/set/sdiff-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/set/sdiff-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sdiff-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:38,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;29af73bc-7bb3-48c9-a3a3-55b722e1be9a&quot;,&quot;parentUUID&quot;:&quot;06bcfa22-04a6-4a65-9d03-b0f4d9d5055d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sdiff-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3152ffd8-0716-4aae-9d9b-9bb37da7b5bf&quot;,&quot;parentUUID&quot;:&quot;06bcfa22-04a6-4a65-9d03-b0f4d9d5055d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sdiff-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0cf4fc87-64f4-441a-91f7-472dbde6f912&quot;,&quot;parentUUID&quot;:&quot;06bcfa22-04a6-4a65-9d03-b0f4d9d5055d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sdiff-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;272aa046-098d-45ba-b886-2f4d4b3bdd10&quot;,&quot;parentUUID&quot;:&quot;06bcfa22-04a6-4a65-9d03-b0f4d9d5055d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return EMPTY ARRAY when the source set does not exist&quot;,&quot;fullTitle&quot;:&quot;sdiff-command test should return EMPTY ARRAY when the source set does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sdiff&#x27;, &#x27;ary&#x27;]);\n        chai_1.expect(response).to.eql([]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bae3ae4b-3d00-439e-8175-2fbf7c511a12&quot;,&quot;parentUUID&quot;:&quot;06bcfa22-04a6-4a65-9d03-b0f4d9d5055d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return all members of source set when the destination set does not exist&quot;,&quot;fullTitle&quot;:&quot;sdiff-command test should return all members of source set when the destination set does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key1&#x27;, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;sdiff&#x27;, &#x27;key1&#x27;, &#x27;empty&#x27;]);\n        // REDIS does not guarantee order of the set\n        chai_1.expect(response.sort()).to.eql([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c2aae3c9-194e-4c0b-84fd-e883dd839ec4&quot;,&quot;parentUUID&quot;:&quot;06bcfa22-04a6-4a65-9d03-b0f4d9d5055d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a proper DIFF of one or more sets&quot;,&quot;fullTitle&quot;:&quot;sdiff-command test should return a proper DIFF of one or more sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key2&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key3&#x27;, &#x27;a&#x27;, &#x27;c&#x27;, &#x27;e&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;sdiff&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;b&#x27;, &#x27;d&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3c9d3b85-0f10-4ca8-9be8-8178c706b0d7&quot;,&quot;parentUUID&quot;:&quot;06bcfa22-04a6-4a65-9d03-b0f4d9d5055d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should ignore non-list keys&quot;,&quot;fullTitle&quot;:&quot;sdiff-command test should ignore non-list keys&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;list&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;2&#x27;, &#x27;three&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;sdiff&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;b&#x27;, &#x27;d&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;34b1c383-44bb-41ec-a8ac-a65ad86bf56a&quot;,&quot;parentUUID&quot;:&quot;06bcfa22-04a6-4a65-9d03-b0f4d9d5055d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bae3ae4b-3d00-439e-8175-2fbf7c511a12&quot;,&quot;c2aae3c9-194e-4c0b-84fd-e883dd839ec4&quot;,&quot;3c9d3b85-0f10-4ca8-9be8-8178c706b0d7&quot;,&quot;34b1c383-44bb-41ec-a8ac-a65ad86bf56a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:35,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;ae92bae2-a357-45b1-9fc6-9a494603d9c1&quot;,&quot;title&quot;:&quot;set commands test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/set/set-commands.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/set/set-commands.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set commands test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:31,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;flush&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0319075b-a861-48ee-8061-41534a7e91e5&quot;,&quot;parentUUID&quot;:&quot;ae92bae2-a357-45b1-9fc6-9a494603d9c1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set commands test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7365ea2e-862a-463e-a809-d05a383b1ea2&quot;,&quot;parentUUID&quot;:&quot;ae92bae2-a357-45b1-9fc6-9a494603d9c1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set commands test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;19a67118-8fa1-4c2c-b879-3f3593a04d21&quot;,&quot;parentUUID&quot;:&quot;ae92bae2-a357-45b1-9fc6-9a494603d9c1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set commands test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6bd76f3a-38ae-41d6-91a5-f056ec1efc78&quot;,&quot;parentUUID&quot;:&quot;ae92bae2-a357-45b1-9fc6-9a494603d9c1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return ZERO when certain commands are applied against key that doesn&#x27;t exist&quot;,&quot;fullTitle&quot;:&quot;set commands test should return ZERO when certain commands are applied against key that doesn&#x27;t exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;scard&#x27;, &#x27;doesnotexist&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, &#x27;doesnotexist&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f8e1e514-237b-43a9-98de-029f6a2375e8&quot;,&quot;parentUUID&quot;:&quot;ae92bae2-a357-45b1-9fc6-9a494603d9c1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw an appropriate error when a \&quot;set\&quot; command is applied to a non-set key&quot;,&quot;fullTitle&quot;:&quot;set commands test should throw an appropriate error when a \&quot;set\&quot; command is applied to a non-set key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;wrongtype&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, &#x27;wrongtype&#x27;, &#x27;set&#x27;]);\n        chai_1.expect(response).to.equal(WRONG_TYPE);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9cefd25a-1126-4247-bc28-65c1def4bdf2&quot;,&quot;parentUUID&quot;:&quot;ae92bae2-a357-45b1-9fc6-9a494603d9c1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create a new key when sadd is called correctly&quot;,&quot;fullTitle&quot;:&quot;set commands test should create a new key when sadd is called correctly&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;skey&#x27;, &#x27;untest&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;skey&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4168f8ad-de6f-431c-bfa2-b09392fb3ac1&quot;,&quot;parentUUID&quot;:&quot;ae92bae2-a357-45b1-9fc6-9a494603d9c1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should only report the number of added keys&quot;,&quot;fullTitle&quot;:&quot;set commands test should only report the number of added keys&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;skey&#x27;, &#x27;untest&#x27;, &#x27;test2&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;smembers&#x27;, &#x27;skey&#x27;]);\n        chai_1.expect(response).to.be.an(&#x27;array&#x27;);\n        // Keys are returned in reverse order? - No.\n        // smembers can return a list in any order\n        chai_1.expect(response.length).to.equal(2);\n        chai_1.expect(response.indexOf(&#x27;test2&#x27;)).to.be.greaterThan(-1);\n        chai_1.expect(response.indexOf(&#x27;untest&#x27;)).to.be.greaterThan(-1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b6695a28-d7a9-4019-b5f1-ac9300360355&quot;,&quot;parentUUID&quot;:&quot;ae92bae2-a357-45b1-9fc6-9a494603d9c1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;0b1b3b60-f4ac-413b-ab61-6a503cca11a3&quot;,&quot;title&quot;:&quot;smove, sismember, and scard tests&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/set/set-commands.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/set/set-commands.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should do nothing when smove is called with a source key that does not exist&quot;,&quot;fullTitle&quot;:&quot;set commands test smove, sismember, and scard tests should do nothing when smove is called with a source key that does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            let response = yield common_test_1.sendCommand(client, [&#x27;smove&#x27;, &#x27;fromskey&#x27;, &#x27;toskey&#x27;, &#x27;nothing&#x27;]);\n            chai_1.expect(response).to.equal(0);\n            response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;fromskey&#x27;, &#x27;toskey&#x27;]);\n            chai_1.expect(response).to.equal(0);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;98cc1421-c086-49b0-98e1-87f04f7cbb51&quot;,&quot;parentUUID&quot;:&quot;0b1b3b60-f4ac-413b-ab61-6a503cca11a3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should move a key from one set to another (and create the target if necessary)&quot;,&quot;fullTitle&quot;:&quot;set commands test smove, sismember, and scard tests should move a key from one set to another (and create the target if necessary)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            let response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;tonewskey&#x27;]);\n            chai_1.expect(response).to.equal(0);\n            response = yield common_test_1.sendCommand(client, [&#x27;smembers&#x27;, &#x27;tonewskey&#x27;]);\n            chai_1.expect(response).to.eql([]);\n            response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, uniqueKey, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;]);\n            chai_1.expect(response).to.equal(3);\n            response = yield common_test_1.sendCommand(client, [&#x27;smembers&#x27;, uniqueKey]);\n            // key order is undefined in redis\n            chai_1.expect(response.length).to.equal(3);\n            chai_1.expect(response.indexOf(&#x27;key3&#x27;)).to.be.greaterThan(-1);\n            chai_1.expect(response.indexOf(&#x27;key2&#x27;)).to.be.greaterThan(-1);\n            chai_1.expect(response.indexOf(&#x27;key1&#x27;)).to.be.greaterThan(-1);\n            response = yield common_test_1.sendCommand(client, [&#x27;smove&#x27;, uniqueKey, &#x27;tonewskey&#x27;, &#x27;key2&#x27;]);\n            chai_1.expect(response).to.equal(1);\n            response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, &#x27;tonewskey&#x27;, &#x27;key2&#x27;]);\n            chai_1.expect(response).to.equal(1);\n            response = yield common_test_1.sendCommand(client, [&#x27;smembers&#x27;, uniqueKey]);\n            // key order, again\n            chai_1.expect(response.length).to.equal(2);\n            chai_1.expect(response.indexOf(&#x27;key3&#x27;)).to.be.greaterThan(-1);\n            chai_1.expect(response.indexOf(&#x27;key1&#x27;)).to.be.greaterThan(-1);\n            response = yield common_test_1.sendCommand(client, [&#x27;smembers&#x27;, &#x27;tonewskey&#x27;]);\n            chai_1.expect(response).to.eql([&#x27;key2&#x27;]);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea3cc100-cfef-4318-b50e-bc4e61897336&quot;,&quot;parentUUID&quot;:&quot;0b1b3b60-f4ac-413b-ab61-6a503cca11a3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report cardinality of a set&quot;,&quot;fullTitle&quot;:&quot;set commands test smove, sismember, and scard tests should report cardinality of a set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            let response = yield common_test_1.sendCommand(client, [&#x27;scard&#x27;, uniqueKey]);\n            chai_1.expect(response).to.equal(2);\n            response = yield common_test_1.sendCommand(client, [&#x27;scard&#x27;, &#x27;tonewskey&#x27;]);\n            chai_1.expect(response).to.equal(1);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;39ce17cc-8d23-498d-8ddb-135f0886cb30&quot;,&quot;parentUUID&quot;:&quot;0b1b3b60-f4ac-413b-ab61-6a503cca11a3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report ismember true/false&quot;,&quot;fullTitle&quot;:&quot;set commands test smove, sismember, and scard tests should report ismember true/false&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            let response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, &#x27;tonewskey&#x27;, &#x27;key2&#x27;]);\n            chai_1.expect(response).to.equal(1);\n            response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, &#x27;tonewskey&#x27;, &#x27;key1&#x27;]);\n            chai_1.expect(response).to.equal(0);\n            response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, uniqueKey, &#x27;key1&#x27;]);\n            chai_1.expect(response).to.equal(1);\n            response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, uniqueKey, &#x27;key3&#x27;]);\n            chai_1.expect(response).to.equal(1);\n            response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, uniqueKey, &#x27;key2&#x27;]);\n            chai_1.expect(response).to.equal(0);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;03904a8b-a2ef-4930-b1e9-0de016469051&quot;,&quot;parentUUID&quot;:&quot;0b1b3b60-f4ac-413b-ab61-6a503cca11a3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should only remove the source element if the destination element already exists&quot;,&quot;fullTitle&quot;:&quot;set commands test smove, sismember, and scard tests should only remove the source element if the destination element already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            const newkey = `move-unique-${new Date().getTime()}`;\n            const newToKey = `move-new-to-key`;\n            let response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, newkey, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;]);\n            chai_1.expect(response).to.equal(3);\n            response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, newToKey, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;]);\n            chai_1.expect(response).to.equal(3);\n            response = yield common_test_1.sendCommand(client, [&#x27;smove&#x27;, newkey, newToKey, &#x27;key2&#x27;]);\n            // Inconsistent with redis documentation?\n            chai_1.expect(response).to.equal(1);\n            response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, newkey, &#x27;key2&#x27;]);\n            chai_1.expect(response).to.equal(0);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4359b379-066a-43e6-a149-c5f0b57c2134&quot;,&quot;parentUUID&quot;:&quot;0b1b3b60-f4ac-413b-ab61-6a503cca11a3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;98cc1421-c086-49b0-98e1-87f04f7cbb51&quot;,&quot;ea3cc100-cfef-4318-b50e-bc4e61897336&quot;,&quot;39ce17cc-8d23-498d-8ddb-135f0886cb30&quot;,&quot;03904a8b-a2ef-4930-b1e9-0de016469051&quot;,&quot;4359b379-066a-43e6-a149-c5f0b57c2134&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:50,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[&quot;f8e1e514-237b-43a9-98de-029f6a2375e8&quot;,&quot;9cefd25a-1126-4247-bc28-65c1def4bdf2&quot;,&quot;4168f8ad-de6f-431c-bfa2-b09392fb3ac1&quot;,&quot;b6695a28-d7a9-4019-b5f1-ac9300360355&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:23,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;c96bcc54-33e6-46b1-a4e6-d3d94e2cb642&quot;,&quot;title&quot;:&quot;sinter-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/set/sinter-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/set/sinter-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sinter-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:41,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;913c1c42-4a3d-4692-b4a4-adcf2829b97c&quot;,&quot;parentUUID&quot;:&quot;c96bcc54-33e6-46b1-a4e6-d3d94e2cb642&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sinter-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6e74ee7f-004b-4d03-a174-0257f2efab15&quot;,&quot;parentUUID&quot;:&quot;c96bcc54-33e6-46b1-a4e6-d3d94e2cb642&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sinter-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b7b4ceed-1845-4b9e-a827-b1e8209428b2&quot;,&quot;parentUUID&quot;:&quot;c96bcc54-33e6-46b1-a4e6-d3d94e2cb642&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sinter-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a6180700-953d-434d-8f88-026db71cecdd&quot;,&quot;parentUUID&quot;:&quot;c96bcc54-33e6-46b1-a4e6-d3d94e2cb642&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return EMPTY SET when the source set does not exist&quot;,&quot;fullTitle&quot;:&quot;sinter-command test should return EMPTY SET when the source set does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sinter&#x27;, &#x27;ary&#x27;]);\n        chai_1.expect(response).to.eql([]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;69dce167-cf01-4137-a9fe-873e93e31cfb&quot;,&quot;parentUUID&quot;:&quot;c96bcc54-33e6-46b1-a4e6-d3d94e2cb642&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return EMPTY SET when any other set does not exist&quot;,&quot;fullTitle&quot;:&quot;sinter-command test should return EMPTY SET when any other set does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key1&#x27;, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;sinter&#x27;, &#x27;key1&#x27;, &#x27;empty&#x27;]);\n        chai_1.expect(response).to.eql([]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5d79b5eb-4c12-448a-9df0-c0041f9e8cf7&quot;,&quot;parentUUID&quot;:&quot;c96bcc54-33e6-46b1-a4e6-d3d94e2cb642&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail when one of the keys is not a set&quot;,&quot;fullTitle&quot;:&quot;sinter-command test should fail when one of the keys is not a set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;1&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;sinter&#x27;, &#x27;key1&#x27;, &#x27;zkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;skey1&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sinter&#x27;, &#x27;key1&#x27;, &#x27;skey1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4ddc1d8a-4ab5-4701-813a-018b8cac8e06&quot;,&quot;parentUUID&quot;:&quot;c96bcc54-33e6-46b1-a4e6-d3d94e2cb642&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the intersection of one or more sets&quot;,&quot;fullTitle&quot;:&quot;sinter-command test should return the intersection of one or more sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key1&#x27;, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key2&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key3&#x27;, &#x27;a&#x27;, &#x27;c&#x27;, &#x27;e&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;sinter&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;c&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key2&#x27;, &#x27;a&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;sinter&#x27;, &#x27;key2&#x27;, &#x27;key1&#x27;, &#x27;key3&#x27;]);\n        chai_1.expect(response.length).to.equal(2);\n        // Redis does not guarantee the order of a set\n        chai_1.expect(response.sort()).to.eql([&#x27;a&#x27;, &#x27;c&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;190114b1-6c0a-4157-bbc1-049b06c26ec7&quot;,&quot;parentUUID&quot;:&quot;c96bcc54-33e6-46b1-a4e6-d3d94e2cb642&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;69dce167-cf01-4137-a9fe-873e93e31cfb&quot;,&quot;5d79b5eb-4c12-448a-9df0-c0041f9e8cf7&quot;,&quot;4ddc1d8a-4ab5-4701-813a-018b8cac8e06&quot;,&quot;190114b1-6c0a-4157-bbc1-049b06c26ec7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:42,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;c22c7986-e117-4764-835f-12dd76508185&quot;,&quot;title&quot;:&quot;sinterstore-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/set/sinterstore-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/set/sinterstore-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sinterstore-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;15c44aca-15d5-4d20-a3db-15d5701d473f&quot;,&quot;parentUUID&quot;:&quot;c22c7986-e117-4764-835f-12dd76508185&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sinterstore-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8690e29b-47ed-47e0-8f4d-1da78a7d2147&quot;,&quot;parentUUID&quot;:&quot;c22c7986-e117-4764-835f-12dd76508185&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sinterstore-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ba586857-c7b7-47c6-9fc7-dd56a00fe3ed&quot;,&quot;parentUUID&quot;:&quot;c22c7986-e117-4764-835f-12dd76508185&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sinterstore-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;49c310cd-b22d-4e56-b95e-79237f1636c5&quot;,&quot;parentUUID&quot;:&quot;c22c7986-e117-4764-835f-12dd76508185&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should require a minimum of two parameters&quot;,&quot;fullTitle&quot;:&quot;sinterstore-command test should require a minimum of two parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sinterstore&#x27;, &#x27;ary&#x27;]);\n        chai_1.expect(response).to.match(/ERR wrong number of arguments for \\&#x27;sinterstore\\&#x27; command/i);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ce2c338-f0b0-4134-9556-8b4d349225a9&quot;,&quot;parentUUID&quot;:&quot;c22c7986-e117-4764-835f-12dd76508185&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return ZERO when the source set does not exist&quot;,&quot;fullTitle&quot;:&quot;sinterstore-command test should return ZERO when the source set does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sinterstore&#x27;, &#x27;dest&#x27;, &#x27;src&#x27;]);\n        chai_1.expect(response).to.eql(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7264e808-ae60-4711-a56c-656a94ffb2b0&quot;,&quot;parentUUID&quot;:&quot;c22c7986-e117-4764-835f-12dd76508185&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should overwrite the destination and return the number of keys copied&quot;,&quot;fullTitle&quot;:&quot;sinterstore-command test should overwrite the destination and return the number of keys copied&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key1&#x27;, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key2&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;key3&#x27;, &#x27;some text value&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sinterstore&#x27;, &#x27;key3&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;smembers&#x27;, &#x27;key3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;c&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;54bb399b-d935-4785-b158-be1f9cba74d2&quot;,&quot;parentUUID&quot;:&quot;c22c7986-e117-4764-835f-12dd76508185&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail when one of the keys is not a set&quot;,&quot;fullTitle&quot;:&quot;sinterstore-command test should fail when one of the keys is not a set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;1&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;sinterstore&#x27;, &#x27;key1&#x27;, &#x27;zkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;skey1&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sinterstore&#x27;, &#x27;key1&#x27;, &#x27;skey1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bca873fe-8e93-4c18-9381-9238283594d1&quot;,&quot;parentUUID&quot;:&quot;c22c7986-e117-4764-835f-12dd76508185&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6ce2c338-f0b0-4134-9556-8b4d349225a9&quot;,&quot;7264e808-ae60-4711-a56c-656a94ffb2b0&quot;,&quot;54bb399b-d935-4785-b158-be1f9cba74d2&quot;,&quot;bca873fe-8e93-4c18-9381-9238283594d1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:18,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;30c1d131-1ca8-4f89-b37b-99f2f4103df5&quot;,&quot;title&quot;:&quot;srem-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/set/srem-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/set/srem-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;srem-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:77,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;51b8573c-90f6-42ff-8628-fde5604b185d&quot;,&quot;parentUUID&quot;:&quot;30c1d131-1ca8-4f89-b37b-99f2f4103df5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;srem-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7b6a3ef0-a077-45d0-b005-959e3a11ffa6&quot;,&quot;parentUUID&quot;:&quot;30c1d131-1ca8-4f89-b37b-99f2f4103df5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;srem-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;17f865ed-942b-4cf6-85d3-ddfafe9cfed0&quot;,&quot;parentUUID&quot;:&quot;30c1d131-1ca8-4f89-b37b-99f2f4103df5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;srem-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f67d72b1-f71d-4144-a22e-74c42d69cc44&quot;,&quot;parentUUID&quot;:&quot;30c1d131-1ca8-4f89-b37b-99f2f4103df5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return 0 when the set does not exist&quot;,&quot;fullTitle&quot;:&quot;srem-command test should return 0 when the set does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;srem&#x27;, &#x27;set&#x27;, &#x27;member&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f6e33cba-ac5e-4fd6-8181-4b06e6cb7b67&quot;,&quot;parentUUID&quot;:&quot;30c1d131-1ca8-4f89-b37b-99f2f4103df5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return only the number of existing keys that are removed&quot;,&quot;fullTitle&quot;:&quot;srem-command test should return only the number of existing keys that are removed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;set&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;, &#x27;key4&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;srem&#x27;, &#x27;set&#x27;, &#x27;key2&#x27;, &#x27;not&#x27;, &#x27;here&#x27;, &#x27;today&#x27;, &#x27;key4&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;smembers&#x27;, &#x27;set&#x27;]);\n        chai_1.expect(response.sort()).to.eql([&#x27;key1&#x27;, &#x27;key3&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b15431b6-f0fa-4631-9ce7-efb1b8c8740b&quot;,&quot;parentUUID&quot;:&quot;30c1d131-1ca8-4f89-b37b-99f2f4103df5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove an empty set when all members are removed&quot;,&quot;fullTitle&quot;:&quot;srem-command test should remove an empty set when all members are removed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;srem&#x27;, &#x27;set&#x27;, &#x27;key1&#x27;, &#x27;key3&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;set&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3e4b501c-d2b7-47f8-9ccf-90cf83d076df&quot;,&quot;parentUUID&quot;:&quot;30c1d131-1ca8-4f89-b37b-99f2f4103df5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f6e33cba-ac5e-4fd6-8181-4b06e6cb7b67&quot;,&quot;b15431b6-f0fa-4631-9ce7-efb1b8c8740b&quot;,&quot;3e4b501c-d2b7-47f8-9ccf-90cf83d076df&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:14,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;01291c84-5d93-4c32-a94a-936de806be80&quot;,&quot;title&quot;:&quot;sunion-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/set/sunion-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/set/sunion-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sunion-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a082008-2042-4d98-bb2c-a1f3feaf8024&quot;,&quot;parentUUID&quot;:&quot;01291c84-5d93-4c32-a94a-936de806be80&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sunion-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8adf1dcb-247c-4ebc-b2c7-a004dc410ac5&quot;,&quot;parentUUID&quot;:&quot;01291c84-5d93-4c32-a94a-936de806be80&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sunion-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d84b8b1e-cca2-453e-97de-f76df60432e4&quot;,&quot;parentUUID&quot;:&quot;01291c84-5d93-4c32-a94a-936de806be80&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sunion-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;826ac7fa-6b4d-45f3-824c-618c782f22fa&quot;,&quot;parentUUID&quot;:&quot;01291c84-5d93-4c32-a94a-936de806be80&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return EMPTY SET when the source set does not exist&quot;,&quot;fullTitle&quot;:&quot;sunion-command test should return EMPTY SET when the source set does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sunion&#x27;, &#x27;ary&#x27;]);\n        chai_1.expect(response).to.eql([]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;07878cd9-9fa2-4b14-9a03-43987cfc90bc&quot;,&quot;parentUUID&quot;:&quot;01291c84-5d93-4c32-a94a-936de806be80&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the union of a single set&quot;,&quot;fullTitle&quot;:&quot;sunion-command test should return the union of a single set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key1&#x27;, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;sunion&#x27;, &#x27;key1&#x27;]);\n        chai_1.expect(response.sort()).to.eql([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b37297e6-1591-44a0-b066-019476314844&quot;,&quot;parentUUID&quot;:&quot;01291c84-5d93-4c32-a94a-936de806be80&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail when sunion requested againt non-set keys&quot;,&quot;fullTitle&quot;:&quot;sunion-command test should fail when sunion requested againt non-set keys&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;string-key&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sunion&#x27;, &#x27;key1&#x27;, &#x27;string-key&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dcfce086-09fb-4054-b6ad-8cdf4f42463e&quot;,&quot;parentUUID&quot;:&quot;01291c84-5d93-4c32-a94a-936de806be80&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the union of multiple sets&quot;,&quot;fullTitle&quot;:&quot;sunion-command test should return the union of multiple sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key2&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key3&#x27;, &#x27;a&#x27;, &#x27;c&#x27;, &#x27;e&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;sunion&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;]);\n        chai_1.expect(response.sort()).to.eql([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e78b1b12-0f7a-49ed-94eb-379bf8c315ac&quot;,&quot;parentUUID&quot;:&quot;01291c84-5d93-4c32-a94a-936de806be80&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;07878cd9-9fa2-4b14-9a03-43987cfc90bc&quot;,&quot;b37297e6-1591-44a0-b066-019476314844&quot;,&quot;dcfce086-09fb-4054-b6ad-8cdf4f42463e&quot;,&quot;e78b1b12-0f7a-49ed-94eb-379bf8c315ac&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:21,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;76d0aebd-8640-41c5-a674-af66243ae6d9&quot;,&quot;title&quot;:&quot;sunionstore-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/set/sunionstore-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/set/sunionstore-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sunionstore-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:41,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d550a257-c9c8-4cee-877e-347bd8f1087d&quot;,&quot;parentUUID&quot;:&quot;76d0aebd-8640-41c5-a674-af66243ae6d9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sunionstore-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;242ccd95-0fe6-4787-a264-bc3de9c58842&quot;,&quot;parentUUID&quot;:&quot;76d0aebd-8640-41c5-a674-af66243ae6d9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sunionstore-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;76abb18f-b1b5-43fc-bbaa-8a83ec006024&quot;,&quot;parentUUID&quot;:&quot;76d0aebd-8640-41c5-a674-af66243ae6d9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sunionstore-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6bac074f-7783-45b4-82d2-a85f87d2b63b&quot;,&quot;parentUUID&quot;:&quot;76d0aebd-8640-41c5-a674-af66243ae6d9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should require a minimum of two parameters&quot;,&quot;fullTitle&quot;:&quot;sunionstore-command test should require a minimum of two parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sunionstore&#x27;, &#x27;ary&#x27;]);\n        chai_1.expect(response).to.match(/ERR wrong number of arguments for \\&#x27;sunionstore\\&#x27; command/i);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bf4a3f5a-56c8-4e39-969f-e24a79eee590&quot;,&quot;parentUUID&quot;:&quot;76d0aebd-8640-41c5-a674-af66243ae6d9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return ZERO when the source set does not exist&quot;,&quot;fullTitle&quot;:&quot;sunionstore-command test should return ZERO when the source set does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sunionstore&#x27;, &#x27;dest&#x27;, &#x27;src&#x27;]);\n        chai_1.expect(response).to.eql(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b2380fed-32a1-4f7d-902c-f0c94ef7eea6&quot;,&quot;parentUUID&quot;:&quot;76d0aebd-8640-41c5-a674-af66243ae6d9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should overwrite the destination and return the number of keys copied&quot;,&quot;fullTitle&quot;:&quot;sunionstore-command test should overwrite the destination and return the number of keys copied&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key1&#x27;, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key2&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;key3&#x27;, &#x27;some text value&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sunionstore&#x27;, &#x27;key3&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;]);\n        chai_1.expect(response).to.equal(5);\n        response = yield common_test_1.sendCommand(client, [&#x27;smembers&#x27;, &#x27;key3&#x27;]);\n        chai_1.expect(response.sort()).to.eql([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e6cc5215-06b8-40f5-84b6-7b6b3c00b161&quot;,&quot;parentUUID&quot;:&quot;76d0aebd-8640-41c5-a674-af66243ae6d9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bf4a3f5a-56c8-4e39-969f-e24a79eee590&quot;,&quot;b2380fed-32a1-4f7d-902c-f0c94ef7eea6&quot;,&quot;e6cc5215-06b8-40f5-84b6-7b6b3c00b161&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:27,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b23d0839-a3d2-47b9-bcec-dad515f22ac8&quot;,&quot;title&quot;:&quot;z-command tests&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/sset/z-commands.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/sset/z-commands.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;z-command tests \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa20c1bf-a361-4377-8a00-1ac9bfa3880c&quot;,&quot;parentUUID&quot;:&quot;b23d0839-a3d2-47b9-bcec-dad515f22ac8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;z-command tests \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b518a717-c53b-4ec9-9c42-71b7d9b0ff40&quot;,&quot;parentUUID&quot;:&quot;b23d0839-a3d2-47b9-bcec-dad515f22ac8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;z-command tests \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f6f4c7b-d898-4423-8ef5-ab748e65555f&quot;,&quot;parentUUID&quot;:&quot;b23d0839-a3d2-47b9-bcec-dad515f22ac8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;z-command tests \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4f6caff2-2196-46e0-93b6-b9a4f5e75a68&quot;,&quot;parentUUID&quot;:&quot;b23d0839-a3d2-47b9-bcec-dad515f22ac8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support basic operations&quot;,&quot;fullTitle&quot;:&quot;z-command tests should support basic operations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:78,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueZkey = `key${new Date().getTime()}`;\n        let response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, &#x27;testkey&#x27;, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER)]);\n        chai_1.expect(response).to.eql([]);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;testkey&#x27;, &#x27;14&#x27;, &#x27;__proto__&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;8&#x27;, &#x27;5a600e16&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;9&#x27;, &#x27;5a600e17&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;10&#x27;, &#x27;5a600e18&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zcard&#x27;, uniqueZkey]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, uniqueZkey, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER), &#x27;withScores&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;5a600e16&#x27;, &#x27;8&#x27;,\n            &#x27;5a600e17&#x27;, &#x27;9&#x27;,\n            &#x27;5a600e18&#x27;, &#x27;10&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;12&#x27;, &#x27;5a600e17&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;zcount&#x27;, uniqueZkey, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER)]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, uniqueZkey, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER)]);\n        chai_1.expect(response.length).to.equal(3);\n        chai_1.expect(response).to.eql([&#x27;5a600e16&#x27;, &#x27;5a600e18&#x27;, &#x27;5a600e17&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, uniqueZkey, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER), &#x27;withScores&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;5a600e16&#x27;, &#x27;8&#x27;, &#x27;5a600e18&#x27;, &#x27;10&#x27;, &#x27;5a600e17&#x27;, &#x27;12&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;type&#x27;, uniqueZkey]);\n        chai_1.expect(response).to.equal(&#x27;zset&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zcount&#x27;, uniqueZkey, &#x27;-Infinity&#x27;, &#x27;10&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;zcount&#x27;, uniqueZkey, &#x27;Negative One&#x27;, &#x27;10&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR min or max is not a float&#x27;);\n        // report syntax error\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, uniqueZkey, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER), &#x27;with Scores&#x27;]);\n        chai_1.expect(response).to.eql(&#x27;ReplyError: ERR syntax error&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, uniqueZkey, String(&#x27;Number.MIN_SAFE_INTEGER&#x27;), String(Number.MAX_SAFE_INTEGER), &#x27;withScores&#x27;]);\n        chai_1.expect(response).to.eql(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n        // Remove members without removing keys\n        response = yield common_test_1.sendCommand(client, [&#x27;zrem&#x27;, uniqueZkey, &#x27;does not exist&#x27;, &#x27;5a600e16&#x27;, &#x27;5a600e18&#x27;, &#x27;5a600e17&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        // Unexpectedly, redis removes the key when the last element is removed\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, uniqueZkey]);\n        console.log(`searched for ${uniqueZkey}`);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, uniqueZkey, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER), &#x27;withScores&#x27;]);\n        chai_1.expect(response).to.eql([]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ea78bb4-d18f-4ad0-a228-89783b00da2b&quot;,&quot;parentUUID&quot;:&quot;b23d0839-a3d2-47b9-bcec-dad515f22ac8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should increase rank&quot;,&quot;fullTitle&quot;:&quot;z-command tests should increase rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:36,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueZkey = `incrkey${new Date().getTime()}`;\n        let response;\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;1&#x27;, &#x27;first&#x27;]);\n        chai_1.expect(response).to.eql(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;2&#x27;, &#x27;second&#x27;]);\n        chai_1.expect(response).to.eql(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;3&#x27;, &#x27;third&#x27;]);\n        chai_1.expect(response).to.eql(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;4&#x27;, &#x27;fourth&#x27;]);\n        chai_1.expect(response).to.eql(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zincrby&#x27;, uniqueZkey, &#x27;2&#x27;, &#x27;first&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;3&#x27;);\n        // Validate zscore\n        // response = await sendCommand(client, [&#x27;zscore&#x27;, uniqueZkey, &#x27;first&#x27;]);\n        // expect(response).to.equal(&#x27;3&#x27;);\n        // response = await sendCommand(client, [&#x27;zscore&#x27;, uniqueZkey, &#x27;second&#x27;]);\n        // expect(response).to.equal(&#x27;2&#x27;);\n        // response = await sendCommand(client, [&#x27;zscore&#x27;, uniqueZkey, &#x27;third&#x27;]);\n        // expect(response).to.equal(&#x27;3&#x27;);\n        // response = await sendCommand(client, [&#x27;zscore&#x27;, uniqueZkey, &#x27;fourth&#x27;]);\n        // expect(response).to.equal(&#x27;4&#x27;);\n        //\n        response = yield common_test_1.sendCommand(client, [&#x27;zrank&#x27;, uniqueZkey, &#x27;first&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrank&#x27;, uniqueZkey, &#x27;second&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrank&#x27;, uniqueZkey, &#x27;third&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrank&#x27;, uniqueZkey, &#x27;fourth&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        // expect(response).to.match(/^ReplyError: ERR unknown command.*/);\n        response = yield common_test_1.sendCommand(client, [&#x27;zincrby&#x27;, uniqueZkey, &#x27;-20&#x27;, &#x27;fourth&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;-16&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zincrby&#x27;, uniqueZkey, `-${Number.MIN_SAFE_INTEGER + 1}.${Number.MAX_SAFE_INTEGER}`, &#x27;fourth&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not a valid float&#x27;);\n        // Should create a key if it doesn&#x27;t exist\n        response = yield common_test_1.sendCommand(client, [&#x27;zincrby&#x27;, uniqueZkey, &#x27;-20&#x27;, &#x27;fifth&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;-20&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, uniqueZkey, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER), &#x27;withScores&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;fifth&#x27;, &#x27;-20&#x27;, &#x27;fourth&#x27;, &#x27;-16&#x27;, &#x27;second&#x27;, &#x27;2&#x27;, &#x27;first&#x27;, &#x27;3&#x27;, &#x27;third&#x27;, &#x27;3&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1af19b64-437c-45f0-9e3f-5ae6cc374f10&quot;,&quot;parentUUID&quot;:&quot;b23d0839-a3d2-47b9-bcec-dad515f22ac8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0ea78bb4-d18f-4ad0-a228-89783b00da2b&quot;,&quot;1af19b64-437c-45f0-9e3f-5ae6cc374f10&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:114,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;adc90f29-6d7e-4d75-bac7-c895e964dfdd&quot;,&quot;title&quot;:&quot;zadd command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/sset/zadd-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/sset/zadd-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zadd command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1826a32-1dec-4d62-a08d-de34ec0a7e2f&quot;,&quot;parentUUID&quot;:&quot;adc90f29-6d7e-4d75-bac7-c895e964dfdd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zadd command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;650c28e0-c447-4577-8a6f-1cbe56e1de89&quot;,&quot;parentUUID&quot;:&quot;adc90f29-6d7e-4d75-bac7-c895e964dfdd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zadd command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eb188241-2491-4f8a-be6a-29a7814b069c&quot;,&quot;parentUUID&quot;:&quot;adc90f29-6d7e-4d75-bac7-c895e964dfdd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zadd command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8fc9a078-ab19-4e61-b422-feda84500345&quot;,&quot;parentUUID&quot;:&quot;adc90f29-6d7e-4d75-bac7-c895e964dfdd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should require at least 3 parameters&quot;,&quot;fullTitle&quot;:&quot;zadd command test should require at least 3 parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;zadd\\&#x27; command&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;zadd\\&#x27; command&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;123&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;zadd\\&#x27; command&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;123&#x27;, &#x27;something&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fc566982-6735-4d24-a9b0-4c1a42b404d3&quot;,&quot;parentUUID&quot;:&quot;adc90f29-6d7e-4d75-bac7-c895e964dfdd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reject even parameter counts&quot;,&quot;fullTitle&quot;:&quot;zadd command test should reject even parameter counts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;123&#x27;, &#x27;something&#x27;, &#x27;456&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR syntax error&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;123&#x27;, &#x27;something&#x27;, &#x27;456&#x27;, &#x27;another&#x27;, &#x27;765&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR syntax error&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;123&#x27;, &#x27;something&#x27;, &#x27;456&#x27;, &#x27;another&#x27;, &#x27;765&#x27;, &#x27;test&#x27;]);\n        // The \&quot;something\&quot; key should already exist so we only count 2 new fields\n        chai_1.expect(response).to.equal(2);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3d0daebe-8e1a-4ed0-a7c6-0f83c8a4ffbd&quot;,&quot;parentUUID&quot;:&quot;adc90f29-6d7e-4d75-bac7-c895e964dfdd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reject an attempt to store non-floatish rankings&quot;,&quot;fullTitle&quot;:&quot;zadd command test should reject an attempt to store non-floatish rankings&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;__data__&#x27;, &#x27;something&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not a valid float&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cede518e-cf6b-4de6-9a92-248a02121a9d&quot;,&quot;parentUUID&quot;:&quot;adc90f29-6d7e-4d75-bac7-c895e964dfdd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fc566982-6735-4d24-a9b0-4c1a42b404d3&quot;,&quot;3d0daebe-8e1a-4ed0-a7c6-0f83c8a4ffbd&quot;,&quot;cede518e-cf6b-4de6-9a92-248a02121a9d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:30,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;16a77bd9-b693-4ca8-97af-a92ab8e3fb23&quot;,&quot;title&quot;:&quot;zrange-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/sset/zrange-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/sset/zrange-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrange-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;51687e47-9bc8-4937-9450-75783120f7c4&quot;,&quot;parentUUID&quot;:&quot;16a77bd9-b693-4ca8-97af-a92ab8e3fb23&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrange-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;db0932ef-57ba-4f2d-81dd-7352cd6b71ad&quot;,&quot;parentUUID&quot;:&quot;16a77bd9-b693-4ca8-97af-a92ab8e3fb23&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrange-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;136ad6b7-9105-4bb1-854e-ffc59c6ca1a4&quot;,&quot;parentUUID&quot;:&quot;16a77bd9-b693-4ca8-97af-a92ab8e3fb23&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrange-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b9cbd12b-f11a-4e19-a36a-83473529b5dc&quot;,&quot;parentUUID&quot;:&quot;16a77bd9-b693-4ca8-97af-a92ab8e3fb23&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should reproduce the redis documentation examples&quot;,&quot;fullTitle&quot;:&quot;zrange-command test should reproduce the redis documentation examples&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:26,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;1&#x27;, &#x27;one&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;2&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;3&#x27;, &#x27;three&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, &#x27;zset&#x27;, &#x27;0&#x27;, &#x27;-1&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, &#x27;zset&#x27;, &#x27;2&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;three&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, &#x27;zset&#x27;, &#x27;-2&#x27;, &#x27;-1&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;two&#x27;, &#x27;three&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;26e7296d-9091-409f-8d5e-d673b295296f&quot;,&quot;parentUUID&quot;:&quot;16a77bd9-b693-4ca8-97af-a92ab8e3fb23&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should also reproduce the second documented example&quot;,&quot;fullTitle&quot;:&quot;zrange-command test should also reproduce the second documented example&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, &#x27;zset&#x27;, &#x27;0&#x27;, &#x27;1&#x27;, &#x27;withscores&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;one&#x27;, &#x27;1&#x27;, &#x27;two&#x27;, &#x27;2&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;21a8e12d-bc3c-49a0-9a10-9fe5f3c535a0&quot;,&quot;parentUUID&quot;:&quot;16a77bd9-b693-4ca8-97af-a92ab8e3fb23&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;26e7296d-9091-409f-8d5e-d673b295296f&quot;,&quot;21a8e12d-bc3c-49a0-9a10-9fe5f3c535a0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:28,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;f6562974-ffaa-45e7-a508-eefcda5c9abb&quot;,&quot;title&quot;:&quot;zrank-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/sset/zrank-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/sset/zrank-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrank-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;14f6371f-2ee4-409b-a04f-96ff2ef26774&quot;,&quot;parentUUID&quot;:&quot;f6562974-ffaa-45e7-a508-eefcda5c9abb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrank-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;93ecf7df-a38b-45b0-b135-9f322ac6fbb0&quot;,&quot;parentUUID&quot;:&quot;f6562974-ffaa-45e7-a508-eefcda5c9abb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrank-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cff65b58-a362-4110-8733-b8d2dee13af4&quot;,&quot;parentUUID&quot;:&quot;f6562974-ffaa-45e7-a508-eefcda5c9abb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrank-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd6c0125-7000-427b-858b-4b7a85842b69&quot;,&quot;parentUUID&quot;:&quot;f6562974-ffaa-45e7-a508-eefcda5c9abb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return NIL when the ZSET does not exist&quot;,&quot;fullTitle&quot;:&quot;zrank-command test should return NIL when the ZSET does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;zrank&#x27;, &#x27;zset&#x27;, &#x27;member&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7264114e-1a88-4375-9ce1-f8bf019c8ef9&quot;,&quot;parentUUID&quot;:&quot;f6562974-ffaa-45e7-a508-eefcda5c9abb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return NIL when the ZSET exists but the key does not&quot;,&quot;fullTitle&quot;:&quot;zrank-command test should return NIL when the ZSET exists but the key does not&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;23.3&#x27;, &#x27;member&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrank&#x27;, &#x27;zset&#x27;, &#x27;membre&#x27;]);\n        chai_1.expect(response).to.equal(null);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;zset&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c12b50a8-170c-4902-a87b-10da9c8ee942&quot;,&quot;parentUUID&quot;:&quot;f6562974-ffaa-45e7-a508-eefcda5c9abb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7264114e-1a88-4375-9ce1-f8bf019c8ef9&quot;,&quot;c12b50a8-170c-4902-a87b-10da9c8ee942&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:11,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;1936a7d2-f8da-4133-b81d-a2d754374ea5&quot;,&quot;title&quot;:&quot;zrem-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/sset/zrem-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/sset/zrem-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrem-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dedcdfa1-abdb-4df7-9ece-9c07d3016e44&quot;,&quot;parentUUID&quot;:&quot;1936a7d2-f8da-4133-b81d-a2d754374ea5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrem-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0c20c2b5-7c81-4f7c-a268-4ec644d4cd4d&quot;,&quot;parentUUID&quot;:&quot;1936a7d2-f8da-4133-b81d-a2d754374ea5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrem-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ed44c10e-b301-42a6-82b6-c83cd8070306&quot;,&quot;parentUUID&quot;:&quot;1936a7d2-f8da-4133-b81d-a2d754374ea5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrem-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d636b16d-6fe4-4d20-984c-84a4ec3cf246&quot;,&quot;parentUUID&quot;:&quot;1936a7d2-f8da-4133-b81d-a2d754374ea5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove a key from a sorted set&quot;,&quot;fullTitle&quot;:&quot;zrem-command test should remove a key from a sorted set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;1&#x27;, &#x27;one&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;2&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;3&#x27;, &#x27;three&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrem&#x27;, &#x27;zset&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, &#x27;zset&#x27;, &#x27;0&#x27;, &#x27;-1&#x27;, &#x27;withscores&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;one&#x27;, &#x27;1&#x27;, &#x27;three&#x27;, &#x27;3&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6e5d5914-b708-4c51-9ca5-216b79bb4a7d&quot;,&quot;parentUUID&quot;:&quot;1936a7d2-f8da-4133-b81d-a2d754374ea5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6e5d5914-b708-4c51-9ca5-216b79bb4a7d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:15,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;1dabe6d3-e9e0-4823-867f-77750becdbab&quot;,&quot;title&quot;:&quot;getset-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/string/getset-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/string/getset-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;getset-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cca84f4d-c95b-4307-b5c9-0ce639f058ba&quot;,&quot;parentUUID&quot;:&quot;1dabe6d3-e9e0-4823-867f-77750becdbab&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;getset-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee137345-63e5-458d-af2a-fb26e47d3e3c&quot;,&quot;parentUUID&quot;:&quot;1dabe6d3-e9e0-4823-867f-77750becdbab&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;getset-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0af1c10d-bbbd-4acc-a6b7-0f303dedae6d&quot;,&quot;parentUUID&quot;:&quot;1dabe6d3-e9e0-4823-867f-77750becdbab&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;getset-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;769b0d31-0416-4617-b296-913b1cc02fdc&quot;,&quot;parentUUID&quot;:&quot;1dabe6d3-e9e0-4823-867f-77750becdbab&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report NIL when the original key does not exist&quot;,&quot;fullTitle&quot;:&quot;getset-command test should report NIL when the original key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;getset&#x27;, uniqueKey, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4489d61c-b46b-431c-bfd9-07164ba276eb&quot;,&quot;parentUUID&quot;:&quot;1dabe6d3-e9e0-4823-867f-77750becdbab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report the previous value of the key&quot;,&quot;fullTitle&quot;:&quot;getset-command test should report the previous value of the key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;getset&#x27;, uniqueKey, &#x27;ninety nine&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;0&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;getset&#x27;, uniqueKey, &#x27;nothing&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ninety nine&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6adbeb26-c440-487d-9f90-650a94230549&quot;,&quot;parentUUID&quot;:&quot;1dabe6d3-e9e0-4823-867f-77750becdbab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4489d61c-b46b-431c-bfd9-07164ba276eb&quot;,&quot;6adbeb26-c440-487d-9f90-650a94230549&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:11,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;a106e7d7-bfec-459b-94fc-9b3ac22ec98b&quot;,&quot;title&quot;:&quot;incr/decr command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/string/incr-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/string/incr-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:39,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    // Set a key with a millisecond TTL to validate incr respects TTL\n    common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;ttlkey&#x27;, &#x27;100&#x27;, &#x27;PX&#x27;, &#x27;3&#x27;])\n        .then(() =&gt; {\n        done();\n    });\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fbeb2320-f462-46b2-bdc4-f91054ecfdd7&quot;,&quot;parentUUID&quot;:&quot;a106e7d7-bfec-459b-94fc-9b3ac22ec98b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;991e4094-dea8-4cc0-895a-59f261508db7&quot;,&quot;parentUUID&quot;:&quot;a106e7d7-bfec-459b-94fc-9b3ac22ec98b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ba81def6-7bb0-4396-9561-12f0a4c40564&quot;,&quot;parentUUID&quot;:&quot;a106e7d7-bfec-459b-94fc-9b3ac22ec98b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f462e496-98c9-4e05-9c74-b8ea2c7a2c97&quot;,&quot;parentUUID&quot;:&quot;a106e7d7-bfec-459b-94fc-9b3ac22ec98b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report ONE when incr called against unknown key&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should report ONE when incr called against unknown key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;incr&#x27;, &#x27;incr-key&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;97c57712-6312-413c-965a-bc723bff30c7&quot;,&quot;parentUUID&quot;:&quot;a106e7d7-bfec-459b-94fc-9b3ac22ec98b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have created the key from the previous test&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should have created the key from the previous test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;get&#x27;, &#x27;incr-key&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;string&#x27;);\n        chai_1.expect(response).to.equal(&#x27;1&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a82973ad-70bb-4cd3-9e52-74dc486871ba&quot;,&quot;parentUUID&quot;:&quot;a106e7d7-bfec-459b-94fc-9b3ac22ec98b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should overflow after 53 bits&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should overflow after 53 bits&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;info&#x27;, &#x27;server&#x27;]);\n        // Only run the remaining tests if this is NOT unit-redis-ness\n        if (!/redis_version:5/gim.test(response)) {\n            response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;incr-key&#x27;, &#x27;9007199254740990&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;incr&#x27;, &#x27;incr-key&#x27;]);\n            chai_1.expect(response).to.equal(Number.MAX_SAFE_INTEGER);\n            response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;incr&#x27;, &#x27;incr-key&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;ReplyError: ERR increment or decrement would overflow&#x27;);\n        }\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb3f2c00-4788-432e-9230-dc3f9098259e&quot;,&quot;parentUUID&quot;:&quot;a106e7d7-bfec-459b-94fc-9b3ac22ec98b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report -1 when decr called against unknown key&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should report -1 when decr called against unknown key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;decr&#x27;, &#x27;decr-key&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n        chai_1.expect(response).to.equal(-1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb54f7d8-278b-4afd-8372-8b3d04c3359b&quot;,&quot;parentUUID&quot;:&quot;a106e7d7-bfec-459b-94fc-9b3ac22ec98b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have created the key from the previous test&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should have created the key from the previous test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;get&#x27;, &#x27;decr-key&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;string&#x27;);\n        chai_1.expect(response).to.equal(&#x27;-1&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a859ba96-df47-49bf-b4d5-80d89a3b1539&quot;,&quot;parentUUID&quot;:&quot;a106e7d7-bfec-459b-94fc-9b3ac22ec98b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should overflow after 53 bits&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should overflow after 53 bits&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;info&#x27;, &#x27;server&#x27;]);\n        // Only run the remaining tests if this is NOT unit-redis-ness\n        if (!/redis_version:5/gim.test(response)) {\n            let response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;decr-key&#x27;, &#x27;-9007199254740990&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;decr&#x27;, &#x27;decr-key&#x27;]);\n            chai_1.expect(response).to.equal(Number.MIN_SAFE_INTEGER);\n            response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;decr&#x27;, &#x27;decr-key&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;ReplyError: ERR increment or decrement would overflow&#x27;);\n        }\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;51397ff5-b054-4f87-ba69-488315a3d1b7&quot;,&quot;parentUUID&quot;:&quot;a106e7d7-bfec-459b-94fc-9b3ac22ec98b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respect TTL&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should respect TTL&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;get&#x27;, &#x27;ttlkey&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1cc428ce-e522-4aba-9af4-2601374a7182&quot;,&quot;parentUUID&quot;:&quot;a106e7d7-bfec-459b-94fc-9b3ac22ec98b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail to increment a HASH value&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should fail to increment a HASH value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = `test-incr-${new Date().getTime()}`;\n        let response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, uniqueKey, &#x27;one&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;incr&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ce4566e4-814f-43d6-942e-a0c62b3b6c01&quot;,&quot;parentUUID&quot;:&quot;a106e7d7-bfec-459b-94fc-9b3ac22ec98b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;97c57712-6312-413c-965a-bc723bff30c7&quot;,&quot;a82973ad-70bb-4cd3-9e52-74dc486871ba&quot;,&quot;cb3f2c00-4788-432e-9230-dc3f9098259e&quot;,&quot;fb54f7d8-278b-4afd-8372-8b3d04c3359b&quot;,&quot;a859ba96-df47-49bf-b4d5-80d89a3b1539&quot;,&quot;51397ff5-b054-4f87-ba69-488315a3d1b7&quot;,&quot;1cc428ce-e522-4aba-9af4-2601374a7182&quot;,&quot;ce4566e4-814f-43d6-942e-a0c62b3b6c01&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:40,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;646aad65-f0dc-4092-bb94-735ccbb1e3ab&quot;,&quot;title&quot;:&quot;incrby/decrby command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/string/incrby-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/string/incrby-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:26,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    // Set a key with a millisecond TTL to validate incrby respects TTL\n    common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;ttlkey&#x27;, &#x27;100&#x27;, &#x27;PX&#x27;, &#x27;3&#x27;])\n        .then(() =&gt; {\n        done();\n    });\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bce37204-112b-4cab-ab78-04eee131a5f1&quot;,&quot;parentUUID&quot;:&quot;646aad65-f0dc-4092-bb94-735ccbb1e3ab&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;13ce469a-d9d0-4c60-917f-ffc35946198d&quot;,&quot;parentUUID&quot;:&quot;646aad65-f0dc-4092-bb94-735ccbb1e3ab&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;33a6ff98-2d8e-4935-932b-17867596293d&quot;,&quot;parentUUID&quot;:&quot;646aad65-f0dc-4092-bb94-735ccbb1e3ab&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9306c542-61da-4616-b6f0-f98c1ca81d1a&quot;,&quot;parentUUID&quot;:&quot;646aad65-f0dc-4092-bb94-735ccbb1e3ab&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report the INCREMENT when incrby called against non-existing key&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should report the INCREMENT when incrby called against non-existing key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;incrby&#x27;, &#x27;incr-key&#x27;, &#x27;10&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n        // This is how redis behaves\n        chai_1.expect(response).to.equal(10);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;96191246-4f6f-4eec-8b1e-22933813689b&quot;,&quot;parentUUID&quot;:&quot;646aad65-f0dc-4092-bb94-735ccbb1e3ab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have created the key from the previous test&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should have created the key from the previous test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;incr-key&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;string&#x27;);\n        chai_1.expect(response).to.equal(&#x27;10&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;282a3866-37d2-477d-97d3-466f17f214c5&quot;,&quot;parentUUID&quot;:&quot;646aad65-f0dc-4092-bb94-735ccbb1e3ab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should overflow after 53 bits&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should overflow after 53 bits&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:90,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;info&#x27;, &#x27;server&#x27;]);\n        // Only run the remaining tests if this is NOT unit-redis-ness\n        if (!/redis_version:5/gim.test(response)) {\n            response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;incr-key&#x27;, &#x27;9007199254740981&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;incrby&#x27;, &#x27;incr-key&#x27;, &#x27;10&#x27;]);\n            chai_1.expect(response).to.equal(Number.MAX_SAFE_INTEGER);\n            response = yield common_test_1.sendCommand(client, [&#x27;incrby&#x27;, &#x27;incr-key&#x27;, &#x27;110&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;ReplyError: ERR increment or decrement would overflow&#x27;);\n        }\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d67aa3ab-d00b-4b57-b5c4-288360dd0243&quot;,&quot;parentUUID&quot;:&quot;646aad65-f0dc-4092-bb94-735ccbb1e3ab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report the NEGATIVE increment when decrby called against unknown key&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should report the NEGATIVE increment when decrby called against unknown key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;decrby&#x27;, &#x27;decr-key&#x27;, &#x27;12&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n        chai_1.expect(response).to.equal(-12);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d0c949c6-4f0b-4245-855c-4bd3a591cbe7&quot;,&quot;parentUUID&quot;:&quot;646aad65-f0dc-4092-bb94-735ccbb1e3ab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support negative increment and positive decrement&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should support negative increment and positive decrement&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;incrby&#x27;, &#x27;negincr&#x27;, &#x27;-12&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n        chai_1.expect(response).to.equal(-12);\n        response = yield common_test_1.sendCommand(client, [&#x27;decrby&#x27;, &#x27;negincr&#x27;, &#x27;-24&#x27;]);\n        chai_1.expect(response).to.equal(12);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8b6199e0-4e4a-46d7-8d07-4ead610e9702&quot;,&quot;parentUUID&quot;:&quot;646aad65-f0dc-4092-bb94-735ccbb1e3ab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have created the key from the previous test&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should have created the key from the previous test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;decr-key&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;string&#x27;);\n        chai_1.expect(response).to.equal(&#x27;-12&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d7eb83c7-44ae-47e5-9bd7-453161cae5af&quot;,&quot;parentUUID&quot;:&quot;646aad65-f0dc-4092-bb94-735ccbb1e3ab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should overflow after 53 bits&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should overflow after 53 bits&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;info&#x27;, &#x27;server&#x27;]);\n        // Only run the remaining tests if this is NOT unit-redis-ness\n        if (!/redis_version:5/gim.test(response)) {\n            response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;decr-key&#x27;, &#x27;-9007199254740981&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;decrby&#x27;, &#x27;decr-key&#x27;, &#x27;10&#x27;]);\n            chai_1.expect(response).to.equal(Number.MIN_SAFE_INTEGER);\n            // This does not seem to be exact\n            // response = await sendCommand(client, [&#x27;decrby&#x27;, &#x27;decr-key&#x27;, String(Number.MAX_SAFE_INTEGER)]);\n            // expect(response).to.equal(&#x27;ReplyError: Error: increment or decrement would overflow&#x27;);\n        }\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;50a64b2a-5366-45db-b29f-c64d50d85f98&quot;,&quot;parentUUID&quot;:&quot;646aad65-f0dc-4092-bb94-735ccbb1e3ab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respect TTL&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should respect TTL&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;ttlkey&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c5865c18-9077-4b40-a2a9-0c5d015279e6&quot;,&quot;parentUUID&quot;:&quot;646aad65-f0dc-4092-bb94-735ccbb1e3ab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail to increment a HASH value&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should fail to increment a HASH value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = `test-incr-${new Date().getTime()}`;\n        let response = yield common_test_1.sendCommand(client, [&#x27;hset&#x27;, uniqueKey, &#x27;one&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;incrby&#x27;, uniqueKey, &#x27;12&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;26c549af-cbf0-499b-b95e-ca90f12dd1d8&quot;,&quot;parentUUID&quot;:&quot;646aad65-f0dc-4092-bb94-735ccbb1e3ab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;96191246-4f6f-4eec-8b1e-22933813689b&quot;,&quot;282a3866-37d2-477d-97d3-466f17f214c5&quot;,&quot;d67aa3ab-d00b-4b57-b5c4-288360dd0243&quot;,&quot;d0c949c6-4f0b-4245-855c-4bd3a591cbe7&quot;,&quot;8b6199e0-4e4a-46d7-8d07-4ead610e9702&quot;,&quot;d7eb83c7-44ae-47e5-9bd7-453161cae5af&quot;,&quot;50a64b2a-5366-45db-b29f-c64d50d85f98&quot;,&quot;c5865c18-9077-4b40-a2a9-0c5d015279e6&quot;,&quot;26c549af-cbf0-499b-b95e-ca90f12dd1d8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:110,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;40bf435b-0848-4b96-99de-1ffdad245285&quot;,&quot;title&quot;:&quot;mget-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/string/mget-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/string/mget-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;mget-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:28,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;69008749-8860-49ed-aa2b-69ec4b9ff8c1&quot;,&quot;parentUUID&quot;:&quot;40bf435b-0848-4b96-99de-1ffdad245285&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;mget-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;07e1fddd-6b83-40a9-b345-ab2c6cb774f8&quot;,&quot;parentUUID&quot;:&quot;40bf435b-0848-4b96-99de-1ffdad245285&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;mget-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;330023c9-cec7-4c45-92d7-e1ef6f44426d&quot;,&quot;parentUUID&quot;:&quot;40bf435b-0848-4b96-99de-1ffdad245285&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;mget-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;59339b4c-d41d-47a3-a4ee-bdd90e08c16c&quot;,&quot;parentUUID&quot;:&quot;40bf435b-0848-4b96-99de-1ffdad245285&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return NIL when the key does not exist&quot;,&quot;fullTitle&quot;:&quot;mget-command test should return NIL when the key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;mget&#x27;, &#x27;zset&#x27;, &#x27;member&#x27;]);\n        chai_1.expect(response).to.eql([null, null]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;42be5d41-3686-482e-a34c-44a96c53bfa3&quot;,&quot;parentUUID&quot;:&quot;40bf435b-0848-4b96-99de-1ffdad245285&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return multiple values for string keys as requested&quot;,&quot;fullTitle&quot;:&quot;mget-command test should return multiple values for string keys as requested&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;mset&#x27;, &#x27;key1&#x27;, &#x27;1&#x27;, &#x27;key2&#x27;, &#x27;2&#x27;, &#x27;key3&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;mget&#x27;, &#x27;key2&#x27;, &#x27;key1&#x27;, &#x27;noneya&#x27;, &#x27;key3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;2&#x27;, &#x27;1&#x27;, null, &#x27;3&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;144e4639-baab-4237-b5de-5073f6cb765b&quot;,&quot;parentUUID&quot;:&quot;40bf435b-0848-4b96-99de-1ffdad245285&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return NIL for ZSET, LIST, and HASH types as well&quot;,&quot;fullTitle&quot;:&quot;mget-command test should return NIL for ZSET, LIST, and HASH types as well&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;1&#x27;, &#x27;member&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;list&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;hset&#x27;, &#x27;hash&#x27;, &#x27;field&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;mget&#x27;, &#x27;key2&#x27;, &#x27;key1&#x27;, &#x27;list&#x27;, &#x27;key3&#x27;, &#x27;hash&#x27;, &#x27;zset&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;2&#x27;, &#x27;1&#x27;, null, &#x27;3&#x27;, null, null]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1e70e891-b7e5-4d2a-932f-6ea7bd362a91&quot;,&quot;parentUUID&quot;:&quot;40bf435b-0848-4b96-99de-1ffdad245285&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;42be5d41-3686-482e-a34c-44a96c53bfa3&quot;,&quot;144e4639-baab-4237-b5de-5073f6cb765b&quot;,&quot;1e70e891-b7e5-4d2a-932f-6ea7bd362a91&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:30,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;44f61b04-5d32-4afa-90fc-761a0d02b5a6&quot;,&quot;title&quot;:&quot;mset-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/string/mset-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/string/mset-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;mset-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;616adc7f-d14f-4897-a148-46414db021de&quot;,&quot;parentUUID&quot;:&quot;44f61b04-5d32-4afa-90fc-761a0d02b5a6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;mset-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;78788f6c-48d6-4864-a3e4-c5e95771aa36&quot;,&quot;parentUUID&quot;:&quot;44f61b04-5d32-4afa-90fc-761a0d02b5a6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;mset-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd87de0f-c0fd-4d1d-92af-423becd6cb35&quot;,&quot;parentUUID&quot;:&quot;44f61b04-5d32-4afa-90fc-761a0d02b5a6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;mset-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb83b876-4e73-41c6-a814-0ef03f74b576&quot;,&quot;parentUUID&quot;:&quot;44f61b04-5d32-4afa-90fc-761a0d02b5a6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create multiple keys at once&quot;,&quot;fullTitle&quot;:&quot;mset-command test should create multiple keys at once&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;mset&#x27;, &#x27;key1&#x27;, &#x27;Hello&#x27;, &#x27;key2&#x27;, &#x27;world&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;key1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;Hello&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;key2&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;world&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1e7c385a-3cf6-4ac0-aa83-9a4451e433c9&quot;,&quot;parentUUID&quot;:&quot;44f61b04-5d32-4afa-90fc-761a0d02b5a6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should only accept an even number of parameters&quot;,&quot;fullTitle&quot;:&quot;mset-command test should only accept an even number of parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;msEt&#x27;, &#x27;wrong&#x27;, &#x27;number&#x27;, &#x27;of&#x27;]);\n        chai_1.expect(response).to.match(/ReplyError: ERR wrong number of arguments for MSET/i);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dc7c1d44-598d-4800-884e-7e747ffd8aad&quot;,&quot;parentUUID&quot;:&quot;44f61b04-5d32-4afa-90fc-761a0d02b5a6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1e7c385a-3cf6-4ac0-aa83-9a4451e433c9&quot;,&quot;dc7c1d44-598d-4800-884e-7e747ffd8aad&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;8da3e568-a2da-4334-9ccc-2d9bc5a0ab21&quot;,&quot;title&quot;:&quot;set-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/string/set-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/string/set-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:33,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;flush&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2a9fc3f8-615a-4a96-8154-b380587fbd28&quot;,&quot;parentUUID&quot;:&quot;8da3e568-a2da-4334-9ccc-2d9bc5a0ab21&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;77c10b4a-ed43-4f77-9cea-06e628beb36d&quot;,&quot;parentUUID&quot;:&quot;8da3e568-a2da-4334-9ccc-2d9bc5a0ab21&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dcc1e70c-167b-46e1-8e6c-3400d591fe34&quot;,&quot;parentUUID&quot;:&quot;8da3e568-a2da-4334-9ccc-2d9bc5a0ab21&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee2f49a6-af71-4e73-abfc-1ea148a84768&quot;,&quot;parentUUID&quot;:&quot;8da3e568-a2da-4334-9ccc-2d9bc5a0ab21&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should allow us to set a several second ttl&quot;,&quot;fullTitle&quot;:&quot;set-command test should allow us to set a several second ttl&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // During local testing there are 8 milliseconds from put to get\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;TTLtest&#x27;, &#x27;key&#x27;, &#x27;EX&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3aaac553-fa11-4ccc-a53b-01ea043bb275&quot;,&quot;parentUUID&quot;:&quot;8da3e568-a2da-4334-9ccc-2d9bc5a0ab21&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should NOT allow SET to invoke NX after XX&quot;,&quot;fullTitle&quot;:&quot;set-command test should NOT allow SET to invoke NX after XX&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;test&#x27;, &#x27;key&#x27;, &#x27;XX&#x27;, &#x27;NX&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR syntax error&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b56b010-6f16-4857-a6b8-2a30a71dd7cc&quot;,&quot;parentUUID&quot;:&quot;8da3e568-a2da-4334-9ccc-2d9bc5a0ab21&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should NOT allow SET to invoke XX after NX&quot;,&quot;fullTitle&quot;:&quot;set-command test should NOT allow SET to invoke XX after NX&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;test&#x27;, &#x27;key&#x27;, &#x27;NX&#x27;, &#x27;XX&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR syntax error&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;649e873c-889a-43ba-b74d-af7f4b3c6371&quot;,&quot;parentUUID&quot;:&quot;8da3e568-a2da-4334-9ccc-2d9bc5a0ab21&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return nil when SET invoked with XX on a key that doesn&#x27;t exist&quot;,&quot;fullTitle&quot;:&quot;set-command test should return nil when SET invoked with XX on a key that doesn&#x27;t exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = `TEST${new Date().getTime()}`;\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, uniqueKey, &#x27;key&#x27;, &#x27;XX&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;25675b14-c279-493e-8e0d-3b782d6a1706&quot;,&quot;parentUUID&quot;:&quot;8da3e568-a2da-4334-9ccc-2d9bc5a0ab21&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return OK when SET invoked with XX on a key that DOES exist&quot;,&quot;fullTitle&quot;:&quot;set-command test should return OK when SET invoked with XX on a key that DOES exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = `TEST${new Date().getTime()}`;\n        // set the key with NX first to validate that functionality\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, uniqueKey, &#x27;key&#x27;, &#x27;NX&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, uniqueKey, &#x27;new value&#x27;, &#x27;XX&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        // Now validate that the key is what we said last\n        response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(&#x27;new value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4e06bc7a-abdc-474d-9975-396b19297de7&quot;,&quot;parentUUID&quot;:&quot;8da3e568-a2da-4334-9ccc-2d9bc5a0ab21&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should NOT allow SET to invoke EX and PX simultaneously&quot;,&quot;fullTitle&quot;:&quot;set-command test should NOT allow SET to invoke EX and PX simultaneously&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // Note: Our behavior is different from redis.  This error is &#x27;wrong number of args&#x27;\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;test&#x27;, &#x27;key&#x27;, &#x27;EX&#x27;, &#x27;100&#x27;, &#x27;PX&#x27;, &#x27;100&#x27;]);\n        chai_1.expect(response).to.match(/^ReplyError: ERR syntax error/);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b7f0bc7-accd-427b-b7c6-a2122b438c9e&quot;,&quot;parentUUID&quot;:&quot;8da3e568-a2da-4334-9ccc-2d9bc5a0ab21&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should allow us to set a millisecond ttl&quot;,&quot;fullTitle&quot;:&quot;set-command test should allow us to set a millisecond ttl&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // During local teseting there are 8 milliseconds from put to get\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;MILLItest&#x27;, &#x27;key&#x27;, &#x27;PX&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9aa99d1e-1f0a-47c6-8e9f-afdbfb6b997c&quot;,&quot;parentUUID&quot;:&quot;8da3e568-a2da-4334-9ccc-2d9bc5a0ab21&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should prove that the one second TTL has expired&quot;,&quot;fullTitle&quot;:&quot;set-command test should prove that the one second TTL has expired&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1003,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;setTimeout(() =&gt; {\n    common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;TTLtest&#x27;])\n        .then((responseGet) =&gt; {\n        chai_1.expect(responseGet).to.equal(null);\n        done();\n    });\n}, 1000);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c2a7bb2b-c9da-42dc-8b28-e750ac1a2cf2&quot;,&quot;parentUUID&quot;:&quot;8da3e568-a2da-4334-9ccc-2d9bc5a0ab21&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not accept unknown parameters&quot;,&quot;fullTitle&quot;:&quot;set-command test should not accept unknown parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;test&#x27;, &#x27;key&#x27;, &#x27;Q&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR syntax error&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;65c7d527-67a8-4c36-9cf6-90c9b0fdeaae&quot;,&quot;parentUUID&quot;:&quot;8da3e568-a2da-4334-9ccc-2d9bc5a0ab21&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should NOT allow SET to invoke PX after EX&quot;,&quot;fullTitle&quot;:&quot;set-command test should NOT allow SET to invoke PX after EX&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;test&#x27;, &#x27;key&#x27;, &#x27;EX&#x27;, &#x27;100&#x27;, &#x27;PX&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR syntax error&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fc76deac-ab3d-4517-941d-468523db01ee&quot;,&quot;parentUUID&quot;:&quot;8da3e568-a2da-4334-9ccc-2d9bc5a0ab21&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should NOT allow SET to invoke EX after PX&quot;,&quot;fullTitle&quot;:&quot;set-command test should NOT allow SET to invoke EX after PX&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;test&#x27;, &#x27;key&#x27;, &#x27;PX&#x27;, &#x27;100&#x27;, &#x27;EX&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR syntax error&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c1338c4e-0d2a-4519-9b28-e12bf46e2e14&quot;,&quot;parentUUID&quot;:&quot;8da3e568-a2da-4334-9ccc-2d9bc5a0ab21&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not allow a TTL less than 1ms&quot;,&quot;fullTitle&quot;:&quot;set-command test should not allow a TTL less than 1ms&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;MILLItest&#x27;, &#x27;key&#x27;, &#x27;PX&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR invalid expire time in set&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9703f75c-62cd-4d36-af8f-0d37153c61c4&quot;,&quot;parentUUID&quot;:&quot;8da3e568-a2da-4334-9ccc-2d9bc5a0ab21&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should prove that the millisecond TTL has expired&quot;,&quot;fullTitle&quot;:&quot;set-command test should prove that the millisecond TTL has expired&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;setTimeout(() =&gt; {\n    common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;MILLItest&#x27;])\n        .then((responseGet) =&gt; {\n        chai_1.expect(responseGet).to.equal(null);\n        done();\n    });\n}, 10);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cc92d8d8-9c60-488f-ad1e-0ce084f40aa8&quot;,&quot;parentUUID&quot;:&quot;8da3e568-a2da-4334-9ccc-2d9bc5a0ab21&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3aaac553-fa11-4ccc-a53b-01ea043bb275&quot;,&quot;6b56b010-6f16-4857-a6b8-2a30a71dd7cc&quot;,&quot;649e873c-889a-43ba-b74d-af7f4b3c6371&quot;,&quot;25675b14-c279-493e-8e0d-3b782d6a1706&quot;,&quot;4e06bc7a-abdc-474d-9975-396b19297de7&quot;,&quot;6b7f0bc7-accd-427b-b7c6-a2122b438c9e&quot;,&quot;9aa99d1e-1f0a-47c6-8e9f-afdbfb6b997c&quot;,&quot;c2a7bb2b-c9da-42dc-8b28-e750ac1a2cf2&quot;,&quot;65c7d527-67a8-4c36-9cf6-90c9b0fdeaae&quot;,&quot;fc76deac-ab3d-4517-941d-468523db01ee&quot;,&quot;c1338c4e-0d2a-4519-9b28-e12bf46e2e14&quot;,&quot;9703f75c-62cd-4d36-af8f-0d37153c61c4&quot;,&quot;cc92d8d8-9c60-488f-ad1e-0ce084f40aa8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1083,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;718a0901-a361-465f-b374-95499ef22234&quot;,&quot;title&quot;:&quot;setnx-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/string/setnx-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/string/setnx-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;setnx-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;flush&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9ae26244-506c-4784-af8d-50802077ee57&quot;,&quot;parentUUID&quot;:&quot;718a0901-a361-465f-b374-95499ef22234&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;setnx-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ca7cdd90-3e20-4904-be73-191e70a66d2d&quot;,&quot;parentUUID&quot;:&quot;718a0901-a361-465f-b374-95499ef22234&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;setnx-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8b6217e4-a6a2-4013-ad0f-f7d8d4bdad47&quot;,&quot;parentUUID&quot;:&quot;718a0901-a361-465f-b374-95499ef22234&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;setnx-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0a51e336-5076-4f49-89dc-59a2435f842d&quot;,&quot;parentUUID&quot;:&quot;718a0901-a361-465f-b374-95499ef22234&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return 1 when the key does not exist&quot;,&quot;fullTitle&quot;:&quot;setnx-command test should return 1 when the key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;setnx&#x27;, &#x27;test&#x27;, &#x27;key&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;59315b03-46d9-4e94-ab41-8c93481ba7ef&quot;,&quot;parentUUID&quot;:&quot;718a0901-a361-465f-b374-95499ef22234&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 0 when the key already exists&quot;,&quot;fullTitle&quot;:&quot;setnx-command test should return 0 when the key already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;setnx&#x27;, &#x27;test&#x27;, &#x27;other&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;key&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e080d39d-74d6-4fbc-b03f-5822ba01ae18&quot;,&quot;parentUUID&quot;:&quot;718a0901-a361-465f-b374-95499ef22234&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;59315b03-46d9-4e94-ab41-8c93481ba7ef&quot;,&quot;e080d39d-74d6-4fbc-b03f-5822ba01ae18&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;0a42afef-72bb-42fe-ac66-2fb657f2a49a&quot;,&quot;title&quot;:&quot;data-type test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/data-type.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/data-type.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;data-type test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1f6f9db4-fb27-462d-a87a-4d37173f1334&quot;,&quot;parentUUID&quot;:&quot;0a42afef-72bb-42fe-ac66-2fb657f2a49a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;data-type test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a54c731d-b2d0-43a4-a983-e4cc57c078bc&quot;,&quot;parentUUID&quot;:&quot;0a42afef-72bb-42fe-ac66-2fb657f2a49a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;data-type test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ebe98300-c741-451b-91b8-3d55a3ba84ed&quot;,&quot;parentUUID&quot;:&quot;0a42afef-72bb-42fe-ac66-2fb657f2a49a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should enumerate data-types&quot;,&quot;fullTitle&quot;:&quot;data-type test should enumerate data-types&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        chai_1.expect(data_type_1.DataType.NONE).to.equal(&#x27;none&#x27;);\n        chai_1.expect(data_type_1.DataType.STRING).to.equal(&#x27;string&#x27;);\n        chai_1.expect(data_type_1.DataType.LIST).to.equal(&#x27;list&#x27;);\n        chai_1.expect(data_type_1.DataType.SET).to.equal(&#x27;set&#x27;);\n        chai_1.expect(data_type_1.DataType.ZSET).to.equal(&#x27;zset&#x27;);\n        chai_1.expect(data_type_1.DataType.HASH).to.equal(&#x27;hash&#x27;);\n        chai_1.expect(Object.keys(data_type_1.DataType).length).to.equal(6);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d9ecabde-c90e-4926-a34f-a68383a36eb3&quot;,&quot;parentUUID&quot;:&quot;0a42afef-72bb-42fe-ac66-2fb657f2a49a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d9ecabde-c90e-4926-a34f-a68383a36eb3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;f1ccfde5-b049-442f-8d3e-b32d9fc1473e&quot;,&quot;title&quot;:&quot;sorted-set test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sorted-set test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();\nss = new sorted_set_1.SortedSet();\nz = new Z();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b14e2c16-01ae-4fc9-b2d6-9b1031561347&quot;,&quot;parentUUID&quot;:&quot;f1ccfde5-b049-442f-8d3e-b32d9fc1473e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sorted-set test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6a70fe61-1a9d-4a51-8838-b4624b6f0153&quot;,&quot;parentUUID&quot;:&quot;f1ccfde5-b049-442f-8d3e-b32d9fc1473e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sorted-set test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;02c0d84a-c9c1-4683-be30-32536e4900f8&quot;,&quot;parentUUID&quot;:&quot;f1ccfde5-b049-442f-8d3e-b32d9fc1473e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should instantiate&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should instantiate&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        chai_1.expect(z.constructor.name).to.equal(&#x27;Z&#x27;);\n        ss = new sorted_set_1.SortedSet();\n        chai_1.expect(ss.constructor.name).to.equal(&#x27;SortedSet&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;04ba59a1-4ff1-476d-9720-7abc715237d7&quot;,&quot;parentUUID&quot;:&quot;f1ccfde5-b049-442f-8d3e-b32d9fc1473e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should add, get, and delete an entry&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should add, get, and delete an entry&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        let added = z.add(&#x27;test&#x27;, 1);\n        chai_1.expect(added).to.equal(null);\n        added = ss.add(&#x27;test&#x27;, 1);\n        chai_1.expect(added).to.equal(null);\n        chai_1.expect(z.keys().length).to.equal(1);\n        chai_1.expect(ss.keys().length).to.equal(1);\n        let item = z.get(&#x27;test&#x27;);\n        chai_1.expect(item.constructor.name).to.equal(&#x27;Number&#x27;);\n        item = ss.get(&#x27;test&#x27;);\n        chai_1.expect(item.constructor.name).to.equal(&#x27;Number&#x27;);\n        z.del(&#x27;test&#x27;);\n        chai_1.expect(z.keys().length).to.equal(0);\n        ss.del(&#x27;test&#x27;);\n        chai_1.expect(ss.keys().length).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;57308db8-94e2-4625-9414-f3bbbe2167c3&quot;,&quot;parentUUID&quot;:&quot;f1ccfde5-b049-442f-8d3e-b32d9fc1473e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw when attempting to add __proto__ key&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should throw when attempting to add __proto__ key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        chai_1.expect(() =&gt; {\n            z.add(&#x27;__proto__&#x27;, 0);\n        }).to.throw();\n        // expect(() =&gt; {\n        //   ss.add(&#x27;__proto__&#x27;, 0)\n        // }).to.throw();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5da2289d-5e3d-4c48-b010-5ed5d8308d9c&quot;,&quot;parentUUID&quot;:&quot;f1ccfde5-b049-442f-8d3e-b32d9fc1473e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not add an undefined or null score&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should not add an undefined or null score&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        let added = z.add(&#x27;test&#x27;, null);\n        chai_1.expect(added).to.equal(null);\n        chai_1.expect(z.keys().length).to.equal(0);\n        added = z.add(&#x27;test&#x27;, undefined);\n        chai_1.expect(z.keys().length).to.equal(0);\n        // Typescript prevents adding null\n        // added = ss.add(&#x27;test&#x27;, null);\n        // expect(added).to.equal(null);\n        // expect(ss.keys().length).to.equal(0);\n        // added = ss.add(&#x27;test&#x27;, undefined);\n        // expect(z.keys().length).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d30758c-8ff1-4569-8db9-eb9afe8d9e40&quot;,&quot;parentUUID&quot;:&quot;f1ccfde5-b049-442f-8d3e-b32d9fc1473e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not duplicate key/value pairs&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should not duplicate key/value pairs&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        let added = z.add(&#x27;test&#x27;, 123);\n        chai_1.expect(added).to.equal(null); // This is weird\n        chai_1.expect(z.keys().length).to.equal(1);\n        added = z.add(&#x27;test&#x27;, 123);\n        chai_1.expect(added).to.equal(123); // and weirder\n        chai_1.expect(z.keys().length).to.equal(1);\n        added = ss.add(&#x27;test&#x27;, 123);\n        chai_1.expect(added).to.equal(null); // This is weird\n        chai_1.expect(ss.keys().length).to.equal(1);\n        added = ss.add(&#x27;test&#x27;, 123);\n        chai_1.expect(added).to.equal(123); // and weirder\n        chai_1.expect(ss.keys().length).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f5b26f13-ada4-44f8-a3cb-73d44337edb1&quot;,&quot;parentUUID&quot;:&quot;f1ccfde5-b049-442f-8d3e-b32d9fc1473e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the old rank when replacing a key&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should return the old rank when replacing a key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        let added = z.add(&#x27;test&#x27;, 123);\n        chai_1.expect(added).to.equal(null);\n        chai_1.expect(z.keys().length).to.equal(1);\n        added = z.add(&#x27;test&#x27;, 321);\n        chai_1.expect(added).to.equal(123);\n        chai_1.expect(z.keys().length).to.equal(1);\n        added = z.get(&#x27;test&#x27;);\n        chai_1.expect(added).to.equal(321);\n        added = ss.add(&#x27;test&#x27;, 123);\n        chai_1.expect(added).to.equal(null);\n        chai_1.expect(ss.keys().length).to.equal(1);\n        added = ss.add(&#x27;test&#x27;, 321);\n        chai_1.expect(added).to.equal(123);\n        chai_1.expect(ss.keys().length).to.equal(1);\n        added = ss.get(&#x27;test&#x27;);\n        chai_1.expect(added).to.equal(321);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;64fac173-27af-4f3b-9e9b-4044979927d3&quot;,&quot;parentUUID&quot;:&quot;f1ccfde5-b049-442f-8d3e-b32d9fc1473e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a value when adding at least 32 values (I think - it is difficult to tell)&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should return a value when adding at least 32 values (I think - it is difficult to tell)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;324ba926-71c0-4eed-aff8-0537b96e63e3&quot;,&quot;parentUUID&quot;:&quot;f1ccfde5-b049-442f-8d3e-b32d9fc1473e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should do what the documentation says here: https://www.npmjs.com/package/redis-sorted-set&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should do what the documentation says here: https://www.npmjs.com/package/redis-sorted-set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        chai_1.expect(z.add(&#x27;Terminator&#x27;, 8.0)).to.equal(null); // =&gt; null\n        chai_1.expect(z.add(&#x27;District 9&#x27;, 8.0)).to.equal(null); // =&gt; null\n        chai_1.expect(z.add(&#x27;Ex Machina&#x27;, 0.7)).to.equal(null); // =&gt; null\n        chai_1.expect(z.add(&#x27;Ex Machina&#x27;, 7.7)).to.equal(0.7); // =&gt; 0.7\n        // alias\n        chai_1.expect(z.set(&#x27;The Matrix&#x27;, 8.7)).to.equal(null); // =&gt; null\n        // average O(1)\n        chai_1.expect(z.has(&#x27;Terminator&#x27;)).to.equal(true); // =&gt; true\n        chai_1.expect(z.has(&#x27;Blade Runner&#x27;)).to.equal(false); // =&gt; false\n        // average O(1)\n        chai_1.expect(z.score(&#x27;Ex Machina&#x27;)).to.equal(7.7); // =&gt; 7.7\n        chai_1.expect(z.score(&#x27;Blade Runner&#x27;)).to.equal(null); // =&gt; null\n        // alias\n        chai_1.expect(z.get(&#x27;The Matrix&#x27;)).to.equal(8.7); // =&gt; 8.7\n        // average O(log(N))\n        chai_1.expect(z.rem(&#x27;Ex Machina&#x27;)).to.equal(7.7); // =&gt; 7.7\n        // average O(1)\n        chai_1.expect(z.rem(&#x27;Ex Machina&#x27;)).to.equal(null); // =&gt; null\n        // alias\n        chai_1.expect(z.del(&#x27;Ex Machina&#x27;)).to.equal(null); // =&gt; null\n        // average O(log(N)+M) where M is the number of elements between min and max\n        // This is not working as expected\n        chai_1.expect(z.rangeByScore(7, 8)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        chai_1.expect(z.rangeByScore(8)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]); // [8.0-∞)\n        // =&gt; [&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]\n        chai_1.expect(z.rangeByScore(8, null, { withScores: true })).to.eql([[&#x27;District 9&#x27;, 8.0], [&#x27;Terminator&#x27;, 8.0], [&#x27;The Matrix&#x27;, 8.7]]);\n        // =&gt; [[&#x27;District 9&#x27;, 8.0], [&#x27;Terminator&#x27;, 8.0], [&#x27;The Matrix&#x27;, 8.7]]\n        // average O(log(N)+log(M)) where M as in rangeByScore\n        // Again - not as expected\n        chai_1.expect(z.count(7, 8)).to.equal(2); // =&gt; 3\n        // average O(log(N))\n        // Not working as expected\n        chai_1.expect(z.rank(&#x27;Ex Machina&#x27;)).to.equal(null); // =&gt; 0\n        // Not working as expected\n        chai_1.expect(z.rank(&#x27;Terminator&#x27;)).to.equal(1); // =&gt; 2\n        chai_1.expect(z.rank(&#x27;Blade Runner&#x27;)).to.equal(null); // =&gt; null\n        // average O(log(N)+M) where M as in range\n        // Not working as expected\n        chai_1.expect(z.range(0, 2)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        // Not working as expected\n        chai_1.expect(z.range(0, 2, { withScores: true })).to.eql([[&#x27;District 9&#x27;, 8], [&#x27;Terminator&#x27;, 8], [&#x27;The Matrix&#x27;, 8.7]]);\n        // =&gt; [[&#x27;Ex Machina&#x27;, 7.7],\n        //     [&#x27;District 9&#x27;, 8],\n        //     [&#x27;Terminator&#x27;, 8]]\n        chai_1.expect(z.range(-1)).to.eql([&#x27;The Matrix&#x27;]); // =&gt; [&#x27;The Matrix&#x27;]\n        // almost alias\n        // Not working as expected\n        chai_1.expect(z.slice(0, 3)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        // Set cardinality (number of elements)\n        // average O(1)\n        // Not working as expected\n        chai_1.expect(z.card()).to.equal(3); // =&gt; 4\n        // alias\n        // Not working as expected\n        chai_1.expect(z.length).to.equal(3); // =&gt; 4\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c6d115b-027c-4cbc-8d10-f9257183a383&quot;,&quot;parentUUID&quot;:&quot;f1ccfde5-b049-442f-8d3e-b32d9fc1473e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;the rewrite should do what the documentation says here: https://www.npmjs.com/package/redis-sorted-set&quot;,&quot;fullTitle&quot;:&quot;sorted-set test the rewrite should do what the documentation says here: https://www.npmjs.com/package/redis-sorted-set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        chai_1.expect(ss.add(&#x27;Terminator&#x27;, 8.0)).to.equal(null); // =&gt; null\n        chai_1.expect(ss.add(&#x27;District 9&#x27;, 8.0)).to.equal(null); // =&gt; null\n        chai_1.expect(ss.add(&#x27;Ex Machina&#x27;, 0.7)).to.equal(null); // =&gt; null\n        chai_1.expect(ss.add(&#x27;Ex Machina&#x27;, 7.7)).to.equal(0.7); // =&gt; 0.7\n        // alias\n        chai_1.expect(ss.set(&#x27;The Matrix&#x27;, 8.7)).to.equal(null); // =&gt; null\n        // average O(1)\n        chai_1.expect(ss.has(&#x27;Terminator&#x27;)).to.equal(true); // =&gt; true\n        chai_1.expect(ss.has(&#x27;Blade Runner&#x27;)).to.equal(false); // =&gt; false\n        // average O(1)\n        chai_1.expect(ss.score(&#x27;Ex Machina&#x27;)).to.equal(7.7); // =&gt; 7.7\n        chai_1.expect(ss.score(&#x27;Blade Runner&#x27;)).to.equal(null); // =&gt; null\n        // alias\n        chai_1.expect(ss.get(&#x27;The Matrix&#x27;)).to.equal(8.7); // =&gt; 8.7\n        // average O(log(N))\n        chai_1.expect(ss.rem(&#x27;Ex Machina&#x27;)).to.equal(7.7); // =&gt; 7.7\n        // average O(1)\n        chai_1.expect(ss.rem(&#x27;Ex Machina&#x27;)).to.equal(null); // =&gt; null\n        // alias\n        chai_1.expect(ss.del(&#x27;Ex Machina&#x27;)).to.equal(null); // =&gt; null\n        // average O(log(N)+M) where M is the number of elements between min and max\n        // This is not working as expected\n        chai_1.expect(ss.rangeByScore(7, 8)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        chai_1.expect(ss.rangeByScore(8)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]); // [8.0-∞)\n        // =&gt; [&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]\n        chai_1.expect(ss.rangeByScore(8, null, { withScores: true })).to.eql([[&#x27;District 9&#x27;, 8.0], [&#x27;Terminator&#x27;, 8.0], [&#x27;The Matrix&#x27;, 8.7]]);\n        // =&gt; [[&#x27;District 9&#x27;, 8.0], [&#x27;Terminator&#x27;, 8.0], [&#x27;The Matrix&#x27;, 8.7]]\n        // average O(log(N)+log(M)) where M as in rangeByScore\n        // Again - not as expected\n        chai_1.expect(ss.count(7, 8)).to.equal(2); // =&gt; 3\n        // average O(log(N))\n        // Not working as expected\n        chai_1.expect(ss.rank(&#x27;Ex Machina&#x27;)).to.equal(null); // =&gt; 0\n        // Not working as expected\n        chai_1.expect(ss.rank(&#x27;Terminator&#x27;)).to.equal(1); // =&gt; 2\n        chai_1.expect(ss.rank(&#x27;Blade Runner&#x27;)).to.equal(null); // =&gt; null\n        // average O(log(N)+M) where M as in range\n        // Not working as expected\n        chai_1.expect(ss.range(0, 2)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        // Not working as expected\n        chai_1.expect(ss.range(0, 2, { withScores: true })).to.eql([[&#x27;District 9&#x27;, 8], [&#x27;Terminator&#x27;, 8], [&#x27;The Matrix&#x27;, 8.7]]);\n        // =&gt; [[&#x27;Ex Machina&#x27;, 7.7],\n        //     [&#x27;District 9&#x27;, 8],\n        //     [&#x27;Terminator&#x27;, 8]]\n        chai_1.expect(ss.range(-1)).to.eql([&#x27;The Matrix&#x27;]); // =&gt; [&#x27;The Matrix&#x27;]\n        // almost alias\n        // Not working as expected\n        chai_1.expect(ss.slice(0, 3)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        // Set cardinality (number of elements)\n        // average O(1)\n        // Not working as expected\n        chai_1.expect(ss.card()).to.equal(3); // =&gt; 4\n        // alias\n        // Not working as expected\n        chai_1.expect(ss.length).to.equal(3); // =&gt; 4\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0b625cc4-f29b-4d5e-898b-6309a8ae50aa&quot;,&quot;parentUUID&quot;:&quot;f1ccfde5-b049-442f-8d3e-b32d9fc1473e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;2df47e56-3f6a-46ac-9629-04f9d4170f4c&quot;,&quot;title&quot;:&quot;skip map&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support basic operations&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map should support basic operations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nchai_1.expect(z).to.have.length(0);\nchai_1.expect(z.toArray()).to.eql([]);\nchai_1.expect(z.range()).to.eql([]);\nchai_1.expect(z.rangeByScore()).to.eql([]);\nchai_1.expect(() =&gt; {\n    z.add(&#x27;__proto__&#x27;, 14);\n}).to.throw();\nz.add(&#x27;5a600e16&#x27;, 8);\nz.add(&#x27;5a600e17&#x27;, 9);\nchai_1.expect(z.add(&#x27;5a600e18&#x27;, 10)).to.equal(null);\nchai_1.expect(z.add(&#x27;5a600e17&#x27;, 12)).to.equal(9);\nchai_1.expect(z).to.have.length(3);\nchai_1.expect(z.toArray()).to.eql([&#x27;5a600e16&#x27;, &#x27;5a600e18&#x27;, &#x27;5a600e17&#x27;]);\nchai_1.expect(z.toArray()).to.eql(z.range(0, -1));\nchai_1.expect(z.toArray()).to.eql(z.rangeByScore());\nchai_1.expect(z.has(&#x27;5a600e16&#x27;)).to.be.ok;\nchai_1.expect(z.has(&#x27;5a600e17&#x27;)).to.be.ok;\nchai_1.expect(z.has(&#x27;5a600e18&#x27;)).to.be.ok;\nchai_1.expect(z.has(&#x27;5a600e19&#x27;)).to.not.be.ok;\nchai_1.expect(z.score(&#x27;5a600e16&#x27;)).to.equal(8);\nchai_1.expect(z.score(&#x27;5a600e17&#x27;)).to.equal(12);\nchai_1.expect(z.score(&#x27;5a600e18&#x27;)).to.equal(10);\nchai_1.expect(z.score(&#x27;5a600e19&#x27;)).to.equal(null);\nchai_1.expect(z.rem(&#x27;5a600e16&#x27;)).to.equal(8);\nchai_1.expect(z).to.have.length(2);\nchai_1.expect(z.rem(&#x27;5a600e16&#x27;)).to.equal(null);\nchai_1.expect(z).to.have.length(2);\nchai_1.expect(z.has(&#x27;5a600e16&#x27;)).to.not.be.ok;\nchai_1.expect(z.toArray()).to.eql([&#x27;5a600e18&#x27;, &#x27;5a600e17&#x27;]);\nchai_1.expect(z.toArray({ withScores: true }))\n    .to.eql(z.range(0, -1, { withScores: true }));\nchai_1.expect(z.toArray()).to.eql(z.rangeByScore());\nz.add(&#x27;5a600e16&#x27;, 10);\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nchai_1.expect(z).to.have.length(9);\n// no change, so should be O(1)\nz.add(&#x27;5a600e17&#x27;, 12);\nchai_1.expect(z.rank(&#x27;5a600e17&#x27;)).to.equal(4);\nchai_1.expect(z).to.have.length(9);\nchai_1.expect(z.toArray()).to.eql([\n    &#x27;5a600e16&#x27;,\n    &#x27;5a600e11&#x27;,\n    &#x27;5a600e18&#x27;,\n    &#x27;5a600e13&#x27;,\n    &#x27;5a600e17&#x27;,\n    &#x27;5a600e14&#x27;,\n    &#x27;5a600e10&#x27;,\n    &#x27;5a600e12&#x27;,\n    &#x27;5a600e15&#x27;,\n]);\nchai_1.expect(z.toArray()).to.eql(z.range(0, -1));\nchai_1.expect(z.toArray()).to.eql(z.rangeByScore());\nchai_1.expect(z.rangeByScore(14, 16, { withScores: true })).to.eql([\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;06fa6fac-5c97-4dd2-bbfc-30fb01ca27cf&quot;,&quot;parentUUID&quot;:&quot;2df47e56-3f6a-46ac-9629-04f9d4170f4c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ac9cea78-9c2d-474e-961a-6ff0a33f5231&quot;,&quot;title&quot;:&quot;#add&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should implicitly delete&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #add should implicitly delete&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.add(&#x27;5a600e14&#x27;, null)).to.equal(14);\nchai_1.expect(z.add(&#x27;5a600e19&#x27;, null)).to.equal(null);\nchai_1.expect(z).to.have.length(8);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d7c300ea-ffc3-4fae-8c5a-f95e497f4140&quot;,&quot;parentUUID&quot;:&quot;ac9cea78-9c2d-474e-961a-6ff0a33f5231&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d7c300ea-ffc3-4fae-8c5a-f95e497f4140&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;1c828cfb-142a-4d1f-84b8-ff62adad5728&quot;,&quot;title&quot;:&quot;#empty&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove all elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #empty should remove all elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nz.empty();\nchai_1.expect(z).to.have.length(0);\nchai_1.expect(z.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;809d823e-637e-4fc1-9387-b27cec1530ba&quot;,&quot;parentUUID&quot;:&quot;1c828cfb-142a-4d1f-84b8-ff62adad5728&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;809d823e-637e-4fc1-9387-b27cec1530ba&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;8e286d9c-8b97-480a-85d0-1355be812bad&quot;,&quot;title&quot;:&quot;#incrBy(increment, key)&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should increase rank&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #incrBy(increment, key) should increase rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;first&#x27;, 1);\nz.add(&#x27;second&#x27;, 2);\nz.add(&#x27;third&#x27;, 3);\nz.add(&#x27;fourth&#x27;, 4);\nchai_1.expect(z.incrBy(2, &#x27;first&#x27;)).to.equal(3);\nchai_1.expect(z.rank(&#x27;first&#x27;)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a4c13382-e894-4ea5-8eb0-06754e1066eb&quot;,&quot;parentUUID&quot;:&quot;8e286d9c-8b97-480a-85d0-1355be812bad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create if not found&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #incrBy(increment, key) should create if not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;first&#x27;, 1);\nz.incrBy(2, &#x27;second&#x27;);\nchai_1.expect(z.card()).to.equal(2);\nchai_1.expect(z.rank(&#x27;second&#x27;)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c369684b-5468-4a12-8350-9a4d91f20a6d&quot;,&quot;parentUUID&quot;:&quot;8e286d9c-8b97-480a-85d0-1355be812bad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a4c13382-e894-4ea5-8eb0-06754e1066eb&quot;,&quot;c369684b-5468-4a12-8350-9a4d91f20a6d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;ee848c11-fef9-411c-98a5-a165744b93f5&quot;,&quot;title&quot;:&quot;#keys&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the keys&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #keys should return the keys&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.keys()).to.eql([&#x27;5a600e16&#x27;, &#x27;5a600e11&#x27;, &#x27;5a600e18&#x27;, &#x27;5a600e13&#x27;,\n    &#x27;5a600e17&#x27;, &#x27;5a600e14&#x27;, &#x27;5a600e10&#x27;, &#x27;5a600e12&#x27;, &#x27;5a600e15&#x27;]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;06e8f5a7-e325-4b9e-a300-715d6e63e430&quot;,&quot;parentUUID&quot;:&quot;ee848c11-fef9-411c-98a5-a165744b93f5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;06e8f5a7-e325-4b9e-a300-715d6e63e430&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;54fd224e-f351-4574-aead-42198d02207f&quot;,&quot;title&quot;:&quot;#rangeByScore&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support special ranges&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #rangeByScore should support special ranges&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.rangeByScore(14, null, { withScores: true })).to.eql([\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);\nchai_1.expect(z.rangeByScore(null, 10, { withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e11&#x27;, 6],\n    [&#x27;5a600e18&#x27;, 10],\n]);\nchai_1.expect(z.rangeByScore(-Infinity, Infinity)).to.eql(z.toArray());\nchai_1.expect(z.rangeByScore(null, null)).to.eql(z.toArray());&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fffda394-1800-4589-8a0a-903cb7747749&quot;,&quot;parentUUID&quot;:&quot;54fd224e-f351-4574-aead-42198d02207f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fffda394-1800-4589-8a0a-903cb7747749&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;242c7d25-6d3a-4211-be0e-5a49c6d8e764&quot;,&quot;title&quot;:&quot;#count&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should count elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #count should count elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nchai_1.expect(z.count()).to.equal(0);\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nz.add(&#x27;5a600e19&#x27;, 14);\nz.add(&#x27;5a600f00&#x27;, 30.0);\nz.add(&#x27;5a600f01&#x27;, 30.5);\nz.add(&#x27;5a600f02&#x27;, 31.0);\nz.add(&#x27;5a600f03&#x27;, 31.5);\nz.add(&#x27;5a600f04&#x27;, 32.0);\nz.add(&#x27;5a600f05&#x27;, 32.0);\nz.add(&#x27;5a600f06&#x27;, 32.0);\nchai_1.expect(z.count()).to.eql(z.rangeByScore().length);\nchai_1.expect(z.count(8)).to.eql(z.rangeByScore(8).length);\nchai_1.expect(z.count(3, 7)).to.eql(z.rangeByScore(3, 7).length);\nchai_1.expect(z.count(5, 14)).to.eql(z.rangeByScore(5, 14).length);\nchai_1.expect(z.count(5, 5)).to.eql(z.rangeByScore(5, 5).length);\nchai_1.expect(z.count(5, 0)).to.eql(z.rangeByScore(5, 0).length);\nchai_1.expect(z.count(30, 32)).to.eql(z.rangeByScore(30, 32).length);\nchai_1.expect(z.count(40)).to.eql(z.rangeByScore(40).length);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;41f287df-258b-4a42-a7aa-920d7f403dcf&quot;,&quot;parentUUID&quot;:&quot;242c7d25-6d3a-4211-be0e-5a49c6d8e764&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;41f287df-258b-4a42-a7aa-920d7f403dcf&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;1278405b-01ca-414d-b19e-cd8adb3ec9a6&quot;,&quot;title&quot;:&quot;#range&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support special ranges&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #range should support special ranges&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;first&#x27;, 1);\nz.add(&#x27;second&#x27;, 2);\nz.add(&#x27;third&#x27;, 3);\nz.add(&#x27;fourth&#x27;, 4);\nvar array = [&#x27;first&#x27;, &#x27;second&#x27;, &#x27;third&#x27;, &#x27;fourth&#x27;];\nchai_1.expect(z.range()).to.eql(array);\nchai_1.expect(z.range(2)).to.eql(array.slice(2));\nchai_1.expect(z.range(8)).to.eql(array.slice(8));\nchai_1.expect(z.range(0, 2)).to.eql(array.slice(0, 3));\nchai_1.expect(z.range(-1)).to.eql([&#x27;fourth&#x27;]);\nchai_1.expect(z.range(-4)).to.eql(array);\nchai_1.expect(z.range(-4, -2)).to.eql(array.slice(0, 3));\nchai_1.expect(z.range(-4, z.length + 1000))\n    .to.eql(array.slice(-4, z.length + 1000));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2544223a-eb4f-4541-bfaf-82762ff8a3b8&quot;,&quot;parentUUID&quot;:&quot;1278405b-01ca-414d-b19e-cd8adb3ec9a6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support withScores&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #range should support withScores&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;first&#x27;, 1);\nz.add(&#x27;second&#x27;, 2);\nchai_1.expect(z.range(0, 0, { withScores: true }))\n    .to.eql([[&#x27;first&#x27;, 1]]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;04f63b25-acca-485d-a3fa-b03bc32d5684&quot;,&quot;parentUUID&quot;:&quot;1278405b-01ca-414d-b19e-cd8adb3ec9a6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2544223a-eb4f-4541-bfaf-82762ff8a3b8&quot;,&quot;04f63b25-acca-485d-a3fa-b03bc32d5684&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;c558beae-eda3-49fd-b84b-55051c169e1f&quot;,&quot;title&quot;:&quot;#intersect&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should intersect two sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #intersect should intersect two sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var a = new Z(), b = new Z();\na.add(&#x27;5a600e10&#x27;, 16);\na.add(&#x27;5a600e12&#x27;, 10);\na.add(&#x27;5a600e14&#x27;, 9);\na.add(&#x27;5a600e15&#x27;, 14);\na.add(&#x27;5a600e17&#x27;, 20);\na.add(&#x27;5a600e18&#x27;, 13);\na.add(&#x27;5a600e19&#x27;, 15);\na.add(&#x27;5a600e1a&#x27;, 19);\na.add(&#x27;5a600e1b&#x27;, 7);\na.add(&#x27;5a600e1c&#x27;, 13);\na.add(&#x27;5a600e1e&#x27;, 10);\nb.add(&#x27;5a600e10&#x27;, 0);\nb.add(&#x27;5a600e11&#x27;, 15);\nb.add(&#x27;5a600e13&#x27;, 5);\nb.add(&#x27;5a600e14&#x27;, 3);\nb.add(&#x27;5a600e15&#x27;, 14);\nb.add(&#x27;5a600e17&#x27;, 12);\nb.add(&#x27;5a600e19&#x27;, 12);\nb.add(&#x27;5a600e1b&#x27;, 16);\nb.add(&#x27;5a600e1c&#x27;, 12);\nb.add(&#x27;5a600e1d&#x27;, 17);\nb.add(&#x27;5a600e1f&#x27;, 3);\nchai_1.expect(Z.intersect(a, b)).to.eql([&#x27;5a600e10&#x27;, &#x27;5a600e14&#x27;,\n    &#x27;5a600e17&#x27;, &#x27;5a600e19&#x27;, &#x27;5a600e1c&#x27;, &#x27;5a600e15&#x27;, &#x27;5a600e1b&#x27;]);\nchai_1.expect(Z.intersect(b, a)).to.eql([&#x27;5a600e1b&#x27;, &#x27;5a600e14&#x27;,\n    &#x27;5a600e1c&#x27;, &#x27;5a600e15&#x27;, &#x27;5a600e19&#x27;, &#x27;5a600e10&#x27;, &#x27;5a600e17&#x27;]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8eaba6da-28df-49fe-9882-72e6f0e34bbb&quot;,&quot;parentUUID&quot;:&quot;c558beae-eda3-49fd-b84b-55051c169e1f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should intersect three sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #intersect should intersect three sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var a = new Z(), b = new Z(), c = new Z();\na.add(&#x27;5a600e10&#x27;, 16);\na.add(&#x27;5a600e12&#x27;, 10);\na.add(&#x27;5a600e14&#x27;, 9);\na.add(&#x27;5a600e15&#x27;, 14);\na.add(&#x27;5a600e17&#x27;, 20);\na.add(&#x27;5a600e18&#x27;, 13);\na.add(&#x27;5a600e19&#x27;, 15);\na.add(&#x27;5a600e1a&#x27;, 19);\na.add(&#x27;5a600e1b&#x27;, 7);\na.add(&#x27;5a600e1c&#x27;, 13);\na.add(&#x27;5a600e1e&#x27;, 10);\nb.add(&#x27;5a600e10&#x27;, 0);\nb.add(&#x27;5a600e11&#x27;, 15);\nb.add(&#x27;5a600e13&#x27;, 5);\nb.add(&#x27;5a600e14&#x27;, 3);\nb.add(&#x27;5a600e15&#x27;, 14);\nb.add(&#x27;5a600e17&#x27;, 12);\nb.add(&#x27;5a600e19&#x27;, 12);\nb.add(&#x27;5a600e1b&#x27;, 16);\nb.add(&#x27;5a600e1c&#x27;, 12);\nb.add(&#x27;5a600e1d&#x27;, 17);\nb.add(&#x27;5a600e1f&#x27;, 3);\nc.add(&#x27;5a600e10&#x27;, 7);\nc.add(&#x27;5a600e12&#x27;, 20);\nc.add(&#x27;5a600e13&#x27;, 9);\nc.add(&#x27;5a600e14&#x27;, 19);\nc.add(&#x27;5a600e16&#x27;, 19);\nc.add(&#x27;5a600e17&#x27;, 1);\nc.add(&#x27;5a600e18&#x27;, 18);\nc.add(&#x27;5a600e1a&#x27;, 6);\nc.add(&#x27;5a600e1c&#x27;, 15);\nc.add(&#x27;5a600e1f&#x27;, 4);\nchai_1.expect(Z.intersect(c, a, b)).to.eql([&#x27;5a600e10&#x27;, &#x27;5a600e14&#x27;,\n    &#x27;5a600e17&#x27;, &#x27;5a600e1c&#x27;]);\nchai_1.expect(Z.intersect(c, a, b)).to.eql(c.intersect(a, b));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a698ae1b-90f8-4c1a-aff4-fb74a10bd497&quot;,&quot;parentUUID&quot;:&quot;c558beae-eda3-49fd-b84b-55051c169e1f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should intersect four sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #intersect should intersect four sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var a = new Z();\nvar b = new Z();\nvar c = new Z();\nvar d = new Z();\na.add(&#x27;5a600e10&#x27;, 16);\na.add(&#x27;5a600e12&#x27;, 10);\na.add(&#x27;5a600e14&#x27;, 9);\na.add(&#x27;5a600e15&#x27;, 14);\na.add(&#x27;5a600e17&#x27;, 20);\na.add(&#x27;5a600e18&#x27;, 13);\na.add(&#x27;5a600e19&#x27;, 15);\na.add(&#x27;5a600e1a&#x27;, 19);\na.add(&#x27;5a600e1b&#x27;, 7);\na.add(&#x27;5a600e1c&#x27;, 13);\na.add(&#x27;5a600e1e&#x27;, 10);\nb.add(&#x27;5a600e10&#x27;, 0);\nb.add(&#x27;5a600e11&#x27;, 15);\nb.add(&#x27;5a600e13&#x27;, 5);\nb.add(&#x27;5a600e14&#x27;, 3);\nb.add(&#x27;5a600e15&#x27;, 14);\nb.add(&#x27;5a600e17&#x27;, 12);\nb.add(&#x27;5a600e19&#x27;, 12);\nb.add(&#x27;5a600e1b&#x27;, 16);\nb.add(&#x27;5a600e1c&#x27;, 12);\nb.add(&#x27;5a600e1d&#x27;, 17);\nb.add(&#x27;5a600e1f&#x27;, 3);\nc.add(&#x27;5a600e10&#x27;, 7);\nc.add(&#x27;5a600e12&#x27;, 20);\nc.add(&#x27;5a600e13&#x27;, 9);\nc.add(&#x27;5a600e14&#x27;, 19);\nc.add(&#x27;5a600e16&#x27;, 19);\nc.add(&#x27;5a600e17&#x27;, 1);\nc.add(&#x27;5a600e18&#x27;, 18);\nc.add(&#x27;5a600e1a&#x27;, 6);\nc.add(&#x27;5a600e1c&#x27;, 15);\nc.add(&#x27;5a600e1f&#x27;, 4);\nd.add(&#x27;5a600e1c&#x27;, 400);\nd.add(&#x27;5a600e17&#x27;, 500);\nd.add(&#x27;5a600e1f&#x27;, 600);\nd.add(&#x27;5a600e20&#x27;, 700);\nchai_1.expect(Z.intersect(d, c, a, b)).to.eql([&#x27;5a600e17&#x27;, &#x27;5a600e1c&#x27;]);\nchai_1.expect(Z.intersect(d, c, a, b)).to.eql(d.intersect(c, a, b));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;696e937b-8b3d-4ca2-9362-fcc01a311364&quot;,&quot;parentUUID&quot;:&quot;c558beae-eda3-49fd-b84b-55051c169e1f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8eaba6da-28df-49fe-9882-72e6f0e34bbb&quot;,&quot;a698ae1b-90f8-4c1a-aff4-fb74a10bd497&quot;,&quot;696e937b-8b3d-4ca2-9362-fcc01a311364&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;bbc69041-537d-4a9d-b74a-8ba3d327312b&quot;,&quot;title&quot;:&quot;#rank&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get the correct rank&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #rank should get the correct rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.rank(&#x27;5a600e12&#x27;)).to.equal(7);\nchai_1.expect(z.rank(&#x27;5a600e13&#x27;)).to.equal(3);\nchai_1.expect(z.rank(&#x27;5a600e16&#x27;)).to.equal(0);\nchai_1.expect(z.rank(&#x27;5a600e15&#x27;)).to.equal(8);\nchai_1.expect(z.rank(&#x27;not in set&#x27;)).to.equal(null);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6bd585b5-e9d0-4b96-913a-5362b362618d&quot;,&quot;parentUUID&quot;:&quot;bbc69041-537d-4a9d-b74a-8ba3d327312b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6bd585b5-e9d0-4b96-913a-5362b362618d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;42711771-e7f0-4626-8885-96d66db25509&quot;,&quot;title&quot;:&quot;#rem&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete special elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #rem should delete special elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.rem(&#x27;5a600e15&#x27;)).to.equal(19);\nchai_1.expect(z).to.have.length(8);\nchai_1.expect(z.rem(&#x27;5a600e16&#x27;)).to.equal(3);\nchai_1.expect(z).to.have.length(7);\nchai_1.expect(z.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e11&#x27;, 6],\n    [&#x27;5a600e18&#x27;, 10],\n    [&#x27;5a600e13&#x27;, 11],\n    [&#x27;5a600e17&#x27;, 12],\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb9f2e13-bccf-4070-93aa-8d161cbc6d07&quot;,&quot;parentUUID&quot;:&quot;42711771-e7f0-4626-8885-96d66db25509&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should delete many elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #rem should delete many elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.rem(&#x27;5a600e11&#x27;)).to.equal(6);\nchai_1.expect(z.rem(&#x27;5a600e13&#x27;)).to.equal(11);\nchai_1.expect(z.rem(&#x27;5a600e14&#x27;)).to.equal(14);\nchai_1.expect(z.rem(&#x27;5a600e15&#x27;)).to.equal(19);\nchai_1.expect(z.rem(&#x27;5a600e16&#x27;)).to.equal(3);\nchai_1.expect(z.rem(&#x27;5a600e17&#x27;)).to.equal(12);\nchai_1.expect(z.length).to.equal(3);\nchai_1.expect(z.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e18&#x27;, 10],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74b5812c-ff67-492b-ba0d-cb019eb784ba&quot;,&quot;parentUUID&quot;:&quot;42711771-e7f0-4626-8885-96d66db25509&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cb9f2e13-bccf-4070-93aa-8d161cbc6d07&quot;,&quot;74b5812c-ff67-492b-ba0d-cb019eb784ba&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;6d1713c2-7c99-444b-9cf9-4dbc32e88373&quot;,&quot;title&quot;:&quot;#remRangeByScore&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should strip out a range of elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #remRangeByScore should strip out a range of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.remRangeByScore(4, 14)).to.equal(5);\nchai_1.expect(z).to.have.length(4);\nchai_1.expect(z.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;81beaf3c-6d64-4615-a1f1-d4ed33ce6aaf&quot;,&quot;parentUUID&quot;:&quot;6d1713c2-7c99-444b-9cf9-4dbc32e88373&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should strip out all the elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #remRangeByScore should strip out all the elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.remRangeByScore(3, 19)).to.equal(9);\nchai_1.expect(z).to.have.length(0);\nchai_1.expect(z.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e72b81f3-1fa8-4fd4-bd84-c1efcff853f4&quot;,&quot;parentUUID&quot;:&quot;6d1713c2-7c99-444b-9cf9-4dbc32e88373&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;81beaf3c-6d64-4615-a1f1-d4ed33ce6aaf&quot;,&quot;e72b81f3-1fa8-4fd4-bd84-c1efcff853f4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;7f0d95a3-d4f6-439e-86a5-287790e380d8&quot;,&quot;title&quot;:&quot;#remRangeByRank&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should strip out a slice of elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #remRangeByRank should strip out a slice of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.remRangeByRank(1, 6)).to.equal(5);\nchai_1.expect(z).to.have.length(4);\nchai_1.expect(z.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fde8dc6c-3f5b-49e3-a82f-fd28564760cd&quot;,&quot;parentUUID&quot;:&quot;7f0d95a3-d4f6-439e-86a5-287790e380d8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should strip out all elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #remRangeByRank should strip out all elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.remRangeByRank(0, 9)).to.equal(9);\nchai_1.expect(z).to.have.length(0);\nchai_1.expect(z.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;49076e9b-aeba-4139-879c-10beac78152f&quot;,&quot;parentUUID&quot;:&quot;7f0d95a3-d4f6-439e-86a5-287790e380d8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fde8dc6c-3f5b-49e3-a82f-fd28564760cd&quot;,&quot;49076e9b-aeba-4139-879c-10beac78152f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b2533277-699c-494b-a7fe-0155b4dc0f03&quot;,&quot;title&quot;:&quot;#values&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the values&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #values should return the values&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;first&#x27;, -1);\nz.add(&#x27;third&#x27;, 5);\nz.add(&#x27;second&#x27;, 3);\nchai_1.expect(z.values()).to.eql([-1, 3, 5]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7548a7fd-b828-4148-87f8-3995683e46b9&quot;,&quot;parentUUID&quot;:&quot;b2533277-699c-494b-a7fe-0155b4dc0f03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7548a7fd-b828-4148-87f8-3995683e46b9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;017e8e46-7010-4495-b5f3-d80d3612ff5e&quot;,&quot;title&quot;:&quot;unique&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should ensure values are unique&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map unique should ensure values are unique&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z({ unique: true });\nassert.equal(z.keys().length, 0, &#x27;Expected an empty SortedSet&#x27;);\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(() =&gt; {\n    z.add(&#x27;5a600e19&#x27;, 11);\n}).to.throw(/unique/);\n// quick exit test\nchai_1.expect(() =&gt; {\n    z.add(&#x27;5a600dff&#x27;, z._head.next[z._level - 1].next.value);\n}).to.throw(/unique/);\n// this test ensures the key &lt; key check doesn&#x27;t come into play\nchai_1.expect(() =&gt; {\n    z.add(&#x27;5a600dff&#x27;, 11);\n}).to.throw(/unique/);\nchai_1.expect(() =&gt; {\n    z.add(&#x27;5a600e18&#x27;, 10);\n}).to.not.throw();\nchai_1.expect(z).to.have.length(9);\nchai_1.expect(z.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e11&#x27;, 6],\n    [&#x27;5a600e18&#x27;, 10],\n    [&#x27;5a600e13&#x27;, 11],\n    [&#x27;5a600e17&#x27;, 12],\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3496ba6c-4073-46a5-95d7-6152dc5c925c&quot;,&quot;parentUUID&quot;:&quot;017e8e46-7010-4495-b5f3-d80d3612ff5e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert keys if constraint broken during update&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map unique should revert keys if constraint broken during update&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z({ unique: true });\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(() =&gt; {\n    z.add(&#x27;5a600e13&#x27;, 14);\n}).to.throw(/unique/);\nchai_1.expect(z).to.have.length(9);\nchai_1.expect(z.score(&#x27;5a600e13&#x27;)).to.equal(11);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3d8db9db-5895-412f-907f-920609d35bdb&quot;,&quot;parentUUID&quot;:&quot;017e8e46-7010-4495-b5f3-d80d3612ff5e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3496ba6c-4073-46a5-95d7-6152dc5c925c&quot;,&quot;3d8db9db-5895-412f-907f-920609d35bdb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[&quot;06fa6fac-5c97-4dd2-bbfc-30fb01ca27cf&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;fe5660e3-8229-4dae-a71a-356bb04e42ef&quot;,&quot;title&quot;:&quot;skip map rewrite&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support basic operations&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite should support basic operations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nchai_1.expect(ss).to.have.length(0);\nchai_1.expect(ss.toArray()).to.eql([]);\nchai_1.expect(ss.range()).to.eql([]);\nchai_1.expect(ss.rangeByScore()).to.eql([]);\n// expect(() =&gt; {\n//   ss.add(&#x27;__proto__&#x27;, 14);\n// }).to.throw();\nss.add(&#x27;5a600e16&#x27;, 8);\nss.add(&#x27;5a600e17&#x27;, 9);\nchai_1.expect(ss.add(&#x27;5a600e18&#x27;, 10)).to.equal(null);\nchai_1.expect(ss.add(&#x27;5a600e17&#x27;, 12)).to.equal(9);\nchai_1.expect(ss).to.have.length(3);\nchai_1.expect(ss.toArray()).to.eql([&#x27;5a600e16&#x27;, &#x27;5a600e18&#x27;, &#x27;5a600e17&#x27;]);\nchai_1.expect(ss.toArray()).to.eql(ss.range(0, -1));\nchai_1.expect(ss.toArray()).to.eql(ss.rangeByScore());\nchai_1.expect(ss.has(&#x27;5a600e16&#x27;)).to.be.ok;\nchai_1.expect(ss.has(&#x27;5a600e17&#x27;)).to.be.ok;\nchai_1.expect(ss.has(&#x27;5a600e18&#x27;)).to.be.ok;\nchai_1.expect(ss.has(&#x27;5a600e19&#x27;)).to.not.be.ok;\nchai_1.expect(ss.score(&#x27;5a600e16&#x27;)).to.equal(8);\nchai_1.expect(ss.score(&#x27;5a600e17&#x27;)).to.equal(12);\nchai_1.expect(ss.score(&#x27;5a600e18&#x27;)).to.equal(10);\nchai_1.expect(ss.score(&#x27;5a600e19&#x27;)).to.equal(null);\nchai_1.expect(ss.rem(&#x27;5a600e16&#x27;)).to.equal(8);\nchai_1.expect(ss).to.have.length(2);\nchai_1.expect(ss.rem(&#x27;5a600e16&#x27;)).to.equal(null);\nchai_1.expect(ss).to.have.length(2);\nchai_1.expect(ss.has(&#x27;5a600e16&#x27;)).to.not.be.ok;\nchai_1.expect(ss.toArray()).to.eql([&#x27;5a600e18&#x27;, &#x27;5a600e17&#x27;]);\nchai_1.expect(ss.toArray({ withScores: true }))\n    .to.eql(ss.range(0, -1, { withScores: true }));\nchai_1.expect(ss.toArray()).to.eql(ss.rangeByScore());\nss.add(&#x27;5a600e16&#x27;, 10);\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nchai_1.expect(ss).to.have.length(9);\n// no change, so should be O(1)\nss.add(&#x27;5a600e17&#x27;, 12);\nchai_1.expect(ss.rank(&#x27;5a600e17&#x27;)).to.equal(4);\nchai_1.expect(ss).to.have.length(9);\nchai_1.expect(ss.toArray()).to.eql([\n    &#x27;5a600e16&#x27;,\n    &#x27;5a600e11&#x27;,\n    &#x27;5a600e18&#x27;,\n    &#x27;5a600e13&#x27;,\n    &#x27;5a600e17&#x27;,\n    &#x27;5a600e14&#x27;,\n    &#x27;5a600e10&#x27;,\n    &#x27;5a600e12&#x27;,\n    &#x27;5a600e15&#x27;,\n]);\nchai_1.expect(ss.toArray()).to.eql(ss.range(0, -1));\nchai_1.expect(ss.toArray()).to.eql(ss.rangeByScore());\nchai_1.expect(ss.rangeByScore(14, 16, { withScores: true })).to.eql([\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;21768d3c-340f-4a92-b1a7-f5c240748324&quot;,&quot;parentUUID&quot;:&quot;fe5660e3-8229-4dae-a71a-356bb04e42ef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;336845c4-480f-4f70-994b-2a906e7487d9&quot;,&quot;title&quot;:&quot;#add&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should implicitly delete&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #add should implicitly delete&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.add(&#x27;5a600e14&#x27;, null)).to.equal(14);\nchai_1.expect(ss.add(&#x27;5a600e19&#x27;, null)).to.equal(null);\nchai_1.expect(ss).to.have.length(8);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3d09050-0c8d-494e-80a6-69270a2c79c6&quot;,&quot;parentUUID&quot;:&quot;336845c4-480f-4f70-994b-2a906e7487d9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c3d09050-0c8d-494e-80a6-69270a2c79c6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;ae9a5439-9a77-47e4-8a54-86d97fa96884&quot;,&quot;title&quot;:&quot;#empty&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove all elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #empty should remove all elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nss.empty();\nchai_1.expect(ss).to.have.length(0);\nchai_1.expect(ss.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2ad43f14-40fc-42bc-9fa2-6cc34cd7ccd1&quot;,&quot;parentUUID&quot;:&quot;ae9a5439-9a77-47e4-8a54-86d97fa96884&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2ad43f14-40fc-42bc-9fa2-6cc34cd7ccd1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;9dda16f1-f35e-440b-962a-7431b86868e5&quot;,&quot;title&quot;:&quot;#incrBy(increment, key)&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should increase rank&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #incrBy(increment, key) should increase rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;first&#x27;, 1);\nss.add(&#x27;second&#x27;, 2);\nss.add(&#x27;third&#x27;, 3);\nss.add(&#x27;fourth&#x27;, 4);\nchai_1.expect(ss.incrBy(2, &#x27;first&#x27;)).to.equal(3);\nchai_1.expect(ss.rank(&#x27;first&#x27;)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d417662d-626c-47d1-ba5b-cba96c39afad&quot;,&quot;parentUUID&quot;:&quot;9dda16f1-f35e-440b-962a-7431b86868e5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create if not found&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #incrBy(increment, key) should create if not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;first&#x27;, 1);\nss.incrBy(2, &#x27;second&#x27;);\nchai_1.expect(ss.card()).to.equal(2);\nchai_1.expect(ss.rank(&#x27;second&#x27;)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;106e4da3-8cbf-4e05-a2fb-3875356f13ae&quot;,&quot;parentUUID&quot;:&quot;9dda16f1-f35e-440b-962a-7431b86868e5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d417662d-626c-47d1-ba5b-cba96c39afad&quot;,&quot;106e4da3-8cbf-4e05-a2fb-3875356f13ae&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;c951843c-4a81-416b-bb1e-6ea7e3dc8448&quot;,&quot;title&quot;:&quot;#keys&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the keys&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #keys should return the keys&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.keys()).to.eql([&#x27;5a600e16&#x27;, &#x27;5a600e11&#x27;, &#x27;5a600e18&#x27;, &#x27;5a600e13&#x27;,\n    &#x27;5a600e17&#x27;, &#x27;5a600e14&#x27;, &#x27;5a600e10&#x27;, &#x27;5a600e12&#x27;, &#x27;5a600e15&#x27;]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ab54e30a-b6ae-4528-a7a2-0eafd78e7ba3&quot;,&quot;parentUUID&quot;:&quot;c951843c-4a81-416b-bb1e-6ea7e3dc8448&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ab54e30a-b6ae-4528-a7a2-0eafd78e7ba3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;a37f531d-6593-4cce-9ad2-f74b1a57da94&quot;,&quot;title&quot;:&quot;#rangeByScore&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support special ranges&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #rangeByScore should support special ranges&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.rangeByScore(14, null, { withScores: true })).to.eql([\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);\nchai_1.expect(ss.rangeByScore(null, 10, { withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e11&#x27;, 6],\n    [&#x27;5a600e18&#x27;, 10],\n]);\nchai_1.expect(ss.rangeByScore(-Infinity, Infinity)).to.eql(ss.toArray());\nchai_1.expect(ss.rangeByScore(null, null)).to.eql(ss.toArray());&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4a50d38e-5bb8-4b0f-8ca3-40809f1a5bfc&quot;,&quot;parentUUID&quot;:&quot;a37f531d-6593-4cce-9ad2-f74b1a57da94&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4a50d38e-5bb8-4b0f-8ca3-40809f1a5bfc&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;bb1e7f11-ede8-4087-ad31-ee62206cc1cc&quot;,&quot;title&quot;:&quot;#count&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should count elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #count should count elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nchai_1.expect(ss.count()).to.equal(0);\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nss.add(&#x27;5a600e19&#x27;, 14);\nss.add(&#x27;5a600f00&#x27;, 30.0);\nss.add(&#x27;5a600f01&#x27;, 30.5);\nss.add(&#x27;5a600f02&#x27;, 31.0);\nss.add(&#x27;5a600f03&#x27;, 31.5);\nss.add(&#x27;5a600f04&#x27;, 32.0);\nss.add(&#x27;5a600f05&#x27;, 32.0);\nss.add(&#x27;5a600f06&#x27;, 32.0);\nchai_1.expect(ss.count()).to.eql(ss.rangeByScore().length);\nchai_1.expect(ss.count(8)).to.eql(ss.rangeByScore(8).length);\nchai_1.expect(ss.count(3, 7)).to.eql(ss.rangeByScore(3, 7).length);\nchai_1.expect(ss.count(5, 14)).to.eql(ss.rangeByScore(5, 14).length);\nchai_1.expect(ss.count(5, 5)).to.eql(ss.rangeByScore(5, 5).length);\nchai_1.expect(ss.count(5, 0)).to.eql(ss.rangeByScore(5, 0).length);\nchai_1.expect(ss.count(30, 32)).to.eql(ss.rangeByScore(30, 32).length);\nchai_1.expect(ss.count(40)).to.eql(ss.rangeByScore(40).length);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c904d93-cb89-434c-9d26-c15544e6f182&quot;,&quot;parentUUID&quot;:&quot;bb1e7f11-ede8-4087-ad31-ee62206cc1cc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6c904d93-cb89-434c-9d26-c15544e6f182&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;d8d5f980-b279-4751-a5c5-46d8c3a4d3ff&quot;,&quot;title&quot;:&quot;#range&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support special ranges&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #range should support special ranges&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;first&#x27;, 1);\nss.add(&#x27;second&#x27;, 2);\nss.add(&#x27;third&#x27;, 3);\nss.add(&#x27;fourth&#x27;, 4);\nlet array = [&#x27;first&#x27;, &#x27;second&#x27;, &#x27;third&#x27;, &#x27;fourth&#x27;];\nchai_1.expect(ss.range()).to.eql(array);\nchai_1.expect(ss.range(2)).to.eql(array.slice(2));\nchai_1.expect(ss.range(8)).to.eql(array.slice(8));\nchai_1.expect(ss.range(0, 2)).to.eql(array.slice(0, 3));\nchai_1.expect(ss.range(-1)).to.eql([&#x27;fourth&#x27;]);\nchai_1.expect(ss.range(-4)).to.eql(array);\nchai_1.expect(ss.range(-4, -2)).to.eql(array.slice(0, 3));\nchai_1.expect(ss.range(-4, ss.length + 1000))\n    .to.eql(array.slice(-4, ss.length + 1000));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b271def9-da28-4bc8-89f4-ad41fc56eff3&quot;,&quot;parentUUID&quot;:&quot;d8d5f980-b279-4751-a5c5-46d8c3a4d3ff&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support withScores&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #range should support withScores&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;first&#x27;, 1);\nss.add(&#x27;second&#x27;, 2);\nchai_1.expect(ss.range(0, 0, { withScores: true }))\n    .to.eql([[&#x27;first&#x27;, 1]]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b2b24ca4-3850-4dda-bd56-9b8bf608e299&quot;,&quot;parentUUID&quot;:&quot;d8d5f980-b279-4751-a5c5-46d8c3a4d3ff&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b271def9-da28-4bc8-89f4-ad41fc56eff3&quot;,&quot;b2b24ca4-3850-4dda-bd56-9b8bf608e299&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;f38c7017-80e1-4b49-b92b-232ce0c7fac8&quot;,&quot;title&quot;:&quot;#intersect&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should intersect two sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #intersect should intersect two sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let a = new sorted_set_1.SortedSet(), b = new sorted_set_1.SortedSet();\na.add(&#x27;5a600e10&#x27;, 16);\na.add(&#x27;5a600e12&#x27;, 10);\na.add(&#x27;5a600e14&#x27;, 9);\na.add(&#x27;5a600e15&#x27;, 14);\na.add(&#x27;5a600e17&#x27;, 20);\na.add(&#x27;5a600e18&#x27;, 13);\na.add(&#x27;5a600e19&#x27;, 15);\na.add(&#x27;5a600e1a&#x27;, 19);\na.add(&#x27;5a600e1b&#x27;, 7);\na.add(&#x27;5a600e1c&#x27;, 13);\na.add(&#x27;5a600e1e&#x27;, 10);\nb.add(&#x27;5a600e10&#x27;, 0);\nb.add(&#x27;5a600e11&#x27;, 15);\nb.add(&#x27;5a600e13&#x27;, 5);\nb.add(&#x27;5a600e14&#x27;, 3);\nb.add(&#x27;5a600e15&#x27;, 14);\nb.add(&#x27;5a600e17&#x27;, 12);\nb.add(&#x27;5a600e19&#x27;, 12);\nb.add(&#x27;5a600e1b&#x27;, 16);\nb.add(&#x27;5a600e1c&#x27;, 12);\nb.add(&#x27;5a600e1d&#x27;, 17);\nb.add(&#x27;5a600e1f&#x27;, 3);\nchai_1.expect(sorted_set_1.SortedSet.intersect(a, b)).to.eql([&#x27;5a600e10&#x27;, &#x27;5a600e14&#x27;,\n    &#x27;5a600e17&#x27;, &#x27;5a600e19&#x27;, &#x27;5a600e1c&#x27;, &#x27;5a600e15&#x27;, &#x27;5a600e1b&#x27;]);\nchai_1.expect(sorted_set_1.SortedSet.intersect(b, a)).to.eql([&#x27;5a600e1b&#x27;, &#x27;5a600e14&#x27;,\n    &#x27;5a600e1c&#x27;, &#x27;5a600e15&#x27;, &#x27;5a600e19&#x27;, &#x27;5a600e10&#x27;, &#x27;5a600e17&#x27;]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4bf76a5-4c63-4b65-b733-56271f050c82&quot;,&quot;parentUUID&quot;:&quot;f38c7017-80e1-4b49-b92b-232ce0c7fac8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should intersect three sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #intersect should intersect three sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let a = new sorted_set_1.SortedSet(), b = new sorted_set_1.SortedSet(), c = new sorted_set_1.SortedSet();\na.add(&#x27;5a600e10&#x27;, 16);\na.add(&#x27;5a600e12&#x27;, 10);\na.add(&#x27;5a600e14&#x27;, 9);\na.add(&#x27;5a600e15&#x27;, 14);\na.add(&#x27;5a600e17&#x27;, 20);\na.add(&#x27;5a600e18&#x27;, 13);\na.add(&#x27;5a600e19&#x27;, 15);\na.add(&#x27;5a600e1a&#x27;, 19);\na.add(&#x27;5a600e1b&#x27;, 7);\na.add(&#x27;5a600e1c&#x27;, 13);\na.add(&#x27;5a600e1e&#x27;, 10);\nb.add(&#x27;5a600e10&#x27;, 0);\nb.add(&#x27;5a600e11&#x27;, 15);\nb.add(&#x27;5a600e13&#x27;, 5);\nb.add(&#x27;5a600e14&#x27;, 3);\nb.add(&#x27;5a600e15&#x27;, 14);\nb.add(&#x27;5a600e17&#x27;, 12);\nb.add(&#x27;5a600e19&#x27;, 12);\nb.add(&#x27;5a600e1b&#x27;, 16);\nb.add(&#x27;5a600e1c&#x27;, 12);\nb.add(&#x27;5a600e1d&#x27;, 17);\nb.add(&#x27;5a600e1f&#x27;, 3);\nc.add(&#x27;5a600e10&#x27;, 7);\nc.add(&#x27;5a600e12&#x27;, 20);\nc.add(&#x27;5a600e13&#x27;, 9);\nc.add(&#x27;5a600e14&#x27;, 19);\nc.add(&#x27;5a600e16&#x27;, 19);\nc.add(&#x27;5a600e17&#x27;, 1);\nc.add(&#x27;5a600e18&#x27;, 18);\nc.add(&#x27;5a600e1a&#x27;, 6);\nc.add(&#x27;5a600e1c&#x27;, 15);\nc.add(&#x27;5a600e1f&#x27;, 4);\nchai_1.expect(sorted_set_1.SortedSet.intersect(c, a, b)).to.eql([&#x27;5a600e10&#x27;, &#x27;5a600e14&#x27;,\n    &#x27;5a600e17&#x27;, &#x27;5a600e1c&#x27;]);\n// expect(SortedSet.intersect(c, a, b)).to.eql(c.intersect(a, b));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d823b8bd-9c64-4d94-821b-816c8f14c6fc&quot;,&quot;parentUUID&quot;:&quot;f38c7017-80e1-4b49-b92b-232ce0c7fac8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should intersect four sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #intersect should intersect four sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let a = new sorted_set_1.SortedSet();\nlet b = new sorted_set_1.SortedSet();\nlet c = new sorted_set_1.SortedSet();\nlet d = new sorted_set_1.SortedSet();\na.add(&#x27;5a600e10&#x27;, 16);\na.add(&#x27;5a600e12&#x27;, 10);\na.add(&#x27;5a600e14&#x27;, 9);\na.add(&#x27;5a600e15&#x27;, 14);\na.add(&#x27;5a600e17&#x27;, 20);\na.add(&#x27;5a600e18&#x27;, 13);\na.add(&#x27;5a600e19&#x27;, 15);\na.add(&#x27;5a600e1a&#x27;, 19);\na.add(&#x27;5a600e1b&#x27;, 7);\na.add(&#x27;5a600e1c&#x27;, 13);\na.add(&#x27;5a600e1e&#x27;, 10);\nb.add(&#x27;5a600e10&#x27;, 0);\nb.add(&#x27;5a600e11&#x27;, 15);\nb.add(&#x27;5a600e13&#x27;, 5);\nb.add(&#x27;5a600e14&#x27;, 3);\nb.add(&#x27;5a600e15&#x27;, 14);\nb.add(&#x27;5a600e17&#x27;, 12);\nb.add(&#x27;5a600e19&#x27;, 12);\nb.add(&#x27;5a600e1b&#x27;, 16);\nb.add(&#x27;5a600e1c&#x27;, 12);\nb.add(&#x27;5a600e1d&#x27;, 17);\nb.add(&#x27;5a600e1f&#x27;, 3);\nc.add(&#x27;5a600e10&#x27;, 7);\nc.add(&#x27;5a600e12&#x27;, 20);\nc.add(&#x27;5a600e13&#x27;, 9);\nc.add(&#x27;5a600e14&#x27;, 19);\nc.add(&#x27;5a600e16&#x27;, 19);\nc.add(&#x27;5a600e17&#x27;, 1);\nc.add(&#x27;5a600e18&#x27;, 18);\nc.add(&#x27;5a600e1a&#x27;, 6);\nc.add(&#x27;5a600e1c&#x27;, 15);\nc.add(&#x27;5a600e1f&#x27;, 4);\nd.add(&#x27;5a600e1c&#x27;, 400);\nd.add(&#x27;5a600e17&#x27;, 500);\nd.add(&#x27;5a600e1f&#x27;, 600);\nd.add(&#x27;5a600e20&#x27;, 700);\nchai_1.expect(sorted_set_1.SortedSet.intersect(d, c, a, b)).to.eql([&#x27;5a600e17&#x27;, &#x27;5a600e1c&#x27;]);\n// expect(SortedSet.intersect(d, c, a, b)).to.eql(d.intersect(c, a, b));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7829a051-5dfd-41c2-9070-a71de2a1ec91&quot;,&quot;parentUUID&quot;:&quot;f38c7017-80e1-4b49-b92b-232ce0c7fac8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c4bf76a5-4c63-4b65-b733-56271f050c82&quot;,&quot;d823b8bd-9c64-4d94-821b-816c8f14c6fc&quot;,&quot;7829a051-5dfd-41c2-9070-a71de2a1ec91&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;9eefff51-0aab-4154-bf8e-4d86c548bd24&quot;,&quot;title&quot;:&quot;#rank&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get the correct rank&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #rank should get the correct rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.rank(&#x27;5a600e12&#x27;)).to.equal(7);\nchai_1.expect(ss.rank(&#x27;5a600e13&#x27;)).to.equal(3);\nchai_1.expect(ss.rank(&#x27;5a600e16&#x27;)).to.equal(0);\nchai_1.expect(ss.rank(&#x27;5a600e15&#x27;)).to.equal(8);\nchai_1.expect(ss.rank(&#x27;not in set&#x27;)).to.equal(null);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c68bf617-a78c-46d2-bc13-bbe88aace3d5&quot;,&quot;parentUUID&quot;:&quot;9eefff51-0aab-4154-bf8e-4d86c548bd24&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c68bf617-a78c-46d2-bc13-bbe88aace3d5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;8c2a1e38-4049-48b3-ac8f-f5a9f76cd4db&quot;,&quot;title&quot;:&quot;#rem&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete special elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #rem should delete special elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.rem(&#x27;5a600e15&#x27;)).to.equal(19);\nchai_1.expect(ss).to.have.length(8);\nchai_1.expect(ss.rem(&#x27;5a600e16&#x27;)).to.equal(3);\nchai_1.expect(ss).to.have.length(7);\nchai_1.expect(ss.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e11&#x27;, 6],\n    [&#x27;5a600e18&#x27;, 10],\n    [&#x27;5a600e13&#x27;, 11],\n    [&#x27;5a600e17&#x27;, 12],\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;224e4a84-be6f-4d6f-8b91-a5f0a4abafeb&quot;,&quot;parentUUID&quot;:&quot;8c2a1e38-4049-48b3-ac8f-f5a9f76cd4db&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should delete many elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #rem should delete many elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.rem(&#x27;5a600e11&#x27;)).to.equal(6);\nchai_1.expect(ss.rem(&#x27;5a600e13&#x27;)).to.equal(11);\nchai_1.expect(ss.rem(&#x27;5a600e14&#x27;)).to.equal(14);\nchai_1.expect(ss.rem(&#x27;5a600e15&#x27;)).to.equal(19);\nchai_1.expect(ss.rem(&#x27;5a600e16&#x27;)).to.equal(3);\nchai_1.expect(ss.rem(&#x27;5a600e17&#x27;)).to.equal(12);\nchai_1.expect(ss.length).to.equal(3);\nchai_1.expect(ss.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e18&#x27;, 10],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b3d48245-2ac7-402e-b9b3-92a030634f65&quot;,&quot;parentUUID&quot;:&quot;8c2a1e38-4049-48b3-ac8f-f5a9f76cd4db&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;224e4a84-be6f-4d6f-8b91-a5f0a4abafeb&quot;,&quot;b3d48245-2ac7-402e-b9b3-92a030634f65&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;13e3e649-a301-4419-8853-47c7b66587ef&quot;,&quot;title&quot;:&quot;#remRangeByScore&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should strip out a range of elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #remRangeByScore should strip out a range of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.remRangeByScore(4, 14)).to.equal(5);\nchai_1.expect(ss).to.have.length(4);\nchai_1.expect(ss.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c27ffc8-1751-4bbf-a259-10cc9f7b1966&quot;,&quot;parentUUID&quot;:&quot;13e3e649-a301-4419-8853-47c7b66587ef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should strip out all the elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #remRangeByScore should strip out all the elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.remRangeByScore(3, 19)).to.equal(9);\nchai_1.expect(ss).to.have.length(0);\nchai_1.expect(ss.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3950ca68-7250-4be4-855f-b537aa1a2628&quot;,&quot;parentUUID&quot;:&quot;13e3e649-a301-4419-8853-47c7b66587ef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6c27ffc8-1751-4bbf-a259-10cc9f7b1966&quot;,&quot;3950ca68-7250-4be4-855f-b537aa1a2628&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;4bd387d0-4a52-4ffa-97e3-828816c9e664&quot;,&quot;title&quot;:&quot;#remRangeByRank&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should strip out a slice of elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #remRangeByRank should strip out a slice of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.remRangeByRank(1, 6)).to.equal(5);\nchai_1.expect(ss).to.have.length(4);\nchai_1.expect(ss.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;06cef09d-e324-4387-a529-5eafb6596f9d&quot;,&quot;parentUUID&quot;:&quot;4bd387d0-4a52-4ffa-97e3-828816c9e664&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should strip out all elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #remRangeByRank should strip out all elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.remRangeByRank(0, 9)).to.equal(9);\nchai_1.expect(ss).to.have.length(0);\nchai_1.expect(ss.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;960e7f37-ae2e-40a8-aa47-a451356ec379&quot;,&quot;parentUUID&quot;:&quot;4bd387d0-4a52-4ffa-97e3-828816c9e664&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;06cef09d-e324-4387-a529-5eafb6596f9d&quot;,&quot;960e7f37-ae2e-40a8-aa47-a451356ec379&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;adf1dc55-c82d-4d68-8884-204af582130f&quot;,&quot;title&quot;:&quot;#values&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the values&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #values should return the values&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;first&#x27;, -1);\nss.add(&#x27;third&#x27;, 5);\nss.add(&#x27;second&#x27;, 3);\nchai_1.expect(ss.values()).to.eql([-1, 3, 5]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8340b9c-b385-44f5-ad32-8bf783f978a6&quot;,&quot;parentUUID&quot;:&quot;adf1dc55-c82d-4d68-8884-204af582130f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e8340b9c-b385-44f5-ad32-8bf783f978a6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;a337557c-160d-4302-b4d7-1f6716ffac7e&quot;,&quot;title&quot;:&quot;unique rewrite&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should ensure values are unique&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite unique rewrite should ensure values are unique&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const options = { unique: true };\nlet ss = new sorted_set_1.SortedSet(options);\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(() =&gt; {\n    ss.add(&#x27;5a600e19&#x27;, 11);\n}).to.throw(/unique/);\n// quick exit test\nchai_1.expect(() =&gt; {\n    ss.add(&#x27;5a600dff&#x27;, ss._head.next[ss._level - 1].next.value);\n}).to.throw(/unique/);\n// this test ensures the key &lt; key check doesn&#x27;t come into play\nchai_1.expect(() =&gt; {\n    ss.add(&#x27;5a600dff&#x27;, 11);\n}).to.throw(/unique/);\nchai_1.expect(() =&gt; {\n    ss.add(&#x27;5a600e18&#x27;, 10);\n}).to.not.throw();\nchai_1.expect(ss).to.have.length(9);\nchai_1.expect(ss.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e11&#x27;, 6],\n    [&#x27;5a600e18&#x27;, 10],\n    [&#x27;5a600e13&#x27;, 11],\n    [&#x27;5a600e17&#x27;, 12],\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e5f6d868-50dc-48aa-894e-3d1726cad398&quot;,&quot;parentUUID&quot;:&quot;a337557c-160d-4302-b4d7-1f6716ffac7e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert keys if constraint broken during update&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite unique rewrite should revert keys if constraint broken during update&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet({ unique: true });\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(() =&gt; {\n    ss.add(&#x27;5a600e13&#x27;, 14);\n}).to.throw(/unique/);\nchai_1.expect(ss).to.have.length(9);\nchai_1.expect(ss.score(&#x27;5a600e13&#x27;)).to.equal(11);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9de0b26f-fc67-479a-b065-ffc30227d5a1&quot;,&quot;parentUUID&quot;:&quot;a337557c-160d-4302-b4d7-1f6716ffac7e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e5f6d868-50dc-48aa-894e-3d1726cad398&quot;,&quot;9de0b26f-fc67-479a-b065-ffc30227d5a1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[&quot;21768d3c-340f-4a92-b1a7-f5c240748324&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[&quot;04ba59a1-4ff1-476d-9720-7abc715237d7&quot;,&quot;57308db8-94e2-4625-9414-f3bbbe2167c3&quot;,&quot;5da2289d-5e3d-4c48-b010-5ed5d8308d9c&quot;,&quot;0d30758c-8ff1-4569-8db9-eb9afe8d9e40&quot;,&quot;f5b26f13-ada4-44f8-a3cb-73d44337edb1&quot;,&quot;64fac173-27af-4f3b-9e9b-4044979927d3&quot;,&quot;5c6d115b-027c-4cbc-8d10-f9257183a383&quot;,&quot;0b625cc4-f29b-4d5e-898b-6309a8ae50aa&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;324ba926-71c0-4eed-aff8-0537b96e63e3&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:24,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:5000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;6.2.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false},&quot;version&quot;:&quot;4.1.0&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;docs/mochawesome&quot;},&quot;version&quot;:&quot;4.1.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;docs/mochawesome&quot;,&quot;reportTitle&quot;:&quot;redis&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;docs/mochawesome/assets&quot;,&quot;jsonFile&quot;:&quot;/home/lane/git/redis/docs/mochawesome/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/home/lane/git/redis/docs/mochawesome/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>
=======
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:88,&quot;tests&quot;:281,&quot;passes&quot;:280,&quot;pending&quot;:1,&quot;failures&quot;:0,&quot;start&quot;:&quot;2020-01-14T23:20:04.624Z&quot;,&quot;end&quot;:&quot;2020-01-14T23:20:14.807Z&quot;,&quot;duration&quot;:10183,&quot;testsRegistered&quot;:281,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0.3558718861209964,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;ea181462-51fb-427b-a7c1-a8650a7e7ba2&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;806ee8e8-9cdc-4bc8-b72c-fc7f3efbac69&quot;,&quot;parentUUID&quot;:&quot;ea181462-51fb-427b-a7c1-a8650a7e7ba2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n})&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;513c5e7d-20a7-4a31-b58b-c9c56ddf0cb4&quot;,&quot;parentUUID&quot;:&quot;ea181462-51fb-427b-a7c1-a8650a7e7ba2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;455ea694-9d0b-4fb3-86dd-59cb2067a4e7&quot;,&quot;title&quot;:&quot;dictionary test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/dictionary.test.ts&quot;,&quot;file&quot;:&quot;/test/dictionary.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;dictionary test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;dictionary = new dictionary_1.Dictionary();\nsinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;edc3720f-34f2-4dcb-a8ed-c62f3436788d&quot;,&quot;parentUUID&quot;:&quot;455ea694-9d0b-4fb3-86dd-59cb2067a4e7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;dictionary test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a54d9994-8751-4604-9add-5b7af2a7f837&quot;,&quot;parentUUID&quot;:&quot;455ea694-9d0b-4fb3-86dd-59cb2067a4e7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;dictionary test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;be62c04a-d85e-421e-b991-3aa896723536&quot;,&quot;parentUUID&quot;:&quot;455ea694-9d0b-4fb3-86dd-59cb2067a4e7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should construct&quot;,&quot;fullTitle&quot;:&quot;dictionary test should construct&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        chai_1.expect(dictionary.constructor.name).to.equal(&#x27;Dictionary&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c19e9ba0-9dc1-416a-8250-7a6df7a347f4&quot;,&quot;parentUUID&quot;:&quot;455ea694-9d0b-4fb3-86dd-59cb2067a4e7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should implement basic put/get/remove/size/clear/contains/exists/keys/values functionality&quot;,&quot;fullTitle&quot;:&quot;dictionary test should implement basic put/get/remove/size/clear/contains/exists/keys/values functionality&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;dictionary.put(&#x27;item&#x27;, &#x27;one&#x27;);\nchai_1.expect(dictionary.exists(&#x27;item&#x27;)).to.equal(true);\nchai_1.expect(dictionary.exists(&#x27;one&#x27;)).to.equal(false);\nchai_1.expect(dictionary.get(&#x27;item&#x27;)).to.equal(&#x27;one&#x27;);\nchai_1.expect(dictionary.size()).to.equal(1);\nchai_1.expect(dictionary.contains(&#x27;one&#x27;)).to.equal(true);\nchai_1.expect(dictionary.keys().length).to.equal(1);\nchai_1.expect(dictionary.values().length).to.equal(1);\ndictionary.put(&#x27;item&#x27;, &#x27;two&#x27;);\nchai_1.expect(dictionary.get(&#x27;item&#x27;)).to.equal(&#x27;two&#x27;);\ndictionary.put(&#x27;one&#x27;, { embedded: true });\ndictionary.remove(&#x27;three&#x27;);\nchai_1.expect(dictionary.size()).to.equal(2);\nlet foundTwo = false;\nfor (const each of dictionary) {\n    if (!foundTwo) {\n        chai_1.expect(each).to.equal(&#x27;two&#x27;);\n        foundTwo = true;\n    }\n    else {\n        chai_1.expect(each).to.eql({ embedded: true });\n    }\n}\ndictionary.remove(&#x27;item&#x27;);\nchai_1.expect(dictionary.size()).to.equal(1);\ndictionary.clear();\nchai_1.expect(dictionary.size()).to.equal(0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5dc220e6-6419-4595-9806-fbafb5bcb53b&quot;,&quot;parentUUID&quot;:&quot;455ea694-9d0b-4fb3-86dd-59cb2067a4e7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c19e9ba0-9dc1-416a-8250-7a6df7a347f4&quot;,&quot;5dc220e6-6419-4595-9806-fbafb5bcb53b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;a1f8c564-2bcd-402b-83e0-80dddb84d7d8&quot;,&quot;title&quot;:&quot;logger test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/logger.test.ts&quot;,&quot;file&quot;:&quot;/test/logger.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;logger test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;db6ddff2-49f2-45db-b904-007afeadae6e&quot;,&quot;parentUUID&quot;:&quot;a1f8c564-2bcd-402b-83e0-80dddb84d7d8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;logger test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;388c4972-2020-4639-bfd1-9cc62d2c7e85&quot;,&quot;parentUUID&quot;:&quot;a1f8c564-2bcd-402b-83e0-80dddb84d7d8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;logger test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b54f6572-1a02-422e-856d-a06655662d8b&quot;,&quot;parentUUID&quot;:&quot;a1f8c564-2bcd-402b-83e0-80dddb84d7d8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should construct&quot;,&quot;fullTitle&quot;:&quot;logger test should construct&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        logger = new logger_1.Logger(module.id);\n        chai_1.expect(logger.constructor.name).to.equal(&#x27;Logger&#x27;);\n        logger.info(`This is an info message`);\n        logger.warn(&#x27;This is a warning message&#x27;);\n        logger.debug(`This is an invisible debug message`);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3d6ca546-609b-4c2b-8ccb-4a0fcc02e4bb&quot;,&quot;parentUUID&quot;:&quot;a1f8c564-2bcd-402b-83e0-80dddb84d7d8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not construct when initialized with an empty string&quot;,&quot;fullTitle&quot;:&quot;logger test should not construct when initialized with an empty string&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(() =&gt; {\n    logger = new logger_1.Logger(&#x27;&#x27;);\n}).to.throw();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9bd4d7b1-8fd0-474a-945b-f1f68be6eae7&quot;,&quot;parentUUID&quot;:&quot;a1f8c564-2bcd-402b-83e0-80dddb84d7d8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3d6ca546-609b-4c2b-8ccb-4a0fcc02e4bb&quot;,&quot;9bd4d7b1-8fd0-474a-945b-f1f68be6eae7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;3cc3bbcb-30b6-4451-b184-7ac01e5e5e6c&quot;,&quot;title&quot;:&quot;client command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/client-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/client-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;client command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9d34967-6fdc-4a6d-a1b2-2da2f7bbf64f&quot;,&quot;parentUUID&quot;:&quot;3cc3bbcb-30b6-4451-b184-7ac01e5e5e6c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;client command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5cc2f1f2-0f09-4af9-a423-b8e804d679c1&quot;,&quot;parentUUID&quot;:&quot;3cc3bbcb-30b6-4451-b184-7ac01e5e5e6c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;client command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;97fb4a31-3554-4ddb-943d-1ead5ed01992&quot;,&quot;parentUUID&quot;:&quot;3cc3bbcb-30b6-4451-b184-7ac01e5e5e6c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;client command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;650b2409-37c2-4b67-84d3-c423efcafcd2&quot;,&quot;parentUUID&quot;:&quot;3cc3bbcb-30b6-4451-b184-7ac01e5e5e6c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not allow more than 3 parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should not allow more than 3 parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;, &#x27;four&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR Unknown subcommand or wrong number of arguments for \\&#x27;one\\&#x27;. Try CLIENT HELP&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;49b69c8e-c8be-4a45-83ea-25a7e89ed6f4&quot;,&quot;parentUUID&quot;:&quot;3cc3bbcb-30b6-4451-b184-7ac01e5e5e6c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail predictably when an unknown subcommand is passed&quot;,&quot;fullTitle&quot;:&quot;client command test should fail predictably when an unknown subcommand is passed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;whatever&#x27;]);\n        chai_1.expect(response).to.equal(util.format(DEFAULT_ERROR, &#x27;whatever&#x27;));\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a202f514-42df-4bad-b187-bebda70cfbd0&quot;,&quot;parentUUID&quot;:&quot;3cc3bbcb-30b6-4451-b184-7ac01e5e5e6c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a NIL name when called with \&quot;GETNAME\&quot; subcommand&quot;,&quot;fullTitle&quot;:&quot;client command test should return a NIL name when called with \&quot;GETNAME\&quot; subcommand&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;getname&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f291a3e2-f8fa-4615-873b-776871583fea&quot;,&quot;parentUUID&quot;:&quot;3cc3bbcb-30b6-4451-b184-7ac01e5e5e6c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail predictably when \&quot;GETNAME\&quot; is called with too many parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should fail predictably when \&quot;GETNAME\&quot; is called with too many parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;getname&#x27;, &#x27;extra&#x27;]);\n        chai_1.expect(response).to.equal(util.format(DEFAULT_ERROR, &#x27;getname&#x27;));\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;446bfc47-a909-4854-9514-a7d07dbd0c09&quot;,&quot;parentUUID&quot;:&quot;3cc3bbcb-30b6-4451-b184-7ac01e5e5e6c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with \&quot;OK\&quot; when \&quot;setname\&quot; is called with a valid name&quot;,&quot;fullTitle&quot;:&quot;client command test should respond with \&quot;OK\&quot; when \&quot;setname\&quot; is called with a valid name&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;setname&#x27;, &#x27;whatever&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;getname&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;whatever&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4854a1ba-7afe-4020-927e-74bbbe1ab515&quot;,&quot;parentUUID&quot;:&quot;3cc3bbcb-30b6-4451-b184-7ac01e5e5e6c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should persist the value for \&quot;setname\&quot; across tests&quot;,&quot;fullTitle&quot;:&quot;client command test should persist the value for \&quot;setname\&quot; across tests&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;getname&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;whatever&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f87541cf-c8ee-4bc0-b15a-c7fba8a6582c&quot;,&quot;parentUUID&quot;:&quot;3cc3bbcb-30b6-4451-b184-7ac01e5e5e6c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with a predictable message when \&quot;setname\&quot; called with too many parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should respond with a predictable message when \&quot;setname\&quot; called with too many parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;setname&#x27;, &#x27;test&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(util.format(DEFAULT_ERROR, &#x27;setname&#x27;));\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6aebbed3-d983-4040-9d00-92957b2e6c07&quot;,&quot;parentUUID&quot;:&quot;3cc3bbcb-30b6-4451-b184-7ac01e5e5e6c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not allow whitespace in \&quot;setname\&quot; subcommand&quot;,&quot;fullTitle&quot;:&quot;client command test should not allow whitespace in \&quot;setname\&quot; subcommand&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;setname&#x27;, &#x27;te\\nst&#x27;]);\n        chai_1.expect(response).to.equal(`ReplyError: ERR Client names cannot contain spaces, newlines or special characters.`);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;99b9fc60-57dd-492b-8d5a-bac73b6966a7&quot;,&quot;parentUUID&quot;:&quot;3cc3bbcb-30b6-4451-b184-7ac01e5e5e6c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the server-assigned client id&quot;,&quot;fullTitle&quot;:&quot;client command test should return the server-assigned client id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;id&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n        chai_1.expect(String(response).length).to.be.greaterThan(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2ba96c9e-8663-497f-b997-3edc604b6e08&quot;,&quot;parentUUID&quot;:&quot;3cc3bbcb-30b6-4451-b184-7ac01e5e5e6c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with a predictable message when \&quot;id\&quot; called with too many parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should respond with a predictable message when \&quot;id\&quot; called with too many parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;id&#x27;, &#x27;test&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(util.format(DEFAULT_ERROR, &#x27;id&#x27;));\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;54371ba7-a811-41b1-b097-ba72d0057fa3&quot;,&quot;parentUUID&quot;:&quot;3cc3bbcb-30b6-4451-b184-7ac01e5e5e6c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a bunch of information when client \&quot;list\&quot; subcommand is invoked&quot;,&quot;fullTitle&quot;:&quot;client command test should return a bunch of information when client \&quot;list\&quot; subcommand is invoked&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;list&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;string&#x27;);\n        chai_1.expect(response.length).to.be.greaterThan(0);\n        chai_1.expect(response).to.match(/ name=whatever /);\n        chai_1.expect(response).to.match(/\\bdb=0\\b/);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4c5c2be5-059b-429e-bb1b-a9a1207db84c&quot;,&quot;parentUUID&quot;:&quot;3cc3bbcb-30b6-4451-b184-7ac01e5e5e6c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with a predictable message when \&quot;list\&quot; called with too many parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should respond with a predictable message when \&quot;list\&quot; called with too many parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;list&#x27;, &#x27;test&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR syntax error&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;12a4fcc7-30f4-4b3e-9197-b8b8b9e8a048&quot;,&quot;parentUUID&quot;:&quot;3cc3bbcb-30b6-4451-b184-7ac01e5e5e6c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;49b69c8e-c8be-4a45-83ea-25a7e89ed6f4&quot;,&quot;a202f514-42df-4bad-b187-bebda70cfbd0&quot;,&quot;f291a3e2-f8fa-4615-873b-776871583fea&quot;,&quot;446bfc47-a909-4854-9514-a7d07dbd0c09&quot;,&quot;4854a1ba-7afe-4020-927e-74bbbe1ab515&quot;,&quot;f87541cf-c8ee-4bc0-b15a-c7fba8a6582c&quot;,&quot;6aebbed3-d983-4040-9d00-92957b2e6c07&quot;,&quot;99b9fc60-57dd-492b-8d5a-bac73b6966a7&quot;,&quot;2ba96c9e-8663-497f-b997-3edc604b6e08&quot;,&quot;54371ba7-a811-41b1-b097-ba72d0057fa3&quot;,&quot;4c5c2be5-059b-429e-bb1b-a9a1207db84c&quot;,&quot;12a4fcc7-30f4-4b3e-9197-b8b8b9e8a048&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:42,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;fb067485-9d3a-4b73-a09c-f7956cd2b494&quot;,&quot;title&quot;:&quot;flushall-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/db/flushall-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/db/flushall-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushall-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c47556a2-ccda-4882-84e7-0ea10e598a7f&quot;,&quot;parentUUID&quot;:&quot;fb067485-9d3a-4b73-a09c-f7956cd2b494&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushall-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;656c4152-c07c-42fc-835a-9cea201a5682&quot;,&quot;parentUUID&quot;:&quot;fb067485-9d3a-4b73-a09c-f7956cd2b494&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushall-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;91da109a-5c33-44dd-a194-11453d4eb79f&quot;,&quot;parentUUID&quot;:&quot;fb067485-9d3a-4b73-a09c-f7956cd2b494&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushall-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3829a8d-c862-4129-b361-c8bd25e7561c&quot;,&quot;parentUUID&quot;:&quot;fb067485-9d3a-4b73-a09c-f7956cd2b494&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove all keys from all databases&quot;,&quot;fullTitle&quot;:&quot;flushall-command test should remove all keys from all databases&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:177,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        for (let db = 0; db &lt; 16; db++) {\n            response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, `${db}`]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;dbid&#x27;, `${db}`]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n            console.log(`DB: ${db}: dbsize: ${response}`);\n            chai_1.expect(response).to.equal(1);\n        }\n        response = yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        for (let db = 0; db &lt; 16; db++) {\n            response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, `${db}`]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n            chai_1.expect(response).to.equal(0);\n        }\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6e13d14b-4872-4f81-8698-e5184b685233&quot;,&quot;parentUUID&quot;:&quot;fb067485-9d3a-4b73-a09c-f7956cd2b494&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6e13d14b-4872-4f81-8698-e5184b685233&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:177,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;8e1f4a03-c3d7-407c-98ff-f404005b3ffb&quot;,&quot;title&quot;:&quot;flushdb-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/db/flushdb-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/db/flushdb-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushdb-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d02e8dc4-76b5-4154-aa45-9e5669248bc1&quot;,&quot;parentUUID&quot;:&quot;8e1f4a03-c3d7-407c-98ff-f404005b3ffb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushdb-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf9cea85-6803-4b5e-a5e9-2a86c43399b8&quot;,&quot;parentUUID&quot;:&quot;8e1f4a03-c3d7-407c-98ff-f404005b3ffb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushdb-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;734a4fed-350d-4ce9-85e3-1b6bee508a73&quot;,&quot;parentUUID&quot;:&quot;8e1f4a03-c3d7-407c-98ff-f404005b3ffb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushdb-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6dd4312e-347b-4d97-8b88-5bc726f64b9f&quot;,&quot;parentUUID&quot;:&quot;8e1f4a03-c3d7-407c-98ff-f404005b3ffb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove all keys from only the currently selected databases&quot;,&quot;fullTitle&quot;:&quot;flushdb-command test should remove all keys from only the currently selected databases&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:243,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        for (let db = 0; db &lt; 16; db++) {\n            response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, `${db}`]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;dbid&#x27;, `${db}`]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n            chai_1.expect(response).to.equal(1);\n        }\n        for (let db = 0; db &lt; 16; db++) {\n            if (db !== 14) {\n                response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, `${db}`]);\n                chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n                response = yield common_test_1.sendCommand(client, [&#x27;flushdb&#x27;]);\n                chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n                response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;dbid&#x27;]);\n                chai_1.expect(response).to.equal(0);\n                response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n                chai_1.expect(response).to.equal(0);\n            }\n        }\n        response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;14&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;dbid&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;14&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;41e87509-8f97-4104-838c-9d8ec66a78e2&quot;,&quot;parentUUID&quot;:&quot;8e1f4a03-c3d7-407c-98ff-f404005b3ffb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;41e87509-8f97-4104-838c-9d8ec66a78e2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:243,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;6246ec8c-3970-448e-b28b-60989efab7ce&quot;,&quot;title&quot;:&quot;hget command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/hash/hget-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/hash/hget-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hget command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f70fb05-3583-40d9-acc6-1b05002f9cda&quot;,&quot;parentUUID&quot;:&quot;6246ec8c-3970-448e-b28b-60989efab7ce&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hget command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0571ac14-241a-44ee-9e0c-2fbabebc625c&quot;,&quot;parentUUID&quot;:&quot;6246ec8c-3970-448e-b28b-60989efab7ce&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hget command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;de8ce3d9-55fb-437b-a6b9-c90ffedcd7c6&quot;,&quot;parentUUID&quot;:&quot;6246ec8c-3970-448e-b28b-60989efab7ce&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hget command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fc518c31-0e64-4dd2-8ce0-b95ab948b2f8&quot;,&quot;parentUUID&quot;:&quot;6246ec8c-3970-448e-b28b-60989efab7ce&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should require exactly 2 parameters&quot;,&quot;fullTitle&quot;:&quot;hget command test should require exactly 2 parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;hget&#x27;, &#x27;test&#x27;])\n    .then((response1) =&gt; {\n    chai_1.expect(response1).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;hget\\&#x27; command&#x27;);\n    common_test_1.sendCommand(new net.Socket(), [&#x27;hget&#x27;, &#x27;test&#x27;, &#x27;one&#x27;, &#x27;two&#x27;])\n        .then((response2) =&gt; {\n        chai_1.expect(response2).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;hget\\&#x27; command&#x27;);\n        common_test_1.sendCommand(new net.Socket(), [&#x27;hget&#x27;, &#x27;test&#x27;, &#x27;one&#x27;])\n            .then((response3) =&gt; {\n            chai_1.expect(response3).to.equal(null);\n            done();\n        });\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;58e6c7c6-8412-41dc-a610-e5d006bc9334&quot;,&quot;parentUUID&quot;:&quot;6246ec8c-3970-448e-b28b-60989efab7ce&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should get a value after it has be set&quot;,&quot;fullTitle&quot;:&quot;hget command test should get a value after it has be set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, &#x27;test&#x27;, &#x27;one&#x27;, &#x27;two&#x27;])\n    .then(() =&gt; {\n    common_test_1.sendCommand(new net.Socket(), [&#x27;hget&#x27;, &#x27;test&#x27;, &#x27;one&#x27;])\n        .then((response) =&gt; {\n        chai_1.expect(response).to.equal(&#x27;two&#x27;);\n        done();\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa4283b7-8695-4eb5-921b-c629a952ef6f&quot;,&quot;parentUUID&quot;:&quot;6246ec8c-3970-448e-b28b-60989efab7ce&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return nil string when the key exists but the field does not&quot;,&quot;fullTitle&quot;:&quot;hget command test should return nil string when the key exists but the field does not&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;hget&#x27;, &#x27;test&#x27;, &#x27;two&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(null);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9ff14873-40c5-4b63-9f7e-06bd42d0d788&quot;,&quot;parentUUID&quot;:&quot;6246ec8c-3970-448e-b28b-60989efab7ce&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;58e6c7c6-8412-41dc-a610-e5d006bc9334&quot;,&quot;fa4283b7-8695-4eb5-921b-c629a952ef6f&quot;,&quot;9ff14873-40c5-4b63-9f7e-06bd42d0d788&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;9d082182-1921-4fbd-b14d-726e076f1417&quot;,&quot;title&quot;:&quot;hset command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/hash/hset-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/hash/hset-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hset command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(new net.Socket(), [&#x27;flushall&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f79315e5-6629-4a00-ae89-718c034b0165&quot;,&quot;parentUUID&quot;:&quot;9d082182-1921-4fbd-b14d-726e076f1417&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hset command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;449517d1-8191-4a02-b9a1-e1a2c5e75da6&quot;,&quot;parentUUID&quot;:&quot;9d082182-1921-4fbd-b14d-726e076f1417&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hset command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;05814273-a04f-4ffa-8985-cc88671283d2&quot;,&quot;parentUUID&quot;:&quot;9d082182-1921-4fbd-b14d-726e076f1417&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hset command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a60cd83a-5964-4cb9-984f-d6bb8acc05e1&quot;,&quot;parentUUID&quot;:&quot;9d082182-1921-4fbd-b14d-726e076f1417&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should require a minimum of 3 parameters&quot;,&quot;fullTitle&quot;:&quot;hset command test should require a minimum of 3 parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:43,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = safeId();\n        chai_1.expect(uniqueKey).not.to.equal(lastId);\n        lastId = uniqueKey;\n        let response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, uniqueKey]);\n        chai_1.expect(response).to.match(/ReplyError: ERR wrong number of arguments for \\&#x27;hset\\&#x27; command/i);\n        response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, uniqueKey, &#x27;one&#x27;]);\n        chai_1.expect(response).to.match(/ReplyError: ERR wrong number of arguments for \\&#x27;hm?set\\&#x27; command/i);\n        response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, uniqueKey, &#x27;one&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ed59853-1648-43d5-93bf-1dad2a2ee4e5&quot;,&quot;parentUUID&quot;:&quot;9d082182-1921-4fbd-b14d-726e076f1417&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should only accept an odd number of parameters&quot;,&quot;fullTitle&quot;:&quot;hset command test should only accept an odd number of parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = safeId();\n        chai_1.expect(uniqueKey).not.to.equal(lastId);\n        lastId = uniqueKey;\n        const response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, uniqueKey, &#x27;one2&#x27;, &#x27;two&#x27;, &#x27;fail&#x27;]);\n        chai_1.expect(response).to.match(/ReplyError: ERR wrong number of arguments for hm?set/i);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ccd62b0c-1453-41fa-a9ba-3433454cf1ec&quot;,&quot;parentUUID&quot;:&quot;9d082182-1921-4fbd-b14d-726e076f1417&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should only report added fields&quot;,&quot;fullTitle&quot;:&quot;hset command test should only report added fields&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = safeId();\n        chai_1.expect(uniqueKey).not.to.equal(lastId);\n        lastId = uniqueKey;\n        let response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, uniqueKey, &#x27;one&#x27;, &#x27;six&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, uniqueKey, &#x27;one&#x27;, &#x27;anothervalue&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hget&#x27;, uniqueKey, &#x27;one&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;anothervalue&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;06c741b7-516e-4ef4-9a00-8243ab02cef0&quot;,&quot;parentUUID&quot;:&quot;9d082182-1921-4fbd-b14d-726e076f1417&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3ed59853-1648-43d5-93bf-1dad2a2ee4e5&quot;,&quot;ccd62b0c-1453-41fa-a9ba-3433454cf1ec&quot;,&quot;06c741b7-516e-4ef4-9a00-8243ab02cef0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:51,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;a639b2d7-3745-4ddb-94ba-b348f0705307&quot;,&quot;title&quot;:&quot;del-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/del-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/del-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;del-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eb1fd6ba-8eb5-4b8d-80ab-b4e4c1de9405&quot;,&quot;parentUUID&quot;:&quot;a639b2d7-3745-4ddb-94ba-b348f0705307&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;del-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;232bf656-d3d6-4135-92b5-a3cee90e5eb7&quot;,&quot;parentUUID&quot;:&quot;a639b2d7-3745-4ddb-94ba-b348f0705307&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;del-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;853e5e3e-8c3b-4bec-9376-2d0d646497cd&quot;,&quot;parentUUID&quot;:&quot;a639b2d7-3745-4ddb-94ba-b348f0705307&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;del-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9e47616e-d4d7-4582-926e-484b1d973083&quot;,&quot;parentUUID&quot;:&quot;a639b2d7-3745-4ddb-94ba-b348f0705307&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report ZERO when called with no keys present&quot;,&quot;fullTitle&quot;:&quot;del-command test should report ZERO when called with no keys present&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;del&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n    chai_1.expect(response).to.equal(0);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9c42cb89-5db4-47ed-b62b-c34163ad3583&quot;,&quot;parentUUID&quot;:&quot;a639b2d7-3745-4ddb-94ba-b348f0705307&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report the number of keys actually removed&quot;,&quot;fullTitle&quot;:&quot;del-command test should report the number of keys actually removed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const client = new net.Socket();\ncommon_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;key1&#x27;, &#x27;data&#x27;])\n    .then(() =&gt; {\n    common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;key2&#x27;, &#x27;data&#x27;])\n        .then(() =&gt; {\n        common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;key3&#x27;, &#x27;data&#x27;])\n            .then(() =&gt; {\n            common_test_1.sendCommand(client, [&#x27;del&#x27;, &#x27;key1&#x27;, &#x27;key3&#x27;])\n                .then((response) =&gt; {\n                chai_1.expect(response).to.equal(2);\n                done();\n            });\n        });\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;27359d8e-8c39-456c-ba1e-515820722a63&quot;,&quot;parentUUID&quot;:&quot;a639b2d7-3745-4ddb-94ba-b348f0705307&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have retained key2 from the previous test&quot;,&quot;fullTitle&quot;:&quot;del-command test should have retained key2 from the previous test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;del&#x27;, &#x27;key2&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(1);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5f378713-b13f-49d3-a500-af112b8769bb&quot;,&quot;parentUUID&quot;:&quot;a639b2d7-3745-4ddb-94ba-b348f0705307&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9c42cb89-5db4-47ed-b62b-c34163ad3583&quot;,&quot;27359d8e-8c39-456c-ba1e-515820722a63&quot;,&quot;5f378713-b13f-49d3-a500-af112b8769bb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:14,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;c99ee4d7-daa6-40ed-966f-f4a88b8e622b&quot;,&quot;title&quot;:&quot;exists-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/exists-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/exists-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;exists-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    // Set a key with a millisecond TTL to validate exists respects TTL\n    common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;ttlkey&#x27;, &#x27;value&#x27;, &#x27;PX&#x27;, &#x27;3&#x27;])\n        .then(() =&gt; {\n        done();\n    });\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8baf6bf-e1f1-42da-9325-2a02e859c361&quot;,&quot;parentUUID&quot;:&quot;c99ee4d7-daa6-40ed-966f-f4a88b8e622b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;exists-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb665e65-9b6a-482a-a450-1197aba87567&quot;,&quot;parentUUID&quot;:&quot;c99ee4d7-daa6-40ed-966f-f4a88b8e622b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;exists-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;75dee0f7-554b-45e1-816d-c0d0be5ee7f8&quot;,&quot;parentUUID&quot;:&quot;c99ee4d7-daa6-40ed-966f-f4a88b8e622b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;exists-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e696c5e8-9bb8-4de3-852d-f76ecffa4975&quot;,&quot;parentUUID&quot;:&quot;c99ee4d7-daa6-40ed-966f-f4a88b8e622b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report ZERO when none of the specified keys exist&quot;,&quot;fullTitle&quot;:&quot;exists-command test should report ZERO when none of the specified keys exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;exists&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n    chai_1.expect(response).to.equal(0);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;de797ae1-37aa-4cbb-81b5-c2f87593f019&quot;,&quot;parentUUID&quot;:&quot;c99ee4d7-daa6-40ed-966f-f4a88b8e622b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should require at least ONE parameter&quot;,&quot;fullTitle&quot;:&quot;exists-command test should require at least ONE parameter&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;exists&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;exists\\&#x27; command&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4a5349ea-7050-4209-88e3-1c4b4a041382&quot;,&quot;parentUUID&quot;:&quot;c99ee4d7-daa6-40ed-966f-f4a88b8e622b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report GREATER THAN ZERO when checking for the same existing key multiple times&quot;,&quot;fullTitle&quot;:&quot;exists-command test should report GREATER THAN ZERO when checking for the same existing key multiple times&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;key&#x27;, &#x27;value&#x27;])\n    .then(() =&gt; {\n    common_test_1.sendCommand(new net.Socket(), [&#x27;exists&#x27;, &#x27;key&#x27;, &#x27;key&#x27;, &#x27;unknownkey&#x27;, &#x27;another&#x27;, &#x27;another&#x27;])\n        .then((response) =&gt; {\n        chai_1.expect(response).to.equal(2);\n        done();\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec4771c3-ffcb-4620-b236-bc22599ac786&quot;,&quot;parentUUID&quot;:&quot;c99ee4d7-daa6-40ed-966f-f4a88b8e622b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respect the TTL value on a key&quot;,&quot;fullTitle&quot;:&quot;exists-command test should respect the TTL value on a key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;exists&#x27;, &#x27;ttlkey&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(0);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3513ca72-cc31-45d1-9003-01e101d19380&quot;,&quot;parentUUID&quot;:&quot;c99ee4d7-daa6-40ed-966f-f4a88b8e622b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;de797ae1-37aa-4cbb-81b5-c2f87593f019&quot;,&quot;4a5349ea-7050-4209-88e3-1c4b4a041382&quot;,&quot;ec4771c3-ffcb-4620-b236-bc22599ac786&quot;,&quot;3513ca72-cc31-45d1-9003-01e101d19380&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;effc4860-4945-4c23-8ada-5e834badf293&quot;,&quot;title&quot;:&quot;expire-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/expire-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/expire-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;expire-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f7cb1b6-6133-40e5-a7f6-63b885b0aee7&quot;,&quot;parentUUID&quot;:&quot;effc4860-4945-4c23-8ada-5e834badf293&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;expire-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b1d9aca8-984e-461f-a7ae-75ce15931124&quot;,&quot;parentUUID&quot;:&quot;effc4860-4945-4c23-8ada-5e834badf293&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;expire-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;43e777d2-caee-447a-a7ab-0f32c5b5c893&quot;,&quot;parentUUID&quot;:&quot;effc4860-4945-4c23-8ada-5e834badf293&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;expire-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8e44db11-d009-42ec-93c9-2d87acd4b470&quot;,&quot;parentUUID&quot;:&quot;effc4860-4945-4c23-8ada-5e834badf293&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report ZERO when expire called on non-existent key&quot;,&quot;fullTitle&quot;:&quot;expire-command test should report ZERO when expire called on non-existent key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;expire&#x27;, &#x27;no-key&#x27;, &#x27;1000&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d1e8766-06ac-4249-8baa-e8f2ed4dbaf0&quot;,&quot;parentUUID&quot;:&quot;effc4860-4945-4c23-8ada-5e834badf293&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should require an integer value for the ttl parameter&quot;,&quot;fullTitle&quot;:&quot;expire-command test should require an integer value for the ttl parameter&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;mykey&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;expire&#x27;, &#x27;mykey&#x27;, &#x27;10.2&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;expire&#x27;, &#x27;mykey&#x27;, &#x27;ten&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6bfed0ce-9edd-4af3-a1df-c443186f0b8e&quot;,&quot;parentUUID&quot;:&quot;effc4860-4945-4c23-8ada-5e834badf293&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should set the requested ttl on a key&quot;,&quot;fullTitle&quot;:&quot;expire-command test should set the requested ttl on a key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;expire&#x27;, &#x27;mykey&#x27;, &#x27;10000&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;mykey&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e1a66991-c830-481c-8295-def18ffeccee&quot;,&quot;parentUUID&quot;:&quot;effc4860-4945-4c23-8ada-5e834badf293&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should expire a key when we set a negative ttl&quot;,&quot;fullTitle&quot;:&quot;expire-command test should expire a key when we set a negative ttl&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // Note that this is not consistent with documentation\n        response = yield common_test_1.sendCommand(client, [&#x27;expire&#x27;, &#x27;mykey&#x27;, &#x27;-1&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;mykey&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;92a78fd3-fb85-414a-b2cf-fb060c29c43d&quot;,&quot;parentUUID&quot;:&quot;effc4860-4945-4c23-8ada-5e834badf293&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with ZKEYs (and other key types - as yet untested)&quot;,&quot;fullTitle&quot;:&quot;expire-command test should work with ZKEYs (and other key types - as yet untested)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2013,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;1&#x27;, &#x27;member&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(1);\n    common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;zkey&#x27;])\n        .then((response) =&gt; {\n        chai_1.expect(response).to.equal(1);\n        common_test_1.sendCommand(client, [&#x27;expire&#x27;, &#x27;zkey&#x27;, &#x27;1&#x27;])\n            .then((response) =&gt; {\n            chai_1.expect(response).to.equal(1);\n            setTimeout(() =&gt; {\n                common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;zkey&#x27;])\n                    .then((response) =&gt; {\n                    chai_1.expect(response).to.equal(0, `Unexpected response ${response} should be ZERO`);\n                    done();\n                });\n            }, 2000);\n        });\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1901987-a4ac-4a4b-a460-03c34bcffcd4&quot;,&quot;parentUUID&quot;:&quot;effc4860-4945-4c23-8ada-5e834badf293&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should survive the RENAME operation&quot;,&quot;fullTitle&quot;:&quot;expire-command test should survive the RENAME operation&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;rename-test&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;expire&#x27;, &#x27;rename-test&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;rename&#x27;, &#x27;rename-test&#x27;, &#x27;new-name&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;new-name&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;rename-test&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        yield setTimeout(() =&gt; __awaiter(void 0, void 0, void 0, function* () {\n            response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;new-name&#x27;]);\n            chai_1.expect(response).to.equal(0);\n        }), 2000);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2d6dad71-9443-4940-8620-4927bc367984&quot;,&quot;parentUUID&quot;:&quot;effc4860-4945-4c23-8ada-5e834badf293&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1d1e8766-06ac-4249-8baa-e8f2ed4dbaf0&quot;,&quot;6bfed0ce-9edd-4af3-a1df-c443186f0b8e&quot;,&quot;e1a66991-c830-481c-8295-def18ffeccee&quot;,&quot;92a78fd3-fb85-414a-b2cf-fb060c29c43d&quot;,&quot;d1901987-a4ac-4a4b-a460-03c34bcffcd4&quot;,&quot;2d6dad71-9443-4940-8620-4927bc367984&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2030,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b1ae4384-2af1-452c-ad6e-39304db82141&quot;,&quot;title&quot;:&quot;keys-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/keys-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/keys-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;keys-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;851d442d-cdf0-4433-a743-0d94756ce12b&quot;,&quot;parentUUID&quot;:&quot;b1ae4384-2af1-452c-ad6e-39304db82141&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;keys-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7cfbea02-3898-40bc-b32c-c6b882951ab4&quot;,&quot;parentUUID&quot;:&quot;b1ae4384-2af1-452c-ad6e-39304db82141&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;keys-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;73c79b89-c826-4896-b039-6df227990920&quot;,&quot;parentUUID&quot;:&quot;b1ae4384-2af1-452c-ad6e-39304db82141&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;keys-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e50575a4-cbd2-4c20-a560-dab76ba3045e&quot;,&quot;parentUUID&quot;:&quot;b1ae4384-2af1-452c-ad6e-39304db82141&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should retrieve keys by glob patterns&quot;,&quot;fullTitle&quot;:&quot;keys-command test should retrieve keys by glob patterns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;mset&#x27;, &#x27;firstname&#x27;, &#x27;Jack&#x27;, &#x27;lastname&#x27;, &#x27;Stuntman&#x27;, &#x27;age&#x27;, &#x27;35&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;keys&#x27;, &#x27;*name*&#x27;]);\n        chai_1.expect(response.sort()).to.eql([&#x27;firstname&#x27;, &#x27;lastname&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;keys&#x27;, &#x27;a??&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;age&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;keys&#x27;, &#x27;*&#x27;]);\n        // NOTE: There does not appear to be a guarantee of order\n        chai_1.expect(response.sort()).to.eql([&#x27;age&#x27;, &#x27;firstname&#x27;, &#x27;lastname&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;180b5431-3ec6-431a-a197-a032a308f9be&quot;,&quot;parentUUID&quot;:&quot;b1ae4384-2af1-452c-ad6e-39304db82141&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;180b5431-3ec6-431a-a197-a032a308f9be&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;259f47c5-4490-4bf0-9a6d-6e37b5d6fe04&quot;,&quot;title&quot;:&quot;move-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/move-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/move-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;move-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;434ebcb0-a211-44e8-8d26-63bc5b50e156&quot;,&quot;parentUUID&quot;:&quot;259f47c5-4490-4bf0-9a6d-6e37b5d6fe04&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;move-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;35d2eaec-9ddb-4ff8-aa60-cf78a630b968&quot;,&quot;parentUUID&quot;:&quot;259f47c5-4490-4bf0-9a6d-6e37b5d6fe04&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;move-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;63e0edff-8ba4-4440-bb8d-1fc5868e73b6&quot;,&quot;parentUUID&quot;:&quot;259f47c5-4490-4bf0-9a6d-6e37b5d6fe04&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;move-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bf44c97f-bbea-4580-bcef-261c7c93024f&quot;,&quot;parentUUID&quot;:&quot;259f47c5-4490-4bf0-9a6d-6e37b5d6fe04&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not allow target and source db to be the same&quot;,&quot;fullTitle&quot;:&quot;move-command test should not allow target and source db to be the same&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // Even if source key does not exist\n        response = yield common_test_1.sendCommand(client, [&#x27;move&#x27;, uniqueKey, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR source and destination objects are the same&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aaaca37f-f254-4a3f-aaae-ce6bc8813e09&quot;,&quot;parentUUID&quot;:&quot;259f47c5-4490-4bf0-9a6d-6e37b5d6fe04&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should also report ZERO when the target key already exists&quot;,&quot;fullTitle&quot;:&quot;move-command test should also report ZERO when the target key already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, uniqueKey, &#x27;database ZERO&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;move&#x27;, uniqueKey, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR source and destination objects are the same&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5f76f151-d77c-4194-a5b0-21abaa4500db&quot;,&quot;parentUUID&quot;:&quot;259f47c5-4490-4bf0-9a6d-6e37b5d6fe04&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should move a key from one database to another otherwise&quot;,&quot;fullTitle&quot;:&quot;move-command test should move a key from one database to another otherwise&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;move&#x27;, uniqueKey, &#x27;14&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;14&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fc861640-cfcb-4c25-81d1-530bb0ae4e6f&quot;,&quot;parentUUID&quot;:&quot;259f47c5-4490-4bf0-9a6d-6e37b5d6fe04&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report error when target database is invalid and key exists&quot;,&quot;fullTitle&quot;:&quot;move-command test should report error when target database is invalid and key exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // Database 14 is already selected\n        response = yield common_test_1.sendCommand(client, [&#x27;move&#x27;, uniqueKey, &#x27;InvalidDb&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR index out of range&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f2bcd5c3-1cd3-4405-ad67-f188f852ae2d&quot;,&quot;parentUUID&quot;:&quot;259f47c5-4490-4bf0-9a6d-6e37b5d6fe04&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 0 when the key does not exist in the current db&quot;,&quot;fullTitle&quot;:&quot;move-command test should return 0 when the key does not exist in the current db&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;flushdb&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;move&#x27;, &#x27;nokey&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ba9353aa-aa78-4289-85af-02e3f5c8e2aa&quot;,&quot;parentUUID&quot;:&quot;259f47c5-4490-4bf0-9a6d-6e37b5d6fe04&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 0 when the key exists in both source and target db&quot;,&quot;fullTitle&quot;:&quot;move-command test should return 0 when the key exists in both source and target db&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;nokey&#x27;, &#x27;db0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;nokey&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;nokey&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;nokey&#x27;, &#x27;db1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;move&#x27;, &#x27;nokey&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;nokey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;db1&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;nokey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;db0&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a27c0f04-c66a-4d54-9bc0-3f5bf23dc66d&quot;,&quot;parentUUID&quot;:&quot;259f47c5-4490-4bf0-9a6d-6e37b5d6fe04&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;aaaca37f-f254-4a3f-aaae-ce6bc8813e09&quot;,&quot;5f76f151-d77c-4194-a5b0-21abaa4500db&quot;,&quot;fc861640-cfcb-4c25-81d1-530bb0ae4e6f&quot;,&quot;f2bcd5c3-1cd3-4405-ad67-f188f852ae2d&quot;,&quot;ba9353aa-aa78-4289-85af-02e3f5c8e2aa&quot;,&quot;a27c0f04-c66a-4d54-9bc0-3f5bf23dc66d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:31,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;37334799-9734-47c7-b086-056ff29cc91c&quot;,&quot;title&quot;:&quot;randomkey-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/randomkey-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/randomkey-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;randomkey-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:51,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a3c9baa0-6f62-4684-b604-2d13dab32f4d&quot;,&quot;parentUUID&quot;:&quot;37334799-9734-47c7-b086-056ff29cc91c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;randomkey-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f9c66ba7-cd5d-47d5-b5ae-2e29244d5af6&quot;,&quot;parentUUID&quot;:&quot;37334799-9734-47c7-b086-056ff29cc91c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;randomkey-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd3bdaec-95ca-4643-a79d-fb83b80c1606&quot;,&quot;parentUUID&quot;:&quot;37334799-9734-47c7-b086-056ff29cc91c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;randomkey-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0477c5aa-e9fb-4827-8cac-1afa7f384b7e&quot;,&quot;parentUUID&quot;:&quot;37334799-9734-47c7-b086-056ff29cc91c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return NIL when the database is empty&quot;,&quot;fullTitle&quot;:&quot;randomkey-command test should return NIL when the database is empty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;flushdb&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;randomkey&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f2eda05-f12a-4e02-a767-d05179489fe2&quot;,&quot;parentUUID&quot;:&quot;37334799-9734-47c7-b086-056ff29cc91c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return list, zkey, hash, and string keys without preference&quot;,&quot;fullTitle&quot;:&quot;randomkey-command test should return list, zkey, hash, and string keys without preference&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:79,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const results = [];\n        response = yield common_test_1.sendCommand(client, [&#x27;hset&#x27;, &#x27;hash&#x27;, &#x27;field&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpush&#x27;, &#x27;list&#x27;, &#x27;element&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;1&#x27;, &#x27;member&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;string&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        for (let i = 0; i &lt; 15; i++) {\n            response = yield common_test_1.sendCommand(client, [&#x27;randomkey&#x27;]);\n            chai_1.expect(response).to.be.a(&#x27;string&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;type&#x27;, response]);\n            chai_1.expect(response).to.be.a(&#x27;string&#x27;);\n            if (results.indexOf(response) === -1) {\n                results.push(response);\n            }\n            if (results.length === 4) {\n                break;\n            }\n        }\n        chai_1.expect(results.length).to.be.greaterThan(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;13494d57-0700-48ba-90ee-3214062a1454&quot;,&quot;parentUUID&quot;:&quot;37334799-9734-47c7-b086-056ff29cc91c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2f2eda05-f12a-4e02-a767-d05179489fe2&quot;,&quot;13494d57-0700-48ba-90ee-3214062a1454&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:83,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;e535808d-5b66-4038-a8f6-ea03f8746f0a&quot;,&quot;title&quot;:&quot;rename-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/rename-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/rename-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rename-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;27fb0e9f-17d0-4a6d-9b95-4fbeb8eeca9e&quot;,&quot;parentUUID&quot;:&quot;e535808d-5b66-4038-a8f6-ea03f8746f0a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rename-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5eb21328-efe5-4564-b347-1d739a3e18e5&quot;,&quot;parentUUID&quot;:&quot;e535808d-5b66-4038-a8f6-ea03f8746f0a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rename-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b8da6583-d86f-47ee-affa-1881b261a20e&quot;,&quot;parentUUID&quot;:&quot;e535808d-5b66-4038-a8f6-ea03f8746f0a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rename-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;55f1ce01-f353-4d46-a1d9-cc53e0f93e2f&quot;,&quot;parentUUID&quot;:&quot;e535808d-5b66-4038-a8f6-ea03f8746f0a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report an error when the key does not exist&quot;,&quot;fullTitle&quot;:&quot;rename-command test should report an error when the key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;rename&#x27;, &#x27;mykey&#x27;, &#x27;my-otherkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR no such key&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;17b8ac9b-ac36-4f40-b805-a4936f061abf&quot;,&quot;parentUUID&quot;:&quot;e535808d-5b66-4038-a8f6-ea03f8746f0a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should rename a key&quot;,&quot;fullTitle&quot;:&quot;rename-command test should rename a key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;mykey&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;rename&#x27;, &#x27;mykey&#x27;, &#x27;my-otherkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;mykey&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;my-otherkey&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;940be939-68b8-491f-9864-9f6187033192&quot;,&quot;parentUUID&quot;:&quot;e535808d-5b66-4038-a8f6-ea03f8746f0a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should overwrite an existing key without notice&quot;,&quot;fullTitle&quot;:&quot;rename-command test should overwrite an existing key without notice&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:39,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;myoriginalkey&#x27;, &#x27;something&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;rename&#x27;, &#x27;my-otherkey&#x27;, &#x27;myoriginalkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;myoriginalkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5ddc4753-4765-4e33-8735-6af70e8a8d3e&quot;,&quot;parentUUID&quot;:&quot;e535808d-5b66-4038-a8f6-ea03f8746f0a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;17b8ac9b-ac36-4f40-b805-a4936f061abf&quot;,&quot;940be939-68b8-491f-9864-9f6187033192&quot;,&quot;5ddc4753-4765-4e33-8735-6af70e8a8d3e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:47,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;8e6acdbf-fb4a-4666-a55b-6123a0d2d86d&quot;,&quot;title&quot;:&quot;renamenx-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/renamenx-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/renamenx-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;renamenx-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b3e41b33-0320-4e1a-a503-1825880cbefd&quot;,&quot;parentUUID&quot;:&quot;8e6acdbf-fb4a-4666-a55b-6123a0d2d86d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;renamenx-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;56abd928-df46-4482-8c60-3ec9eb664be7&quot;,&quot;parentUUID&quot;:&quot;8e6acdbf-fb4a-4666-a55b-6123a0d2d86d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;renamenx-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;89757c84-80bc-4ba6-b9af-c3b1274d1e63&quot;,&quot;parentUUID&quot;:&quot;8e6acdbf-fb4a-4666-a55b-6123a0d2d86d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;renamenx-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;06564871-8894-4c66-9f3d-bc39c92a2de8&quot;,&quot;parentUUID&quot;:&quot;8e6acdbf-fb4a-4666-a55b-6123a0d2d86d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report an error when the key does not exist&quot;,&quot;fullTitle&quot;:&quot;renamenx-command test should report an error when the key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;renamenx&#x27;, &#x27;mykey&#x27;, &#x27;my-otherkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR no such key&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e02185fe-e7da-4577-92a4-68b1bdb5b096&quot;,&quot;parentUUID&quot;:&quot;8e6acdbf-fb4a-4666-a55b-6123a0d2d86d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 0 when attempting renamenx with source = destination&quot;,&quot;fullTitle&quot;:&quot;renamenx-command test should return 0 when attempting renamenx with source = destination&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;key&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;renamenx&#x27;, &#x27;key&#x27;, &#x27;key&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;key&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;14c7b612-b1cc-4f11-ae01-3187dcde2c6a&quot;,&quot;parentUUID&quot;:&quot;8e6acdbf-fb4a-4666-a55b-6123a0d2d86d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should rename a key when requested&quot;,&quot;fullTitle&quot;:&quot;renamenx-command test should rename a key when requested&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;renamenx&#x27;, &#x27;key&#x27;, &#x27;newkey&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;key&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;newkey&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f8136b05-eb69-419c-be2f-ac79cdf4f046&quot;,&quot;parentUUID&quot;:&quot;8e6acdbf-fb4a-4666-a55b-6123a0d2d86d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e02185fe-e7da-4577-92a4-68b1bdb5b096&quot;,&quot;14c7b612-b1cc-4f11-ae01-3187dcde2c6a&quot;,&quot;f8136b05-eb69-419c-be2f-ac79cdf4f046&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;4172a027-c440-4061-aa11-b24494168c5f&quot;,&quot;title&quot;:&quot;ttl-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/ttl-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/ttl-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ttl-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    // Set a key with a couple - second TTL to validate exists respects TTL\n    common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;ttlkey&#x27;, &#x27;value&#x27;, &#x27;EX&#x27;, &#x27;30&#x27;])\n        .then(() =&gt; {\n        done();\n    });\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;67935ac4-baf1-4483-9bf5-a3841a5af905&quot;,&quot;parentUUID&quot;:&quot;4172a027-c440-4061-aa11-b24494168c5f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ttl-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4386756e-3b3a-45b2-8082-c6592384eaf1&quot;,&quot;parentUUID&quot;:&quot;4172a027-c440-4061-aa11-b24494168c5f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ttl-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;45177596-f880-4f7a-9ea5-08dcd16ba1f9&quot;,&quot;parentUUID&quot;:&quot;4172a027-c440-4061-aa11-b24494168c5f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ttl-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;92d74011-b82d-445b-9c8f-a34a0b924fca&quot;,&quot;parentUUID&quot;:&quot;4172a027-c440-4061-aa11-b24494168c5f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report -2 when the key does not exist&quot;,&quot;fullTitle&quot;:&quot;ttl-command test should report -2 when the key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;ttl&#x27;, &#x27;nokey&#x27;]);\n        chai_1.expect(response).to.equal(-2);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;10a69f50-41fc-4614-9e55-52b484ef852e&quot;,&quot;parentUUID&quot;:&quot;4172a027-c440-4061-aa11-b24494168c5f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return -1 when the key exists but does not have a ttl&quot;,&quot;fullTitle&quot;:&quot;ttl-command test should return -1 when the key exists but does not have a ttl&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;newkey&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;ttl&#x27;, &#x27;newkey&#x27;]);\n        chai_1.expect(response).to.equal(-1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c742e86-7a9f-4b96-9e45-1a6d70cd8c30&quot;,&quot;parentUUID&quot;:&quot;4172a027-c440-4061-aa11-b24494168c5f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the current ttl in seconds when available&quot;,&quot;fullTitle&quot;:&quot;ttl-command test should return the current ttl in seconds when available&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;ttl&#x27;, &#x27;ttlkey&#x27;]);\n        chai_1.expect(response).to.be.greaterThan(0);\n        chai_1.expect(response).to.be.lessThan(31);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;63cec5d5-b315-4cae-ac14-9e27401652f1&quot;,&quot;parentUUID&quot;:&quot;4172a027-c440-4061-aa11-b24494168c5f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;10a69f50-41fc-4614-9e55-52b484ef852e&quot;,&quot;6c742e86-7a9f-4b96-9e45-1a6d70cd8c30&quot;,&quot;63cec5d5-b315-4cae-ac14-9e27401652f1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;597bfec4-0a3c-4997-a0c0-301a51557a1e&quot;,&quot;title&quot;:&quot;type-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/type-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/type-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;type-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;58a74c0f-1617-4a3d-b0da-4cd601de64fd&quot;,&quot;parentUUID&quot;:&quot;597bfec4-0a3c-4997-a0c0-301a51557a1e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;type-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4b154f9c-f13a-47b2-b4d3-dd4e0f823d39&quot;,&quot;parentUUID&quot;:&quot;597bfec4-0a3c-4997-a0c0-301a51557a1e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;type-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;42e4a173-99cc-490c-b35b-2f7e33ba2580&quot;,&quot;parentUUID&quot;:&quot;597bfec4-0a3c-4997-a0c0-301a51557a1e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;type-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5802918b-1055-46be-ac6c-59b201544fdc&quot;,&quot;parentUUID&quot;:&quot;597bfec4-0a3c-4997-a0c0-301a51557a1e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report the type of key&quot;,&quot;fullTitle&quot;:&quot;type-command test should report the type of key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:26,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;string-key&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;type&#x27;, &#x27;string-key&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;string&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpush&#x27;, &#x27;list-key&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;type&#x27;, &#x27;list-key&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;list&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;set-key&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;type&#x27;, &#x27;set-key&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;set&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;123&#x27;, &#x27;something&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;type&#x27;, &#x27;zkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;zset&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;type&#x27;, &#x27;never&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;none&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8d65903e-d38e-4c67-84ba-07d7db9fc3ed&quot;,&quot;parentUUID&quot;:&quot;597bfec4-0a3c-4997-a0c0-301a51557a1e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8d65903e-d38e-4c67-84ba-07d7db9fc3ed&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:26,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b911477f-e87d-4846-82df-c10bf83e3d33&quot;,&quot;title&quot;:&quot;blpop-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/blpop-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/blpop-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;blpop-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:26,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;213b7107-2897-48d2-b77d-4480f0466163&quot;,&quot;parentUUID&quot;:&quot;b911477f-e87d-4846-82df-c10bf83e3d33&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;blpop-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;743ed797-1f14-4740-8865-fc942cfb4866&quot;,&quot;parentUUID&quot;:&quot;b911477f-e87d-4846-82df-c10bf83e3d33&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;blpop-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;96d894df-b985-4f62-b5f5-6aef93d4876a&quot;,&quot;parentUUID&quot;:&quot;b911477f-e87d-4846-82df-c10bf83e3d33&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;blpop-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;16e190f5-92b9-4878-9b16-0b35e965cc83&quot;,&quot;parentUUID&quot;:&quot;b911477f-e87d-4846-82df-c10bf83e3d33&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return NIL when timeout &gt; 0 and list does not exist&quot;,&quot;fullTitle&quot;:&quot;blpop-command test should return NIL when timeout &gt; 0 and list does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1005,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;blpop&#x27;, &#x27;no-key&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d940ab0-4202-41a5-a14b-1ee59a542d2d&quot;,&quot;parentUUID&quot;:&quot;b911477f-e87d-4846-82df-c10bf83e3d33&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should wait for a list to exist and return the list name and value&quot;,&quot;fullTitle&quot;:&quot;blpop-command test should wait for a list to exist and return the list name and value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;blpop&#x27;, &#x27;no-key&#x27;, &#x27;0&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.eql([&#x27;no-key&#x27;, &#x27;THE NEW VALUE&#x27;]);\n    done();\n});\ncommon_test_1.sendCommand(new net.Socket(), [&#x27;lpush&#x27;, &#x27;no-key&#x27;, &#x27;THE NEW VALUE&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(1);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7fd1ae84-072f-4a17-9a5c-48839d7d0021&quot;,&quot;parentUUID&quot;:&quot;b911477f-e87d-4846-82df-c10bf83e3d33&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the list name and HEAD value&quot;,&quot;fullTitle&quot;:&quot;blpop-command test should return the list name and HEAD value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;blpop&#x27;, &#x27;no-key2&#x27;, &#x27;0&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.eql([&#x27;no-key2&#x27;, &#x27;first&#x27;]);\n    done();\n});\ncommon_test_1.sendCommand(new net.Socket(), [&#x27;lpush&#x27;, &#x27;no-key2&#x27;, &#x27;third&#x27;, &#x27;second&#x27;, &#x27;first&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(3);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;71ddeb4b-e9d6-4c04-a655-7eb1b8c90c97&quot;,&quot;parentUUID&quot;:&quot;b911477f-e87d-4846-82df-c10bf83e3d33&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support blocking lpop against multiple lists in one call&quot;,&quot;fullTitle&quot;:&quot;blpop-command test should support blocking lpop against multiple lists in one call&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;blpop&#x27;, &#x27;list1&#x27;, &#x27;list2&#x27;, &#x27;list3&#x27;, &#x27;0&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.eql([&#x27;list2&#x27;, &#x27;THE NEW VALUE&#x27;]);\n    done();\n});\ncommon_test_1.sendCommand(new net.Socket(), [&#x27;lpush&#x27;, &#x27;list2&#x27;, &#x27;THE NEW VALUE&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(1);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5877028b-0353-4f09-bab4-28302f9ffeb9&quot;,&quot;parentUUID&quot;:&quot;b911477f-e87d-4846-82df-c10bf83e3d33&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the pushd value when it already exists even if a timeout is set&quot;,&quot;fullTitle&quot;:&quot;blpop-command test should return the pushd value when it already exists even if a timeout is set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const uniqueKey = `poplpush${new Date().getTime()}`;\ncommon_test_1.sendCommand(new net.Socket(), [&#x27;lpush&#x27;, uniqueKey, &#x27;third&#x27;, &#x27;second&#x27;, &#x27;first&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(3);\n    common_test_1.sendCommand(client, [&#x27;blpop&#x27;, uniqueKey, &#x27;0&#x27;])\n        .then((response) =&gt; {\n        chai_1.expect(response).to.eql([uniqueKey, &#x27;first&#x27;]);\n        done();\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;79f47f48-39b0-4d2e-ae21-979cb3c9e6ce&quot;,&quot;parentUUID&quot;:&quot;b911477f-e87d-4846-82df-c10bf83e3d33&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0d940ab0-4202-41a5-a14b-1ee59a542d2d&quot;,&quot;7fd1ae84-072f-4a17-9a5c-48839d7d0021&quot;,&quot;71ddeb4b-e9d6-4c04-a655-7eb1b8c90c97&quot;,&quot;5877028b-0353-4f09-bab4-28302f9ffeb9&quot;,&quot;79f47f48-39b0-4d2e-ae21-979cb3c9e6ce&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1043,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;41bff568-80f8-4d23-9622-f0a591b91163&quot;,&quot;title&quot;:&quot;brpop-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/brpop-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/brpop-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;brpop-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;95febc31-c608-44c6-a27c-db0b3d2df671&quot;,&quot;parentUUID&quot;:&quot;41bff568-80f8-4d23-9622-f0a591b91163&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;brpop-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;83e23e6b-8a2f-4bea-a723-e42aad61d8f9&quot;,&quot;parentUUID&quot;:&quot;41bff568-80f8-4d23-9622-f0a591b91163&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;brpop-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8cfbb0af-aef0-4e72-a1fe-10d072115e3d&quot;,&quot;parentUUID&quot;:&quot;41bff568-80f8-4d23-9622-f0a591b91163&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;brpop-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;71709e0f-9783-4642-9160-c8758daab5d9&quot;,&quot;parentUUID&quot;:&quot;41bff568-80f8-4d23-9622-f0a591b91163&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return NIL when timeout &gt; 0 and list does not exist&quot;,&quot;fullTitle&quot;:&quot;brpop-command test should return NIL when timeout &gt; 0 and list does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1009,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;brpop&#x27;, &#x27;no-key&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f14c6dd-c25b-4b74-a236-087c343ca5ba&quot;,&quot;parentUUID&quot;:&quot;41bff568-80f8-4d23-9622-f0a591b91163&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should wait for a list to exist and return the list name and value&quot;,&quot;fullTitle&quot;:&quot;brpop-command test should wait for a list to exist and return the list name and value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;brpop&#x27;, &#x27;no-key&#x27;, &#x27;0&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.eql([&#x27;no-key&#x27;, &#x27;THE NEW VALUE&#x27;]);\n    done();\n});\ncommon_test_1.sendCommand(new net.Socket(), [&#x27;lpush&#x27;, &#x27;no-key&#x27;, &#x27;THE NEW VALUE&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(1);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4799bdb-3f33-4031-8edb-2f8d58164efc&quot;,&quot;parentUUID&quot;:&quot;41bff568-80f8-4d23-9622-f0a591b91163&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the list name and TAIL value&quot;,&quot;fullTitle&quot;:&quot;brpop-command test should return the list name and TAIL value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;flushall&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n    common_test_1.sendCommand(client, [&#x27;brpop&#x27;, &#x27;no-key2&#x27;, &#x27;0&#x27;])\n        .then((response) =&gt; {\n        chai_1.expect(response).to.eql([&#x27;no-key2&#x27;, &#x27;first&#x27;]);\n        done();\n    });\n    common_test_1.sendCommand(new net.Socket(), [&#x27;rpush&#x27;, &#x27;no-key2&#x27;, &#x27;third&#x27;, &#x27;second&#x27;, &#x27;first&#x27;])\n        .then((response) =&gt; {\n        chai_1.expect(response).to.equal(3);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;99ec7ebf-9bef-4c80-a2bf-02982820cc97&quot;,&quot;parentUUID&quot;:&quot;41bff568-80f8-4d23-9622-f0a591b91163&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support blocking rpop against multiple lists in one call&quot;,&quot;fullTitle&quot;:&quot;brpop-command test should support blocking rpop against multiple lists in one call&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;brpop&#x27;, &#x27;list1&#x27;, &#x27;list2&#x27;, &#x27;list3&#x27;, &#x27;0&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.eql([&#x27;list3&#x27;, &#x27;THE NEW VALUE&#x27;]);\n    done();\n});\ncommon_test_1.sendCommand(new net.Socket(), [&#x27;lpush&#x27;, &#x27;list3&#x27;, &#x27;THE NEW VALUE&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(1);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1e8a71c0-0bc4-442d-bfad-b3420b11172d&quot;,&quot;parentUUID&quot;:&quot;41bff568-80f8-4d23-9622-f0a591b91163&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the pushd value when it already exists even if a timeout is set&quot;,&quot;fullTitle&quot;:&quot;brpop-command test should return the pushd value when it already exists even if a timeout is set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const uniqueKey = `poprpush${new Date().getTime()}`;\ncommon_test_1.sendCommand(new net.Socket(), [&#x27;rpush&#x27;, uniqueKey, &#x27;third&#x27;, &#x27;second&#x27;, &#x27;first&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(3);\n    common_test_1.sendCommand(client, [&#x27;brpop&#x27;, uniqueKey, &#x27;0&#x27;])\n        .then((response) =&gt; {\n        chai_1.expect(response).to.eql([uniqueKey, &#x27;first&#x27;]);\n        done();\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5f7d2e72-c56d-454f-af7f-c5be2068dae0&quot;,&quot;parentUUID&quot;:&quot;41bff568-80f8-4d23-9622-f0a591b91163&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7f14c6dd-c25b-4b74-a236-087c343ca5ba&quot;,&quot;c4799bdb-3f33-4031-8edb-2f8d58164efc&quot;,&quot;99ec7ebf-9bef-4c80-a2bf-02982820cc97&quot;,&quot;1e8a71c0-0bc4-442d-bfad-b3420b11172d&quot;,&quot;5f7d2e72-c56d-454f-af7f-c5be2068dae0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1047,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;f0bb4a05-3bf0-4156-b3ea-5af9f91bd9c3&quot;,&quot;title&quot;:&quot;brpoplpush-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/brpoplpush-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/brpoplpush-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;brpoplpush-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6d94dcfd-4598-445e-935a-b66a3c973602&quot;,&quot;parentUUID&quot;:&quot;f0bb4a05-3bf0-4156-b3ea-5af9f91bd9c3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;brpoplpush-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        sinon.createSandbox();\n        yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n        yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1a409e86-df89-442b-812b-12f80a1a8a3c&quot;,&quot;parentUUID&quot;:&quot;f0bb4a05-3bf0-4156-b3ea-5af9f91bd9c3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;brpoplpush-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9e2ca1b-b805-46b9-987c-6fab799e3090&quot;,&quot;parentUUID&quot;:&quot;f0bb4a05-3bf0-4156-b3ea-5af9f91bd9c3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;brpoplpush-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b6c6aba3-262d-4406-8dac-740c8e31af23&quot;,&quot;parentUUID&quot;:&quot;f0bb4a05-3bf0-4156-b3ea-5af9f91bd9c3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return NIL when destination does not exist and timeout expires&quot;,&quot;fullTitle&quot;:&quot;brpoplpush-command test should return NIL when destination does not exist and timeout expires&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2008,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;brpoplpush&#x27;, &#x27;src&#x27;, &#x27;dst&#x27;, &#x27;2&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;55efdd7d-a2dd-4bad-b25f-366524c7fe90&quot;,&quot;parentUUID&quot;:&quot;f0bb4a05-3bf0-4156-b3ea-5af9f91bd9c3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the poplpushed value when lpush is called&quot;,&quot;fullTitle&quot;:&quot;brpoplpush-command test should return the poplpushed value when lpush is called&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;brpoplpush&#x27;, &#x27;poplpushkey&#x27;, &#x27;poplpopkey&#x27;, &#x27;0&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;value1&#x27;);\n    done();\n});\ncommon_test_1.sendCommand(new net.Socket(), [&#x27;lpush&#x27;, &#x27;poplpushkey&#x27;, &#x27;value1&#x27;, &#x27;value2&#x27;, &#x27;value3&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(3);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ddbb9d86-5ef3-4c93-b174-2edc0401b6e2&quot;,&quot;parentUUID&quot;:&quot;f0bb4a05-3bf0-4156-b3ea-5af9f91bd9c3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the pushd value when it already exists even if a timeout is set&quot;,&quot;fullTitle&quot;:&quot;brpoplpush-command test should return the pushd value when it already exists even if a timeout is set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const uniqueKey = `poplpush${new Date().getTime()}`;\ncommon_test_1.sendCommand(new net.Socket(), [&#x27;lpush&#x27;, uniqueKey, &#x27;value1&#x27;, &#x27;value2&#x27;, &#x27;value3&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(3);\n    common_test_1.sendCommand(client, [&#x27;brpoplpush&#x27;, uniqueKey, &#x27;poplpopkey&#x27;, &#x27;0&#x27;])\n        .then((response) =&gt; {\n        chai_1.expect(response).to.equal(&#x27;value1&#x27;);\n        done();\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c8c53a00-acaa-4889-84de-d96fd958e183&quot;,&quot;parentUUID&quot;:&quot;f0bb4a05-3bf0-4156-b3ea-5af9f91bd9c3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;55efdd7d-a2dd-4bad-b25f-366524c7fe90&quot;,&quot;ddbb9d86-5ef3-4c93-b174-2edc0401b6e2&quot;,&quot;c8c53a00-acaa-4889-84de-d96fd958e183&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2013,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;def8d993-88b4-4b9f-b701-a88cc17c6ef3&quot;,&quot;title&quot;:&quot;lindex-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/lindex-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/lindex-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lindex-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd43a8c9-f6f1-40de-8065-4ccb3a81d4d9&quot;,&quot;parentUUID&quot;:&quot;def8d993-88b4-4b9f-b701-a88cc17c6ef3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lindex-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;91c3dc89-e5e6-4bea-8668-8ab0594de172&quot;,&quot;parentUUID&quot;:&quot;def8d993-88b4-4b9f-b701-a88cc17c6ef3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lindex-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;14690cb8-a69d-403b-8cc5-951367fee5b0&quot;,&quot;parentUUID&quot;:&quot;def8d993-88b4-4b9f-b701-a88cc17c6ef3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lindex-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2ff19e8d-6102-4da7-86a9-012e857cf0c6&quot;,&quot;parentUUID&quot;:&quot;def8d993-88b4-4b9f-b701-a88cc17c6ef3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report NIL when lindex called with invalid index on non-existent key&quot;,&quot;fullTitle&quot;:&quot;lindex-command test should report NIL when lindex called with invalid index on non-existent key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, &#x27;no-key&#x27;, &#x27;negative one thousand&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;35685340-4129-44b4-b279-a026c042442c&quot;,&quot;parentUUID&quot;:&quot;def8d993-88b4-4b9f-b701-a88cc17c6ef3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report ERR when attempting to get lindex of non-list key&quot;,&quot;fullTitle&quot;:&quot;lindex-command test should report ERR when attempting to get lindex of non-list key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;lkey&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, &#x27;lkey&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ffd01540-5186-4b17-bf20-a043eef0fffe&quot;,&quot;parentUUID&quot;:&quot;def8d993-88b4-4b9f-b701-a88cc17c6ef3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the correct key at an index&quot;,&quot;fullTitle&quot;:&quot;lindex-command test should return the correct key at an index&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = `lkey-${new Date().getTime()}`;\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, uniqueKey, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;a&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;b&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;-1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;c&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;-100&#x27;]);\n        chai_1.expect(response).to.equal(null);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, uniqueKey, &#x27;a1&#x27;, &#x27;b2&#x27;, &#x27;c3&#x27;]);\n        chai_1.expect(response).to.equal(6);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;-6&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;a&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;-7&#x27;]);\n        chai_1.expect(response).to.equal(null);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;100&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;303a7502-af1e-49a8-8920-d43ccb040f60&quot;,&quot;parentUUID&quot;:&quot;def8d993-88b4-4b9f-b701-a88cc17c6ef3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;35685340-4129-44b4-b279-a026c042442c&quot;,&quot;ffd01540-5186-4b17-bf20-a043eef0fffe&quot;,&quot;303a7502-af1e-49a8-8920-d43ccb040f60&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:19,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;e0c911ad-4acf-4ccf-9bae-757b39458831&quot;,&quot;title&quot;:&quot;llen-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/llen-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/llen-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;llen-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:37,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7abd225c-d076-4f08-a844-e89ed1dbafdd&quot;,&quot;parentUUID&quot;:&quot;e0c911ad-4acf-4ccf-9bae-757b39458831&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;llen-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c935465e-3c2f-4fde-aed7-f512cab4fdcd&quot;,&quot;parentUUID&quot;:&quot;e0c911ad-4acf-4ccf-9bae-757b39458831&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;llen-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c5d713b-3fa4-4fa5-8ce7-c3e8a04c3d04&quot;,&quot;parentUUID&quot;:&quot;e0c911ad-4acf-4ccf-9bae-757b39458831&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;llen-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ce20ce4-290f-42b8-a1b1-f87832d665a6&quot;,&quot;parentUUID&quot;:&quot;e0c911ad-4acf-4ccf-9bae-757b39458831&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report 0 when llen called on non-existent key&quot;,&quot;fullTitle&quot;:&quot;llen-command test should report 0 when llen called on non-existent key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, &#x27;no-key&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aaa8ae35-b4a8-4255-8d08-cac2cf10ee4f&quot;,&quot;parentUUID&quot;:&quot;e0c911ad-4acf-4ccf-9bae-757b39458831&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report WRONGTYPE when attempting to get llen of non-list key&quot;,&quot;fullTitle&quot;:&quot;llen-command test should report WRONGTYPE when attempting to get llen of non-list key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;lkey&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, &#x27;lkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f3b64062-b94c-4f68-8010-b48f0480460e&quot;,&quot;parentUUID&quot;:&quot;e0c911ad-4acf-4ccf-9bae-757b39458831&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the correct list length&quot;,&quot;fullTitle&quot;:&quot;llen-command test should return the correct list length&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = `lkey-${new Date().getTime()}`;\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, uniqueKey, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpop&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(&#x27;c&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpop&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(&#x27;b&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpop&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(&#x27;a&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpop&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(null);\n        // The list goes away when the last element is popped\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, uniqueKey, &#x27;-6&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d9088ff0-1b7f-4d2b-9790-ce1a7b1dde5a&quot;,&quot;parentUUID&quot;:&quot;e0c911ad-4acf-4ccf-9bae-757b39458831&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;aaa8ae35-b4a8-4255-8d08-cac2cf10ee4f&quot;,&quot;f3b64062-b94c-4f68-8010-b48f0480460e&quot;,&quot;d9088ff0-1b7f-4d2b-9790-ce1a7b1dde5a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;7ecdc7b7-218b-4962-a43a-ba36d249bbd0&quot;,&quot;title&quot;:&quot;lpop-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/lpop-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/lpop-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpop-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f43713d-5d9a-44be-8ab2-bdb306218ece&quot;,&quot;parentUUID&quot;:&quot;7ecdc7b7-218b-4962-a43a-ba36d249bbd0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpop-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;04fc821e-217b-47f1-8987-55fc7a889b20&quot;,&quot;parentUUID&quot;:&quot;7ecdc7b7-218b-4962-a43a-ba36d249bbd0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpop-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ff229af-14cd-4b41-918e-4fc6b9f1e5db&quot;,&quot;parentUUID&quot;:&quot;7ecdc7b7-218b-4962-a43a-ba36d249bbd0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpop-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b321e96-2640-4809-ba50-40d9f5444a81&quot;,&quot;parentUUID&quot;:&quot;7ecdc7b7-218b-4962-a43a-ba36d249bbd0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report NIL when lpop called on non-existent key&quot;,&quot;fullTitle&quot;:&quot;lpop-command test should report NIL when lpop called on non-existent key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, &#x27;no-key&#x27;]);\n        chai_1.expect(response).to.equal(null);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;no-key&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e652a6c5-4a13-47c6-b1a9-0d2ab09fdeb5&quot;,&quot;parentUUID&quot;:&quot;7ecdc7b7-218b-4962-a43a-ba36d249bbd0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return values from the left side of a list&quot;,&quot;fullTitle&quot;:&quot;lpop-command test should return values from the left side of a list&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:26,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, testKey, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, testKey]);\n        chai_1.expect(response).to.equal(&#x27;a&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, testKey]);\n        chai_1.expect(response).to.equal(&#x27;b&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, testKey]);\n        chai_1.expect(response).to.equal(&#x27;c&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, testKey]);\n        chai_1.expect(response).to.equal(&#x27;d&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, testKey]);\n        chai_1.expect(response).to.equal(null);\n        // The list goes away when the last element is removed\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, testKey]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3c692585-2a4a-44f5-907e-9c06d2fabec0&quot;,&quot;parentUUID&quot;:&quot;7ecdc7b7-218b-4962-a43a-ba36d249bbd0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e652a6c5-4a13-47c6-b1a9-0d2ab09fdeb5&quot;,&quot;3c692585-2a4a-44f5-907e-9c06d2fabec0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:32,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;8be7eedc-426a-46f4-883e-f10e57b32f51&quot;,&quot;title&quot;:&quot;lpush-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/lpush-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/lpush-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpush-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2952ca46-0af4-4a01-adb2-a427679d97b6&quot;,&quot;parentUUID&quot;:&quot;8be7eedc-426a-46f4-883e-f10e57b32f51&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpush-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;88ca2b68-e5fd-4f65-b3c2-dabb911c162d&quot;,&quot;parentUUID&quot;:&quot;8be7eedc-426a-46f4-883e-f10e57b32f51&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpush-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;18a9b98e-731b-41b7-a2c7-14190b08cc7a&quot;,&quot;parentUUID&quot;:&quot;8be7eedc-426a-46f4-883e-f10e57b32f51&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpush-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c60bebc1-701e-4981-b248-c700fb5f72b8&quot;,&quot;parentUUID&quot;:&quot;8be7eedc-426a-46f4-883e-f10e57b32f51&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report ERR when attempting to lpush to a non-list key&quot;,&quot;fullTitle&quot;:&quot;lpush-command test should report ERR when attempting to lpush to a non-list key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;lkey&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpush&#x27;, &#x27;lkey&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;99b10758-0c40-48b8-9741-23b94b169c57&quot;,&quot;parentUUID&quot;:&quot;8be7eedc-426a-46f4-883e-f10e57b32f51&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create a list if it doesn&#x27;t already exist&quot;,&quot;fullTitle&quot;:&quot;lpush-command test should create a list if it doesn&#x27;t already exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, testKey]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpush&#x27;, testKey, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]);\n        // The list is now &#x27;c&#x27;, &#x27;b&#x27;, &#x27;a&#x27;\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, testKey]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a5ba25ca-e587-410e-848c-71d75ddff54c&quot;,&quot;parentUUID&quot;:&quot;8be7eedc-426a-46f4-883e-f10e57b32f51&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have created the list in a predicatble order&quot;,&quot;fullTitle&quot;:&quot;lpush-command test should have created the list in a predicatble order&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, testKey, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;b&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, testKey]);\n        chai_1.expect(response).to.equal(&#x27;c&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, testKey]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpop&#x27;, testKey]);\n        chai_1.expect(response).to.equal(&#x27;a&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d3884ea2-cef4-4ffd-bca5-d1def9ae0320&quot;,&quot;parentUUID&quot;:&quot;8be7eedc-426a-46f4-883e-f10e57b32f51&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;99b10758-0c40-48b8-9741-23b94b169c57&quot;,&quot;a5ba25ca-e587-410e-848c-71d75ddff54c&quot;,&quot;d3884ea2-cef4-4ffd-bca5-d1def9ae0320&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:32,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;e074a98b-129f-459f-8fb7-63244b626d2e&quot;,&quot;title&quot;:&quot;lrange-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/lrange-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/lrange-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lrange-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f2638382-562a-411d-8df0-f6f42e9d3c11&quot;,&quot;parentUUID&quot;:&quot;e074a98b-129f-459f-8fb7-63244b626d2e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lrange-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0b4ca3f3-9cd9-417a-a20e-29f2ac050b23&quot;,&quot;parentUUID&quot;:&quot;e074a98b-129f-459f-8fb7-63244b626d2e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lrange-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;302bd3ae-186d-4a6d-85c0-56ad204a0b5e&quot;,&quot;parentUUID&quot;:&quot;e074a98b-129f-459f-8fb7-63244b626d2e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lrange-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2c21e9ea-3333-44ea-9910-dfd44abd158f&quot;,&quot;parentUUID&quot;:&quot;e074a98b-129f-459f-8fb7-63244b626d2e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;return an empty list when the key does not exist&quot;,&quot;fullTitle&quot;:&quot;lrange-command test return an empty list when the key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;no-key&#x27;, &#x27;0&#x27;, &#x27;100&#x27;]);\n        chai_1.expect(response).to.eql([]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;db981d6b-429f-44ce-bceb-848e05c7ed68&quot;,&quot;parentUUID&quot;:&quot;e074a98b-129f-459f-8fb7-63244b626d2e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report an error when start or stop index are invalid&quot;,&quot;fullTitle&quot;:&quot;lrange-command test should report an error when start or stop index are invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;no-key&#x27;, &#x27;negative one&#x27;, &#x27;-2&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;no-key&#x27;, &#x27;0&#x27;, &#x27;negative two&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;no-key&#x27;, &#x27;-1&#x27;, &#x27;-100&#x27;]);\n        chai_1.expect(response).to.eql([]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa307a51-ff31-4367-a5c5-38721fee5e0d&quot;,&quot;parentUUID&quot;:&quot;e074a98b-129f-459f-8fb7-63244b626d2e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return predictable results&quot;,&quot;fullTitle&quot;:&quot;lrange-command test should return predictable results&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;newlist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;newlist&#x27;, &#x27;world&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;newlist&#x27;, &#x27;0&#x27;, &#x27;-1&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;hello&#x27;, &#x27;world&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;48a2a6dd-1ccd-4e38-b2df-3431507ba395&quot;,&quot;parentUUID&quot;:&quot;e074a98b-129f-459f-8fb7-63244b626d2e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reproduce the results from the redis documentation&quot;,&quot;fullTitle&quot;:&quot;lrange-command test should reproduce the results from the redis documentation&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;doclist&#x27;, &#x27;one&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;doclist&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;doclist&#x27;, &#x27;three&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;doclist&#x27;, &#x27;0&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;one&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;doclist&#x27;, &#x27;-3&#x27;, &#x27;2&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;doclist&#x27;, &#x27;-100&#x27;, &#x27;100&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;doclist&#x27;, &#x27;5&#x27;, &#x27;10&#x27;]);\n        chai_1.expect(response).to.eql([]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;52e4d202-fd5f-4f81-87fc-3faa541860c1&quot;,&quot;parentUUID&quot;:&quot;e074a98b-129f-459f-8fb7-63244b626d2e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;db981d6b-429f-44ce-bceb-848e05c7ed68&quot;,&quot;fa307a51-ff31-4367-a5c5-38721fee5e0d&quot;,&quot;48a2a6dd-1ccd-4e38-b2df-3431507ba395&quot;,&quot;52e4d202-fd5f-4f81-87fc-3faa541860c1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:34,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;c94d5512-3096-4057-9f04-120d80026658&quot;,&quot;title&quot;:&quot;lrem-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/lrem-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/lrem-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lrem-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:26,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4a83cda4-3004-44d8-a76f-2eafe23b33ef&quot;,&quot;parentUUID&quot;:&quot;c94d5512-3096-4057-9f04-120d80026658&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lrem-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5b152fd2-6525-4d9a-9d53-9eb24da7be1b&quot;,&quot;parentUUID&quot;:&quot;c94d5512-3096-4057-9f04-120d80026658&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lrem-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4db592cc-3852-4ae0-b7ce-6e4e22ef557b&quot;,&quot;parentUUID&quot;:&quot;c94d5512-3096-4057-9f04-120d80026658&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lrem-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ab8bcf41-1155-411e-96b9-758573615b99&quot;,&quot;parentUUID&quot;:&quot;c94d5512-3096-4057-9f04-120d80026658&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should NOT report 0 when lrem called with invalid non-existent key&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should NOT report 0 when lrem called with invalid non-existent key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lrem&#x27;, &#x27;no-key&#x27;, &#x27;negative one thousand&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;26740e92-6c45-4a58-b858-db1f89a64a51&quot;,&quot;parentUUID&quot;:&quot;c94d5512-3096-4057-9f04-120d80026658&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report ERR when lrem called against existing key with invalid count argument&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should report ERR when lrem called against existing key with invalid count argument&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lpush&#x27;, &#x27;lrem&#x27;, &#x27;akey&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrem&#x27;, &#x27;lrem&#x27;, &#x27;negative one thousand&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0bd88589-0a85-4b4f-80a2-d4c95cd51085&quot;,&quot;parentUUID&quot;:&quot;c94d5512-3096-4057-9f04-120d80026658&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report 0 when lrem called with valid arguments and non-existing element&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should report 0 when lrem called with valid arguments and non-existing element&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lrem&#x27;, &#x27;lrem&#x27;, &#x27;0&#x27;, &#x27;does not exist&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;041cd126-5d6e-4e6b-98b4-b72882389710&quot;,&quot;parentUUID&quot;:&quot;c94d5512-3096-4057-9f04-120d80026658&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should use negative index counters&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should use negative index counters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;foo&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrem&#x27;, &#x27;mylist&#x27;, &#x27;-2&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;mylist&#x27;, &#x27;0&#x27;, &#x27;-1&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;hello&#x27;, &#x27;foo&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;63373c6a-374d-442f-bbd2-e5ea87996615&quot;,&quot;parentUUID&quot;:&quot;c94d5512-3096-4057-9f04-120d80026658&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a ZERO result when the key does not exist&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should return a ZERO result when the key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lrem&#x27;, &#x27;otherlist&#x27;, &#x27;1&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;04df75d1-7f06-4ea4-868d-3e23a6a59546&quot;,&quot;parentUUID&quot;:&quot;c94d5512-3096-4057-9f04-120d80026658&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove every matchin element when count is 0&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should remove every matchin element when count is 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;flushdb&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;foo&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrem&#x27;, &#x27;mylist&#x27;, &#x27;0&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(3);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9022687b-925d-4819-a3cd-57290a392180&quot;,&quot;parentUUID&quot;:&quot;c94d5512-3096-4057-9f04-120d80026658&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove the list when all elements are gone&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should remove the list when all elements are gone&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lrem&#x27;, &#x27;mylist&#x27;, &#x27;0&#x27;, &#x27;foo&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;mylist&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;971bb4dd-6e42-4390-bd2f-7a25d4d3a986&quot;,&quot;parentUUID&quot;:&quot;c94d5512-3096-4057-9f04-120d80026658&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove only the number of requested elements when count &gt; 0&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should remove only the number of requested elements when count &gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;calibrate&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrem&#x27;, &#x27;mylist&#x27;, &#x27;1&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;mylist&#x27;, &#x27;0&#x27;, &#x27;2&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;hello&#x27;, &#x27;calibrate&#x27;, &#x27;hello&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b521ffa-dc90-43c1-aa1e-cdbfbc034993&quot;,&quot;parentUUID&quot;:&quot;c94d5512-3096-4057-9f04-120d80026658&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should default to startIndex ZERO when it is less than ZERO&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should default to startIndex ZERO when it is less than ZERO&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:31,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        for (let i = 0; i &lt; 10; i++) {\n            response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;newlist&#x27;, `${i}`]);\n            chai_1.expect(response).to.equal(i + 1);\n        }\n        response = yield common_test_1.sendCommand(client, [&#x27;ltrim&#x27;, &#x27;newlist&#x27;, &#x27;-100&#x27;, &#x27;2&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, &#x27;newlist&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;newlist&#x27;, &#x27;0&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;0&#x27;, &#x27;1&#x27;, &#x27;2&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fc35eeed-e86e-4ca1-8e73-e5c99ec5f7ed&quot;,&quot;parentUUID&quot;:&quot;c94d5512-3096-4057-9f04-120d80026658&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove the list when start &gt; end or start &gt; llen&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should remove the list when start &gt; end or start &gt; llen&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;newlist&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;ltrim&#x27;, &#x27;newlist&#x27;, &#x27;10&#x27;, &#x27;2&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;newlist&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f34b7aef-d371-40d8-8f39-7b03275fdd98&quot;,&quot;parentUUID&quot;:&quot;c94d5512-3096-4057-9f04-120d80026658&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should properly handle a negative endIndex&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should properly handle a negative endIndex&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        for (let i = 0; i &lt; 7; i++) {\n            response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;neglist&#x27;, `${i}`]);\n            chai_1.expect(response).to.equal(i + 1);\n        }\n        response = yield common_test_1.sendCommand(client, [&#x27;ltrim&#x27;, &#x27;neglist&#x27;, &#x27;-100&#x27;, &#x27;-3&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;neglist&#x27;, &#x27;0&#x27;, &#x27;100&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;0&#x27;, &#x27;1&#x27;, &#x27;2&#x27;, &#x27;3&#x27;, &#x27;4&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ff760a9e-9d70-4802-b200-b863a782c755&quot;,&quot;parentUUID&quot;:&quot;c94d5512-3096-4057-9f04-120d80026658&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove the key when abs(endIndex) is &gt; llen&quot;,&quot;fullTitle&quot;:&quot;lrem-command test should remove the key when abs(endIndex) is &gt; llen&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;ltrim&#x27;, &#x27;neglist&#x27;, &#x27;-100&#x27;, &#x27;-6&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;neglist&#x27;]);\n        chai_1.expect(response).to.eql(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6dde293f-bdab-49d0-91f2-90aca9778062&quot;,&quot;parentUUID&quot;:&quot;c94d5512-3096-4057-9f04-120d80026658&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;26740e92-6c45-4a58-b858-db1f89a64a51&quot;,&quot;0bd88589-0a85-4b4f-80a2-d4c95cd51085&quot;,&quot;041cd126-5d6e-4e6b-98b4-b72882389710&quot;,&quot;63373c6a-374d-442f-bbd2-e5ea87996615&quot;,&quot;04df75d1-7f06-4ea4-868d-3e23a6a59546&quot;,&quot;9022687b-925d-4819-a3cd-57290a392180&quot;,&quot;971bb4dd-6e42-4390-bd2f-7a25d4d3a986&quot;,&quot;1b521ffa-dc90-43c1-aa1e-cdbfbc034993&quot;,&quot;fc35eeed-e86e-4ca1-8e73-e5c99ec5f7ed&quot;,&quot;f34b7aef-d371-40d8-8f39-7b03275fdd98&quot;,&quot;ff760a9e-9d70-4802-b200-b863a782c755&quot;,&quot;6dde293f-bdab-49d0-91f2-90aca9778062&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:121,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;ad53e4d0-a68a-465a-a35b-e4cfaafa810f&quot;,&quot;title&quot;:&quot;lset-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/lset-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/lset-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lset-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c8b7e32a-3142-4f2a-9efa-d85039f12eb5&quot;,&quot;parentUUID&quot;:&quot;ad53e4d0-a68a-465a-a35b-e4cfaafa810f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lset-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f7925d0-5067-4655-9495-91c429c215e0&quot;,&quot;parentUUID&quot;:&quot;ad53e4d0-a68a-465a-a35b-e4cfaafa810f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lset-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;32bfaffb-d58a-49be-98e5-894b39ae22d4&quot;,&quot;parentUUID&quot;:&quot;ad53e4d0-a68a-465a-a35b-e4cfaafa810f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lset-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f8a9a9d-a13f-4297-ac75-c52fef0cf34c&quot;,&quot;parentUUID&quot;:&quot;ad53e4d0-a68a-465a-a35b-e4cfaafa810f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail when a key does not exist&quot;,&quot;fullTitle&quot;:&quot;lset-command test should fail when a key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lset&#x27;, &#x27;no-key&#x27;, &#x27;negative one thousand&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR no such key&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;82424aac-1396-445d-9a9f-c1105ca14910&quot;,&quot;parentUUID&quot;:&quot;ad53e4d0-a68a-465a-a35b-e4cfaafa810f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should replace a valid index&quot;,&quot;fullTitle&quot;:&quot;lset-command test should replace a valid index&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, testkey, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;lset&#x27;, testkey, &#x27;-1&#x27;, &#x27;z&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, testkey, &#x27;0&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;z&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5dd3e5ec-1dbd-4b98-a3a1-4c8352326e00&quot;,&quot;parentUUID&quot;:&quot;ad53e4d0-a68a-465a-a35b-e4cfaafa810f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should recognize invalid indexes&quot;,&quot;fullTitle&quot;:&quot;lset-command test should recognize invalid indexes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lset&#x27;, testkey, &#x27;invalid&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;63e9fcf0-dbc8-4845-9a9c-72a46785ee0b&quot;,&quot;parentUUID&quot;:&quot;ad53e4d0-a68a-465a-a35b-e4cfaafa810f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;82424aac-1396-445d-9a9f-c1105ca14910&quot;,&quot;5dd3e5ec-1dbd-4b98-a3a1-4c8352326e00&quot;,&quot;63e9fcf0-dbc8-4845-9a9c-72a46785ee0b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:30,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;fd9654be-2399-4f48-881f-0cef66f44d4f&quot;,&quot;title&quot;:&quot;ltrim-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/ltrim-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/ltrim-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ltrim-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;86572baa-33e9-4f38-a886-21dbab5369ae&quot;,&quot;parentUUID&quot;:&quot;fd9654be-2399-4f48-881f-0cef66f44d4f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ltrim-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7efb6769-29a4-4123-acc7-1e4ee428b379&quot;,&quot;parentUUID&quot;:&quot;fd9654be-2399-4f48-881f-0cef66f44d4f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ltrim-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e0aba82e-dab6-4e64-afcb-4d1aa808888e&quot;,&quot;parentUUID&quot;:&quot;fd9654be-2399-4f48-881f-0cef66f44d4f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;ltrim-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e4e544db-1169-4a02-bdd4-68d4b71b89c7&quot;,&quot;parentUUID&quot;:&quot;fd9654be-2399-4f48-881f-0cef66f44d4f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report OK when the key does not exist&quot;,&quot;fullTitle&quot;:&quot;ltrim-command test should report OK when the key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;ltrim&#x27;, &#x27;no-key&#x27;, &#x27;0&#x27;, &#x27;100&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c37dd16e-ebd7-4787-bd89-a34faf3dfef2&quot;,&quot;parentUUID&quot;:&quot;fd9654be-2399-4f48-881f-0cef66f44d4f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should trim a list to the requested size or less&quot;,&quot;fullTitle&quot;:&quot;ltrim-command test should trim a list to the requested size or less&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:36,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;calibrate&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;RPUSH&#x27;, &#x27;mylist&#x27;, &#x27;hello&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;mylist&#x27;, &#x27;0&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;hello&#x27;, &#x27;hello&#x27;, &#x27;calibrate&#x27;, &#x27;hello&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, &#x27;mylist&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;ltrim&#x27;, &#x27;mylist&#x27;, &#x27;0&#x27;, &#x27;100&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, &#x27;mylist&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;mylist&#x27;, &#x27;0&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;hello&#x27;, &#x27;hello&#x27;, &#x27;calibrate&#x27;, &#x27;hello&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;ltrim&#x27;, &#x27;mylist&#x27;, &#x27;1&#x27;, &#x27;4&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;mylist&#x27;, &#x27;0&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;hello&#x27;, &#x27;calibrate&#x27;, &#x27;hello&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, &#x27;mylist&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;ltrim&#x27;, &#x27;mylist&#x27;, &#x27;-2&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, &#x27;mylist&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;mylist&#x27;, &#x27;0&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;calibrate&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;96268e7f-9646-4f03-b5cd-6d0c89bb67b5&quot;,&quot;parentUUID&quot;:&quot;fd9654be-2399-4f48-881f-0cef66f44d4f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reject an invalid start index&quot;,&quot;fullTitle&quot;:&quot;ltrim-command test should reject an invalid start index&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;ltrim&#x27;, &#x27;testlist&#x27;, &#x27;wrong&#x27;, &#x27;10&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;212d6d5e-b6b9-45fe-9258-c43da7894e25&quot;,&quot;parentUUID&quot;:&quot;fd9654be-2399-4f48-881f-0cef66f44d4f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c37dd16e-ebd7-4787-bd89-a34faf3dfef2&quot;,&quot;96268e7f-9646-4f03-b5cd-6d0c89bb67b5&quot;,&quot;212d6d5e-b6b9-45fe-9258-c43da7894e25&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:41,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;1a9ff170-6f39-4dae-927e-3ee9ff5a9743&quot;,&quot;title&quot;:&quot;rpop-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/rpop-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/rpop-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpop-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ebb9d39-8368-4ab6-bcb7-71406abc809b&quot;,&quot;parentUUID&quot;:&quot;1a9ff170-6f39-4dae-927e-3ee9ff5a9743&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpop-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c5a3b623-096c-4ab6-b937-8d05fc0168fd&quot;,&quot;parentUUID&quot;:&quot;1a9ff170-6f39-4dae-927e-3ee9ff5a9743&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpop-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47ff4ab9-831d-4625-ac7c-901eab58b78a&quot;,&quot;parentUUID&quot;:&quot;1a9ff170-6f39-4dae-927e-3ee9ff5a9743&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpop-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;882e2d07-aa36-4260-8fb4-e0420d06f1d9&quot;,&quot;parentUUID&quot;:&quot;1a9ff170-6f39-4dae-927e-3ee9ff5a9743&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report NIL when rpop called on non-existent key&quot;,&quot;fullTitle&quot;:&quot;rpop-command test should report NIL when rpop called on non-existent key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;rpop&#x27;, &#x27;no-key&#x27;]);\n        chai_1.expect(response).to.equal(null);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;no-key&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5dbc1a74-6225-495c-b47e-a1f914c4a9dd&quot;,&quot;parentUUID&quot;:&quot;1a9ff170-6f39-4dae-927e-3ee9ff5a9743&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5dbc1a74-6225-495c-b47e-a1f914c4a9dd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;09628779-9445-4ca7-bc8f-0af70cee4aa8&quot;,&quot;title&quot;:&quot;rpoplpush-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/rpoplpush-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/rpoplpush-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpoplpush-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:29,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;66d0232b-abad-487d-af67-269d0f899159&quot;,&quot;parentUUID&quot;:&quot;09628779-9445-4ca7-bc8f-0af70cee4aa8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpoplpush-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;09000c27-d4a3-435b-981c-2f772f55a27c&quot;,&quot;parentUUID&quot;:&quot;09628779-9445-4ca7-bc8f-0af70cee4aa8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpoplpush-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;62e6c3a0-b6af-4d11-8fbb-59931fc8bddf&quot;,&quot;parentUUID&quot;:&quot;09628779-9445-4ca7-bc8f-0af70cee4aa8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpoplpush-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;17b268cb-9e20-41ed-acc7-a5d00fce336c&quot;,&quot;parentUUID&quot;:&quot;09628779-9445-4ca7-bc8f-0af70cee4aa8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return NIL when destination does not exist&quot;,&quot;fullTitle&quot;:&quot;rpoplpush-command test should return NIL when destination does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;rpoplpush&#x27;, &#x27;src&#x27;, &#x27;dst&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;270b8bb2-d607-4eb7-ac84-8b4c0cae3eca&quot;,&quot;parentUUID&quot;:&quot;09628779-9445-4ca7-bc8f-0af70cee4aa8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should rotate a list when src and dst are the same&quot;,&quot;fullTitle&quot;:&quot;rpoplpush-command test should rotate a list when src and dst are the same&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;src&#x27;, &#x27;a&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;src&#x27;, &#x27;b&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;src&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;src&#x27;, &#x27;0&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpoplpush&#x27;, &#x27;src&#x27;, &#x27;src&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;c&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;src&#x27;, &#x27;0&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;c&#x27;, &#x27;a&#x27;, &#x27;b&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;02f0929a-94e3-4ed4-a606-921cc80f027e&quot;,&quot;parentUUID&quot;:&quot;09628779-9445-4ca7-bc8f-0af70cee4aa8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create the target list if it does not exist&quot;,&quot;fullTitle&quot;:&quot;rpoplpush-command test should create the target list if it does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;dst&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpoplpush&#x27;, &#x27;src&#x27;, &#x27;dst&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;b&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;dst&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;src&#x27;, &#x27;0&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;c&#x27;, &#x27;a&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;lrange&#x27;, &#x27;dst&#x27;, &#x27;0&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;b&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4904901b-d9a9-4fbd-90d8-73af147c418f&quot;,&quot;parentUUID&quot;:&quot;09628779-9445-4ca7-bc8f-0af70cee4aa8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;270b8bb2-d607-4eb7-ac84-8b4c0cae3eca&quot;,&quot;02f0929a-94e3-4ed4-a606-921cc80f027e&quot;,&quot;4904901b-d9a9-4fbd-90d8-73af147c418f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:29,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;a507effd-455e-4c56-bc53-3dbdeac98e2e&quot;,&quot;title&quot;:&quot;rpush-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/rpush-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/rpush-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpush-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6664b8bc-fffc-47f0-9250-a83a5174d4a6&quot;,&quot;parentUUID&quot;:&quot;a507effd-455e-4c56-bc53-3dbdeac98e2e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpush-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3abe9f12-0ddb-4988-ba7f-7f18f1a51ed0&quot;,&quot;parentUUID&quot;:&quot;a507effd-455e-4c56-bc53-3dbdeac98e2e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpush-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a814af93-6884-47f0-a6b8-7ed25e7700d5&quot;,&quot;parentUUID&quot;:&quot;a507effd-455e-4c56-bc53-3dbdeac98e2e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpush-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6da369fc-9b55-4197-b9a8-135b6e4a33f1&quot;,&quot;parentUUID&quot;:&quot;a507effd-455e-4c56-bc53-3dbdeac98e2e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report ERR when attempting to rpush to a non-list key&quot;,&quot;fullTitle&quot;:&quot;rpush-command test should report ERR when attempting to rpush to a non-list key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;lkey&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;lkey&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ce7a0d11-56ad-405f-9a54-cd2396bfeb13&quot;,&quot;parentUUID&quot;:&quot;a507effd-455e-4c56-bc53-3dbdeac98e2e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ce7a0d11-56ad-405f-9a54-cd2396bfeb13&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;d5ae2cd9-55ac-4769-8ba1-f68f70dc599e&quot;,&quot;title&quot;:&quot;multi command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/multi-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/multi-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;multi command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0b761a11-4e93-4f96-8bf9-23635027b826&quot;,&quot;parentUUID&quot;:&quot;d5ae2cd9-55ac-4769-8ba1-f68f70dc599e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;multi command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e0852973-e20f-4dca-a8cf-b56dd1ff5d21&quot;,&quot;parentUUID&quot;:&quot;d5ae2cd9-55ac-4769-8ba1-f68f70dc599e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;multi command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a26154ee-d166-4b17-b590-13a8700c52b3&quot;,&quot;parentUUID&quot;:&quot;d5ae2cd9-55ac-4769-8ba1-f68f70dc599e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;multi command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7fe95c6b-a3fd-4452-8e38-16c8c93b0d48&quot;,&quot;parentUUID&quot;:&quot;d5ae2cd9-55ac-4769-8ba1-f68f70dc599e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not allow nested MULTI invocations&quot;,&quot;fullTitle&quot;:&quot;multi command test should not allow nested MULTI invocations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;multi&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;multi&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR MULTI calls can not be nested&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;faca5ad0-5c56-4572-a92b-5be88548ea75&quot;,&quot;parentUUID&quot;:&quot;d5ae2cd9-55ac-4769-8ba1-f68f70dc599e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respect the DISCARD command&quot;,&quot;fullTitle&quot;:&quot;multi command test should respect the DISCARD command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;discard&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4b572105-e0a9-4fef-8019-7f5826df1a5a&quot;,&quot;parentUUID&quot;:&quot;d5ae2cd9-55ac-4769-8ba1-f68f70dc599e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not allow DISCARD without MULTI&quot;,&quot;fullTitle&quot;:&quot;multi command test should not allow DISCARD without MULTI&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;discard&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR DISCARD without MULTI&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f09c1114-1775-4fef-9b6f-543299ea2742&quot;,&quot;parentUUID&quot;:&quot;d5ae2cd9-55ac-4769-8ba1-f68f70dc599e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should continue to validate commands after MULTI&quot;,&quot;fullTitle&quot;:&quot;multi command test should continue to validate commands after MULTI&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;multi&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;unknown&#x27;, &#x27;command&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR unknown command `unknown`, with args beginning with: `command`, &#x27;, `${response}`);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpush&#x27;, &#x27;test&#x27;, &#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;QUEUED&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7cb909ec-9812-4c54-b2db-4c4f8b23ce0e&quot;,&quot;parentUUID&quot;:&quot;d5ae2cd9-55ac-4769-8ba1-f68f70dc599e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should EXECABORT from a previous error&quot;,&quot;fullTitle&quot;:&quot;multi command test should EXECABORT from a previous error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;exec&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: EXECABORT Transaction discarded because of previous errors.&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;87811209-53e9-4bd4-80e9-f56c2590e291&quot;,&quot;parentUUID&quot;:&quot;d5ae2cd9-55ac-4769-8ba1-f68f70dc599e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should queue a set of commands when there is no intervening error&quot;,&quot;fullTitle&quot;:&quot;multi command test should queue a set of commands when there is no intervening error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;multi&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpush&#x27;, &#x27;test&#x27;, &#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;QUEUED&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exec&#x27;]);\n        chai_1.expect(response).to.eql([3]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;40184abe-aeb0-4dbf-b2e6-2c8b6de96bc1&quot;,&quot;parentUUID&quot;:&quot;d5ae2cd9-55ac-4769-8ba1-f68f70dc599e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reset transaction state after executing commands&quot;,&quot;fullTitle&quot;:&quot;multi command test should reset transaction state after executing commands&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;multi&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;discard&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f2a41da-bc32-44ca-8c46-ffae4b298dc8&quot;,&quot;parentUUID&quot;:&quot;d5ae2cd9-55ac-4769-8ba1-f68f70dc599e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the results of multiple commands in the order provided&quot;,&quot;fullTitle&quot;:&quot;multi command test should return the results of multiple commands in the order provided&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;multi&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;QUEUED&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;QUEUED&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;brpoplpush&#x27;, &#x27;test&#x27;, &#x27;dest&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;QUEUED&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exec&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;three&#x27;, &#x27;two&#x27;, &#x27;one&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;dest&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b367a3d-714d-4094-b2c6-d1fce9523134&quot;,&quot;parentUUID&quot;:&quot;d5ae2cd9-55ac-4769-8ba1-f68f70dc599e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should validate the behavior of brpoplpush&quot;,&quot;fullTitle&quot;:&quot;multi command test should validate the behavior of brpoplpush&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpush&#x27;, &#x27;test&#x27;, &#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;three&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;two&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;brpoplpush&#x27;, &#x27;test&#x27;, &#x27;dest&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;one&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa8251b2-e86c-43ea-ae11-4768d7d7068d&quot;,&quot;parentUUID&quot;:&quot;d5ae2cd9-55ac-4769-8ba1-f68f70dc599e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;faca5ad0-5c56-4572-a92b-5be88548ea75&quot;,&quot;4b572105-e0a9-4fef-8019-7f5826df1a5a&quot;,&quot;f09c1114-1775-4fef-9b6f-543299ea2742&quot;,&quot;7cb909ec-9812-4c54-b2db-4c4f8b23ce0e&quot;,&quot;87811209-53e9-4bd4-80e9-f56c2590e291&quot;,&quot;40184abe-aeb0-4dbf-b2e6-2c8b6de96bc1&quot;,&quot;6f2a41da-bc32-44ca-8c46-ffae4b298dc8&quot;,&quot;3b367a3d-714d-4094-b2c6-d1fce9523134&quot;,&quot;fa8251b2-e86c-43ea-ae11-4768d7d7068d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:55,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;07054741-268c-4009-9d30-2e8550d969bc&quot;,&quot;title&quot;:&quot;script-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/script-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/script-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;script-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:26,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;flush&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4da2301b-f1e2-42a3-b25e-cfb0a242adde&quot;,&quot;parentUUID&quot;:&quot;07054741-268c-4009-9d30-2e8550d969bc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;script-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c76a8599-b228-4e6d-8fb8-ef79e2465d49&quot;,&quot;parentUUID&quot;:&quot;07054741-268c-4009-9d30-2e8550d969bc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;script-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c6b0eaa2-7124-41b0-aefc-aade91fd3116&quot;,&quot;parentUUID&quot;:&quot;07054741-268c-4009-9d30-2e8550d969bc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;script-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;efbc6d71-e3de-438c-a693-f20e8a3edb25&quot;,&quot;parentUUID&quot;:&quot;07054741-268c-4009-9d30-2e8550d969bc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should calcuclate the correct sha1 of a script and store the script&quot;,&quot;fullTitle&quot;:&quot;script-command test should calcuclate the correct sha1 of a script and store the script&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:40,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;exists&#x27;, sha1]);\n        chai_1.expect(response).to.eql([0]);\n        // validate failure on unparseable script\n        response = yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;load&#x27;, code]);\n        chai_1.expect(response).to.match(/ReplyError: ERR .*/);\n        // validate success on parseable script\n        response = yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;load&#x27;, `${code}}`]);\n        chai_1.expect(response).to.equal(sha1);\n        // validate a script is persisted\n        response = yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;exists&#x27;, sha1]);\n        chai_1.expect(response).to.eql([1]);\n        // validate response to unknown sub command\n        response = yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;test&#x27;, sha1]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR Unknown subcommand or wrong number of arguments for \\&#x27;test\\&#x27;. Try SCRIPT HELP.&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ac2830ea-f8b2-4d94-940a-15a8e3c1dd56&quot;,&quot;parentUUID&quot;:&quot;07054741-268c-4009-9d30-2e8550d969bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should evaluate a loaded lua script using evalsha&quot;,&quot;fullTitle&quot;:&quot;script-command test should evaluate a loaded lua script using evalsha&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // Validate that NOSCRIPT is triggered\n        response = yield common_test_1.sendCommand(client, [&#x27;evalsha&#x27;, `${sha1}xx`, &#x27;2&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;first&#x27;, &#x27;second&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: NOSCRIPT No matching script. Please use EVAL.&#x27;);\n        // Validate that param 1 cannot be negative\n        response = yield common_test_1.sendCommand(client, [&#x27;evalsha&#x27;, sha1, &#x27;-2&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;first&#x27;, &#x27;second&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR Number of keys can\\&#x27;t be negative&#x27;);\n        // Validate that param 1 cannot be text\n        response = yield common_test_1.sendCommand(client, [&#x27;evalsha&#x27;, sha1, &#x27;two&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;first&#x27;, &#x27;second&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5dcbbcae-22fa-4e59-869d-068b20c24f56&quot;,&quot;parentUUID&quot;:&quot;07054741-268c-4009-9d30-2e8550d969bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should execute a simple script&quot;,&quot;fullTitle&quot;:&quot;script-command test should execute a simple script&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // Validate that a simple script can be processed\n        response = yield common_test_1.sendCommand(client, [&#x27;EVAL&#x27;, &#x27;local val=\&quot;Hello Compose\&quot; return val&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;Hello Compose&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;26794552-ac5b-423c-a66a-6482081b3a52&quot;,&quot;parentUUID&quot;:&quot;07054741-268c-4009-9d30-2e8550d969bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create and process the ARGV table&quot;,&quot;fullTitle&quot;:&quot;script-command test should create and process the ARGV table&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;eval&#x27;, &#x27;return ARGV[2]&#x27;, &#x27;2&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;first&#x27;, &#x27;second&#x27;]);\n        chai_1.expect(response).to.eql(&#x27;second&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f95691f0-91d1-4e2c-a85e-f4c3d682eb17&quot;,&quot;parentUUID&quot;:&quot;07054741-268c-4009-9d30-2e8550d969bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create and process the KEYS table&quot;,&quot;fullTitle&quot;:&quot;script-command test should create and process the KEYS table&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;eval&#x27;, &#x27;return KEYS[1]&#x27;, &#x27;2&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;first&#x27;, &#x27;second&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;key1&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5ef1ec05-3182-4a0d-9ff4-bbefced16204&quot;,&quot;parentUUID&quot;:&quot;07054741-268c-4009-9d30-2e8550d969bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a NUMBER when required&quot;,&quot;fullTitle&quot;:&quot;script-command test should return a NUMBER when required&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;eval&#x27;, &#x27;return 123&#x27;, &#x27;2&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;first&#x27;, &#x27;second&#x27;]);\n        chai_1.expect(response).to.equal(123);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f0891deb-cbff-4f70-b7f8-cc2ac6e7506c&quot;,&quot;parentUUID&quot;:&quot;07054741-268c-4009-9d30-2e8550d969bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return NIL when there is no return value&quot;,&quot;fullTitle&quot;:&quot;script-command test should return NIL when there is no return value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;eval&#x27;, &#x27;print \&quot;Hello World\&quot;&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bcb47f34-a0bd-47e5-9f02-0ff80570c04f&quot;,&quot;parentUUID&quot;:&quot;07054741-268c-4009-9d30-2e8550d969bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a TABLE when required&quot;,&quot;fullTitle&quot;:&quot;script-command test should return a TABLE when required&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [`eval`, `return ARGV`, &#x27;2&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;first&#x27;, &#x27;second&#x27;, &#x27;third&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;first&#x27;, &#x27;second&#x27;, &#x27;third&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9cdd9d17-d7b3-4eab-890c-20e46965a058&quot;,&quot;parentUUID&quot;:&quot;07054741-268c-4009-9d30-2e8550d969bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return items in order&quot;,&quot;fullTitle&quot;:&quot;script-command test should return items in order&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;eval&#x27;, &#x27;return {true, \&quot;test\&quot;, false, 10, 10.2}&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.eql([1, &#x27;test&#x27;, null, 10, 10]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ddb7596d-3dc7-4f68-ac58-71a11706b102&quot;,&quot;parentUUID&quot;:&quot;07054741-268c-4009-9d30-2e8550d969bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return integer and nil for true and false, respectively&quot;,&quot;fullTitle&quot;:&quot;script-command test should return integer and nil for true and false, respectively&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;eval&#x27;, &#x27;return { true, false, false}&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.eql([1, null, null]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ef6098db-be53-4312-aaf7-dd575886b3a2&quot;,&quot;parentUUID&quot;:&quot;07054741-268c-4009-9d30-2e8550d969bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ac2830ea-f8b2-4d94-940a-15a8e3c1dd56&quot;,&quot;5dcbbcae-22fa-4e59-869d-068b20c24f56&quot;,&quot;26794552-ac5b-423c-a66a-6482081b3a52&quot;,&quot;f95691f0-91d1-4e2c-a85e-f4c3d682eb17&quot;,&quot;5ef1ec05-3182-4a0d-9ff4-bbefced16204&quot;,&quot;f0891deb-cbff-4f70-b7f8-cc2ac6e7506c&quot;,&quot;bcb47f34-a0bd-47e5-9f02-0ff80570c04f&quot;,&quot;9cdd9d17-d7b3-4eab-890c-20e46965a058&quot;,&quot;ddb7596d-3dc7-4f68-ac58-71a11706b102&quot;,&quot;ef6098db-be53-4312-aaf7-dd575886b3a2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:151,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;efb83186-119e-41d5-a127-dc7b59f480de&quot;,&quot;title&quot;:&quot;resp-server test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/server/resp-server.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/server/resp-server.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;resp-server test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ca2d499-88d8-4ed3-ad9b-a9679d5e9023&quot;,&quot;parentUUID&quot;:&quot;efb83186-119e-41d5-a127-dc7b59f480de&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;resp-server test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;18ffd382-580d-48dc-8b65-16fc23def305&quot;,&quot;parentUUID&quot;:&quot;efb83186-119e-41d5-a127-dc7b59f480de&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;d7f62dc6-98ef-4d88-8bca-524ddb9e1e77&quot;,&quot;title&quot;:&quot;server start and stop tests&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/server/resp-server.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/server/resp-server.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should instantiate&quot;,&quot;fullTitle&quot;:&quot;resp-server test server start and stop tests should instantiate&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            respServer = new resp_server_1.RespServer();\n            chai_1.expect(respServer.constructor.name).to.equal(&#x27;RespServer&#x27;);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5b6128f0-cebe-44d4-b855-35c53027ec1c&quot;,&quot;parentUUID&quot;:&quot;d7f62dc6-98ef-4d88-8bca-524ddb9e1e77&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should emit \&quot;ready\&quot; on startup&quot;,&quot;fullTitle&quot;:&quot;resp-server test server start and stop tests should emit \&quot;ready\&quot; on startup&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;afbd9dfd-09c0-4cbb-b46e-ea5f04dfbcd1&quot;,&quot;parentUUID&quot;:&quot;d7f62dc6-98ef-4d88-8bca-524ddb9e1e77&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should emit \&quot;closed\&quot; on shutdown&quot;,&quot;fullTitle&quot;:&quot;resp-server test server start and stop tests should emit \&quot;closed\&quot; on shutdown&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer.on(&#x27;closed&#x27;, () =&gt; {\n    done();\n});\nrespServer.stop();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ac18c28c-c7f2-4a08-a82f-134f6da0d66c&quot;,&quot;parentUUID&quot;:&quot;d7f62dc6-98ef-4d88-8bca-524ddb9e1e77&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should accept connections on default ${env.REDIS_HOST}:${env.REDIS_PORT}&quot;,&quot;fullTitle&quot;:&quot;resp-server test server start and stop tests should accept connections on default ${env.REDIS_HOST}:${env.REDIS_PORT}&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    const client = new net.Socket();\n    client.on(&#x27;ready&#x27;, (data) =&gt; {\n        respServer.on(&#x27;closed&#x27;, () =&gt; {\n            done();\n        });\n        respServer.stop();\n    });\n    client.on(&#x27;connect&#x27;, (data) =&gt; {\n    });\n    client.on(&#x27;error&#x27;, (err) =&gt; {\n        assert_1.fail(`Unexpected error during connection`, err.stack);\n    });\n    client.connect(Number(process.env.REDIS_PORT || 6379), process.env.REDIS_HOST || &#x27;localhost&#x27;, () =&gt; {\n    });\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f2f3abb-f4fd-48f4-b1e6-594f65461712&quot;,&quot;parentUUID&quot;:&quot;d7f62dc6-98ef-4d88-8bca-524ddb9e1e77&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5b6128f0-cebe-44d4-b855-35c53027ec1c&quot;,&quot;afbd9dfd-09c0-4cbb-b46e-ea5f04dfbcd1&quot;,&quot;ac18c28c-c7f2-4a08-a82f-134f6da0d66c&quot;,&quot;6f2f3abb-f4fd-48f4-b1e6-594f65461712&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;01b81858-97d0-48cb-8b9f-70be0c267294&quot;,&quot;title&quot;:&quot;other server tests&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/server/resp-server.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/server/resp-server.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    client = new net.Socket();\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;04a35044-c35a-40bb-81a1-1a7641c39d57&quot;,&quot;parentUUID&quot;:&quot;01b81858-97d0-48cb-8b9f-70be0c267294&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            yield respServer.stop();\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6d4c0791-cadd-4efe-8037-7e8972c1da69&quot;,&quot;parentUUID&quot;:&quot;01b81858-97d0-48cb-8b9f-70be0c267294&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should respond properly to the \&quot;ping\&quot; command&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should respond properly to the \&quot;ping\&quot; command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;ping&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;PONG&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ac225309-febf-4cc4-8e79-1a7e783e5d9b&quot;,&quot;parentUUID&quot;:&quot;01b81858-97d0-48cb-8b9f-70be0c267294&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond properly to the \&quot;echo\&quot; command&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should respond properly to the \&quot;echo\&quot; command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;echo&#x27;, &#x27;test&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;test&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3f1ea440-40ea-4d07-bef1-56597b7b8e79&quot;,&quot;parentUUID&quot;:&quot;01b81858-97d0-48cb-8b9f-70be0c267294&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with \&quot;ERR\&quot; when echo command has no parameters&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should respond with \&quot;ERR\&quot; when echo command has no parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            // Note that &#x27;ReplyError:&#x27; is supplied by the redis parser, NOT by the code under test\n            const response = yield common_test_1.sendCommand(client, [&#x27;echo&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;echo\\&#x27; command&#x27;);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a3b88ece-f716-4609-839d-9620586e7c47&quot;,&quot;parentUUID&quot;:&quot;01b81858-97d0-48cb-8b9f-70be0c267294&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with \&quot;ERR\&quot; when echo command has two or more parameters&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should respond with \&quot;ERR\&quot; when echo command has two or more parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;echo&#x27;, &#x27;one&#x27;, &#x27;two&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;echo\\&#x27; command&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f9fe65d6-7a5c-4378-9697-56e85cd2ee5f&quot;,&quot;parentUUID&quot;:&quot;01b81858-97d0-48cb-8b9f-70be0c267294&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond to the \&quot;time\&quot; command with an array of two strings&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should respond to the \&quot;time\&quot; command with an array of two strings&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Note: we use hrtime which should already do what we need so we don&#x27;t validate\ncommon_test_1.sendCommand(client, [&#x27;time&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.be.an(&#x27;array&#x27;);\n    chai_1.expect(response.length).to.equal(2);\n    chai_1.expect(parseInt(response[0], 10)).to.be.greaterThan(0);\n    chai_1.expect(parseInt(response[1], 10)).to.be.greaterThan(0);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3634412d-dd7c-45c9-9c29-e13051a1308f&quot;,&quot;parentUUID&quot;:&quot;01b81858-97d0-48cb-8b9f-70be0c267294&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with nulCommand when the command is not known&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should respond with nulCommand when the command is not known&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;felix&#x27;, &#x27;the&#x27;, &#x27;cat&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.match(/^ReplyError: ERR unknown command.*/);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;953a5938-821d-4c6b-b3af-6a4d5f0f1a90&quot;,&quot;parentUUID&quot;:&quot;01b81858-97d0-48cb-8b9f-70be0c267294&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should implement the info command&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should implement the info command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            const response = yield common_test_1.sendCommand(client, [&#x27;info&#x27;]);\n            chai_1.expect(response).to.match(/^# server\\r\\nredis_version:.*/im);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b27257e7-94a3-459c-b10b-de0e2ce7119b&quot;,&quot;parentUUID&quot;:&quot;01b81858-97d0-48cb-8b9f-70be0c267294&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should implement the SET command&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should implement the SET command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;SET&#x27;, &#x27;this&#x27;, &#x27;that&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n    common_test_1.sendCommand(client, [&#x27;GET&#x27;, &#x27;this&#x27;])\n        .then((getresponse) =&gt; {\n        chai_1.expect(getresponse).to.equal(&#x27;that&#x27;);\n        done();\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b7ef3d6a-e87f-4d75-8280-cab30d230228&quot;,&quot;parentUUID&quot;:&quot;01b81858-97d0-48cb-8b9f-70be0c267294&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return nil string when GET is invoked with unknown parameters&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should return nil string when GET is invoked with unknown parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;GET&#x27;, &#x27; &#x27;])\n    .then((getresponse) =&gt; {\n    chai_1.expect(getresponse).to.equal(null);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;72c9ca53-d0a2-4389-8481-e9047607c157&quot;,&quot;parentUUID&quot;:&quot;01b81858-97d0-48cb-8b9f-70be0c267294&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should implement the info command with a known parameter&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should implement the info command with a known parameter&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;info&#x27;, &#x27;memory&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.match(/^# memory.*/mi);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f7e8845-46c7-4b22-b334-55ac33c9e471&quot;,&quot;parentUUID&quot;:&quot;01b81858-97d0-48cb-8b9f-70be0c267294&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not respond when info is called with an unknown paramter&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should not respond when info is called with an unknown paramter&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            const response = yield common_test_1.sendCommand(client, [&#x27;info&#x27;, &#x27;juicy&#x27;]);\n            // Don&#x27;t know how to send an empty - non-null string response yet\n            chai_1.expect(String(response).trim()).to.equal(&#x27;&#x27;);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;009c4cac-2bb1-41e1-9ee7-a4c07c6a4729&quot;,&quot;parentUUID&quot;:&quot;01b81858-97d0-48cb-8b9f-70be0c267294&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report the number of keys in the current database&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should report the number of keys in the current database&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            const response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n            chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n            chai_1.expect(response).to.be.greaterThan(0);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1a75ae2f-cad7-42cf-a8ee-f7431e86d23f&quot;,&quot;parentUUID&quot;:&quot;01b81858-97d0-48cb-8b9f-70be0c267294&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support the \&quot;select\&quot; command&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should support the \&quot;select\&quot; command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            let response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;12&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n            chai_1.expect(response).to.equal(0);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;71d4e896-1a29-4cb4-b6fd-6622accb8b44&quot;,&quot;parentUUID&quot;:&quot;01b81858-97d0-48cb-8b9f-70be0c267294&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not allow us to select an invalid database&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should not allow us to select an invalid database&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            let response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;one&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;ReplyError: ERR invalid DB index&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;-12&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;ReplyError: ERR DB index is out of range&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;22&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;ReplyError: ERR DB index is out of range&#x27;);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;39b9493c-c936-4712-a46b-52262270c37e&quot;,&quot;parentUUID&quot;:&quot;01b81858-97d0-48cb-8b9f-70be0c267294&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond properly to the \&quot;quit\&quot; command&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should respond properly to the \&quot;quit\&quot; command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Note however that the server does not disconnect us.  That is the client&#x27;s job\ncommon_test_1.sendCommand(client, [&#x27;quit&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5780e937-e891-4733-930e-872e2efd27c6&quot;,&quot;parentUUID&quot;:&quot;01b81858-97d0-48cb-8b9f-70be0c267294&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ac225309-febf-4cc4-8e79-1a7e783e5d9b&quot;,&quot;3f1ea440-40ea-4d07-bef1-56597b7b8e79&quot;,&quot;a3b88ece-f716-4609-839d-9620586e7c47&quot;,&quot;f9fe65d6-7a5c-4378-9697-56e85cd2ee5f&quot;,&quot;3634412d-dd7c-45c9-9c29-e13051a1308f&quot;,&quot;953a5938-821d-4c6b-b3af-6a4d5f0f1a90&quot;,&quot;b27257e7-94a3-459c-b10b-de0e2ce7119b&quot;,&quot;b7ef3d6a-e87f-4d75-8280-cab30d230228&quot;,&quot;72c9ca53-d0a2-4389-8481-e9047607c157&quot;,&quot;2f7e8845-46c7-4b22-b334-55ac33c9e471&quot;,&quot;009c4cac-2bb1-41e1-9ee7-a4c07c6a4729&quot;,&quot;1a75ae2f-cad7-42cf-a8ee-f7431e86d23f&quot;,&quot;71d4e896-1a29-4cb4-b6fd-6622accb8b44&quot;,&quot;39b9493c-c936-4712-a46b-52262270c37e&quot;,&quot;5780e937-e891-4733-930e-872e2efd27c6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:34,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;96665790-825b-4a5c-b356-f1e0b227b1e8&quot;,&quot;title&quot;:&quot;sdiff-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/set/sdiff-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/set/sdiff-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sdiff-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:29,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d4768b74-fa02-49a0-aadf-84d3f9312ecb&quot;,&quot;parentUUID&quot;:&quot;96665790-825b-4a5c-b356-f1e0b227b1e8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sdiff-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a7349b0-1b65-439a-871c-6ef227e5402e&quot;,&quot;parentUUID&quot;:&quot;96665790-825b-4a5c-b356-f1e0b227b1e8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sdiff-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a1577f9f-10b8-46bf-80ac-b3d820d6334b&quot;,&quot;parentUUID&quot;:&quot;96665790-825b-4a5c-b356-f1e0b227b1e8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sdiff-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f36196bf-abc4-428c-a921-c222560eef39&quot;,&quot;parentUUID&quot;:&quot;96665790-825b-4a5c-b356-f1e0b227b1e8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return EMPTY ARRAY when the source set does not exist&quot;,&quot;fullTitle&quot;:&quot;sdiff-command test should return EMPTY ARRAY when the source set does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sdiff&#x27;, &#x27;ary&#x27;]);\n        chai_1.expect(response).to.eql([]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;30ca2717-4c1a-40ee-a7dc-d5eeb327304a&quot;,&quot;parentUUID&quot;:&quot;96665790-825b-4a5c-b356-f1e0b227b1e8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return all members of source set when the destination set does not exist&quot;,&quot;fullTitle&quot;:&quot;sdiff-command test should return all members of source set when the destination set does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key1&#x27;, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;sdiff&#x27;, &#x27;key1&#x27;, &#x27;empty&#x27;]);\n        // REDIS does not guarantee order of the set\n        chai_1.expect(response.sort()).to.eql([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c085068c-ee09-45f1-b02c-0f4862a4e6bd&quot;,&quot;parentUUID&quot;:&quot;96665790-825b-4a5c-b356-f1e0b227b1e8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a proper DIFF of one or more sets&quot;,&quot;fullTitle&quot;:&quot;sdiff-command test should return a proper DIFF of one or more sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key2&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key3&#x27;, &#x27;a&#x27;, &#x27;c&#x27;, &#x27;e&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;sdiff&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;b&#x27;, &#x27;d&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8a2e5f8e-e228-4ff1-9ac5-8de3c7ea34fb&quot;,&quot;parentUUID&quot;:&quot;96665790-825b-4a5c-b356-f1e0b227b1e8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should ignore non-list keys&quot;,&quot;fullTitle&quot;:&quot;sdiff-command test should ignore non-list keys&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;list&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;2&#x27;, &#x27;three&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;sdiff&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;b&#x27;, &#x27;d&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;93afa69b-c31b-43d2-ac7c-e42eb9e38522&quot;,&quot;parentUUID&quot;:&quot;96665790-825b-4a5c-b356-f1e0b227b1e8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;30ca2717-4c1a-40ee-a7dc-d5eeb327304a&quot;,&quot;c085068c-ee09-45f1-b02c-0f4862a4e6bd&quot;,&quot;8a2e5f8e-e228-4ff1-9ac5-8de3c7ea34fb&quot;,&quot;93afa69b-c31b-43d2-ac7c-e42eb9e38522&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:19,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;1fb28549-95e2-4083-b0bd-97cb26f3f1d0&quot;,&quot;title&quot;:&quot;set commands test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/set/set-commands.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/set/set-commands.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set commands test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;flush&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4c973c8-eefc-44fd-bde2-50b1e4ea09e5&quot;,&quot;parentUUID&quot;:&quot;1fb28549-95e2-4083-b0bd-97cb26f3f1d0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set commands test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f3fc6cd9-40d8-4e13-aa85-c1bc6add9094&quot;,&quot;parentUUID&quot;:&quot;1fb28549-95e2-4083-b0bd-97cb26f3f1d0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set commands test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;512050c9-8989-45dc-9bf7-882d46ffea53&quot;,&quot;parentUUID&quot;:&quot;1fb28549-95e2-4083-b0bd-97cb26f3f1d0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set commands test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d4edc237-4c8d-49a0-9509-4b7be4e5944e&quot;,&quot;parentUUID&quot;:&quot;1fb28549-95e2-4083-b0bd-97cb26f3f1d0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return ZERO when certain commands are applied against key that doesn&#x27;t exist&quot;,&quot;fullTitle&quot;:&quot;set commands test should return ZERO when certain commands are applied against key that doesn&#x27;t exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;scard&#x27;, &#x27;doesnotexist&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, &#x27;doesnotexist&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a9b04c42-51c6-4c01-9b0e-5728656ddbfa&quot;,&quot;parentUUID&quot;:&quot;1fb28549-95e2-4083-b0bd-97cb26f3f1d0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw an appropriate error when a \&quot;set\&quot; command is applied to a non-set key&quot;,&quot;fullTitle&quot;:&quot;set commands test should throw an appropriate error when a \&quot;set\&quot; command is applied to a non-set key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;wrongtype&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, &#x27;wrongtype&#x27;, &#x27;set&#x27;]);\n        chai_1.expect(response).to.equal(WRONG_TYPE);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3462ae13-9275-48e5-aec2-04c52aa076a0&quot;,&quot;parentUUID&quot;:&quot;1fb28549-95e2-4083-b0bd-97cb26f3f1d0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create a new key when sadd is called correctly&quot;,&quot;fullTitle&quot;:&quot;set commands test should create a new key when sadd is called correctly&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;skey&#x27;, &#x27;untest&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;skey&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7a7b5a97-36da-4b61-894c-c5db16110415&quot;,&quot;parentUUID&quot;:&quot;1fb28549-95e2-4083-b0bd-97cb26f3f1d0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should only report the number of added keys&quot;,&quot;fullTitle&quot;:&quot;set commands test should only report the number of added keys&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;skey&#x27;, &#x27;untest&#x27;, &#x27;test2&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;smembers&#x27;, &#x27;skey&#x27;]);\n        chai_1.expect(response).to.be.an(&#x27;array&#x27;);\n        // Keys are returned in reverse order? - No.\n        // smembers can return a list in any order\n        chai_1.expect(response.length).to.equal(2);\n        chai_1.expect(response.indexOf(&#x27;test2&#x27;)).to.be.greaterThan(-1);\n        chai_1.expect(response.indexOf(&#x27;untest&#x27;)).to.be.greaterThan(-1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;570bcd1c-56af-4b51-8b30-ac560bc03530&quot;,&quot;parentUUID&quot;:&quot;1fb28549-95e2-4083-b0bd-97cb26f3f1d0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;deeaa51a-49b6-4dd8-987a-8994982a3e23&quot;,&quot;title&quot;:&quot;smove, sismember, and scard tests&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/set/set-commands.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/set/set-commands.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should do nothing when smove is called with a source key that does not exist&quot;,&quot;fullTitle&quot;:&quot;set commands test smove, sismember, and scard tests should do nothing when smove is called with a source key that does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            let response = yield common_test_1.sendCommand(client, [&#x27;smove&#x27;, &#x27;fromskey&#x27;, &#x27;toskey&#x27;, &#x27;nothing&#x27;]);\n            chai_1.expect(response).to.equal(0);\n            response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;fromskey&#x27;, &#x27;toskey&#x27;]);\n            chai_1.expect(response).to.equal(0);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;90d9b477-4846-4948-94d3-b251ef9fadb3&quot;,&quot;parentUUID&quot;:&quot;deeaa51a-49b6-4dd8-987a-8994982a3e23&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should move a key from one set to another (and create the target if necessary)&quot;,&quot;fullTitle&quot;:&quot;set commands test smove, sismember, and scard tests should move a key from one set to another (and create the target if necessary)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            let response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;tonewskey&#x27;]);\n            chai_1.expect(response).to.equal(0);\n            response = yield common_test_1.sendCommand(client, [&#x27;smembers&#x27;, &#x27;tonewskey&#x27;]);\n            chai_1.expect(response).to.eql([]);\n            response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, uniqueKey, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;]);\n            chai_1.expect(response).to.equal(3);\n            response = yield common_test_1.sendCommand(client, [&#x27;smembers&#x27;, uniqueKey]);\n            // key order is undefined in redis\n            chai_1.expect(response.length).to.equal(3);\n            chai_1.expect(response.indexOf(&#x27;key3&#x27;)).to.be.greaterThan(-1);\n            chai_1.expect(response.indexOf(&#x27;key2&#x27;)).to.be.greaterThan(-1);\n            chai_1.expect(response.indexOf(&#x27;key1&#x27;)).to.be.greaterThan(-1);\n            response = yield common_test_1.sendCommand(client, [&#x27;smove&#x27;, uniqueKey, &#x27;tonewskey&#x27;, &#x27;key2&#x27;]);\n            chai_1.expect(response).to.equal(1);\n            response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, &#x27;tonewskey&#x27;, &#x27;key2&#x27;]);\n            chai_1.expect(response).to.equal(1);\n            response = yield common_test_1.sendCommand(client, [&#x27;smembers&#x27;, uniqueKey]);\n            // key order, again\n            chai_1.expect(response.length).to.equal(2);\n            chai_1.expect(response.indexOf(&#x27;key3&#x27;)).to.be.greaterThan(-1);\n            chai_1.expect(response.indexOf(&#x27;key1&#x27;)).to.be.greaterThan(-1);\n            response = yield common_test_1.sendCommand(client, [&#x27;smembers&#x27;, &#x27;tonewskey&#x27;]);\n            chai_1.expect(response).to.eql([&#x27;key2&#x27;]);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a2f93c42-6d65-48de-8290-19ac208926d2&quot;,&quot;parentUUID&quot;:&quot;deeaa51a-49b6-4dd8-987a-8994982a3e23&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report cardinality of a set&quot;,&quot;fullTitle&quot;:&quot;set commands test smove, sismember, and scard tests should report cardinality of a set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            let response = yield common_test_1.sendCommand(client, [&#x27;scard&#x27;, uniqueKey]);\n            chai_1.expect(response).to.equal(2);\n            response = yield common_test_1.sendCommand(client, [&#x27;scard&#x27;, &#x27;tonewskey&#x27;]);\n            chai_1.expect(response).to.equal(1);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;54213f6c-7d48-4b6c-ace2-3af9af750a9f&quot;,&quot;parentUUID&quot;:&quot;deeaa51a-49b6-4dd8-987a-8994982a3e23&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report ismember true/false&quot;,&quot;fullTitle&quot;:&quot;set commands test smove, sismember, and scard tests should report ismember true/false&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            let response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, &#x27;tonewskey&#x27;, &#x27;key2&#x27;]);\n            chai_1.expect(response).to.equal(1);\n            response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, &#x27;tonewskey&#x27;, &#x27;key1&#x27;]);\n            chai_1.expect(response).to.equal(0);\n            response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, uniqueKey, &#x27;key1&#x27;]);\n            chai_1.expect(response).to.equal(1);\n            response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, uniqueKey, &#x27;key3&#x27;]);\n            chai_1.expect(response).to.equal(1);\n            response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, uniqueKey, &#x27;key2&#x27;]);\n            chai_1.expect(response).to.equal(0);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d0dbf348-9bd7-443b-a216-f8076c1d5eb0&quot;,&quot;parentUUID&quot;:&quot;deeaa51a-49b6-4dd8-987a-8994982a3e23&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should only remove the source element if the destination element already exists&quot;,&quot;fullTitle&quot;:&quot;set commands test smove, sismember, and scard tests should only remove the source element if the destination element already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            const newkey = `move-unique-${new Date().getTime()}`;\n            const newToKey = `move-new-to-key`;\n            let response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, newkey, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;]);\n            chai_1.expect(response).to.equal(3);\n            response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, newToKey, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;]);\n            chai_1.expect(response).to.equal(3);\n            response = yield common_test_1.sendCommand(client, [&#x27;smove&#x27;, newkey, newToKey, &#x27;key2&#x27;]);\n            // Inconsistent with redis documentation?\n            chai_1.expect(response).to.equal(1);\n            response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, newkey, &#x27;key2&#x27;]);\n            chai_1.expect(response).to.equal(0);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3954a612-3d7b-44c4-8fdd-819e33442b91&quot;,&quot;parentUUID&quot;:&quot;deeaa51a-49b6-4dd8-987a-8994982a3e23&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;90d9b477-4846-4948-94d3-b251ef9fadb3&quot;,&quot;a2f93c42-6d65-48de-8290-19ac208926d2&quot;,&quot;54213f6c-7d48-4b6c-ace2-3af9af750a9f&quot;,&quot;d0dbf348-9bd7-443b-a216-f8076c1d5eb0&quot;,&quot;3954a612-3d7b-44c4-8fdd-819e33442b91&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:35,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[&quot;a9b04c42-51c6-4c01-9b0e-5728656ddbfa&quot;,&quot;3462ae13-9275-48e5-aec2-04c52aa076a0&quot;,&quot;7a7b5a97-36da-4b61-894c-c5db16110415&quot;,&quot;570bcd1c-56af-4b51-8b30-ac560bc03530&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:25,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;642b9684-4b83-443b-aaa6-f6bcc980effc&quot;,&quot;title&quot;:&quot;sinter-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/set/sinter-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/set/sinter-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sinter-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d33747db-cce3-403d-a680-918cd5c9368e&quot;,&quot;parentUUID&quot;:&quot;642b9684-4b83-443b-aaa6-f6bcc980effc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sinter-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;34df265d-04fb-429e-b073-b7d5916bc9e6&quot;,&quot;parentUUID&quot;:&quot;642b9684-4b83-443b-aaa6-f6bcc980effc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sinter-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1dc6053-df4b-4911-a45e-991c68ee6bc2&quot;,&quot;parentUUID&quot;:&quot;642b9684-4b83-443b-aaa6-f6bcc980effc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sinter-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b375e245-db1c-43c7-b44c-471bb6c7d37a&quot;,&quot;parentUUID&quot;:&quot;642b9684-4b83-443b-aaa6-f6bcc980effc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return EMPTY SET when the source set does not exist&quot;,&quot;fullTitle&quot;:&quot;sinter-command test should return EMPTY SET when the source set does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sinter&#x27;, &#x27;ary&#x27;]);\n        chai_1.expect(response).to.eql([]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a6ddc64-103f-4cd8-8160-824bb1e88610&quot;,&quot;parentUUID&quot;:&quot;642b9684-4b83-443b-aaa6-f6bcc980effc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return EMPTY SET when any other set does not exist&quot;,&quot;fullTitle&quot;:&quot;sinter-command test should return EMPTY SET when any other set does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key1&#x27;, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;sinter&#x27;, &#x27;key1&#x27;, &#x27;empty&#x27;]);\n        chai_1.expect(response).to.eql([]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9c87c715-775a-42a0-89ff-9ddef476d79d&quot;,&quot;parentUUID&quot;:&quot;642b9684-4b83-443b-aaa6-f6bcc980effc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail when one of the keys is not a set&quot;,&quot;fullTitle&quot;:&quot;sinter-command test should fail when one of the keys is not a set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;1&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;sinter&#x27;, &#x27;key1&#x27;, &#x27;zkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;skey1&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sinter&#x27;, &#x27;key1&#x27;, &#x27;skey1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d70cfdee-771c-43e3-9409-4dbc952f6192&quot;,&quot;parentUUID&quot;:&quot;642b9684-4b83-443b-aaa6-f6bcc980effc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the intersection of one or more sets&quot;,&quot;fullTitle&quot;:&quot;sinter-command test should return the intersection of one or more sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key1&#x27;, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key2&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key3&#x27;, &#x27;a&#x27;, &#x27;c&#x27;, &#x27;e&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;sinter&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;c&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key2&#x27;, &#x27;a&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;sinter&#x27;, &#x27;key2&#x27;, &#x27;key1&#x27;, &#x27;key3&#x27;]);\n        chai_1.expect(response.length).to.equal(2);\n        // Redis does not guarantee the order of a set\n        chai_1.expect(response.sort()).to.eql([&#x27;a&#x27;, &#x27;c&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7299de3f-58c3-4ba2-aca7-b1dea9bf51b7&quot;,&quot;parentUUID&quot;:&quot;642b9684-4b83-443b-aaa6-f6bcc980effc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5a6ddc64-103f-4cd8-8160-824bb1e88610&quot;,&quot;9c87c715-775a-42a0-89ff-9ddef476d79d&quot;,&quot;d70cfdee-771c-43e3-9409-4dbc952f6192&quot;,&quot;7299de3f-58c3-4ba2-aca7-b1dea9bf51b7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:35,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;2f3a2797-dcb9-4b81-9f99-b7aa194dca28&quot;,&quot;title&quot;:&quot;sinterstore-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/set/sinterstore-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/set/sinterstore-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sinterstore-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;46360235-b2d2-443a-8081-7c6845147828&quot;,&quot;parentUUID&quot;:&quot;2f3a2797-dcb9-4b81-9f99-b7aa194dca28&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sinterstore-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;794c7eec-296a-4c3a-912d-a95ab0128117&quot;,&quot;parentUUID&quot;:&quot;2f3a2797-dcb9-4b81-9f99-b7aa194dca28&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sinterstore-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3306274e-8912-434d-8ecb-010ac91becc3&quot;,&quot;parentUUID&quot;:&quot;2f3a2797-dcb9-4b81-9f99-b7aa194dca28&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sinterstore-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1a95ab32-c0e6-4e90-91ed-ff98b655b9ac&quot;,&quot;parentUUID&quot;:&quot;2f3a2797-dcb9-4b81-9f99-b7aa194dca28&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should require a minimum of two parameters&quot;,&quot;fullTitle&quot;:&quot;sinterstore-command test should require a minimum of two parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sinterstore&#x27;, &#x27;ary&#x27;]);\n        chai_1.expect(response).to.match(/ERR wrong number of arguments for \\&#x27;sinterstore\\&#x27; command/i);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c90898a2-aeb5-4176-bdd8-841b6f3fe06e&quot;,&quot;parentUUID&quot;:&quot;2f3a2797-dcb9-4b81-9f99-b7aa194dca28&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return ZERO when the source set does not exist&quot;,&quot;fullTitle&quot;:&quot;sinterstore-command test should return ZERO when the source set does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sinterstore&#x27;, &#x27;dest&#x27;, &#x27;src&#x27;]);\n        chai_1.expect(response).to.eql(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;154c548d-e056-4db9-87d3-c4a677d77dcb&quot;,&quot;parentUUID&quot;:&quot;2f3a2797-dcb9-4b81-9f99-b7aa194dca28&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should overwrite the destination and return the number of keys copied&quot;,&quot;fullTitle&quot;:&quot;sinterstore-command test should overwrite the destination and return the number of keys copied&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:28,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key1&#x27;, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key2&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;key3&#x27;, &#x27;some text value&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sinterstore&#x27;, &#x27;key3&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;smembers&#x27;, &#x27;key3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;c&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;de21695c-e4db-46ee-a881-ebdb76888b35&quot;,&quot;parentUUID&quot;:&quot;2f3a2797-dcb9-4b81-9f99-b7aa194dca28&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail when one of the keys is not a set&quot;,&quot;fullTitle&quot;:&quot;sinterstore-command test should fail when one of the keys is not a set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;1&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;sinterstore&#x27;, &#x27;key1&#x27;, &#x27;zkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;skey1&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sinterstore&#x27;, &#x27;key1&#x27;, &#x27;skey1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;85048d50-d48a-472c-8d22-a9296f14e3c7&quot;,&quot;parentUUID&quot;:&quot;2f3a2797-dcb9-4b81-9f99-b7aa194dca28&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c90898a2-aeb5-4176-bdd8-841b6f3fe06e&quot;,&quot;154c548d-e056-4db9-87d3-c4a677d77dcb&quot;,&quot;de21695c-e4db-46ee-a881-ebdb76888b35&quot;,&quot;85048d50-d48a-472c-8d22-a9296f14e3c7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:38,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;3086a8fd-8c64-4665-8050-73704df87095&quot;,&quot;title&quot;:&quot;srem-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/set/srem-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/set/srem-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;srem-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d4278ab8-17eb-4d5b-92da-7887dd4434f6&quot;,&quot;parentUUID&quot;:&quot;3086a8fd-8c64-4665-8050-73704df87095&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;srem-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c35eb939-f819-4359-8bc1-39cbeedb3f4a&quot;,&quot;parentUUID&quot;:&quot;3086a8fd-8c64-4665-8050-73704df87095&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;srem-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0cc833bf-5a24-4a7a-80b4-359fc0ff9b97&quot;,&quot;parentUUID&quot;:&quot;3086a8fd-8c64-4665-8050-73704df87095&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;srem-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d25567c3-17e5-400e-9417-2bc40d3b39ba&quot;,&quot;parentUUID&quot;:&quot;3086a8fd-8c64-4665-8050-73704df87095&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return 0 when the set does not exist&quot;,&quot;fullTitle&quot;:&quot;srem-command test should return 0 when the set does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;srem&#x27;, &#x27;set&#x27;, &#x27;member&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8327db62-ca76-4b59-9d1e-9d71f28ebf24&quot;,&quot;parentUUID&quot;:&quot;3086a8fd-8c64-4665-8050-73704df87095&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return only the number of existing keys that are removed&quot;,&quot;fullTitle&quot;:&quot;srem-command test should return only the number of existing keys that are removed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;set&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;, &#x27;key4&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;srem&#x27;, &#x27;set&#x27;, &#x27;key2&#x27;, &#x27;not&#x27;, &#x27;here&#x27;, &#x27;today&#x27;, &#x27;key4&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;smembers&#x27;, &#x27;set&#x27;]);\n        chai_1.expect(response.sort()).to.eql([&#x27;key1&#x27;, &#x27;key3&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e01c1c1e-05d0-4cc8-b603-ec70574e25b6&quot;,&quot;parentUUID&quot;:&quot;3086a8fd-8c64-4665-8050-73704df87095&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove an empty set when all members are removed&quot;,&quot;fullTitle&quot;:&quot;srem-command test should remove an empty set when all members are removed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;srem&#x27;, &#x27;set&#x27;, &#x27;key1&#x27;, &#x27;key3&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;set&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;26c29fba-e359-4eaf-a8bf-b9320e35a4db&quot;,&quot;parentUUID&quot;:&quot;3086a8fd-8c64-4665-8050-73704df87095&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8327db62-ca76-4b59-9d1e-9d71f28ebf24&quot;,&quot;e01c1c1e-05d0-4cc8-b603-ec70574e25b6&quot;,&quot;26c29fba-e359-4eaf-a8bf-b9320e35a4db&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:26,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;cf3a7e3c-b6ed-46d3-8053-0836a1773a4b&quot;,&quot;title&quot;:&quot;sunion-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/set/sunion-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/set/sunion-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sunion-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a0224723-44e4-4deb-84f5-cff9808525ad&quot;,&quot;parentUUID&quot;:&quot;cf3a7e3c-b6ed-46d3-8053-0836a1773a4b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sunion-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;61e4f450-8407-4bdf-85ac-0c20ffbfc359&quot;,&quot;parentUUID&quot;:&quot;cf3a7e3c-b6ed-46d3-8053-0836a1773a4b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sunion-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f2cbd3f3-354b-4cee-b8ba-d63c3f6aff60&quot;,&quot;parentUUID&quot;:&quot;cf3a7e3c-b6ed-46d3-8053-0836a1773a4b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sunion-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9b11c75-6748-4a04-8ef5-015840f1725b&quot;,&quot;parentUUID&quot;:&quot;cf3a7e3c-b6ed-46d3-8053-0836a1773a4b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return EMPTY SET when the source set does not exist&quot;,&quot;fullTitle&quot;:&quot;sunion-command test should return EMPTY SET when the source set does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sunion&#x27;, &#x27;ary&#x27;]);\n        chai_1.expect(response).to.eql([]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5bf65581-51a1-4a90-a18f-fdec90b6c2ed&quot;,&quot;parentUUID&quot;:&quot;cf3a7e3c-b6ed-46d3-8053-0836a1773a4b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the union of a single set&quot;,&quot;fullTitle&quot;:&quot;sunion-command test should return the union of a single set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key1&#x27;, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;sunion&#x27;, &#x27;key1&#x27;]);\n        chai_1.expect(response.sort()).to.eql([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;067781f1-4a7c-415d-8d94-0a2730f4636b&quot;,&quot;parentUUID&quot;:&quot;cf3a7e3c-b6ed-46d3-8053-0836a1773a4b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail when sunion requested againt non-set keys&quot;,&quot;fullTitle&quot;:&quot;sunion-command test should fail when sunion requested againt non-set keys&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;string-key&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sunion&#x27;, &#x27;key1&#x27;, &#x27;string-key&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2608f9b2-ca80-4567-bcf8-a9de1ac75eee&quot;,&quot;parentUUID&quot;:&quot;cf3a7e3c-b6ed-46d3-8053-0836a1773a4b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the union of multiple sets&quot;,&quot;fullTitle&quot;:&quot;sunion-command test should return the union of multiple sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key2&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key3&#x27;, &#x27;a&#x27;, &#x27;c&#x27;, &#x27;e&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;sunion&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;]);\n        chai_1.expect(response.sort()).to.eql([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eab2e108-e882-432b-8a12-df4ce6ee017c&quot;,&quot;parentUUID&quot;:&quot;cf3a7e3c-b6ed-46d3-8053-0836a1773a4b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5bf65581-51a1-4a90-a18f-fdec90b6c2ed&quot;,&quot;067781f1-4a7c-415d-8d94-0a2730f4636b&quot;,&quot;2608f9b2-ca80-4567-bcf8-a9de1ac75eee&quot;,&quot;eab2e108-e882-432b-8a12-df4ce6ee017c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:30,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;0954da4c-8789-481a-a855-ca711efa0061&quot;,&quot;title&quot;:&quot;sunionstore-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/set/sunionstore-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/set/sunionstore-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sunionstore-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3fcc91d5-359b-4726-a633-6eabf5c12676&quot;,&quot;parentUUID&quot;:&quot;0954da4c-8789-481a-a855-ca711efa0061&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sunionstore-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;35796e5a-53d5-43b0-8b07-6d590b3824c7&quot;,&quot;parentUUID&quot;:&quot;0954da4c-8789-481a-a855-ca711efa0061&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sunionstore-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b1afadaa-8e89-4e7f-b7d9-0e9f41e922db&quot;,&quot;parentUUID&quot;:&quot;0954da4c-8789-481a-a855-ca711efa0061&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sunionstore-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;44e1057d-e0d5-4736-aa79-ed22837202ef&quot;,&quot;parentUUID&quot;:&quot;0954da4c-8789-481a-a855-ca711efa0061&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should require a minimum of two parameters&quot;,&quot;fullTitle&quot;:&quot;sunionstore-command test should require a minimum of two parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sunionstore&#x27;, &#x27;ary&#x27;]);\n        chai_1.expect(response).to.match(/ERR wrong number of arguments for \\&#x27;sunionstore\\&#x27; command/i);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a3018717-367b-456e-b397-2e86a98ab0fb&quot;,&quot;parentUUID&quot;:&quot;0954da4c-8789-481a-a855-ca711efa0061&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return ZERO when the source set does not exist&quot;,&quot;fullTitle&quot;:&quot;sunionstore-command test should return ZERO when the source set does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;sunionstore&#x27;, &#x27;dest&#x27;, &#x27;src&#x27;]);\n        chai_1.expect(response).to.eql(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;98b45282-251a-470b-895c-49ce0699d545&quot;,&quot;parentUUID&quot;:&quot;0954da4c-8789-481a-a855-ca711efa0061&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should overwrite the destination and return the number of keys copied&quot;,&quot;fullTitle&quot;:&quot;sunionstore-command test should overwrite the destination and return the number of keys copied&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key1&#x27;, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;key2&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;key3&#x27;, &#x27;some text value&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sunionstore&#x27;, &#x27;key3&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;]);\n        chai_1.expect(response).to.equal(5);\n        response = yield common_test_1.sendCommand(client, [&#x27;smembers&#x27;, &#x27;key3&#x27;]);\n        chai_1.expect(response.sort()).to.eql([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6bd8f59d-9202-4aaf-9c1b-69c95806a449&quot;,&quot;parentUUID&quot;:&quot;0954da4c-8789-481a-a855-ca711efa0061&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a3018717-367b-456e-b397-2e86a98ab0fb&quot;,&quot;98b45282-251a-470b-895c-49ce0699d545&quot;,&quot;6bd8f59d-9202-4aaf-9c1b-69c95806a449&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;8d752691-bd1b-45ac-b93a-7aa21db81729&quot;,&quot;title&quot;:&quot;z-command tests&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/sset/z-commands.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/sset/z-commands.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;z-command tests \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bf08167a-b76b-4b77-8883-1f07570fa586&quot;,&quot;parentUUID&quot;:&quot;8d752691-bd1b-45ac-b93a-7aa21db81729&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;z-command tests \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7c43a522-f79d-4b75-8c7b-e3ee0d236f6d&quot;,&quot;parentUUID&quot;:&quot;8d752691-bd1b-45ac-b93a-7aa21db81729&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;z-command tests \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dac5918c-7042-47d4-9e74-4788d980c028&quot;,&quot;parentUUID&quot;:&quot;8d752691-bd1b-45ac-b93a-7aa21db81729&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;z-command tests \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f251b37e-7831-401c-ae99-88b9f75f6652&quot;,&quot;parentUUID&quot;:&quot;8d752691-bd1b-45ac-b93a-7aa21db81729&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support basic operations&quot;,&quot;fullTitle&quot;:&quot;z-command tests should support basic operations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:41,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueZkey = `key${new Date().getTime()}`;\n        let response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, &#x27;testkey&#x27;, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER)]);\n        chai_1.expect(response).to.eql([]);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;testkey&#x27;, &#x27;14&#x27;, &#x27;__proto__&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;8&#x27;, &#x27;5a600e16&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;9&#x27;, &#x27;5a600e17&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;10&#x27;, &#x27;5a600e18&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zcard&#x27;, uniqueZkey]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, uniqueZkey, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER), &#x27;withScores&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;5a600e16&#x27;, &#x27;8&#x27;,\n            &#x27;5a600e17&#x27;, &#x27;9&#x27;,\n            &#x27;5a600e18&#x27;, &#x27;10&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;12&#x27;, &#x27;5a600e17&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;zcount&#x27;, uniqueZkey, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER)]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, uniqueZkey, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER)]);\n        chai_1.expect(response.length).to.equal(3);\n        chai_1.expect(response).to.eql([&#x27;5a600e16&#x27;, &#x27;5a600e18&#x27;, &#x27;5a600e17&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, uniqueZkey, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER), &#x27;withScores&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;5a600e16&#x27;, &#x27;8&#x27;, &#x27;5a600e18&#x27;, &#x27;10&#x27;, &#x27;5a600e17&#x27;, &#x27;12&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;type&#x27;, uniqueZkey]);\n        chai_1.expect(response).to.equal(&#x27;zset&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zcount&#x27;, uniqueZkey, &#x27;-Infinity&#x27;, &#x27;10&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;zcount&#x27;, uniqueZkey, &#x27;Negative One&#x27;, &#x27;10&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR min or max is not a float&#x27;);\n        // report syntax error\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, uniqueZkey, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER), &#x27;with Scores&#x27;]);\n        chai_1.expect(response).to.eql(&#x27;ReplyError: ERR syntax error&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, uniqueZkey, String(&#x27;Number.MIN_SAFE_INTEGER&#x27;), String(Number.MAX_SAFE_INTEGER), &#x27;withScores&#x27;]);\n        chai_1.expect(response).to.eql(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n        // Remove members without removing keys\n        response = yield common_test_1.sendCommand(client, [&#x27;zrem&#x27;, uniqueZkey, &#x27;does not exist&#x27;, &#x27;5a600e16&#x27;, &#x27;5a600e18&#x27;, &#x27;5a600e17&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        // Unexpectedly, redis removes the key when the last element is removed\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, uniqueZkey]);\n        console.log(`searched for ${uniqueZkey}`);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, uniqueZkey, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER), &#x27;withScores&#x27;]);\n        chai_1.expect(response).to.eql([]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f021e498-ec43-4ae4-b747-2be979d20c1c&quot;,&quot;parentUUID&quot;:&quot;8d752691-bd1b-45ac-b93a-7aa21db81729&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should increase rank&quot;,&quot;fullTitle&quot;:&quot;z-command tests should increase rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:30,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueZkey = `incrkey${new Date().getTime()}`;\n        let response;\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;1&#x27;, &#x27;first&#x27;]);\n        chai_1.expect(response).to.eql(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;2&#x27;, &#x27;second&#x27;]);\n        chai_1.expect(response).to.eql(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;3&#x27;, &#x27;third&#x27;]);\n        chai_1.expect(response).to.eql(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;4&#x27;, &#x27;fourth&#x27;]);\n        chai_1.expect(response).to.eql(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zincrby&#x27;, uniqueZkey, &#x27;2&#x27;, &#x27;first&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;3&#x27;);\n        // Validate zscore\n        // response = await sendCommand(client, [&#x27;zscore&#x27;, uniqueZkey, &#x27;first&#x27;]);\n        // expect(response).to.equal(&#x27;3&#x27;);\n        // response = await sendCommand(client, [&#x27;zscore&#x27;, uniqueZkey, &#x27;second&#x27;]);\n        // expect(response).to.equal(&#x27;2&#x27;);\n        // response = await sendCommand(client, [&#x27;zscore&#x27;, uniqueZkey, &#x27;third&#x27;]);\n        // expect(response).to.equal(&#x27;3&#x27;);\n        // response = await sendCommand(client, [&#x27;zscore&#x27;, uniqueZkey, &#x27;fourth&#x27;]);\n        // expect(response).to.equal(&#x27;4&#x27;);\n        //\n        response = yield common_test_1.sendCommand(client, [&#x27;zrank&#x27;, uniqueZkey, &#x27;first&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrank&#x27;, uniqueZkey, &#x27;second&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrank&#x27;, uniqueZkey, &#x27;third&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrank&#x27;, uniqueZkey, &#x27;fourth&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        // expect(response).to.match(/^ReplyError: ERR unknown command.*/);\n        response = yield common_test_1.sendCommand(client, [&#x27;zincrby&#x27;, uniqueZkey, &#x27;-20&#x27;, &#x27;fourth&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;-16&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zincrby&#x27;, uniqueZkey, `-${Number.MIN_SAFE_INTEGER + 1}.${Number.MAX_SAFE_INTEGER}`, &#x27;fourth&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not a valid float&#x27;);\n        // Should create a key if it doesn&#x27;t exist\n        response = yield common_test_1.sendCommand(client, [&#x27;zincrby&#x27;, uniqueZkey, &#x27;-20&#x27;, &#x27;fifth&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;-20&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, uniqueZkey, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER), &#x27;withScores&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;fifth&#x27;, &#x27;-20&#x27;, &#x27;fourth&#x27;, &#x27;-16&#x27;, &#x27;second&#x27;, &#x27;2&#x27;, &#x27;first&#x27;, &#x27;3&#x27;, &#x27;third&#x27;, &#x27;3&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;066cd9da-4a27-46ce-b342-923c2c702b52&quot;,&quot;parentUUID&quot;:&quot;8d752691-bd1b-45ac-b93a-7aa21db81729&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f021e498-ec43-4ae4-b747-2be979d20c1c&quot;,&quot;066cd9da-4a27-46ce-b342-923c2c702b52&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:71,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;35ab8edf-b6d8-4d91-a504-19901370d64b&quot;,&quot;title&quot;:&quot;zadd command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/sset/zadd-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/sset/zadd-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zadd command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e44ba2af-0865-4ae7-b731-599f0f4d65d9&quot;,&quot;parentUUID&quot;:&quot;35ab8edf-b6d8-4d91-a504-19901370d64b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zadd command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e21ec1a3-9fa1-4275-9bcf-7d4412228fc2&quot;,&quot;parentUUID&quot;:&quot;35ab8edf-b6d8-4d91-a504-19901370d64b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zadd command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ce663fe2-0170-4506-aec3-c8d293bdac74&quot;,&quot;parentUUID&quot;:&quot;35ab8edf-b6d8-4d91-a504-19901370d64b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zadd command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6a391dd6-a62e-4b85-86ae-6a250629906b&quot;,&quot;parentUUID&quot;:&quot;35ab8edf-b6d8-4d91-a504-19901370d64b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should require at least 3 parameters&quot;,&quot;fullTitle&quot;:&quot;zadd command test should require at least 3 parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;zadd\\&#x27; command&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;zadd\\&#x27; command&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;123&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;zadd\\&#x27; command&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;123&#x27;, &#x27;something&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f05b4eaa-8441-474e-b5b6-5e0a1cc0adc2&quot;,&quot;parentUUID&quot;:&quot;35ab8edf-b6d8-4d91-a504-19901370d64b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reject even parameter counts&quot;,&quot;fullTitle&quot;:&quot;zadd command test should reject even parameter counts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;123&#x27;, &#x27;something&#x27;, &#x27;456&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR syntax error&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;123&#x27;, &#x27;something&#x27;, &#x27;456&#x27;, &#x27;another&#x27;, &#x27;765&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR syntax error&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;123&#x27;, &#x27;something&#x27;, &#x27;456&#x27;, &#x27;another&#x27;, &#x27;765&#x27;, &#x27;test&#x27;]);\n        // The \&quot;something\&quot; key should already exist so we only count 2 new fields\n        chai_1.expect(response).to.equal(2);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb21c9f1-0bb9-4b7f-a2a7-5b4adc23b312&quot;,&quot;parentUUID&quot;:&quot;35ab8edf-b6d8-4d91-a504-19901370d64b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reject an attempt to store non-floatish rankings&quot;,&quot;fullTitle&quot;:&quot;zadd command test should reject an attempt to store non-floatish rankings&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;__data__&#x27;, &#x27;something&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not a valid float&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4c43b84b-3de3-4926-b17d-25e0e58c40ab&quot;,&quot;parentUUID&quot;:&quot;35ab8edf-b6d8-4d91-a504-19901370d64b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f05b4eaa-8441-474e-b5b6-5e0a1cc0adc2&quot;,&quot;cb21c9f1-0bb9-4b7f-a2a7-5b4adc23b312&quot;,&quot;4c43b84b-3de3-4926-b17d-25e0e58c40ab&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:15,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b3d04d70-7070-46a0-9ff9-d75cc2399d6c&quot;,&quot;title&quot;:&quot;zrange-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/sset/zrange-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/sset/zrange-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrange-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cc76b4fc-93d7-4320-972e-572eef6b9f5b&quot;,&quot;parentUUID&quot;:&quot;b3d04d70-7070-46a0-9ff9-d75cc2399d6c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrange-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1ccc8f2-f562-4e42-ba1b-8b43e7a26597&quot;,&quot;parentUUID&quot;:&quot;b3d04d70-7070-46a0-9ff9-d75cc2399d6c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrange-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ef56698b-c1d2-4d9b-960c-0520805aed13&quot;,&quot;parentUUID&quot;:&quot;b3d04d70-7070-46a0-9ff9-d75cc2399d6c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrange-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;320c03b0-70c9-4f4a-a603-61e018f2f78c&quot;,&quot;parentUUID&quot;:&quot;b3d04d70-7070-46a0-9ff9-d75cc2399d6c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should reproduce the redis documentation examples&quot;,&quot;fullTitle&quot;:&quot;zrange-command test should reproduce the redis documentation examples&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:26,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;1&#x27;, &#x27;one&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;2&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;3&#x27;, &#x27;three&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, &#x27;zset&#x27;, &#x27;0&#x27;, &#x27;-1&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, &#x27;zset&#x27;, &#x27;2&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;three&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, &#x27;zset&#x27;, &#x27;-2&#x27;, &#x27;-1&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;two&#x27;, &#x27;three&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a7df665d-0b6e-4625-a8be-90d0c3c2e557&quot;,&quot;parentUUID&quot;:&quot;b3d04d70-7070-46a0-9ff9-d75cc2399d6c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should also reproduce the second documented example&quot;,&quot;fullTitle&quot;:&quot;zrange-command test should also reproduce the second documented example&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, &#x27;zset&#x27;, &#x27;0&#x27;, &#x27;1&#x27;, &#x27;withscores&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;one&#x27;, &#x27;1&#x27;, &#x27;two&#x27;, &#x27;2&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e26b5f8-76fe-4334-9a03-ab9fc6d0d4e7&quot;,&quot;parentUUID&quot;:&quot;b3d04d70-7070-46a0-9ff9-d75cc2399d6c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a7df665d-0b6e-4625-a8be-90d0c3c2e557&quot;,&quot;5e26b5f8-76fe-4334-9a03-ab9fc6d0d4e7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:28,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;940cd1ab-5e66-4036-93d2-61c56f5d7dfb&quot;,&quot;title&quot;:&quot;zrank-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/sset/zrank-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/sset/zrank-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrank-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aeedceca-e872-4a30-aa49-59965492fab5&quot;,&quot;parentUUID&quot;:&quot;940cd1ab-5e66-4036-93d2-61c56f5d7dfb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrank-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb069490-8cd0-4941-aa49-0f1259e73b31&quot;,&quot;parentUUID&quot;:&quot;940cd1ab-5e66-4036-93d2-61c56f5d7dfb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrank-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;87ebf7ce-8eac-42b2-8892-b13af2b101c0&quot;,&quot;parentUUID&quot;:&quot;940cd1ab-5e66-4036-93d2-61c56f5d7dfb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrank-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;002e435d-61be-43be-b5ee-58324cd958e4&quot;,&quot;parentUUID&quot;:&quot;940cd1ab-5e66-4036-93d2-61c56f5d7dfb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return NIL when the ZSET does not exist&quot;,&quot;fullTitle&quot;:&quot;zrank-command test should return NIL when the ZSET does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;zrank&#x27;, &#x27;zset&#x27;, &#x27;member&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;778f3403-1712-496c-b94e-4efe28e5d893&quot;,&quot;parentUUID&quot;:&quot;940cd1ab-5e66-4036-93d2-61c56f5d7dfb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return NIL when the ZSET exists but the key does not&quot;,&quot;fullTitle&quot;:&quot;zrank-command test should return NIL when the ZSET exists but the key does not&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;23.3&#x27;, &#x27;member&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrank&#x27;, &#x27;zset&#x27;, &#x27;membre&#x27;]);\n        chai_1.expect(response).to.equal(null);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;zset&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;01130d9e-b312-4914-b681-bbf34f286a14&quot;,&quot;parentUUID&quot;:&quot;940cd1ab-5e66-4036-93d2-61c56f5d7dfb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;778f3403-1712-496c-b94e-4efe28e5d893&quot;,&quot;01130d9e-b312-4914-b681-bbf34f286a14&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;a9b2e68e-9dd7-4d3c-ad98-98c45d1a1350&quot;,&quot;title&quot;:&quot;zrem-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/sset/zrem-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/sset/zrem-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrem-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ca1acd58-8906-4e93-b64b-45814a193abc&quot;,&quot;parentUUID&quot;:&quot;a9b2e68e-9dd7-4d3c-ad98-98c45d1a1350&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrem-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;29b4df21-6446-4e1c-aec4-821558b90872&quot;,&quot;parentUUID&quot;:&quot;a9b2e68e-9dd7-4d3c-ad98-98c45d1a1350&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrem-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4be67157-8c78-4848-97cf-49974251c883&quot;,&quot;parentUUID&quot;:&quot;a9b2e68e-9dd7-4d3c-ad98-98c45d1a1350&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zrem-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2b294c6a-75ec-42f3-8ff1-8fe0b80c5eb3&quot;,&quot;parentUUID&quot;:&quot;a9b2e68e-9dd7-4d3c-ad98-98c45d1a1350&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove a key from a sorted set&quot;,&quot;fullTitle&quot;:&quot;zrem-command test should remove a key from a sorted set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;1&#x27;, &#x27;one&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;2&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;3&#x27;, &#x27;three&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrem&#x27;, &#x27;zset&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, &#x27;zset&#x27;, &#x27;0&#x27;, &#x27;-1&#x27;, &#x27;withscores&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;one&#x27;, &#x27;1&#x27;, &#x27;three&#x27;, &#x27;3&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7e6b2bcf-9f81-4ac4-ba40-9254cccfa4c4&quot;,&quot;parentUUID&quot;:&quot;a9b2e68e-9dd7-4d3c-ad98-98c45d1a1350&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7e6b2bcf-9f81-4ac4-ba40-9254cccfa4c4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:17,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;4593167e-7dd9-4eb9-9ad4-395677d26927&quot;,&quot;title&quot;:&quot;getset-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/string/getset-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/string/getset-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;getset-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cef535f1-c7f9-4921-bd04-529f6b166131&quot;,&quot;parentUUID&quot;:&quot;4593167e-7dd9-4eb9-9ad4-395677d26927&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;getset-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;42158863-1d2b-4d99-8a83-5cd34dcbf204&quot;,&quot;parentUUID&quot;:&quot;4593167e-7dd9-4eb9-9ad4-395677d26927&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;getset-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;87406fcb-e9a5-43f6-90fe-abc6d8cc5d1e&quot;,&quot;parentUUID&quot;:&quot;4593167e-7dd9-4eb9-9ad4-395677d26927&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;getset-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;81ac0156-4797-4e55-976f-acd18eaf442f&quot;,&quot;parentUUID&quot;:&quot;4593167e-7dd9-4eb9-9ad4-395677d26927&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report NIL when the original key does not exist&quot;,&quot;fullTitle&quot;:&quot;getset-command test should report NIL when the original key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;getset&#x27;, uniqueKey, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a7e3c15-2c3b-407c-b043-9906e91bec5c&quot;,&quot;parentUUID&quot;:&quot;4593167e-7dd9-4eb9-9ad4-395677d26927&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report the previous value of the key&quot;,&quot;fullTitle&quot;:&quot;getset-command test should report the previous value of the key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;getset&#x27;, uniqueKey, &#x27;ninety nine&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;0&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;getset&#x27;, uniqueKey, &#x27;nothing&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ninety nine&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;197b0ff4-aede-46bd-bdfd-ae3b7d2dfee7&quot;,&quot;parentUUID&quot;:&quot;4593167e-7dd9-4eb9-9ad4-395677d26927&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9a7e3c15-2c3b-407c-b043-9906e91bec5c&quot;,&quot;197b0ff4-aede-46bd-bdfd-ae3b7d2dfee7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;cade9432-d6c5-4762-982d-a2e66b4e984b&quot;,&quot;title&quot;:&quot;incr/decr command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/string/incr-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/string/incr-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    // Set a key with a millisecond TTL to validate incr respects TTL\n    common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;ttlkey&#x27;, &#x27;100&#x27;, &#x27;PX&#x27;, &#x27;3&#x27;])\n        .then(() =&gt; {\n        done();\n    });\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f6ad3681-f876-42ed-be7a-47b19d98975e&quot;,&quot;parentUUID&quot;:&quot;cade9432-d6c5-4762-982d-a2e66b4e984b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dd123856-67fe-49cd-b76e-79d4f4acbc0c&quot;,&quot;parentUUID&quot;:&quot;cade9432-d6c5-4762-982d-a2e66b4e984b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;553d285f-c1e1-4009-9eb6-a9cdbaebbb32&quot;,&quot;parentUUID&quot;:&quot;cade9432-d6c5-4762-982d-a2e66b4e984b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0cf13bca-174c-4ce2-b9d2-727089011520&quot;,&quot;parentUUID&quot;:&quot;cade9432-d6c5-4762-982d-a2e66b4e984b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report ONE when incr called against unknown key&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should report ONE when incr called against unknown key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;incr&#x27;, &#x27;incr-key&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4f12e628-1f5f-4983-9122-0e63b5d56c76&quot;,&quot;parentUUID&quot;:&quot;cade9432-d6c5-4762-982d-a2e66b4e984b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have created the key from the previous test&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should have created the key from the previous test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;get&#x27;, &#x27;incr-key&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;string&#x27;);\n        chai_1.expect(response).to.equal(&#x27;1&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3c772842-f857-451b-9504-3dfc5b8c10d2&quot;,&quot;parentUUID&quot;:&quot;cade9432-d6c5-4762-982d-a2e66b4e984b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should overflow after 53 bits&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should overflow after 53 bits&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;info&#x27;, &#x27;server&#x27;]);\n        // Only run the remaining tests if this is NOT unit-redis-ness\n        if (!/redis_version:5/gim.test(response)) {\n            response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;incr-key&#x27;, &#x27;9007199254740990&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;incr&#x27;, &#x27;incr-key&#x27;]);\n            chai_1.expect(response).to.equal(Number.MAX_SAFE_INTEGER);\n            response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;incr&#x27;, &#x27;incr-key&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;ReplyError: ERR increment or decrement would overflow&#x27;);\n        }\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;73258495-786b-4e77-9ec3-3a076bb09bfa&quot;,&quot;parentUUID&quot;:&quot;cade9432-d6c5-4762-982d-a2e66b4e984b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report -1 when decr called against unknown key&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should report -1 when decr called against unknown key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;decr&#x27;, &#x27;decr-key&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n        chai_1.expect(response).to.equal(-1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1dd4b972-65c9-410f-ae07-cc25ce6f2ca6&quot;,&quot;parentUUID&quot;:&quot;cade9432-d6c5-4762-982d-a2e66b4e984b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have created the key from the previous test&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should have created the key from the previous test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;get&#x27;, &#x27;decr-key&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;string&#x27;);\n        chai_1.expect(response).to.equal(&#x27;-1&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;897975ea-63bb-4a5d-a567-c2b68e50b8eb&quot;,&quot;parentUUID&quot;:&quot;cade9432-d6c5-4762-982d-a2e66b4e984b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should overflow after 53 bits&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should overflow after 53 bits&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;info&#x27;, &#x27;server&#x27;]);\n        // Only run the remaining tests if this is NOT unit-redis-ness\n        if (!/redis_version:5/gim.test(response)) {\n            let response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;decr-key&#x27;, &#x27;-9007199254740990&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;decr&#x27;, &#x27;decr-key&#x27;]);\n            chai_1.expect(response).to.equal(Number.MIN_SAFE_INTEGER);\n            response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;decr&#x27;, &#x27;decr-key&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;ReplyError: ERR increment or decrement would overflow&#x27;);\n        }\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d3f8c71e-040b-46ec-84cf-3e1a8f7f00be&quot;,&quot;parentUUID&quot;:&quot;cade9432-d6c5-4762-982d-a2e66b4e984b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respect TTL&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should respect TTL&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;get&#x27;, &#x27;ttlkey&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;516a72f9-5b5a-43dd-ab3d-8a59ad140118&quot;,&quot;parentUUID&quot;:&quot;cade9432-d6c5-4762-982d-a2e66b4e984b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail to increment a HASH value&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should fail to increment a HASH value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = `test-incr-${new Date().getTime()}`;\n        let response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, uniqueKey, &#x27;one&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;incr&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;27517f81-80c7-464e-a43f-a4c38cffc6d9&quot;,&quot;parentUUID&quot;:&quot;cade9432-d6c5-4762-982d-a2e66b4e984b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4f12e628-1f5f-4983-9122-0e63b5d56c76&quot;,&quot;3c772842-f857-451b-9504-3dfc5b8c10d2&quot;,&quot;73258495-786b-4e77-9ec3-3a076bb09bfa&quot;,&quot;1dd4b972-65c9-410f-ae07-cc25ce6f2ca6&quot;,&quot;897975ea-63bb-4a5d-a567-c2b68e50b8eb&quot;,&quot;d3f8c71e-040b-46ec-84cf-3e1a8f7f00be&quot;,&quot;516a72f9-5b5a-43dd-ab3d-8a59ad140118&quot;,&quot;27517f81-80c7-464e-a43f-a4c38cffc6d9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:36,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;8d616d0b-27fa-4401-a25a-c24707ae6855&quot;,&quot;title&quot;:&quot;incrby/decrby command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/string/incrby-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/string/incrby-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:26,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    // Set a key with a millisecond TTL to validate incrby respects TTL\n    common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;ttlkey&#x27;, &#x27;100&#x27;, &#x27;PX&#x27;, &#x27;3&#x27;])\n        .then(() =&gt; {\n        done();\n    });\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b3ad33a2-12d6-4c9f-823a-a518c60559ac&quot;,&quot;parentUUID&quot;:&quot;8d616d0b-27fa-4401-a25a-c24707ae6855&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b9ba1ca1-c755-40c1-ac59-8da518ed0b32&quot;,&quot;parentUUID&quot;:&quot;8d616d0b-27fa-4401-a25a-c24707ae6855&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3bc01f1d-abbc-48de-9c0c-8d73121467b4&quot;,&quot;parentUUID&quot;:&quot;8d616d0b-27fa-4401-a25a-c24707ae6855&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0573c411-7dae-4dfe-91a4-fc4d9a4a4632&quot;,&quot;parentUUID&quot;:&quot;8d616d0b-27fa-4401-a25a-c24707ae6855&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report the INCREMENT when incrby called against non-existing key&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should report the INCREMENT when incrby called against non-existing key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;incrby&#x27;, &#x27;incr-key&#x27;, &#x27;10&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n        // This is how redis behaves\n        chai_1.expect(response).to.equal(10);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a658f246-5b58-4783-a0bb-f63456792c4a&quot;,&quot;parentUUID&quot;:&quot;8d616d0b-27fa-4401-a25a-c24707ae6855&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have created the key from the previous test&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should have created the key from the previous test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;incr-key&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;string&#x27;);\n        chai_1.expect(response).to.equal(&#x27;10&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9d045ed5-1ff6-4ce8-8a2e-79b61b750c68&quot;,&quot;parentUUID&quot;:&quot;8d616d0b-27fa-4401-a25a-c24707ae6855&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should overflow after 53 bits&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should overflow after 53 bits&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;info&#x27;, &#x27;server&#x27;]);\n        // Only run the remaining tests if this is NOT unit-redis-ness\n        if (!/redis_version:5/gim.test(response)) {\n            response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;incr-key&#x27;, &#x27;9007199254740981&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;incrby&#x27;, &#x27;incr-key&#x27;, &#x27;10&#x27;]);\n            chai_1.expect(response).to.equal(Number.MAX_SAFE_INTEGER);\n            response = yield common_test_1.sendCommand(client, [&#x27;incrby&#x27;, &#x27;incr-key&#x27;, &#x27;110&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;ReplyError: ERR increment or decrement would overflow&#x27;);\n        }\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;858e26e7-73ac-4929-8c90-a18feb2a668d&quot;,&quot;parentUUID&quot;:&quot;8d616d0b-27fa-4401-a25a-c24707ae6855&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report the NEGATIVE increment when decrby called against unknown key&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should report the NEGATIVE increment when decrby called against unknown key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;decrby&#x27;, &#x27;decr-key&#x27;, &#x27;12&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n        chai_1.expect(response).to.equal(-12);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c59ff341-fc8e-4e0c-842d-8a0459def03b&quot;,&quot;parentUUID&quot;:&quot;8d616d0b-27fa-4401-a25a-c24707ae6855&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support negative increment and positive decrement&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should support negative increment and positive decrement&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;incrby&#x27;, &#x27;negincr&#x27;, &#x27;-12&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n        chai_1.expect(response).to.equal(-12);\n        response = yield common_test_1.sendCommand(client, [&#x27;decrby&#x27;, &#x27;negincr&#x27;, &#x27;-24&#x27;]);\n        chai_1.expect(response).to.equal(12);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f0f4296e-7c27-482d-8153-98b3ba522e59&quot;,&quot;parentUUID&quot;:&quot;8d616d0b-27fa-4401-a25a-c24707ae6855&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have created the key from the previous test&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should have created the key from the previous test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;decr-key&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;string&#x27;);\n        chai_1.expect(response).to.equal(&#x27;-12&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb76de81-c330-4e79-a571-0e4cf838dea1&quot;,&quot;parentUUID&quot;:&quot;8d616d0b-27fa-4401-a25a-c24707ae6855&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should overflow after 53 bits&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should overflow after 53 bits&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;info&#x27;, &#x27;server&#x27;]);\n        // Only run the remaining tests if this is NOT unit-redis-ness\n        if (!/redis_version:5/gim.test(response)) {\n            response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;decr-key&#x27;, &#x27;-9007199254740981&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;decrby&#x27;, &#x27;decr-key&#x27;, &#x27;10&#x27;]);\n            chai_1.expect(response).to.equal(Number.MIN_SAFE_INTEGER);\n            // This does not seem to be exact\n            // response = await sendCommand(client, [&#x27;decrby&#x27;, &#x27;decr-key&#x27;, String(Number.MAX_SAFE_INTEGER)]);\n            // expect(response).to.equal(&#x27;ReplyError: Error: increment or decrement would overflow&#x27;);\n        }\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;71061f2a-4e95-4e9d-bcda-32ef53637a40&quot;,&quot;parentUUID&quot;:&quot;8d616d0b-27fa-4401-a25a-c24707ae6855&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respect TTL&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should respect TTL&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;ttlkey&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6252d53d-27a7-4c85-a3c9-bab2c097ef04&quot;,&quot;parentUUID&quot;:&quot;8d616d0b-27fa-4401-a25a-c24707ae6855&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail to increment a HASH value&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should fail to increment a HASH value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = `test-incr-${new Date().getTime()}`;\n        let response = yield common_test_1.sendCommand(client, [&#x27;hset&#x27;, uniqueKey, &#x27;one&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;incrby&#x27;, uniqueKey, &#x27;12&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4cac0d10-f8cc-46b8-9186-b338859e48ba&quot;,&quot;parentUUID&quot;:&quot;8d616d0b-27fa-4401-a25a-c24707ae6855&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a658f246-5b58-4783-a0bb-f63456792c4a&quot;,&quot;9d045ed5-1ff6-4ce8-8a2e-79b61b750c68&quot;,&quot;858e26e7-73ac-4929-8c90-a18feb2a668d&quot;,&quot;c59ff341-fc8e-4e0c-842d-8a0459def03b&quot;,&quot;f0f4296e-7c27-482d-8153-98b3ba522e59&quot;,&quot;cb76de81-c330-4e79-a571-0e4cf838dea1&quot;,&quot;71061f2a-4e95-4e9d-bcda-32ef53637a40&quot;,&quot;6252d53d-27a7-4c85-a3c9-bab2c097ef04&quot;,&quot;4cac0d10-f8cc-46b8-9186-b338859e48ba&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:58,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;3115a23e-eb14-4e77-97ba-c9101160f7b7&quot;,&quot;title&quot;:&quot;mget-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/string/mget-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/string/mget-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;mget-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;322c7c48-d41c-45a8-98f0-45feada26887&quot;,&quot;parentUUID&quot;:&quot;3115a23e-eb14-4e77-97ba-c9101160f7b7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;mget-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f98fb5e-ae2c-4b2b-8343-e388e4cbad62&quot;,&quot;parentUUID&quot;:&quot;3115a23e-eb14-4e77-97ba-c9101160f7b7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;mget-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5310051d-1c87-437a-ae4a-f455c4b748fa&quot;,&quot;parentUUID&quot;:&quot;3115a23e-eb14-4e77-97ba-c9101160f7b7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;mget-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2e0b4c51-3858-47e1-94dd-338a7344ea9d&quot;,&quot;parentUUID&quot;:&quot;3115a23e-eb14-4e77-97ba-c9101160f7b7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return NIL when the key does not exist&quot;,&quot;fullTitle&quot;:&quot;mget-command test should return NIL when the key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;mget&#x27;, &#x27;zset&#x27;, &#x27;member&#x27;]);\n        chai_1.expect(response).to.eql([null, null]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7c4027a6-fbcd-4940-aa93-be3b2f197331&quot;,&quot;parentUUID&quot;:&quot;3115a23e-eb14-4e77-97ba-c9101160f7b7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return multiple values for string keys as requested&quot;,&quot;fullTitle&quot;:&quot;mget-command test should return multiple values for string keys as requested&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;mset&#x27;, &#x27;key1&#x27;, &#x27;1&#x27;, &#x27;key2&#x27;, &#x27;2&#x27;, &#x27;key3&#x27;, &#x27;3&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;mget&#x27;, &#x27;key2&#x27;, &#x27;key1&#x27;, &#x27;noneya&#x27;, &#x27;key3&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;2&#x27;, &#x27;1&#x27;, null, &#x27;3&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e9a5ed7a-cacd-4d22-a18b-a3a6052bb02d&quot;,&quot;parentUUID&quot;:&quot;3115a23e-eb14-4e77-97ba-c9101160f7b7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return NIL for ZSET, LIST, and HASH types as well&quot;,&quot;fullTitle&quot;:&quot;mget-command test should return NIL for ZSET, LIST, and HASH types as well&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zset&#x27;, &#x27;1&#x27;, &#x27;member&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;list&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;hset&#x27;, &#x27;hash&#x27;, &#x27;field&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;mget&#x27;, &#x27;key2&#x27;, &#x27;key1&#x27;, &#x27;list&#x27;, &#x27;key3&#x27;, &#x27;hash&#x27;, &#x27;zset&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;2&#x27;, &#x27;1&#x27;, null, &#x27;3&#x27;, null, null]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;08b57b9f-876b-4549-be97-95e6e045ff49&quot;,&quot;parentUUID&quot;:&quot;3115a23e-eb14-4e77-97ba-c9101160f7b7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7c4027a6-fbcd-4940-aa93-be3b2f197331&quot;,&quot;e9a5ed7a-cacd-4d22-a18b-a3a6052bb02d&quot;,&quot;08b57b9f-876b-4549-be97-95e6e045ff49&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:37,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;0ce5befd-dd3d-41a2-8c3f-ea8cbd71ed97&quot;,&quot;title&quot;:&quot;mset-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/string/mset-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/string/mset-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;mset-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d04e2fd6-68ea-4b75-a258-b67fd096ae7c&quot;,&quot;parentUUID&quot;:&quot;0ce5befd-dd3d-41a2-8c3f-ea8cbd71ed97&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;mset-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;54123360-4069-47a5-9e26-6051c444f940&quot;,&quot;parentUUID&quot;:&quot;0ce5befd-dd3d-41a2-8c3f-ea8cbd71ed97&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;mset-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e667de8f-c494-4471-a085-ecc8da2d11dc&quot;,&quot;parentUUID&quot;:&quot;0ce5befd-dd3d-41a2-8c3f-ea8cbd71ed97&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;mset-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6911ed7b-6e38-400d-90b4-e8aede0dc198&quot;,&quot;parentUUID&quot;:&quot;0ce5befd-dd3d-41a2-8c3f-ea8cbd71ed97&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create multiple keys at once&quot;,&quot;fullTitle&quot;:&quot;mset-command test should create multiple keys at once&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;mset&#x27;, &#x27;key1&#x27;, &#x27;Hello&#x27;, &#x27;key2&#x27;, &#x27;world&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;key1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;Hello&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;key2&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;world&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8dae399e-6889-4804-b8b4-3f5f457b11cc&quot;,&quot;parentUUID&quot;:&quot;0ce5befd-dd3d-41a2-8c3f-ea8cbd71ed97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should only accept an even number of parameters&quot;,&quot;fullTitle&quot;:&quot;mset-command test should only accept an even number of parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;msEt&#x27;, &#x27;wrong&#x27;, &#x27;number&#x27;, &#x27;of&#x27;]);\n        chai_1.expect(response).to.match(/ReplyError: ERR wrong number of arguments for MSET/i);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4123d41e-530a-4268-8957-2ac690b5bb0b&quot;,&quot;parentUUID&quot;:&quot;0ce5befd-dd3d-41a2-8c3f-ea8cbd71ed97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8dae399e-6889-4804-b8b4-3f5f457b11cc&quot;,&quot;4123d41e-530a-4268-8957-2ac690b5bb0b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b41e6a35-92eb-433c-8ad3-d6c4431b0153&quot;,&quot;title&quot;:&quot;set-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/string/set-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/string/set-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;flush&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ecc82027-fea1-42e6-8e21-90fe818263c7&quot;,&quot;parentUUID&quot;:&quot;b41e6a35-92eb-433c-8ad3-d6c4431b0153&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f7cdac63-5066-442c-afa8-4fc167a87f9e&quot;,&quot;parentUUID&quot;:&quot;b41e6a35-92eb-433c-8ad3-d6c4431b0153&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c97390d5-0f46-487b-bdcf-a7f047368742&quot;,&quot;parentUUID&quot;:&quot;b41e6a35-92eb-433c-8ad3-d6c4431b0153&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a25abda2-3e96-4a25-9e35-428645880099&quot;,&quot;parentUUID&quot;:&quot;b41e6a35-92eb-433c-8ad3-d6c4431b0153&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should allow us to set a several second ttl&quot;,&quot;fullTitle&quot;:&quot;set-command test should allow us to set a several second ttl&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // During local testing there are 8 milliseconds from put to get\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;TTLtest&#x27;, &#x27;key&#x27;, &#x27;EX&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5f4037f1-f366-43ed-bf1e-a1c5de06e7a7&quot;,&quot;parentUUID&quot;:&quot;b41e6a35-92eb-433c-8ad3-d6c4431b0153&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should NOT allow SET to invoke NX after XX&quot;,&quot;fullTitle&quot;:&quot;set-command test should NOT allow SET to invoke NX after XX&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;test&#x27;, &#x27;key&#x27;, &#x27;XX&#x27;, &#x27;NX&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR syntax error&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;562b0a9b-ade1-417a-ac57-e466b34f62d0&quot;,&quot;parentUUID&quot;:&quot;b41e6a35-92eb-433c-8ad3-d6c4431b0153&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should NOT allow SET to invoke XX after NX&quot;,&quot;fullTitle&quot;:&quot;set-command test should NOT allow SET to invoke XX after NX&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;test&#x27;, &#x27;key&#x27;, &#x27;NX&#x27;, &#x27;XX&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR syntax error&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8abed4c-96f5-467a-931e-909005f9ce3f&quot;,&quot;parentUUID&quot;:&quot;b41e6a35-92eb-433c-8ad3-d6c4431b0153&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return nil when SET invoked with XX on a key that doesn&#x27;t exist&quot;,&quot;fullTitle&quot;:&quot;set-command test should return nil when SET invoked with XX on a key that doesn&#x27;t exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = `TEST${new Date().getTime()}`;\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, uniqueKey, &#x27;key&#x27;, &#x27;XX&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eb3d6381-7b71-4222-85b6-05c67cd6380a&quot;,&quot;parentUUID&quot;:&quot;b41e6a35-92eb-433c-8ad3-d6c4431b0153&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return OK when SET invoked with XX on a key that DOES exist&quot;,&quot;fullTitle&quot;:&quot;set-command test should return OK when SET invoked with XX on a key that DOES exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = `TEST${new Date().getTime()}`;\n        // set the key with NX first to validate that functionality\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, uniqueKey, &#x27;key&#x27;, &#x27;NX&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, uniqueKey, &#x27;new value&#x27;, &#x27;XX&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        // Now validate that the key is what we said last\n        response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(&#x27;new value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2d60a56f-b78a-4302-9033-f1fc51e9412b&quot;,&quot;parentUUID&quot;:&quot;b41e6a35-92eb-433c-8ad3-d6c4431b0153&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should NOT allow SET to invoke EX and PX simultaneously&quot;,&quot;fullTitle&quot;:&quot;set-command test should NOT allow SET to invoke EX and PX simultaneously&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // Note: Our behavior is different from redis.  This error is &#x27;wrong number of args&#x27;\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;test&#x27;, &#x27;key&#x27;, &#x27;EX&#x27;, &#x27;100&#x27;, &#x27;PX&#x27;, &#x27;100&#x27;]);\n        chai_1.expect(response).to.match(/^ReplyError: ERR syntax error/);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;55e34c35-b04f-413b-b6cc-acca498da405&quot;,&quot;parentUUID&quot;:&quot;b41e6a35-92eb-433c-8ad3-d6c4431b0153&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should allow us to set a millisecond ttl&quot;,&quot;fullTitle&quot;:&quot;set-command test should allow us to set a millisecond ttl&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // During local teseting there are 8 milliseconds from put to get\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;MILLItest&#x27;, &#x27;key&#x27;, &#x27;PX&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;71fef741-ceb4-4e2a-883f-fdc964b7c924&quot;,&quot;parentUUID&quot;:&quot;b41e6a35-92eb-433c-8ad3-d6c4431b0153&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should prove that the one second TTL has expired&quot;,&quot;fullTitle&quot;:&quot;set-command test should prove that the one second TTL has expired&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1003,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;setTimeout(() =&gt; {\n    common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;TTLtest&#x27;])\n        .then((responseGet) =&gt; {\n        chai_1.expect(responseGet).to.equal(null);\n        done();\n    });\n}, 1000);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;211025b7-2c4a-4aa0-8f78-086f0893bf00&quot;,&quot;parentUUID&quot;:&quot;b41e6a35-92eb-433c-8ad3-d6c4431b0153&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not accept unknown parameters&quot;,&quot;fullTitle&quot;:&quot;set-command test should not accept unknown parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;test&#x27;, &#x27;key&#x27;, &#x27;Q&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR syntax error&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4ecd307-b3e8-46b9-96db-4ac75228de0b&quot;,&quot;parentUUID&quot;:&quot;b41e6a35-92eb-433c-8ad3-d6c4431b0153&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should NOT allow SET to invoke PX after EX&quot;,&quot;fullTitle&quot;:&quot;set-command test should NOT allow SET to invoke PX after EX&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;test&#x27;, &#x27;key&#x27;, &#x27;EX&#x27;, &#x27;100&#x27;, &#x27;PX&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR syntax error&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e4834530-781c-4162-a4d4-a8e448f8b7e8&quot;,&quot;parentUUID&quot;:&quot;b41e6a35-92eb-433c-8ad3-d6c4431b0153&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should NOT allow SET to invoke EX after PX&quot;,&quot;fullTitle&quot;:&quot;set-command test should NOT allow SET to invoke EX after PX&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;test&#x27;, &#x27;key&#x27;, &#x27;PX&#x27;, &#x27;100&#x27;, &#x27;EX&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR syntax error&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8b5a60b2-1c12-4f8c-a561-b13a54c77f01&quot;,&quot;parentUUID&quot;:&quot;b41e6a35-92eb-433c-8ad3-d6c4431b0153&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not allow a TTL less than 1ms&quot;,&quot;fullTitle&quot;:&quot;set-command test should not allow a TTL less than 1ms&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;MILLItest&#x27;, &#x27;key&#x27;, &#x27;PX&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR invalid expire time in set&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd95827a-67d9-455d-afa8-2e3a0956d8a4&quot;,&quot;parentUUID&quot;:&quot;b41e6a35-92eb-433c-8ad3-d6c4431b0153&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should prove that the millisecond TTL has expired&quot;,&quot;fullTitle&quot;:&quot;set-command test should prove that the millisecond TTL has expired&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;setTimeout(() =&gt; {\n    common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;MILLItest&#x27;])\n        .then((responseGet) =&gt; {\n        chai_1.expect(responseGet).to.equal(null);\n        done();\n    });\n}, 10);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd64539a-4182-4743-9245-ca472daeec74&quot;,&quot;parentUUID&quot;:&quot;b41e6a35-92eb-433c-8ad3-d6c4431b0153&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5f4037f1-f366-43ed-bf1e-a1c5de06e7a7&quot;,&quot;562b0a9b-ade1-417a-ac57-e466b34f62d0&quot;,&quot;e8abed4c-96f5-467a-931e-909005f9ce3f&quot;,&quot;eb3d6381-7b71-4222-85b6-05c67cd6380a&quot;,&quot;2d60a56f-b78a-4302-9033-f1fc51e9412b&quot;,&quot;55e34c35-b04f-413b-b6cc-acca498da405&quot;,&quot;71fef741-ceb4-4e2a-883f-fdc964b7c924&quot;,&quot;211025b7-2c4a-4aa0-8f78-086f0893bf00&quot;,&quot;c4ecd307-b3e8-46b9-96db-4ac75228de0b&quot;,&quot;e4834530-781c-4162-a4d4-a8e448f8b7e8&quot;,&quot;8b5a60b2-1c12-4f8c-a561-b13a54c77f01&quot;,&quot;bd95827a-67d9-455d-afa8-2e3a0956d8a4&quot;,&quot;bd64539a-4182-4743-9245-ca472daeec74&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1045,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;72f008e4-6c6a-4257-a1b0-91bbcff540d4&quot;,&quot;title&quot;:&quot;setnx-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/string/setnx-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/string/setnx-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;setnx-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; __awaiter(void 0, void 0, void 0, function* () {\n    yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;0&#x27;]);\n    yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;flush&#x27;]);\n    done();\n}));\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a26c5025-5f1a-407f-b0a7-84aaea5e2194&quot;,&quot;parentUUID&quot;:&quot;72f008e4-6c6a-4257-a1b0-91bbcff540d4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;setnx-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;698ff983-ff5d-4767-966a-07ab0b942c5b&quot;,&quot;parentUUID&quot;:&quot;72f008e4-6c6a-4257-a1b0-91bbcff540d4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;setnx-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;24354205-8c7a-4cad-ab9c-857da484f2db&quot;,&quot;parentUUID&quot;:&quot;72f008e4-6c6a-4257-a1b0-91bbcff540d4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;setnx-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c0f0c68-a08a-4284-806e-fd2a55573129&quot;,&quot;parentUUID&quot;:&quot;72f008e4-6c6a-4257-a1b0-91bbcff540d4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return 1 when the key does not exist&quot;,&quot;fullTitle&quot;:&quot;setnx-command test should return 1 when the key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;setnx&#x27;, &#x27;test&#x27;, &#x27;key&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ce51d552-87ce-4710-8488-5b2972da8877&quot;,&quot;parentUUID&quot;:&quot;72f008e4-6c6a-4257-a1b0-91bbcff540d4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 0 when the key already exists&quot;,&quot;fullTitle&quot;:&quot;setnx-command test should return 0 when the key already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;setnx&#x27;, &#x27;test&#x27;, &#x27;other&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;key&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;73b39281-3fb5-43a9-8992-b017673b26b8&quot;,&quot;parentUUID&quot;:&quot;72f008e4-6c6a-4257-a1b0-91bbcff540d4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ce51d552-87ce-4710-8488-5b2972da8877&quot;,&quot;73b39281-3fb5-43a9-8992-b017673b26b8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;921c2130-79cb-4c61-b34c-5c87828ba18d&quot;,&quot;title&quot;:&quot;data-type test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/data-type.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/data-type.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;data-type test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a7349eb4-8c48-4f85-b3ca-9a3dbd10833c&quot;,&quot;parentUUID&quot;:&quot;921c2130-79cb-4c61-b34c-5c87828ba18d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;data-type test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9759e315-7e7a-4fba-8972-6e5429d7660d&quot;,&quot;parentUUID&quot;:&quot;921c2130-79cb-4c61-b34c-5c87828ba18d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;data-type test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8d5099c-0f4b-4f4a-921b-ea5670611bf5&quot;,&quot;parentUUID&quot;:&quot;921c2130-79cb-4c61-b34c-5c87828ba18d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should enumerate data-types&quot;,&quot;fullTitle&quot;:&quot;data-type test should enumerate data-types&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        chai_1.expect(data_type_1.DataType.NONE).to.equal(&#x27;none&#x27;);\n        chai_1.expect(data_type_1.DataType.STRING).to.equal(&#x27;string&#x27;);\n        chai_1.expect(data_type_1.DataType.LIST).to.equal(&#x27;list&#x27;);\n        chai_1.expect(data_type_1.DataType.SET).to.equal(&#x27;set&#x27;);\n        chai_1.expect(data_type_1.DataType.ZSET).to.equal(&#x27;zset&#x27;);\n        chai_1.expect(data_type_1.DataType.HASH).to.equal(&#x27;hash&#x27;);\n        chai_1.expect(Object.keys(data_type_1.DataType).length).to.equal(6);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3a4c14a7-e023-458d-b1b1-e9a5b859d19d&quot;,&quot;parentUUID&quot;:&quot;921c2130-79cb-4c61-b34c-5c87828ba18d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3a4c14a7-e023-458d-b1b1-e9a5b859d19d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;baf0e9ea-a2ed-4381-9885-23cf407f6c85&quot;,&quot;title&quot;:&quot;sorted-set test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sorted-set test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();\nss = new sorted_set_1.SortedSet();\nz = new Z();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c978d9bb-37d9-42bd-aa6b-65e091aefdc8&quot;,&quot;parentUUID&quot;:&quot;baf0e9ea-a2ed-4381-9885-23cf407f6c85&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sorted-set test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;46eb4f55-50be-4878-836b-c393ee64cd85&quot;,&quot;parentUUID&quot;:&quot;baf0e9ea-a2ed-4381-9885-23cf407f6c85&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sorted-set test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;85edd3a4-26c8-488d-86a3-006346a80024&quot;,&quot;parentUUID&quot;:&quot;baf0e9ea-a2ed-4381-9885-23cf407f6c85&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should instantiate&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should instantiate&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        chai_1.expect(z.constructor.name).to.equal(&#x27;Z&#x27;);\n        ss = new sorted_set_1.SortedSet();\n        chai_1.expect(ss.constructor.name).to.equal(&#x27;SortedSet&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;57838ad9-f790-41f6-8c69-73f5eef68b04&quot;,&quot;parentUUID&quot;:&quot;baf0e9ea-a2ed-4381-9885-23cf407f6c85&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should add, get, and delete an entry&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should add, get, and delete an entry&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        let added = z.add(&#x27;test&#x27;, 1);\n        chai_1.expect(added).to.equal(null);\n        added = ss.add(&#x27;test&#x27;, 1);\n        chai_1.expect(added).to.equal(null);\n        chai_1.expect(z.keys().length).to.equal(1);\n        chai_1.expect(ss.keys().length).to.equal(1);\n        let item = z.get(&#x27;test&#x27;);\n        chai_1.expect(item.constructor.name).to.equal(&#x27;Number&#x27;);\n        item = ss.get(&#x27;test&#x27;);\n        chai_1.expect(item.constructor.name).to.equal(&#x27;Number&#x27;);\n        z.del(&#x27;test&#x27;);\n        chai_1.expect(z.keys().length).to.equal(0);\n        ss.del(&#x27;test&#x27;);\n        chai_1.expect(ss.keys().length).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c8aeee87-7127-4f62-ae7b-c3fd3d2d020e&quot;,&quot;parentUUID&quot;:&quot;baf0e9ea-a2ed-4381-9885-23cf407f6c85&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw when attempting to add __proto__ key&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should throw when attempting to add __proto__ key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        chai_1.expect(() =&gt; {\n            z.add(&#x27;__proto__&#x27;, 0);\n        }).to.throw();\n        // expect(() =&gt; {\n        //   ss.add(&#x27;__proto__&#x27;, 0)\n        // }).to.throw();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;29e6442f-a45b-4031-82b8-861ac368f3bd&quot;,&quot;parentUUID&quot;:&quot;baf0e9ea-a2ed-4381-9885-23cf407f6c85&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not add an undefined or null score&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should not add an undefined or null score&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        let added = z.add(&#x27;test&#x27;, null);\n        chai_1.expect(added).to.equal(null);\n        chai_1.expect(z.keys().length).to.equal(0);\n        added = z.add(&#x27;test&#x27;, undefined);\n        chai_1.expect(z.keys().length).to.equal(0);\n        // Typescript prevents adding null\n        // added = ss.add(&#x27;test&#x27;, null);\n        // expect(added).to.equal(null);\n        // expect(ss.keys().length).to.equal(0);\n        // added = ss.add(&#x27;test&#x27;, undefined);\n        // expect(z.keys().length).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa0909c5-6bd3-4bc1-b316-98f0f8be8d7d&quot;,&quot;parentUUID&quot;:&quot;baf0e9ea-a2ed-4381-9885-23cf407f6c85&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not duplicate key/value pairs&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should not duplicate key/value pairs&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        let added = z.add(&#x27;test&#x27;, 123);\n        chai_1.expect(added).to.equal(null); // This is weird\n        chai_1.expect(z.keys().length).to.equal(1);\n        added = z.add(&#x27;test&#x27;, 123);\n        chai_1.expect(added).to.equal(123); // and weirder\n        chai_1.expect(z.keys().length).to.equal(1);\n        added = ss.add(&#x27;test&#x27;, 123);\n        chai_1.expect(added).to.equal(null); // This is weird\n        chai_1.expect(ss.keys().length).to.equal(1);\n        added = ss.add(&#x27;test&#x27;, 123);\n        chai_1.expect(added).to.equal(123); // and weirder\n        chai_1.expect(ss.keys().length).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;990d9c23-293c-4fe0-8cbb-f03bca96eb4b&quot;,&quot;parentUUID&quot;:&quot;baf0e9ea-a2ed-4381-9885-23cf407f6c85&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the old rank when replacing a key&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should return the old rank when replacing a key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        let added = z.add(&#x27;test&#x27;, 123);\n        chai_1.expect(added).to.equal(null);\n        chai_1.expect(z.keys().length).to.equal(1);\n        added = z.add(&#x27;test&#x27;, 321);\n        chai_1.expect(added).to.equal(123);\n        chai_1.expect(z.keys().length).to.equal(1);\n        added = z.get(&#x27;test&#x27;);\n        chai_1.expect(added).to.equal(321);\n        added = ss.add(&#x27;test&#x27;, 123);\n        chai_1.expect(added).to.equal(null);\n        chai_1.expect(ss.keys().length).to.equal(1);\n        added = ss.add(&#x27;test&#x27;, 321);\n        chai_1.expect(added).to.equal(123);\n        chai_1.expect(ss.keys().length).to.equal(1);\n        added = ss.get(&#x27;test&#x27;);\n        chai_1.expect(added).to.equal(321);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6774857f-cdb3-4153-a185-635a0d883d10&quot;,&quot;parentUUID&quot;:&quot;baf0e9ea-a2ed-4381-9885-23cf407f6c85&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a value when adding at least 32 values (I think - it is difficult to tell)&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should return a value when adding at least 32 values (I think - it is difficult to tell)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;36b1e556-71f4-40fc-81a2-32941bd6446e&quot;,&quot;parentUUID&quot;:&quot;baf0e9ea-a2ed-4381-9885-23cf407f6c85&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should do what the documentation says here: https://www.npmjs.com/package/redis-sorted-set&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should do what the documentation says here: https://www.npmjs.com/package/redis-sorted-set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        chai_1.expect(z.add(&#x27;Terminator&#x27;, 8.0)).to.equal(null); // =&gt; null\n        chai_1.expect(z.add(&#x27;District 9&#x27;, 8.0)).to.equal(null); // =&gt; null\n        chai_1.expect(z.add(&#x27;Ex Machina&#x27;, 0.7)).to.equal(null); // =&gt; null\n        chai_1.expect(z.add(&#x27;Ex Machina&#x27;, 7.7)).to.equal(0.7); // =&gt; 0.7\n        // alias\n        chai_1.expect(z.set(&#x27;The Matrix&#x27;, 8.7)).to.equal(null); // =&gt; null\n        // average O(1)\n        chai_1.expect(z.has(&#x27;Terminator&#x27;)).to.equal(true); // =&gt; true\n        chai_1.expect(z.has(&#x27;Blade Runner&#x27;)).to.equal(false); // =&gt; false\n        // average O(1)\n        chai_1.expect(z.score(&#x27;Ex Machina&#x27;)).to.equal(7.7); // =&gt; 7.7\n        chai_1.expect(z.score(&#x27;Blade Runner&#x27;)).to.equal(null); // =&gt; null\n        // alias\n        chai_1.expect(z.get(&#x27;The Matrix&#x27;)).to.equal(8.7); // =&gt; 8.7\n        // average O(log(N))\n        chai_1.expect(z.rem(&#x27;Ex Machina&#x27;)).to.equal(7.7); // =&gt; 7.7\n        // average O(1)\n        chai_1.expect(z.rem(&#x27;Ex Machina&#x27;)).to.equal(null); // =&gt; null\n        // alias\n        chai_1.expect(z.del(&#x27;Ex Machina&#x27;)).to.equal(null); // =&gt; null\n        // average O(log(N)+M) where M is the number of elements between min and max\n        // This is not working as expected\n        chai_1.expect(z.rangeByScore(7, 8)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        chai_1.expect(z.rangeByScore(8)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]); // [8.0-∞)\n        // =&gt; [&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]\n        chai_1.expect(z.rangeByScore(8, null, { withScores: true })).to.eql([[&#x27;District 9&#x27;, 8.0], [&#x27;Terminator&#x27;, 8.0], [&#x27;The Matrix&#x27;, 8.7]]);\n        // =&gt; [[&#x27;District 9&#x27;, 8.0], [&#x27;Terminator&#x27;, 8.0], [&#x27;The Matrix&#x27;, 8.7]]\n        // average O(log(N)+log(M)) where M as in rangeByScore\n        // Again - not as expected\n        chai_1.expect(z.count(7, 8)).to.equal(2); // =&gt; 3\n        // average O(log(N))\n        // Not working as expected\n        chai_1.expect(z.rank(&#x27;Ex Machina&#x27;)).to.equal(null); // =&gt; 0\n        // Not working as expected\n        chai_1.expect(z.rank(&#x27;Terminator&#x27;)).to.equal(1); // =&gt; 2\n        chai_1.expect(z.rank(&#x27;Blade Runner&#x27;)).to.equal(null); // =&gt; null\n        // average O(log(N)+M) where M as in range\n        // Not working as expected\n        chai_1.expect(z.range(0, 2)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        // Not working as expected\n        chai_1.expect(z.range(0, 2, { withScores: true })).to.eql([[&#x27;District 9&#x27;, 8], [&#x27;Terminator&#x27;, 8], [&#x27;The Matrix&#x27;, 8.7]]);\n        // =&gt; [[&#x27;Ex Machina&#x27;, 7.7],\n        //     [&#x27;District 9&#x27;, 8],\n        //     [&#x27;Terminator&#x27;, 8]]\n        chai_1.expect(z.range(-1)).to.eql([&#x27;The Matrix&#x27;]); // =&gt; [&#x27;The Matrix&#x27;]\n        // almost alias\n        // Not working as expected\n        chai_1.expect(z.slice(0, 3)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        // Set cardinality (number of elements)\n        // average O(1)\n        // Not working as expected\n        chai_1.expect(z.card()).to.equal(3); // =&gt; 4\n        // alias\n        // Not working as expected\n        chai_1.expect(z.length).to.equal(3); // =&gt; 4\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;484e3173-38bb-46dc-a6b5-c82f141f2545&quot;,&quot;parentUUID&quot;:&quot;baf0e9ea-a2ed-4381-9885-23cf407f6c85&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;the rewrite should do what the documentation says here: https://www.npmjs.com/package/redis-sorted-set&quot;,&quot;fullTitle&quot;:&quot;sorted-set test the rewrite should do what the documentation says here: https://www.npmjs.com/package/redis-sorted-set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        chai_1.expect(ss.add(&#x27;Terminator&#x27;, 8.0)).to.equal(null); // =&gt; null\n        chai_1.expect(ss.add(&#x27;District 9&#x27;, 8.0)).to.equal(null); // =&gt; null\n        chai_1.expect(ss.add(&#x27;Ex Machina&#x27;, 0.7)).to.equal(null); // =&gt; null\n        chai_1.expect(ss.add(&#x27;Ex Machina&#x27;, 7.7)).to.equal(0.7); // =&gt; 0.7\n        // alias\n        chai_1.expect(ss.set(&#x27;The Matrix&#x27;, 8.7)).to.equal(null); // =&gt; null\n        // average O(1)\n        chai_1.expect(ss.has(&#x27;Terminator&#x27;)).to.equal(true); // =&gt; true\n        chai_1.expect(ss.has(&#x27;Blade Runner&#x27;)).to.equal(false); // =&gt; false\n        // average O(1)\n        chai_1.expect(ss.score(&#x27;Ex Machina&#x27;)).to.equal(7.7); // =&gt; 7.7\n        chai_1.expect(ss.score(&#x27;Blade Runner&#x27;)).to.equal(null); // =&gt; null\n        // alias\n        chai_1.expect(ss.get(&#x27;The Matrix&#x27;)).to.equal(8.7); // =&gt; 8.7\n        // average O(log(N))\n        chai_1.expect(ss.rem(&#x27;Ex Machina&#x27;)).to.equal(7.7); // =&gt; 7.7\n        // average O(1)\n        chai_1.expect(ss.rem(&#x27;Ex Machina&#x27;)).to.equal(null); // =&gt; null\n        // alias\n        chai_1.expect(ss.del(&#x27;Ex Machina&#x27;)).to.equal(null); // =&gt; null\n        // average O(log(N)+M) where M is the number of elements between min and max\n        // This is not working as expected\n        chai_1.expect(ss.rangeByScore(7, 8)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        chai_1.expect(ss.rangeByScore(8)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]); // [8.0-∞)\n        // =&gt; [&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]\n        chai_1.expect(ss.rangeByScore(8, null, { withScores: true })).to.eql([[&#x27;District 9&#x27;, 8.0], [&#x27;Terminator&#x27;, 8.0], [&#x27;The Matrix&#x27;, 8.7]]);\n        // =&gt; [[&#x27;District 9&#x27;, 8.0], [&#x27;Terminator&#x27;, 8.0], [&#x27;The Matrix&#x27;, 8.7]]\n        // average O(log(N)+log(M)) where M as in rangeByScore\n        // Again - not as expected\n        chai_1.expect(ss.count(7, 8)).to.equal(2); // =&gt; 3\n        // average O(log(N))\n        // Not working as expected\n        chai_1.expect(ss.rank(&#x27;Ex Machina&#x27;)).to.equal(null); // =&gt; 0\n        // Not working as expected\n        chai_1.expect(ss.rank(&#x27;Terminator&#x27;)).to.equal(1); // =&gt; 2\n        chai_1.expect(ss.rank(&#x27;Blade Runner&#x27;)).to.equal(null); // =&gt; null\n        // average O(log(N)+M) where M as in range\n        // Not working as expected\n        chai_1.expect(ss.range(0, 2)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        // Not working as expected\n        chai_1.expect(ss.range(0, 2, { withScores: true })).to.eql([[&#x27;District 9&#x27;, 8], [&#x27;Terminator&#x27;, 8], [&#x27;The Matrix&#x27;, 8.7]]);\n        // =&gt; [[&#x27;Ex Machina&#x27;, 7.7],\n        //     [&#x27;District 9&#x27;, 8],\n        //     [&#x27;Terminator&#x27;, 8]]\n        chai_1.expect(ss.range(-1)).to.eql([&#x27;The Matrix&#x27;]); // =&gt; [&#x27;The Matrix&#x27;]\n        // almost alias\n        // Not working as expected\n        chai_1.expect(ss.slice(0, 3)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        // Set cardinality (number of elements)\n        // average O(1)\n        // Not working as expected\n        chai_1.expect(ss.card()).to.equal(3); // =&gt; 4\n        // alias\n        // Not working as expected\n        chai_1.expect(ss.length).to.equal(3); // =&gt; 4\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;72dfe3af-7af5-433a-8c2b-32180e040272&quot;,&quot;parentUUID&quot;:&quot;baf0e9ea-a2ed-4381-9885-23cf407f6c85&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;baca8be9-3cc7-4181-8316-6003cad695eb&quot;,&quot;title&quot;:&quot;skip map&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support basic operations&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map should support basic operations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nchai_1.expect(z).to.have.length(0);\nchai_1.expect(z.toArray()).to.eql([]);\nchai_1.expect(z.range()).to.eql([]);\nchai_1.expect(z.rangeByScore()).to.eql([]);\nchai_1.expect(() =&gt; {\n    z.add(&#x27;__proto__&#x27;, 14);\n}).to.throw();\nz.add(&#x27;5a600e16&#x27;, 8);\nz.add(&#x27;5a600e17&#x27;, 9);\nchai_1.expect(z.add(&#x27;5a600e18&#x27;, 10)).to.equal(null);\nchai_1.expect(z.add(&#x27;5a600e17&#x27;, 12)).to.equal(9);\nchai_1.expect(z).to.have.length(3);\nchai_1.expect(z.toArray()).to.eql([&#x27;5a600e16&#x27;, &#x27;5a600e18&#x27;, &#x27;5a600e17&#x27;]);\nchai_1.expect(z.toArray()).to.eql(z.range(0, -1));\nchai_1.expect(z.toArray()).to.eql(z.rangeByScore());\nchai_1.expect(z.has(&#x27;5a600e16&#x27;)).to.be.ok;\nchai_1.expect(z.has(&#x27;5a600e17&#x27;)).to.be.ok;\nchai_1.expect(z.has(&#x27;5a600e18&#x27;)).to.be.ok;\nchai_1.expect(z.has(&#x27;5a600e19&#x27;)).to.not.be.ok;\nchai_1.expect(z.score(&#x27;5a600e16&#x27;)).to.equal(8);\nchai_1.expect(z.score(&#x27;5a600e17&#x27;)).to.equal(12);\nchai_1.expect(z.score(&#x27;5a600e18&#x27;)).to.equal(10);\nchai_1.expect(z.score(&#x27;5a600e19&#x27;)).to.equal(null);\nchai_1.expect(z.rem(&#x27;5a600e16&#x27;)).to.equal(8);\nchai_1.expect(z).to.have.length(2);\nchai_1.expect(z.rem(&#x27;5a600e16&#x27;)).to.equal(null);\nchai_1.expect(z).to.have.length(2);\nchai_1.expect(z.has(&#x27;5a600e16&#x27;)).to.not.be.ok;\nchai_1.expect(z.toArray()).to.eql([&#x27;5a600e18&#x27;, &#x27;5a600e17&#x27;]);\nchai_1.expect(z.toArray({ withScores: true }))\n    .to.eql(z.range(0, -1, { withScores: true }));\nchai_1.expect(z.toArray()).to.eql(z.rangeByScore());\nz.add(&#x27;5a600e16&#x27;, 10);\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nchai_1.expect(z).to.have.length(9);\n// no change, so should be O(1)\nz.add(&#x27;5a600e17&#x27;, 12);\nchai_1.expect(z.rank(&#x27;5a600e17&#x27;)).to.equal(4);\nchai_1.expect(z).to.have.length(9);\nchai_1.expect(z.toArray()).to.eql([\n    &#x27;5a600e16&#x27;,\n    &#x27;5a600e11&#x27;,\n    &#x27;5a600e18&#x27;,\n    &#x27;5a600e13&#x27;,\n    &#x27;5a600e17&#x27;,\n    &#x27;5a600e14&#x27;,\n    &#x27;5a600e10&#x27;,\n    &#x27;5a600e12&#x27;,\n    &#x27;5a600e15&#x27;,\n]);\nchai_1.expect(z.toArray()).to.eql(z.range(0, -1));\nchai_1.expect(z.toArray()).to.eql(z.rangeByScore());\nchai_1.expect(z.rangeByScore(14, 16, { withScores: true })).to.eql([\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a196e06f-0d3b-4c32-b479-1a350803a2ec&quot;,&quot;parentUUID&quot;:&quot;baca8be9-3cc7-4181-8316-6003cad695eb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;d79ef916-76ab-411f-86ac-c9e6fe67f194&quot;,&quot;title&quot;:&quot;#add&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should implicitly delete&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #add should implicitly delete&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.add(&#x27;5a600e14&#x27;, null)).to.equal(14);\nchai_1.expect(z.add(&#x27;5a600e19&#x27;, null)).to.equal(null);\nchai_1.expect(z).to.have.length(8);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c75a2506-7703-40ce-bf98-f9c82b4802e6&quot;,&quot;parentUUID&quot;:&quot;d79ef916-76ab-411f-86ac-c9e6fe67f194&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c75a2506-7703-40ce-bf98-f9c82b4802e6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;1b4dd367-2be8-407b-8bee-652797a18fbe&quot;,&quot;title&quot;:&quot;#empty&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove all elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #empty should remove all elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nz.empty();\nchai_1.expect(z).to.have.length(0);\nchai_1.expect(z.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;91d440bc-d6f7-4ae7-9adc-5c4a0cc9a644&quot;,&quot;parentUUID&quot;:&quot;1b4dd367-2be8-407b-8bee-652797a18fbe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;91d440bc-d6f7-4ae7-9adc-5c4a0cc9a644&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;f8df32d2-d69c-40ec-a0f4-4a464955655c&quot;,&quot;title&quot;:&quot;#incrBy(increment, key)&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should increase rank&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #incrBy(increment, key) should increase rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;first&#x27;, 1);\nz.add(&#x27;second&#x27;, 2);\nz.add(&#x27;third&#x27;, 3);\nz.add(&#x27;fourth&#x27;, 4);\nchai_1.expect(z.incrBy(2, &#x27;first&#x27;)).to.equal(3);\nchai_1.expect(z.rank(&#x27;first&#x27;)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eb212f0b-b66f-4def-adfd-c063569a8dfa&quot;,&quot;parentUUID&quot;:&quot;f8df32d2-d69c-40ec-a0f4-4a464955655c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create if not found&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #incrBy(increment, key) should create if not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;first&#x27;, 1);\nz.incrBy(2, &#x27;second&#x27;);\nchai_1.expect(z.card()).to.equal(2);\nchai_1.expect(z.rank(&#x27;second&#x27;)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8543aa6a-a999-43a0-9437-0875d361dba9&quot;,&quot;parentUUID&quot;:&quot;f8df32d2-d69c-40ec-a0f4-4a464955655c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;eb212f0b-b66f-4def-adfd-c063569a8dfa&quot;,&quot;8543aa6a-a999-43a0-9437-0875d361dba9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;63d618f9-db3a-4282-8f39-fadfd9bd7c67&quot;,&quot;title&quot;:&quot;#keys&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the keys&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #keys should return the keys&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.keys()).to.eql([&#x27;5a600e16&#x27;, &#x27;5a600e11&#x27;, &#x27;5a600e18&#x27;, &#x27;5a600e13&#x27;,\n    &#x27;5a600e17&#x27;, &#x27;5a600e14&#x27;, &#x27;5a600e10&#x27;, &#x27;5a600e12&#x27;, &#x27;5a600e15&#x27;]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47b1a7b7-e1fd-40ee-9ba8-f9efdeab8e24&quot;,&quot;parentUUID&quot;:&quot;63d618f9-db3a-4282-8f39-fadfd9bd7c67&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;47b1a7b7-e1fd-40ee-9ba8-f9efdeab8e24&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;dcb4dd56-3d76-4c14-af83-e6d760dd7519&quot;,&quot;title&quot;:&quot;#rangeByScore&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support special ranges&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #rangeByScore should support special ranges&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.rangeByScore(14, null, { withScores: true })).to.eql([\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);\nchai_1.expect(z.rangeByScore(null, 10, { withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e11&#x27;, 6],\n    [&#x27;5a600e18&#x27;, 10],\n]);\nchai_1.expect(z.rangeByScore(-Infinity, Infinity)).to.eql(z.toArray());\nchai_1.expect(z.rangeByScore(null, null)).to.eql(z.toArray());&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf329d33-97f3-44c4-a9d1-7c1774d2ff26&quot;,&quot;parentUUID&quot;:&quot;dcb4dd56-3d76-4c14-af83-e6d760dd7519&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cf329d33-97f3-44c4-a9d1-7c1774d2ff26&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;bfca38ed-2bef-4ece-9d60-7ff8f4699247&quot;,&quot;title&quot;:&quot;#count&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should count elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #count should count elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nchai_1.expect(z.count()).to.equal(0);\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nz.add(&#x27;5a600e19&#x27;, 14);\nz.add(&#x27;5a600f00&#x27;, 30.0);\nz.add(&#x27;5a600f01&#x27;, 30.5);\nz.add(&#x27;5a600f02&#x27;, 31.0);\nz.add(&#x27;5a600f03&#x27;, 31.5);\nz.add(&#x27;5a600f04&#x27;, 32.0);\nz.add(&#x27;5a600f05&#x27;, 32.0);\nz.add(&#x27;5a600f06&#x27;, 32.0);\nchai_1.expect(z.count()).to.eql(z.rangeByScore().length);\nchai_1.expect(z.count(8)).to.eql(z.rangeByScore(8).length);\nchai_1.expect(z.count(3, 7)).to.eql(z.rangeByScore(3, 7).length);\nchai_1.expect(z.count(5, 14)).to.eql(z.rangeByScore(5, 14).length);\nchai_1.expect(z.count(5, 5)).to.eql(z.rangeByScore(5, 5).length);\nchai_1.expect(z.count(5, 0)).to.eql(z.rangeByScore(5, 0).length);\nchai_1.expect(z.count(30, 32)).to.eql(z.rangeByScore(30, 32).length);\nchai_1.expect(z.count(40)).to.eql(z.rangeByScore(40).length);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;63370d25-eee6-47ab-a1dd-9f99433b511d&quot;,&quot;parentUUID&quot;:&quot;bfca38ed-2bef-4ece-9d60-7ff8f4699247&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;63370d25-eee6-47ab-a1dd-9f99433b511d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;cb69c744-6908-4a8e-8037-60b6b0406a9b&quot;,&quot;title&quot;:&quot;#range&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support special ranges&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #range should support special ranges&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;first&#x27;, 1);\nz.add(&#x27;second&#x27;, 2);\nz.add(&#x27;third&#x27;, 3);\nz.add(&#x27;fourth&#x27;, 4);\nvar array = [&#x27;first&#x27;, &#x27;second&#x27;, &#x27;third&#x27;, &#x27;fourth&#x27;];\nchai_1.expect(z.range()).to.eql(array);\nchai_1.expect(z.range(2)).to.eql(array.slice(2));\nchai_1.expect(z.range(8)).to.eql(array.slice(8));\nchai_1.expect(z.range(0, 2)).to.eql(array.slice(0, 3));\nchai_1.expect(z.range(-1)).to.eql([&#x27;fourth&#x27;]);\nchai_1.expect(z.range(-4)).to.eql(array);\nchai_1.expect(z.range(-4, -2)).to.eql(array.slice(0, 3));\nchai_1.expect(z.range(-4, z.length + 1000))\n    .to.eql(array.slice(-4, z.length + 1000));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ffba29a8-b4c7-4899-acf9-00b36ef6c820&quot;,&quot;parentUUID&quot;:&quot;cb69c744-6908-4a8e-8037-60b6b0406a9b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support withScores&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #range should support withScores&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;first&#x27;, 1);\nz.add(&#x27;second&#x27;, 2);\nchai_1.expect(z.range(0, 0, { withScores: true }))\n    .to.eql([[&#x27;first&#x27;, 1]]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;994abcf5-f298-4ef6-be1b-8468efe77a4e&quot;,&quot;parentUUID&quot;:&quot;cb69c744-6908-4a8e-8037-60b6b0406a9b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ffba29a8-b4c7-4899-acf9-00b36ef6c820&quot;,&quot;994abcf5-f298-4ef6-be1b-8468efe77a4e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;bf438bac-c32b-4604-8e29-711d141a6116&quot;,&quot;title&quot;:&quot;#intersect&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should intersect two sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #intersect should intersect two sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var a = new Z(), b = new Z();\na.add(&#x27;5a600e10&#x27;, 16);\na.add(&#x27;5a600e12&#x27;, 10);\na.add(&#x27;5a600e14&#x27;, 9);\na.add(&#x27;5a600e15&#x27;, 14);\na.add(&#x27;5a600e17&#x27;, 20);\na.add(&#x27;5a600e18&#x27;, 13);\na.add(&#x27;5a600e19&#x27;, 15);\na.add(&#x27;5a600e1a&#x27;, 19);\na.add(&#x27;5a600e1b&#x27;, 7);\na.add(&#x27;5a600e1c&#x27;, 13);\na.add(&#x27;5a600e1e&#x27;, 10);\nb.add(&#x27;5a600e10&#x27;, 0);\nb.add(&#x27;5a600e11&#x27;, 15);\nb.add(&#x27;5a600e13&#x27;, 5);\nb.add(&#x27;5a600e14&#x27;, 3);\nb.add(&#x27;5a600e15&#x27;, 14);\nb.add(&#x27;5a600e17&#x27;, 12);\nb.add(&#x27;5a600e19&#x27;, 12);\nb.add(&#x27;5a600e1b&#x27;, 16);\nb.add(&#x27;5a600e1c&#x27;, 12);\nb.add(&#x27;5a600e1d&#x27;, 17);\nb.add(&#x27;5a600e1f&#x27;, 3);\nchai_1.expect(Z.intersect(a, b)).to.eql([&#x27;5a600e10&#x27;, &#x27;5a600e14&#x27;,\n    &#x27;5a600e17&#x27;, &#x27;5a600e19&#x27;, &#x27;5a600e1c&#x27;, &#x27;5a600e15&#x27;, &#x27;5a600e1b&#x27;]);\nchai_1.expect(Z.intersect(b, a)).to.eql([&#x27;5a600e1b&#x27;, &#x27;5a600e14&#x27;,\n    &#x27;5a600e1c&#x27;, &#x27;5a600e15&#x27;, &#x27;5a600e19&#x27;, &#x27;5a600e10&#x27;, &#x27;5a600e17&#x27;]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e1dd9701-b88f-4325-bbc3-319b8ffc1cba&quot;,&quot;parentUUID&quot;:&quot;bf438bac-c32b-4604-8e29-711d141a6116&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should intersect three sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #intersect should intersect three sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var a = new Z(), b = new Z(), c = new Z();\na.add(&#x27;5a600e10&#x27;, 16);\na.add(&#x27;5a600e12&#x27;, 10);\na.add(&#x27;5a600e14&#x27;, 9);\na.add(&#x27;5a600e15&#x27;, 14);\na.add(&#x27;5a600e17&#x27;, 20);\na.add(&#x27;5a600e18&#x27;, 13);\na.add(&#x27;5a600e19&#x27;, 15);\na.add(&#x27;5a600e1a&#x27;, 19);\na.add(&#x27;5a600e1b&#x27;, 7);\na.add(&#x27;5a600e1c&#x27;, 13);\na.add(&#x27;5a600e1e&#x27;, 10);\nb.add(&#x27;5a600e10&#x27;, 0);\nb.add(&#x27;5a600e11&#x27;, 15);\nb.add(&#x27;5a600e13&#x27;, 5);\nb.add(&#x27;5a600e14&#x27;, 3);\nb.add(&#x27;5a600e15&#x27;, 14);\nb.add(&#x27;5a600e17&#x27;, 12);\nb.add(&#x27;5a600e19&#x27;, 12);\nb.add(&#x27;5a600e1b&#x27;, 16);\nb.add(&#x27;5a600e1c&#x27;, 12);\nb.add(&#x27;5a600e1d&#x27;, 17);\nb.add(&#x27;5a600e1f&#x27;, 3);\nc.add(&#x27;5a600e10&#x27;, 7);\nc.add(&#x27;5a600e12&#x27;, 20);\nc.add(&#x27;5a600e13&#x27;, 9);\nc.add(&#x27;5a600e14&#x27;, 19);\nc.add(&#x27;5a600e16&#x27;, 19);\nc.add(&#x27;5a600e17&#x27;, 1);\nc.add(&#x27;5a600e18&#x27;, 18);\nc.add(&#x27;5a600e1a&#x27;, 6);\nc.add(&#x27;5a600e1c&#x27;, 15);\nc.add(&#x27;5a600e1f&#x27;, 4);\nchai_1.expect(Z.intersect(c, a, b)).to.eql([&#x27;5a600e10&#x27;, &#x27;5a600e14&#x27;,\n    &#x27;5a600e17&#x27;, &#x27;5a600e1c&#x27;]);\nchai_1.expect(Z.intersect(c, a, b)).to.eql(c.intersect(a, b));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0f24182e-c75d-4c2a-8b01-c83f533aa92d&quot;,&quot;parentUUID&quot;:&quot;bf438bac-c32b-4604-8e29-711d141a6116&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should intersect four sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #intersect should intersect four sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var a = new Z();\nvar b = new Z();\nvar c = new Z();\nvar d = new Z();\na.add(&#x27;5a600e10&#x27;, 16);\na.add(&#x27;5a600e12&#x27;, 10);\na.add(&#x27;5a600e14&#x27;, 9);\na.add(&#x27;5a600e15&#x27;, 14);\na.add(&#x27;5a600e17&#x27;, 20);\na.add(&#x27;5a600e18&#x27;, 13);\na.add(&#x27;5a600e19&#x27;, 15);\na.add(&#x27;5a600e1a&#x27;, 19);\na.add(&#x27;5a600e1b&#x27;, 7);\na.add(&#x27;5a600e1c&#x27;, 13);\na.add(&#x27;5a600e1e&#x27;, 10);\nb.add(&#x27;5a600e10&#x27;, 0);\nb.add(&#x27;5a600e11&#x27;, 15);\nb.add(&#x27;5a600e13&#x27;, 5);\nb.add(&#x27;5a600e14&#x27;, 3);\nb.add(&#x27;5a600e15&#x27;, 14);\nb.add(&#x27;5a600e17&#x27;, 12);\nb.add(&#x27;5a600e19&#x27;, 12);\nb.add(&#x27;5a600e1b&#x27;, 16);\nb.add(&#x27;5a600e1c&#x27;, 12);\nb.add(&#x27;5a600e1d&#x27;, 17);\nb.add(&#x27;5a600e1f&#x27;, 3);\nc.add(&#x27;5a600e10&#x27;, 7);\nc.add(&#x27;5a600e12&#x27;, 20);\nc.add(&#x27;5a600e13&#x27;, 9);\nc.add(&#x27;5a600e14&#x27;, 19);\nc.add(&#x27;5a600e16&#x27;, 19);\nc.add(&#x27;5a600e17&#x27;, 1);\nc.add(&#x27;5a600e18&#x27;, 18);\nc.add(&#x27;5a600e1a&#x27;, 6);\nc.add(&#x27;5a600e1c&#x27;, 15);\nc.add(&#x27;5a600e1f&#x27;, 4);\nd.add(&#x27;5a600e1c&#x27;, 400);\nd.add(&#x27;5a600e17&#x27;, 500);\nd.add(&#x27;5a600e1f&#x27;, 600);\nd.add(&#x27;5a600e20&#x27;, 700);\nchai_1.expect(Z.intersect(d, c, a, b)).to.eql([&#x27;5a600e17&#x27;, &#x27;5a600e1c&#x27;]);\nchai_1.expect(Z.intersect(d, c, a, b)).to.eql(d.intersect(c, a, b));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2b32a897-a025-4dac-b2bc-e81d9bccca70&quot;,&quot;parentUUID&quot;:&quot;bf438bac-c32b-4604-8e29-711d141a6116&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e1dd9701-b88f-4325-bbc3-319b8ffc1cba&quot;,&quot;0f24182e-c75d-4c2a-8b01-c83f533aa92d&quot;,&quot;2b32a897-a025-4dac-b2bc-e81d9bccca70&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;9087f99b-5c2f-4f49-a937-600e913cc0f9&quot;,&quot;title&quot;:&quot;#rank&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get the correct rank&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #rank should get the correct rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.rank(&#x27;5a600e12&#x27;)).to.equal(7);\nchai_1.expect(z.rank(&#x27;5a600e13&#x27;)).to.equal(3);\nchai_1.expect(z.rank(&#x27;5a600e16&#x27;)).to.equal(0);\nchai_1.expect(z.rank(&#x27;5a600e15&#x27;)).to.equal(8);\nchai_1.expect(z.rank(&#x27;not in set&#x27;)).to.equal(null);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4199341c-58f0-4224-adbe-a3e6c09dc301&quot;,&quot;parentUUID&quot;:&quot;9087f99b-5c2f-4f49-a937-600e913cc0f9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4199341c-58f0-4224-adbe-a3e6c09dc301&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;a6c76083-600c-478a-8098-d26d283e1041&quot;,&quot;title&quot;:&quot;#rem&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete special elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #rem should delete special elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.rem(&#x27;5a600e15&#x27;)).to.equal(19);\nchai_1.expect(z).to.have.length(8);\nchai_1.expect(z.rem(&#x27;5a600e16&#x27;)).to.equal(3);\nchai_1.expect(z).to.have.length(7);\nchai_1.expect(z.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e11&#x27;, 6],\n    [&#x27;5a600e18&#x27;, 10],\n    [&#x27;5a600e13&#x27;, 11],\n    [&#x27;5a600e17&#x27;, 12],\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;02086d42-03ba-4618-ba34-96f2adc7357d&quot;,&quot;parentUUID&quot;:&quot;a6c76083-600c-478a-8098-d26d283e1041&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should delete many elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #rem should delete many elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.rem(&#x27;5a600e11&#x27;)).to.equal(6);\nchai_1.expect(z.rem(&#x27;5a600e13&#x27;)).to.equal(11);\nchai_1.expect(z.rem(&#x27;5a600e14&#x27;)).to.equal(14);\nchai_1.expect(z.rem(&#x27;5a600e15&#x27;)).to.equal(19);\nchai_1.expect(z.rem(&#x27;5a600e16&#x27;)).to.equal(3);\nchai_1.expect(z.rem(&#x27;5a600e17&#x27;)).to.equal(12);\nchai_1.expect(z.length).to.equal(3);\nchai_1.expect(z.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e18&#x27;, 10],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;32337bb6-c711-4ad8-9835-ef5e472b49e7&quot;,&quot;parentUUID&quot;:&quot;a6c76083-600c-478a-8098-d26d283e1041&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;02086d42-03ba-4618-ba34-96f2adc7357d&quot;,&quot;32337bb6-c711-4ad8-9835-ef5e472b49e7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b7bf2a9b-fe4c-4119-bc4a-d9ea56280a74&quot;,&quot;title&quot;:&quot;#remRangeByScore&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should strip out a range of elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #remRangeByScore should strip out a range of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.remRangeByScore(4, 14)).to.equal(5);\nchai_1.expect(z).to.have.length(4);\nchai_1.expect(z.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3d63de53-eac5-421b-bc45-127c2593ba41&quot;,&quot;parentUUID&quot;:&quot;b7bf2a9b-fe4c-4119-bc4a-d9ea56280a74&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should strip out all the elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #remRangeByScore should strip out all the elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.remRangeByScore(3, 19)).to.equal(9);\nchai_1.expect(z).to.have.length(0);\nchai_1.expect(z.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a3239469-935a-4fdf-a749-6487f20ceadf&quot;,&quot;parentUUID&quot;:&quot;b7bf2a9b-fe4c-4119-bc4a-d9ea56280a74&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3d63de53-eac5-421b-bc45-127c2593ba41&quot;,&quot;a3239469-935a-4fdf-a749-6487f20ceadf&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;fe43a118-83d1-40fa-a522-6e43f37baf2e&quot;,&quot;title&quot;:&quot;#remRangeByRank&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should strip out a slice of elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #remRangeByRank should strip out a slice of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.remRangeByRank(1, 6)).to.equal(5);\nchai_1.expect(z).to.have.length(4);\nchai_1.expect(z.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c6dc8e8-40ee-4be4-becf-327623b35364&quot;,&quot;parentUUID&quot;:&quot;fe43a118-83d1-40fa-a522-6e43f37baf2e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should strip out all elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #remRangeByRank should strip out all elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.remRangeByRank(0, 9)).to.equal(9);\nchai_1.expect(z).to.have.length(0);\nchai_1.expect(z.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f50186f1-894b-45b9-908e-b511d9cb3aa1&quot;,&quot;parentUUID&quot;:&quot;fe43a118-83d1-40fa-a522-6e43f37baf2e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6c6dc8e8-40ee-4be4-becf-327623b35364&quot;,&quot;f50186f1-894b-45b9-908e-b511d9cb3aa1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;145f0a65-7f60-4507-8e99-14981cf530d9&quot;,&quot;title&quot;:&quot;#values&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the values&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #values should return the values&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;first&#x27;, -1);\nz.add(&#x27;third&#x27;, 5);\nz.add(&#x27;second&#x27;, 3);\nchai_1.expect(z.values()).to.eql([-1, 3, 5]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0edfd8fa-5800-4034-b22d-5bb6e1d80f11&quot;,&quot;parentUUID&quot;:&quot;145f0a65-7f60-4507-8e99-14981cf530d9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0edfd8fa-5800-4034-b22d-5bb6e1d80f11&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b0b6f3e2-fff8-426f-94ed-333c42c7ae16&quot;,&quot;title&quot;:&quot;unique&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should ensure values are unique&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map unique should ensure values are unique&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z({ unique: true });\nassert.equal(z.keys().length, 0, &#x27;Expected an empty SortedSet&#x27;);\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(() =&gt; {\n    z.add(&#x27;5a600e19&#x27;, 11);\n}).to.throw(/unique/);\n// quick exit test\nchai_1.expect(() =&gt; {\n    z.add(&#x27;5a600dff&#x27;, z._head.next[z._level - 1].next.value);\n}).to.throw(/unique/);\n// this test ensures the key &lt; key check doesn&#x27;t come into play\nchai_1.expect(() =&gt; {\n    z.add(&#x27;5a600dff&#x27;, 11);\n}).to.throw(/unique/);\nchai_1.expect(() =&gt; {\n    z.add(&#x27;5a600e18&#x27;, 10);\n}).to.not.throw();\nchai_1.expect(z).to.have.length(9);\nchai_1.expect(z.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e11&#x27;, 6],\n    [&#x27;5a600e18&#x27;, 10],\n    [&#x27;5a600e13&#x27;, 11],\n    [&#x27;5a600e17&#x27;, 12],\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;30abc9fb-17c9-4889-b030-adedadd01d91&quot;,&quot;parentUUID&quot;:&quot;b0b6f3e2-fff8-426f-94ed-333c42c7ae16&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert keys if constraint broken during update&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map unique should revert keys if constraint broken during update&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z({ unique: true });\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(() =&gt; {\n    z.add(&#x27;5a600e13&#x27;, 14);\n}).to.throw(/unique/);\nchai_1.expect(z).to.have.length(9);\nchai_1.expect(z.score(&#x27;5a600e13&#x27;)).to.equal(11);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;db30ea51-fb34-453c-9933-20f2e547277d&quot;,&quot;parentUUID&quot;:&quot;b0b6f3e2-fff8-426f-94ed-333c42c7ae16&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;30abc9fb-17c9-4889-b030-adedadd01d91&quot;,&quot;db30ea51-fb34-453c-9933-20f2e547277d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[&quot;a196e06f-0d3b-4c32-b479-1a350803a2ec&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;7aaefc77-5180-4d9b-ad23-2b6759c46ff1&quot;,&quot;title&quot;:&quot;skip map rewrite&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support basic operations&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite should support basic operations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nchai_1.expect(ss).to.have.length(0);\nchai_1.expect(ss.toArray()).to.eql([]);\nchai_1.expect(ss.range()).to.eql([]);\nchai_1.expect(ss.rangeByScore()).to.eql([]);\n// expect(() =&gt; {\n//   ss.add(&#x27;__proto__&#x27;, 14);\n// }).to.throw();\nss.add(&#x27;5a600e16&#x27;, 8);\nss.add(&#x27;5a600e17&#x27;, 9);\nchai_1.expect(ss.add(&#x27;5a600e18&#x27;, 10)).to.equal(null);\nchai_1.expect(ss.add(&#x27;5a600e17&#x27;, 12)).to.equal(9);\nchai_1.expect(ss).to.have.length(3);\nchai_1.expect(ss.toArray()).to.eql([&#x27;5a600e16&#x27;, &#x27;5a600e18&#x27;, &#x27;5a600e17&#x27;]);\nchai_1.expect(ss.toArray()).to.eql(ss.range(0, -1));\nchai_1.expect(ss.toArray()).to.eql(ss.rangeByScore());\nchai_1.expect(ss.has(&#x27;5a600e16&#x27;)).to.be.ok;\nchai_1.expect(ss.has(&#x27;5a600e17&#x27;)).to.be.ok;\nchai_1.expect(ss.has(&#x27;5a600e18&#x27;)).to.be.ok;\nchai_1.expect(ss.has(&#x27;5a600e19&#x27;)).to.not.be.ok;\nchai_1.expect(ss.score(&#x27;5a600e16&#x27;)).to.equal(8);\nchai_1.expect(ss.score(&#x27;5a600e17&#x27;)).to.equal(12);\nchai_1.expect(ss.score(&#x27;5a600e18&#x27;)).to.equal(10);\nchai_1.expect(ss.score(&#x27;5a600e19&#x27;)).to.equal(null);\nchai_1.expect(ss.rem(&#x27;5a600e16&#x27;)).to.equal(8);\nchai_1.expect(ss).to.have.length(2);\nchai_1.expect(ss.rem(&#x27;5a600e16&#x27;)).to.equal(null);\nchai_1.expect(ss).to.have.length(2);\nchai_1.expect(ss.has(&#x27;5a600e16&#x27;)).to.not.be.ok;\nchai_1.expect(ss.toArray()).to.eql([&#x27;5a600e18&#x27;, &#x27;5a600e17&#x27;]);\nchai_1.expect(ss.toArray({ withScores: true }))\n    .to.eql(ss.range(0, -1, { withScores: true }));\nchai_1.expect(ss.toArray()).to.eql(ss.rangeByScore());\nss.add(&#x27;5a600e16&#x27;, 10);\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nchai_1.expect(ss).to.have.length(9);\n// no change, so should be O(1)\nss.add(&#x27;5a600e17&#x27;, 12);\nchai_1.expect(ss.rank(&#x27;5a600e17&#x27;)).to.equal(4);\nchai_1.expect(ss).to.have.length(9);\nchai_1.expect(ss.toArray()).to.eql([\n    &#x27;5a600e16&#x27;,\n    &#x27;5a600e11&#x27;,\n    &#x27;5a600e18&#x27;,\n    &#x27;5a600e13&#x27;,\n    &#x27;5a600e17&#x27;,\n    &#x27;5a600e14&#x27;,\n    &#x27;5a600e10&#x27;,\n    &#x27;5a600e12&#x27;,\n    &#x27;5a600e15&#x27;,\n]);\nchai_1.expect(ss.toArray()).to.eql(ss.range(0, -1));\nchai_1.expect(ss.toArray()).to.eql(ss.rangeByScore());\nchai_1.expect(ss.rangeByScore(14, 16, { withScores: true })).to.eql([\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6cf74786-47d4-4b72-8b5c-5443e3def6c8&quot;,&quot;parentUUID&quot;:&quot;7aaefc77-5180-4d9b-ad23-2b6759c46ff1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;d1a930b1-4a7d-4d47-9edc-33e4670e9bee&quot;,&quot;title&quot;:&quot;#add&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should implicitly delete&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #add should implicitly delete&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.add(&#x27;5a600e14&#x27;, null)).to.equal(14);\nchai_1.expect(ss.add(&#x27;5a600e19&#x27;, null)).to.equal(null);\nchai_1.expect(ss).to.have.length(8);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a04df464-69c7-47e9-82c5-d0315378e74a&quot;,&quot;parentUUID&quot;:&quot;d1a930b1-4a7d-4d47-9edc-33e4670e9bee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a04df464-69c7-47e9-82c5-d0315378e74a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;76835a11-f4f4-42bd-bfd5-f68036ecdd18&quot;,&quot;title&quot;:&quot;#empty&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove all elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #empty should remove all elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nss.empty();\nchai_1.expect(ss).to.have.length(0);\nchai_1.expect(ss.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ab5947e4-742c-46e4-a013-40d4b2d4696e&quot;,&quot;parentUUID&quot;:&quot;76835a11-f4f4-42bd-bfd5-f68036ecdd18&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ab5947e4-742c-46e4-a013-40d4b2d4696e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;d4d03fd3-d507-4517-ba04-daf15c087e81&quot;,&quot;title&quot;:&quot;#incrBy(increment, key)&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should increase rank&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #incrBy(increment, key) should increase rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;first&#x27;, 1);\nss.add(&#x27;second&#x27;, 2);\nss.add(&#x27;third&#x27;, 3);\nss.add(&#x27;fourth&#x27;, 4);\nchai_1.expect(ss.incrBy(2, &#x27;first&#x27;)).to.equal(3);\nchai_1.expect(ss.rank(&#x27;first&#x27;)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a7e500f3-7d83-4dc1-b23f-a314e7846d6f&quot;,&quot;parentUUID&quot;:&quot;d4d03fd3-d507-4517-ba04-daf15c087e81&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create if not found&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #incrBy(increment, key) should create if not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;first&#x27;, 1);\nss.incrBy(2, &#x27;second&#x27;);\nchai_1.expect(ss.card()).to.equal(2);\nchai_1.expect(ss.rank(&#x27;second&#x27;)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;743d0a38-f5ac-4b0a-ada7-f9f9a8c858f8&quot;,&quot;parentUUID&quot;:&quot;d4d03fd3-d507-4517-ba04-daf15c087e81&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a7e500f3-7d83-4dc1-b23f-a314e7846d6f&quot;,&quot;743d0a38-f5ac-4b0a-ada7-f9f9a8c858f8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;1eec2ea5-7754-41a2-97eb-906f1a379326&quot;,&quot;title&quot;:&quot;#keys&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the keys&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #keys should return the keys&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.keys()).to.eql([&#x27;5a600e16&#x27;, &#x27;5a600e11&#x27;, &#x27;5a600e18&#x27;, &#x27;5a600e13&#x27;,\n    &#x27;5a600e17&#x27;, &#x27;5a600e14&#x27;, &#x27;5a600e10&#x27;, &#x27;5a600e12&#x27;, &#x27;5a600e15&#x27;]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;940becd3-c64d-4ad5-9052-c126e4888f37&quot;,&quot;parentUUID&quot;:&quot;1eec2ea5-7754-41a2-97eb-906f1a379326&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;940becd3-c64d-4ad5-9052-c126e4888f37&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;0b93861f-7d00-4c87-a431-4c58f155713e&quot;,&quot;title&quot;:&quot;#rangeByScore&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support special ranges&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #rangeByScore should support special ranges&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.rangeByScore(14, null, { withScores: true })).to.eql([\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);\nchai_1.expect(ss.rangeByScore(null, 10, { withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e11&#x27;, 6],\n    [&#x27;5a600e18&#x27;, 10],\n]);\nchai_1.expect(ss.rangeByScore(-Infinity, Infinity)).to.eql(ss.toArray());\nchai_1.expect(ss.rangeByScore(null, null)).to.eql(ss.toArray());&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7b656952-231a-4418-b037-d87b83ff13eb&quot;,&quot;parentUUID&quot;:&quot;0b93861f-7d00-4c87-a431-4c58f155713e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7b656952-231a-4418-b037-d87b83ff13eb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;9ec14391-d3b2-4b20-ad05-d44555fc7c5f&quot;,&quot;title&quot;:&quot;#count&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should count elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #count should count elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nchai_1.expect(ss.count()).to.equal(0);\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nss.add(&#x27;5a600e19&#x27;, 14);\nss.add(&#x27;5a600f00&#x27;, 30.0);\nss.add(&#x27;5a600f01&#x27;, 30.5);\nss.add(&#x27;5a600f02&#x27;, 31.0);\nss.add(&#x27;5a600f03&#x27;, 31.5);\nss.add(&#x27;5a600f04&#x27;, 32.0);\nss.add(&#x27;5a600f05&#x27;, 32.0);\nss.add(&#x27;5a600f06&#x27;, 32.0);\nchai_1.expect(ss.count()).to.eql(ss.rangeByScore().length);\nchai_1.expect(ss.count(8)).to.eql(ss.rangeByScore(8).length);\nchai_1.expect(ss.count(3, 7)).to.eql(ss.rangeByScore(3, 7).length);\nchai_1.expect(ss.count(5, 14)).to.eql(ss.rangeByScore(5, 14).length);\nchai_1.expect(ss.count(5, 5)).to.eql(ss.rangeByScore(5, 5).length);\nchai_1.expect(ss.count(5, 0)).to.eql(ss.rangeByScore(5, 0).length);\nchai_1.expect(ss.count(30, 32)).to.eql(ss.rangeByScore(30, 32).length);\nchai_1.expect(ss.count(40)).to.eql(ss.rangeByScore(40).length);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3d239249-d705-44c4-a25f-469c5203054b&quot;,&quot;parentUUID&quot;:&quot;9ec14391-d3b2-4b20-ad05-d44555fc7c5f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3d239249-d705-44c4-a25f-469c5203054b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;44b692cd-a44f-4f9b-b1f2-a33c7e5efd17&quot;,&quot;title&quot;:&quot;#range&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support special ranges&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #range should support special ranges&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;first&#x27;, 1);\nss.add(&#x27;second&#x27;, 2);\nss.add(&#x27;third&#x27;, 3);\nss.add(&#x27;fourth&#x27;, 4);\nlet array = [&#x27;first&#x27;, &#x27;second&#x27;, &#x27;third&#x27;, &#x27;fourth&#x27;];\nchai_1.expect(ss.range()).to.eql(array);\nchai_1.expect(ss.range(2)).to.eql(array.slice(2));\nchai_1.expect(ss.range(8)).to.eql(array.slice(8));\nchai_1.expect(ss.range(0, 2)).to.eql(array.slice(0, 3));\nchai_1.expect(ss.range(-1)).to.eql([&#x27;fourth&#x27;]);\nchai_1.expect(ss.range(-4)).to.eql(array);\nchai_1.expect(ss.range(-4, -2)).to.eql(array.slice(0, 3));\nchai_1.expect(ss.range(-4, ss.length + 1000))\n    .to.eql(array.slice(-4, ss.length + 1000));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a25bb615-3ef2-4aa9-8c6a-f5e6d0915e88&quot;,&quot;parentUUID&quot;:&quot;44b692cd-a44f-4f9b-b1f2-a33c7e5efd17&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support withScores&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #range should support withScores&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;first&#x27;, 1);\nss.add(&#x27;second&#x27;, 2);\nchai_1.expect(ss.range(0, 0, { withScores: true }))\n    .to.eql([[&#x27;first&#x27;, 1]]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;52722df5-fa58-43b2-9985-a11bc5060906&quot;,&quot;parentUUID&quot;:&quot;44b692cd-a44f-4f9b-b1f2-a33c7e5efd17&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a25bb615-3ef2-4aa9-8c6a-f5e6d0915e88&quot;,&quot;52722df5-fa58-43b2-9985-a11bc5060906&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;e792c355-16de-40ca-aafa-2a4f805390c6&quot;,&quot;title&quot;:&quot;#intersect&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should intersect two sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #intersect should intersect two sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let a = new sorted_set_1.SortedSet(), b = new sorted_set_1.SortedSet();\na.add(&#x27;5a600e10&#x27;, 16);\na.add(&#x27;5a600e12&#x27;, 10);\na.add(&#x27;5a600e14&#x27;, 9);\na.add(&#x27;5a600e15&#x27;, 14);\na.add(&#x27;5a600e17&#x27;, 20);\na.add(&#x27;5a600e18&#x27;, 13);\na.add(&#x27;5a600e19&#x27;, 15);\na.add(&#x27;5a600e1a&#x27;, 19);\na.add(&#x27;5a600e1b&#x27;, 7);\na.add(&#x27;5a600e1c&#x27;, 13);\na.add(&#x27;5a600e1e&#x27;, 10);\nb.add(&#x27;5a600e10&#x27;, 0);\nb.add(&#x27;5a600e11&#x27;, 15);\nb.add(&#x27;5a600e13&#x27;, 5);\nb.add(&#x27;5a600e14&#x27;, 3);\nb.add(&#x27;5a600e15&#x27;, 14);\nb.add(&#x27;5a600e17&#x27;, 12);\nb.add(&#x27;5a600e19&#x27;, 12);\nb.add(&#x27;5a600e1b&#x27;, 16);\nb.add(&#x27;5a600e1c&#x27;, 12);\nb.add(&#x27;5a600e1d&#x27;, 17);\nb.add(&#x27;5a600e1f&#x27;, 3);\nchai_1.expect(sorted_set_1.SortedSet.intersect(a, b)).to.eql([&#x27;5a600e10&#x27;, &#x27;5a600e14&#x27;,\n    &#x27;5a600e17&#x27;, &#x27;5a600e19&#x27;, &#x27;5a600e1c&#x27;, &#x27;5a600e15&#x27;, &#x27;5a600e1b&#x27;]);\nchai_1.expect(sorted_set_1.SortedSet.intersect(b, a)).to.eql([&#x27;5a600e1b&#x27;, &#x27;5a600e14&#x27;,\n    &#x27;5a600e1c&#x27;, &#x27;5a600e15&#x27;, &#x27;5a600e19&#x27;, &#x27;5a600e10&#x27;, &#x27;5a600e17&#x27;]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b359205-ac45-4860-8156-72a1f4fe1624&quot;,&quot;parentUUID&quot;:&quot;e792c355-16de-40ca-aafa-2a4f805390c6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should intersect three sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #intersect should intersect three sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let a = new sorted_set_1.SortedSet(), b = new sorted_set_1.SortedSet(), c = new sorted_set_1.SortedSet();\na.add(&#x27;5a600e10&#x27;, 16);\na.add(&#x27;5a600e12&#x27;, 10);\na.add(&#x27;5a600e14&#x27;, 9);\na.add(&#x27;5a600e15&#x27;, 14);\na.add(&#x27;5a600e17&#x27;, 20);\na.add(&#x27;5a600e18&#x27;, 13);\na.add(&#x27;5a600e19&#x27;, 15);\na.add(&#x27;5a600e1a&#x27;, 19);\na.add(&#x27;5a600e1b&#x27;, 7);\na.add(&#x27;5a600e1c&#x27;, 13);\na.add(&#x27;5a600e1e&#x27;, 10);\nb.add(&#x27;5a600e10&#x27;, 0);\nb.add(&#x27;5a600e11&#x27;, 15);\nb.add(&#x27;5a600e13&#x27;, 5);\nb.add(&#x27;5a600e14&#x27;, 3);\nb.add(&#x27;5a600e15&#x27;, 14);\nb.add(&#x27;5a600e17&#x27;, 12);\nb.add(&#x27;5a600e19&#x27;, 12);\nb.add(&#x27;5a600e1b&#x27;, 16);\nb.add(&#x27;5a600e1c&#x27;, 12);\nb.add(&#x27;5a600e1d&#x27;, 17);\nb.add(&#x27;5a600e1f&#x27;, 3);\nc.add(&#x27;5a600e10&#x27;, 7);\nc.add(&#x27;5a600e12&#x27;, 20);\nc.add(&#x27;5a600e13&#x27;, 9);\nc.add(&#x27;5a600e14&#x27;, 19);\nc.add(&#x27;5a600e16&#x27;, 19);\nc.add(&#x27;5a600e17&#x27;, 1);\nc.add(&#x27;5a600e18&#x27;, 18);\nc.add(&#x27;5a600e1a&#x27;, 6);\nc.add(&#x27;5a600e1c&#x27;, 15);\nc.add(&#x27;5a600e1f&#x27;, 4);\nchai_1.expect(sorted_set_1.SortedSet.intersect(c, a, b)).to.eql([&#x27;5a600e10&#x27;, &#x27;5a600e14&#x27;,\n    &#x27;5a600e17&#x27;, &#x27;5a600e1c&#x27;]);\n// expect(SortedSet.intersect(c, a, b)).to.eql(c.intersect(a, b));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;edb85d0f-9223-417b-841e-d87de0e8ae1f&quot;,&quot;parentUUID&quot;:&quot;e792c355-16de-40ca-aafa-2a4f805390c6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should intersect four sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #intersect should intersect four sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let a = new sorted_set_1.SortedSet();\nlet b = new sorted_set_1.SortedSet();\nlet c = new sorted_set_1.SortedSet();\nlet d = new sorted_set_1.SortedSet();\na.add(&#x27;5a600e10&#x27;, 16);\na.add(&#x27;5a600e12&#x27;, 10);\na.add(&#x27;5a600e14&#x27;, 9);\na.add(&#x27;5a600e15&#x27;, 14);\na.add(&#x27;5a600e17&#x27;, 20);\na.add(&#x27;5a600e18&#x27;, 13);\na.add(&#x27;5a600e19&#x27;, 15);\na.add(&#x27;5a600e1a&#x27;, 19);\na.add(&#x27;5a600e1b&#x27;, 7);\na.add(&#x27;5a600e1c&#x27;, 13);\na.add(&#x27;5a600e1e&#x27;, 10);\nb.add(&#x27;5a600e10&#x27;, 0);\nb.add(&#x27;5a600e11&#x27;, 15);\nb.add(&#x27;5a600e13&#x27;, 5);\nb.add(&#x27;5a600e14&#x27;, 3);\nb.add(&#x27;5a600e15&#x27;, 14);\nb.add(&#x27;5a600e17&#x27;, 12);\nb.add(&#x27;5a600e19&#x27;, 12);\nb.add(&#x27;5a600e1b&#x27;, 16);\nb.add(&#x27;5a600e1c&#x27;, 12);\nb.add(&#x27;5a600e1d&#x27;, 17);\nb.add(&#x27;5a600e1f&#x27;, 3);\nc.add(&#x27;5a600e10&#x27;, 7);\nc.add(&#x27;5a600e12&#x27;, 20);\nc.add(&#x27;5a600e13&#x27;, 9);\nc.add(&#x27;5a600e14&#x27;, 19);\nc.add(&#x27;5a600e16&#x27;, 19);\nc.add(&#x27;5a600e17&#x27;, 1);\nc.add(&#x27;5a600e18&#x27;, 18);\nc.add(&#x27;5a600e1a&#x27;, 6);\nc.add(&#x27;5a600e1c&#x27;, 15);\nc.add(&#x27;5a600e1f&#x27;, 4);\nd.add(&#x27;5a600e1c&#x27;, 400);\nd.add(&#x27;5a600e17&#x27;, 500);\nd.add(&#x27;5a600e1f&#x27;, 600);\nd.add(&#x27;5a600e20&#x27;, 700);\nchai_1.expect(sorted_set_1.SortedSet.intersect(d, c, a, b)).to.eql([&#x27;5a600e17&#x27;, &#x27;5a600e1c&#x27;]);\n// expect(SortedSet.intersect(d, c, a, b)).to.eql(d.intersect(c, a, b));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a5eca4e3-0f6d-4ac0-a80d-3f5951733080&quot;,&quot;parentUUID&quot;:&quot;e792c355-16de-40ca-aafa-2a4f805390c6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1b359205-ac45-4860-8156-72a1f4fe1624&quot;,&quot;edb85d0f-9223-417b-841e-d87de0e8ae1f&quot;,&quot;a5eca4e3-0f6d-4ac0-a80d-3f5951733080&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;333f6bef-0d2e-4a04-aeab-442907c26835&quot;,&quot;title&quot;:&quot;#rank&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get the correct rank&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #rank should get the correct rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.rank(&#x27;5a600e12&#x27;)).to.equal(7);\nchai_1.expect(ss.rank(&#x27;5a600e13&#x27;)).to.equal(3);\nchai_1.expect(ss.rank(&#x27;5a600e16&#x27;)).to.equal(0);\nchai_1.expect(ss.rank(&#x27;5a600e15&#x27;)).to.equal(8);\nchai_1.expect(ss.rank(&#x27;not in set&#x27;)).to.equal(null);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;818abdab-6ea4-4f3a-a145-2a90216fa999&quot;,&quot;parentUUID&quot;:&quot;333f6bef-0d2e-4a04-aeab-442907c26835&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;818abdab-6ea4-4f3a-a145-2a90216fa999&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;9f167016-e770-4be7-b14f-665d4ecdf318&quot;,&quot;title&quot;:&quot;#rem&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete special elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #rem should delete special elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.rem(&#x27;5a600e15&#x27;)).to.equal(19);\nchai_1.expect(ss).to.have.length(8);\nchai_1.expect(ss.rem(&#x27;5a600e16&#x27;)).to.equal(3);\nchai_1.expect(ss).to.have.length(7);\nchai_1.expect(ss.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e11&#x27;, 6],\n    [&#x27;5a600e18&#x27;, 10],\n    [&#x27;5a600e13&#x27;, 11],\n    [&#x27;5a600e17&#x27;, 12],\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b0a7e044-fd37-4f98-a9b1-8d8a0014fed4&quot;,&quot;parentUUID&quot;:&quot;9f167016-e770-4be7-b14f-665d4ecdf318&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should delete many elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #rem should delete many elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.rem(&#x27;5a600e11&#x27;)).to.equal(6);\nchai_1.expect(ss.rem(&#x27;5a600e13&#x27;)).to.equal(11);\nchai_1.expect(ss.rem(&#x27;5a600e14&#x27;)).to.equal(14);\nchai_1.expect(ss.rem(&#x27;5a600e15&#x27;)).to.equal(19);\nchai_1.expect(ss.rem(&#x27;5a600e16&#x27;)).to.equal(3);\nchai_1.expect(ss.rem(&#x27;5a600e17&#x27;)).to.equal(12);\nchai_1.expect(ss.length).to.equal(3);\nchai_1.expect(ss.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e18&#x27;, 10],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b4b42c2b-8436-46f8-9228-68c3f77a255a&quot;,&quot;parentUUID&quot;:&quot;9f167016-e770-4be7-b14f-665d4ecdf318&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b0a7e044-fd37-4f98-a9b1-8d8a0014fed4&quot;,&quot;b4b42c2b-8436-46f8-9228-68c3f77a255a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;3908bdab-bce1-4912-908a-ff271f69bb21&quot;,&quot;title&quot;:&quot;#remRangeByScore&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should strip out a range of elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #remRangeByScore should strip out a range of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.remRangeByScore(4, 14)).to.equal(5);\nchai_1.expect(ss).to.have.length(4);\nchai_1.expect(ss.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dbbc6312-df10-4f25-81cf-6950108fd42b&quot;,&quot;parentUUID&quot;:&quot;3908bdab-bce1-4912-908a-ff271f69bb21&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should strip out all the elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #remRangeByScore should strip out all the elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.remRangeByScore(3, 19)).to.equal(9);\nchai_1.expect(ss).to.have.length(0);\nchai_1.expect(ss.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4042dca5-c44e-45bc-b975-b89408ad2127&quot;,&quot;parentUUID&quot;:&quot;3908bdab-bce1-4912-908a-ff271f69bb21&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;dbbc6312-df10-4f25-81cf-6950108fd42b&quot;,&quot;4042dca5-c44e-45bc-b975-b89408ad2127&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;42754d06-1f44-4424-ae26-2001b67e5208&quot;,&quot;title&quot;:&quot;#remRangeByRank&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should strip out a slice of elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #remRangeByRank should strip out a slice of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.remRangeByRank(1, 6)).to.equal(5);\nchai_1.expect(ss).to.have.length(4);\nchai_1.expect(ss.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b1ec4081-3f8a-4774-813e-479a4b943110&quot;,&quot;parentUUID&quot;:&quot;42754d06-1f44-4424-ae26-2001b67e5208&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should strip out all elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #remRangeByRank should strip out all elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.remRangeByRank(0, 9)).to.equal(9);\nchai_1.expect(ss).to.have.length(0);\nchai_1.expect(ss.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;54111d0c-3ce8-487e-ac4b-c6b2a9c11a91&quot;,&quot;parentUUID&quot;:&quot;42754d06-1f44-4424-ae26-2001b67e5208&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b1ec4081-3f8a-4774-813e-479a4b943110&quot;,&quot;54111d0c-3ce8-487e-ac4b-c6b2a9c11a91&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;47434abc-725f-42fc-adda-29eed6728f77&quot;,&quot;title&quot;:&quot;#values&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the values&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #values should return the values&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;first&#x27;, -1);\nss.add(&#x27;third&#x27;, 5);\nss.add(&#x27;second&#x27;, 3);\nchai_1.expect(ss.values()).to.eql([-1, 3, 5]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;45b84048-6987-4109-9c88-5dec5e3af6c0&quot;,&quot;parentUUID&quot;:&quot;47434abc-725f-42fc-adda-29eed6728f77&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;45b84048-6987-4109-9c88-5dec5e3af6c0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;c163e9fe-d237-4e5b-a9fb-124ce8ec657a&quot;,&quot;title&quot;:&quot;unique rewrite&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should ensure values are unique&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite unique rewrite should ensure values are unique&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const options = { unique: true };\nlet ss = new sorted_set_1.SortedSet(options);\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(() =&gt; {\n    ss.add(&#x27;5a600e19&#x27;, 11);\n}).to.throw(/unique/);\n// quick exit test\nchai_1.expect(() =&gt; {\n    ss.add(&#x27;5a600dff&#x27;, ss._head.next[ss._level - 1].next.value);\n}).to.throw(/unique/);\n// this test ensures the key &lt; key check doesn&#x27;t come into play\nchai_1.expect(() =&gt; {\n    ss.add(&#x27;5a600dff&#x27;, 11);\n}).to.throw(/unique/);\nchai_1.expect(() =&gt; {\n    ss.add(&#x27;5a600e18&#x27;, 10);\n}).to.not.throw();\nchai_1.expect(ss).to.have.length(9);\nchai_1.expect(ss.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e11&#x27;, 6],\n    [&#x27;5a600e18&#x27;, 10],\n    [&#x27;5a600e13&#x27;, 11],\n    [&#x27;5a600e17&#x27;, 12],\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb6450fa-37f3-4045-9b7d-05ccb5b10c09&quot;,&quot;parentUUID&quot;:&quot;c163e9fe-d237-4e5b-a9fb-124ce8ec657a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert keys if constraint broken during update&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite unique rewrite should revert keys if constraint broken during update&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet({ unique: true });\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(() =&gt; {\n    ss.add(&#x27;5a600e13&#x27;, 14);\n}).to.throw(/unique/);\nchai_1.expect(ss).to.have.length(9);\nchai_1.expect(ss.score(&#x27;5a600e13&#x27;)).to.equal(11);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7190ea3e-02bb-4fbc-acd2-e0ba11978bda&quot;,&quot;parentUUID&quot;:&quot;c163e9fe-d237-4e5b-a9fb-124ce8ec657a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bb6450fa-37f3-4045-9b7d-05ccb5b10c09&quot;,&quot;7190ea3e-02bb-4fbc-acd2-e0ba11978bda&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[&quot;6cf74786-47d4-4b72-8b5c-5443e3def6c8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[&quot;57838ad9-f790-41f6-8c69-73f5eef68b04&quot;,&quot;c8aeee87-7127-4f62-ae7b-c3fd3d2d020e&quot;,&quot;29e6442f-a45b-4031-82b8-861ac368f3bd&quot;,&quot;fa0909c5-6bd3-4bc1-b316-98f0f8be8d7d&quot;,&quot;990d9c23-293c-4fe0-8cbb-f03bca96eb4b&quot;,&quot;6774857f-cdb3-4153-a185-635a0d883d10&quot;,&quot;484e3173-38bb-46dc-a6b5-c82f141f2545&quot;,&quot;72dfe3af-7af5-433a-8c2b-32180e040272&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;36b1e556-71f4-40fc-81a2-32941bd6446e&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:5000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;6.2.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false},&quot;version&quot;:&quot;4.1.0&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;docs/mochawesome&quot;},&quot;version&quot;:&quot;4.1.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;docs/mochawesome&quot;,&quot;reportTitle&quot;:&quot;redis&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;docs/mochawesome/assets&quot;,&quot;jsonFile&quot;:&quot;/home/lane/git/redis/docs/mochawesome/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/home/lane/git/redis/docs/mochawesome/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>
>>>>>>> 79105fae0be34e6b4af288a7ff21babc57330069
