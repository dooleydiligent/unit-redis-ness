<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:66,&quot;tests&quot;:195,&quot;passes&quot;:194,&quot;pending&quot;:1,&quot;failures&quot;:0,&quot;start&quot;:&quot;2020-01-11T02:22:12.669Z&quot;,&quot;end&quot;:&quot;2020-01-11T02:22:15.273Z&quot;,&quot;duration&quot;:2604,&quot;testsRegistered&quot;:195,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0.5128205128205128,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;17e656a4-0589-4344-86c6-0d94b4e97738&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;done();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a3a471a1-3000-483d-b464-19c320f8fa59&quot;,&quot;parentUUID&quot;:&quot;17e656a4-0589-4344-86c6-0d94b4e97738&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n})&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;025f45f4-9cc7-41de-a704-5a130a08890a&quot;,&quot;parentUUID&quot;:&quot;17e656a4-0589-4344-86c6-0d94b4e97738&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e1bc4fcc-d061-4dce-b1e2-555481ad67cc&quot;,&quot;title&quot;:&quot;dictionary test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/dictionary.test.ts&quot;,&quot;file&quot;:&quot;/test/dictionary.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;dictionary test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;dictionary = new dictionary_1.Dictionary();\nsinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f77e5095-e748-40c3-b6ad-af7e7c130a14&quot;,&quot;parentUUID&quot;:&quot;e1bc4fcc-d061-4dce-b1e2-555481ad67cc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;dictionary test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cfbd4fc3-605c-467c-aaba-662f82f3c82e&quot;,&quot;parentUUID&quot;:&quot;e1bc4fcc-d061-4dce-b1e2-555481ad67cc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;dictionary test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;117251fc-1947-4e5d-8f24-e20c641d33d4&quot;,&quot;parentUUID&quot;:&quot;e1bc4fcc-d061-4dce-b1e2-555481ad67cc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should construct&quot;,&quot;fullTitle&quot;:&quot;dictionary test should construct&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        chai_1.expect(dictionary.constructor.name).to.equal(&#x27;Dictionary&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b40e488f-a755-4107-9233-24f101ad1873&quot;,&quot;parentUUID&quot;:&quot;e1bc4fcc-d061-4dce-b1e2-555481ad67cc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should implement basic put/get/remove/size/clear/contains/exists/keys/values functionality&quot;,&quot;fullTitle&quot;:&quot;dictionary test should implement basic put/get/remove/size/clear/contains/exists/keys/values functionality&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;dictionary.put(&#x27;item&#x27;, &#x27;one&#x27;);\nchai_1.expect(dictionary.exists(&#x27;item&#x27;)).to.equal(true);\nchai_1.expect(dictionary.exists(&#x27;one&#x27;)).to.equal(false);\nchai_1.expect(dictionary.get(&#x27;item&#x27;)).to.equal(&#x27;one&#x27;);\nchai_1.expect(dictionary.size()).to.equal(1);\nchai_1.expect(dictionary.contains(&#x27;one&#x27;)).to.equal(true);\nchai_1.expect(dictionary.keys().length).to.equal(1);\nchai_1.expect(dictionary.values().length).to.equal(1);\ndictionary.put(&#x27;item&#x27;, &#x27;two&#x27;);\nchai_1.expect(dictionary.get(&#x27;item&#x27;)).to.equal(&#x27;two&#x27;);\ndictionary.put(&#x27;one&#x27;, { embedded: true });\ndictionary.remove(&#x27;three&#x27;);\nchai_1.expect(dictionary.size()).to.equal(2);\nlet foundTwo = false;\nfor (const each of dictionary) {\n    if (!foundTwo) {\n        chai_1.expect(each).to.equal(&#x27;two&#x27;);\n        foundTwo = true;\n    }\n    else {\n        chai_1.expect(each).to.eql({ embedded: true });\n    }\n}\ndictionary.remove(&#x27;item&#x27;);\nchai_1.expect(dictionary.size()).to.equal(1);\ndictionary.clear();\nchai_1.expect(dictionary.size()).to.equal(0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;19b9847e-7209-4816-8cd8-22a8915f0b0b&quot;,&quot;parentUUID&quot;:&quot;e1bc4fcc-d061-4dce-b1e2-555481ad67cc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b40e488f-a755-4107-9233-24f101ad1873&quot;,&quot;19b9847e-7209-4816-8cd8-22a8915f0b0b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;9719171e-0c3e-45b7-b5ff-2dcff086a1c9&quot;,&quot;title&quot;:&quot;logger test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/logger.test.ts&quot;,&quot;file&quot;:&quot;/test/logger.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;logger test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd44da62-0f0f-4163-a561-d367ac673faf&quot;,&quot;parentUUID&quot;:&quot;9719171e-0c3e-45b7-b5ff-2dcff086a1c9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;logger test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d7c54758-b77d-4ed7-88b9-e47acd598123&quot;,&quot;parentUUID&quot;:&quot;9719171e-0c3e-45b7-b5ff-2dcff086a1c9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;logger test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;28cbab8a-f6d8-4c8d-b669-befb273f541b&quot;,&quot;parentUUID&quot;:&quot;9719171e-0c3e-45b7-b5ff-2dcff086a1c9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should construct&quot;,&quot;fullTitle&quot;:&quot;logger test should construct&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        logger = new logger_1.Logger(module.id);\n        chai_1.expect(logger.constructor.name).to.equal(&#x27;Logger&#x27;);\n        logger.info(`This is an info message`);\n        logger.warn(&#x27;This is a warning message&#x27;);\n        logger.debug(`This is an invisible debug message`);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1df4a57f-b746-408d-b82f-9855351d3cc5&quot;,&quot;parentUUID&quot;:&quot;9719171e-0c3e-45b7-b5ff-2dcff086a1c9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not construct when initialized with an empty string&quot;,&quot;fullTitle&quot;:&quot;logger test should not construct when initialized with an empty string&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(() =&gt; {\n    logger = new logger_1.Logger(&#x27;&#x27;);\n}).to.throw();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9081e7cc-5cf6-44f8-8536-45a606e2898c&quot;,&quot;parentUUID&quot;:&quot;9719171e-0c3e-45b7-b5ff-2dcff086a1c9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1df4a57f-b746-408d-b82f-9855351d3cc5&quot;,&quot;9081e7cc-5cf6-44f8-8536-45a606e2898c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;121aab6b-af86-4cf8-8023-25ca8b7b00c2&quot;,&quot;title&quot;:&quot;client command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/client-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/client-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;client command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;755d8d67-3c11-4926-8646-18a0ff199fc2&quot;,&quot;parentUUID&quot;:&quot;121aab6b-af86-4cf8-8023-25ca8b7b00c2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;client command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f5d714d5-0007-44f6-a8e1-734c33b7073b&quot;,&quot;parentUUID&quot;:&quot;121aab6b-af86-4cf8-8023-25ca8b7b00c2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;client command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b17ab16-5033-4f28-8fde-eaa5a5fa13f1&quot;,&quot;parentUUID&quot;:&quot;121aab6b-af86-4cf8-8023-25ca8b7b00c2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;client command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8d2da14b-a7ff-4b6f-98fd-3dc82742400a&quot;,&quot;parentUUID&quot;:&quot;121aab6b-af86-4cf8-8023-25ca8b7b00c2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not allow more than 3 parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should not allow more than 3 parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;, &#x27;four&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;client\\&#x27; command&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;99b6164c-ed19-4810-8e0d-17671f413864&quot;,&quot;parentUUID&quot;:&quot;121aab6b-af86-4cf8-8023-25ca8b7b00c2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail predictably when an unknown subcommand is passed&quot;,&quot;fullTitle&quot;:&quot;client command test should fail predictably when an unknown subcommand is passed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;whatever&#x27;]);\n        chai_1.expect(response).to.equal(util.format(DEFAULT_ERROR, &#x27;whatever&#x27;));\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7fdfedc3-e016-45ed-8c68-50e4c62288ad&quot;,&quot;parentUUID&quot;:&quot;121aab6b-af86-4cf8-8023-25ca8b7b00c2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a NIL name when called with \&quot;GETNAME\&quot; subcommand&quot;,&quot;fullTitle&quot;:&quot;client command test should return a NIL name when called with \&quot;GETNAME\&quot; subcommand&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;getname&#x27;]);\n        console.log(`RESPONSE: &#x27;${response}&#x27;`);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;01326f71-868a-477f-862c-849c89bb427b&quot;,&quot;parentUUID&quot;:&quot;121aab6b-af86-4cf8-8023-25ca8b7b00c2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail predictably when \&quot;GETNAME\&quot; is called with too many parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should fail predictably when \&quot;GETNAME\&quot; is called with too many parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;getname&#x27;, &#x27;extra&#x27;]);\n        chai_1.expect(response).to.equal(util.format(DEFAULT_ERROR, &#x27;getname&#x27;));\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8fd2d26f-b6e7-46f1-81b5-0281a90677bd&quot;,&quot;parentUUID&quot;:&quot;121aab6b-af86-4cf8-8023-25ca8b7b00c2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with \&quot;OK\&quot; when \&quot;setname\&quot; is called with a valid name&quot;,&quot;fullTitle&quot;:&quot;client command test should respond with \&quot;OK\&quot; when \&quot;setname\&quot; is called with a valid name&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;setname&#x27;, &#x27;whatever&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;getname&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;whatever&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;24dbde7e-ce11-4253-9836-bd65a6a57de1&quot;,&quot;parentUUID&quot;:&quot;121aab6b-af86-4cf8-8023-25ca8b7b00c2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should persist the value for \&quot;setname\&quot; across tests&quot;,&quot;fullTitle&quot;:&quot;client command test should persist the value for \&quot;setname\&quot; across tests&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;getname&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;whatever&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1535e11b-fb38-47b5-b5f9-549742ebc0c7&quot;,&quot;parentUUID&quot;:&quot;121aab6b-af86-4cf8-8023-25ca8b7b00c2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with a predictable message when \&quot;setname\&quot; called with too many parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should respond with a predictable message when \&quot;setname\&quot; called with too many parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;setname&#x27;, &#x27;test&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(util.format(DEFAULT_ERROR, &#x27;setname&#x27;));\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f6a184ff-37f5-4f4f-a78f-25bea0bf776b&quot;,&quot;parentUUID&quot;:&quot;121aab6b-af86-4cf8-8023-25ca8b7b00c2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not allow whitespace in \&quot;setname\&quot; subcommand&quot;,&quot;fullTitle&quot;:&quot;client command test should not allow whitespace in \&quot;setname\&quot; subcommand&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;setname&#x27;, &#x27;te\\nst&#x27;]);\n        chai_1.expect(response).to.equal(`ReplyError: Client names cannot contain spaces, newlines or special characters.`);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f83286e7-16e1-4c34-9515-0eec3a9ba711&quot;,&quot;parentUUID&quot;:&quot;121aab6b-af86-4cf8-8023-25ca8b7b00c2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the server-assigned client id&quot;,&quot;fullTitle&quot;:&quot;client command test should return the server-assigned client id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;id&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;string&#x27;);\n        chai_1.expect(response.length).to.be.greaterThan(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5333de01-84bd-489c-b918-d0a7d4f5fbd3&quot;,&quot;parentUUID&quot;:&quot;121aab6b-af86-4cf8-8023-25ca8b7b00c2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with a predictable message when \&quot;id\&quot; called with too many parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should respond with a predictable message when \&quot;id\&quot; called with too many parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;id&#x27;, &#x27;test&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(util.format(DEFAULT_ERROR, &#x27;id&#x27;));\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;668d23b3-2e76-4bb8-bf14-545ad5af77ad&quot;,&quot;parentUUID&quot;:&quot;121aab6b-af86-4cf8-8023-25ca8b7b00c2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a bunch of information when client \&quot;list\&quot; subcommand is invoked&quot;,&quot;fullTitle&quot;:&quot;client command test should return a bunch of information when client \&quot;list\&quot; subcommand is invoked&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;list&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;string&#x27;);\n        chai_1.expect(response.length).to.be.greaterThan(0);\n        chai_1.expect(response).to.match(/ name: whatever /);\n        chai_1.expect(response).to.match(/\\bdb:\\s0\\b/);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;84256ceb-a6db-4d3d-9928-d2061a4c8887&quot;,&quot;parentUUID&quot;:&quot;121aab6b-af86-4cf8-8023-25ca8b7b00c2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with a predictable message when \&quot;list\&quot; called with too many parameters&quot;,&quot;fullTitle&quot;:&quot;client command test should respond with a predictable message when \&quot;list\&quot; called with too many parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;client&#x27;, &#x27;list&#x27;, &#x27;test&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(util.format(DEFAULT_ERROR, &#x27;list&#x27;));\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5279be96-1b15-41ef-a491-beeabd5fd38f&quot;,&quot;parentUUID&quot;:&quot;121aab6b-af86-4cf8-8023-25ca8b7b00c2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;99b6164c-ed19-4810-8e0d-17671f413864&quot;,&quot;7fdfedc3-e016-45ed-8c68-50e4c62288ad&quot;,&quot;01326f71-868a-477f-862c-849c89bb427b&quot;,&quot;8fd2d26f-b6e7-46f1-81b5-0281a90677bd&quot;,&quot;24dbde7e-ce11-4253-9836-bd65a6a57de1&quot;,&quot;1535e11b-fb38-47b5-b5f9-549742ebc0c7&quot;,&quot;f6a184ff-37f5-4f4f-a78f-25bea0bf776b&quot;,&quot;f83286e7-16e1-4c34-9515-0eec3a9ba711&quot;,&quot;5333de01-84bd-489c-b918-d0a7d4f5fbd3&quot;,&quot;668d23b3-2e76-4bb8-bf14-545ad5af77ad&quot;,&quot;84256ceb-a6db-4d3d-9928-d2061a4c8887&quot;,&quot;5279be96-1b15-41ef-a491-beeabd5fd38f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:53,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;95efa155-039f-4d9c-8f8f-351630f0e229&quot;,&quot;title&quot;:&quot;flushall-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/db/flushall-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/db/flushall-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushall-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4e60dc22-c7f0-43da-9433-718fca0abf14&quot;,&quot;parentUUID&quot;:&quot;95efa155-039f-4d9c-8f8f-351630f0e229&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushall-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ba538e72-ec7c-4fae-ad80-73f9c04edae0&quot;,&quot;parentUUID&quot;:&quot;95efa155-039f-4d9c-8f8f-351630f0e229&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushall-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad30ac44-9d76-442e-9d75-4608181aa278&quot;,&quot;parentUUID&quot;:&quot;95efa155-039f-4d9c-8f8f-351630f0e229&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushall-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;84d1bb7d-8d58-4304-b05d-1b43b3dba7ea&quot;,&quot;parentUUID&quot;:&quot;95efa155-039f-4d9c-8f8f-351630f0e229&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove all keys from all databases&quot;,&quot;fullTitle&quot;:&quot;flushall-command test should remove all keys from all databases&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:139,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        for (let db = 0; db &lt; 16; db++) {\n            response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, `${db}`]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;dbid&#x27;, `${db}`]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n            chai_1.expect(response).to.equal(1);\n        }\n        response = yield common_test_1.sendCommand(client, [&#x27;flushall&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        for (let db = 0; db &lt; 16; db++) {\n            response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, `${db}`]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n            console.log(`DB is ${db}, dbsize is ${response}`);\n            chai_1.expect(response).to.equal(0);\n        }\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a889b607-eb83-45e8-a50e-307fa012ce8b&quot;,&quot;parentUUID&quot;:&quot;95efa155-039f-4d9c-8f8f-351630f0e229&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a889b607-eb83-45e8-a50e-307fa012ce8b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:139,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;5f011c42-e43f-4f88-9dae-290981286838&quot;,&quot;title&quot;:&quot;flushdb-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/db/flushdb-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/db/flushdb-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushdb-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;612c2408-7ab5-470b-b717-ceb969dd3b0b&quot;,&quot;parentUUID&quot;:&quot;5f011c42-e43f-4f88-9dae-290981286838&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushdb-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8ac6609c-e647-4e36-b54f-3ed73d0173d8&quot;,&quot;parentUUID&quot;:&quot;5f011c42-e43f-4f88-9dae-290981286838&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushdb-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6a769b06-e0c1-4fe8-a412-b18f1593e77d&quot;,&quot;parentUUID&quot;:&quot;5f011c42-e43f-4f88-9dae-290981286838&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;flushdb-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;24130aa1-c72c-48b1-890c-a776e8cb6d37&quot;,&quot;parentUUID&quot;:&quot;5f011c42-e43f-4f88-9dae-290981286838&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove all keys from only the currently selected databases&quot;,&quot;fullTitle&quot;:&quot;flushdb-command test should remove all keys from only the currently selected databases&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:163,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        for (let db = 0; db &lt; 16; db++) {\n            response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, `${db}`]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;dbid&#x27;, `${db}`]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n            chai_1.expect(response).to.equal(1);\n        }\n        for (let db = 0; db &lt; 16; db++) {\n            if (db !== 14) {\n                response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, `${db}`]);\n                chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n                response = yield common_test_1.sendCommand(client, [&#x27;flushdb&#x27;]);\n                chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n                response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;dbid&#x27;]);\n                chai_1.expect(response).to.equal(0);\n                response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n                chai_1.expect(response).to.equal(0);\n            }\n        }\n        response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;14&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;dbid&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;14&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e68de30a-bc48-4509-9375-b3a1b9bee845&quot;,&quot;parentUUID&quot;:&quot;5f011c42-e43f-4f88-9dae-290981286838&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e68de30a-bc48-4509-9375-b3a1b9bee845&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:163,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;3caf576f-90c8-476f-9ed4-51e275f21da4&quot;,&quot;title&quot;:&quot;hget command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/hash/hget-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/hash/hget-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hget command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;02f02c22-0564-4b1c-8603-90a9de3a6ed5&quot;,&quot;parentUUID&quot;:&quot;3caf576f-90c8-476f-9ed4-51e275f21da4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hget command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb4a94a3-1071-44f1-9425-03624e78e44e&quot;,&quot;parentUUID&quot;:&quot;3caf576f-90c8-476f-9ed4-51e275f21da4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hget command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;41b0834b-f2fe-4ac4-bbb8-ae55c5529e4d&quot;,&quot;parentUUID&quot;:&quot;3caf576f-90c8-476f-9ed4-51e275f21da4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hget command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d0515ab4-ea19-427d-8792-3075d06b4ce6&quot;,&quot;parentUUID&quot;:&quot;3caf576f-90c8-476f-9ed4-51e275f21da4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should require exactly 2 parameters&quot;,&quot;fullTitle&quot;:&quot;hget command test should require exactly 2 parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;hget&#x27;, &#x27;test&#x27;])\n    .then((response1) =&gt; {\n    chai_1.expect(response1).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;hget\\&#x27; command&#x27;);\n    common_test_1.sendCommand(new net.Socket(), [&#x27;hget&#x27;, &#x27;test&#x27;, &#x27;one&#x27;, &#x27;two&#x27;])\n        .then((response2) =&gt; {\n        chai_1.expect(response2).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;hget\\&#x27; command&#x27;);\n        common_test_1.sendCommand(new net.Socket(), [&#x27;hget&#x27;, &#x27;test&#x27;, &#x27;one&#x27;])\n            .then((response3) =&gt; {\n            chai_1.expect(response3).to.equal(null);\n            done();\n        });\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;38aa86a4-dff3-44c5-a86a-026ef39f5471&quot;,&quot;parentUUID&quot;:&quot;3caf576f-90c8-476f-9ed4-51e275f21da4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should get a value after it has be set&quot;,&quot;fullTitle&quot;:&quot;hget command test should get a value after it has be set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, &#x27;test&#x27;, &#x27;one&#x27;, &#x27;two&#x27;])\n    .then(() =&gt; {\n    common_test_1.sendCommand(new net.Socket(), [&#x27;hget&#x27;, &#x27;test&#x27;, &#x27;one&#x27;])\n        .then((response) =&gt; {\n        chai_1.expect(response).to.equal(&#x27;two&#x27;);\n        done();\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fc92cf7c-0370-42c9-9012-335f22888068&quot;,&quot;parentUUID&quot;:&quot;3caf576f-90c8-476f-9ed4-51e275f21da4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return nil string when the key exists but the field does not&quot;,&quot;fullTitle&quot;:&quot;hget command test should return nil string when the key exists but the field does not&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;hget&#x27;, &#x27;test&#x27;, &#x27;two&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(null);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b8c399a-cf6c-40fc-9bfe-ecf10cb6adb6&quot;,&quot;parentUUID&quot;:&quot;3caf576f-90c8-476f-9ed4-51e275f21da4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;38aa86a4-dff3-44c5-a86a-026ef39f5471&quot;,&quot;fc92cf7c-0370-42c9-9012-335f22888068&quot;,&quot;3b8c399a-cf6c-40fc-9bfe-ecf10cb6adb6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:15,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;4475e048-e63f-4ed0-a810-6432088b23a8&quot;,&quot;title&quot;:&quot;hset command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/hash/hset-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/hash/hset-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hset command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;24b6ca08-f1e1-4267-9f64-7118c9613a19&quot;,&quot;parentUUID&quot;:&quot;4475e048-e63f-4ed0-a810-6432088b23a8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hset command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f23dba2-f147-403f-b6b2-2f08cd94d30e&quot;,&quot;parentUUID&quot;:&quot;4475e048-e63f-4ed0-a810-6432088b23a8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hset command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;75ca153c-9f8b-4f7d-bac8-782f0a92d4de&quot;,&quot;parentUUID&quot;:&quot;4475e048-e63f-4ed0-a810-6432088b23a8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;hset command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec5fe292-421c-441b-bf16-ec20bce12d54&quot;,&quot;parentUUID&quot;:&quot;4475e048-e63f-4ed0-a810-6432088b23a8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should require a minimum of 3 parameters&quot;,&quot;fullTitle&quot;:&quot;hset command test should require a minimum of 3 parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = safeId();\n        chai_1.expect(uniqueKey).not.to.equal(lastId);\n        lastId = uniqueKey;\n        let response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;hset\\&#x27; command&#x27;);\n        response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, uniqueKey, &#x27;one&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;hset\\&#x27; command&#x27;);\n        response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, uniqueKey, &#x27;one&#x27;, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1759f6d-d2a4-42a5-b1e3-b28f065d5130&quot;,&quot;parentUUID&quot;:&quot;4475e048-e63f-4ed0-a810-6432088b23a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should only accept an odd number of parameters&quot;,&quot;fullTitle&quot;:&quot;hset command test should only accept an odd number of parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = safeId();\n        chai_1.expect(uniqueKey).not.to.equal(lastId);\n        lastId = uniqueKey;\n        const response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, uniqueKey, &#x27;one2&#x27;, &#x27;two&#x27;, &#x27;fail&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;hset\\&#x27; command&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e83cd2d-7b37-4e2a-b4de-27c3f046eecf&quot;,&quot;parentUUID&quot;:&quot;4475e048-e63f-4ed0-a810-6432088b23a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should only report added fields&quot;,&quot;fullTitle&quot;:&quot;hset command test should only report added fields&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = safeId();\n        chai_1.expect(uniqueKey).not.to.equal(lastId);\n        lastId = uniqueKey;\n        let response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, uniqueKey, &#x27;one&#x27;, &#x27;six&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, uniqueKey, &#x27;one&#x27;, &#x27;anothervalue&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hget&#x27;, uniqueKey, &#x27;one&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;anothervalue&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3bed9a1a-37ec-4848-8c75-08c92a36fcf5&quot;,&quot;parentUUID&quot;:&quot;4475e048-e63f-4ed0-a810-6432088b23a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d1759f6d-d2a4-42a5-b1e3-b28f065d5130&quot;,&quot;5e83cd2d-7b37-4e2a-b4de-27c3f046eecf&quot;,&quot;3bed9a1a-37ec-4848-8c75-08c92a36fcf5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:17,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;3183f06a-1590-4672-a62c-e382abc2dcb4&quot;,&quot;title&quot;:&quot;del-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/del-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/del-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;del-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ac076bab-7d07-42b4-a5a7-1f6f5f495100&quot;,&quot;parentUUID&quot;:&quot;3183f06a-1590-4672-a62c-e382abc2dcb4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;del-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b937ffbc-3c03-4874-a266-0fa41d9bc40f&quot;,&quot;parentUUID&quot;:&quot;3183f06a-1590-4672-a62c-e382abc2dcb4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;del-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ad1746a-0335-443f-ae22-0b5f0e79d408&quot;,&quot;parentUUID&quot;:&quot;3183f06a-1590-4672-a62c-e382abc2dcb4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;del-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f1b2ed82-31a3-47ae-9391-211e32b4b6c0&quot;,&quot;parentUUID&quot;:&quot;3183f06a-1590-4672-a62c-e382abc2dcb4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report ZERO when called with no keys present&quot;,&quot;fullTitle&quot;:&quot;del-command test should report ZERO when called with no keys present&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;del&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n    chai_1.expect(response).to.equal(0);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;03cfd7d5-35c4-4cce-b24d-db49505f1392&quot;,&quot;parentUUID&quot;:&quot;3183f06a-1590-4672-a62c-e382abc2dcb4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report the number of keys actually removed&quot;,&quot;fullTitle&quot;:&quot;del-command test should report the number of keys actually removed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const client = new net.Socket();\ncommon_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;key1&#x27;, &#x27;data&#x27;])\n    .then(() =&gt; {\n    common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;key2&#x27;, &#x27;data&#x27;])\n        .then(() =&gt; {\n        common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;key3&#x27;, &#x27;data&#x27;])\n            .then(() =&gt; {\n            common_test_1.sendCommand(client, [&#x27;del&#x27;, &#x27;key1&#x27;, &#x27;key3&#x27;])\n                .then((response) =&gt; {\n                chai_1.expect(response).to.equal(2);\n                done();\n            });\n        });\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;69ce38b0-a0f0-4889-8dac-286a51e173fc&quot;,&quot;parentUUID&quot;:&quot;3183f06a-1590-4672-a62c-e382abc2dcb4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have retained key2 from the previous test&quot;,&quot;fullTitle&quot;:&quot;del-command test should have retained key2 from the previous test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;del&#x27;, &#x27;key2&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(1);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5a81e71-90c2-4d32-9ac6-b2a190442f56&quot;,&quot;parentUUID&quot;:&quot;3183f06a-1590-4672-a62c-e382abc2dcb4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;03cfd7d5-35c4-4cce-b24d-db49505f1392&quot;,&quot;69ce38b0-a0f0-4889-8dac-286a51e173fc&quot;,&quot;d5a81e71-90c2-4d32-9ac6-b2a190442f56&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;726d5078-f28b-4d1c-8518-4368460f1b1a&quot;,&quot;title&quot;:&quot;exists-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/exists-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/exists-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;exists-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    // Set a key with a millisecond TTL to validate exists respects TTL\n    common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;ttlkey&#x27;, &#x27;value&#x27;, &#x27;PX&#x27;, &#x27;3&#x27;])\n        .then(() =&gt; {\n        done();\n    });\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1f255a62-686f-4fb7-86cf-e4e4f2073d55&quot;,&quot;parentUUID&quot;:&quot;726d5078-f28b-4d1c-8518-4368460f1b1a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;exists-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;76047188-f691-4d84-b801-6c35469576fa&quot;,&quot;parentUUID&quot;:&quot;726d5078-f28b-4d1c-8518-4368460f1b1a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;exists-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;83075b8e-3b11-4012-bb10-1fdd38332890&quot;,&quot;parentUUID&quot;:&quot;726d5078-f28b-4d1c-8518-4368460f1b1a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;exists-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;05c11b49-0fd2-4660-aa5d-dab23c4e2afa&quot;,&quot;parentUUID&quot;:&quot;726d5078-f28b-4d1c-8518-4368460f1b1a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report ZERO when none of the specified keys exist&quot;,&quot;fullTitle&quot;:&quot;exists-command test should report ZERO when none of the specified keys exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;exists&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n    chai_1.expect(response).to.equal(0);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;544cfade-d0b7-4b5f-8f83-217aae097f2c&quot;,&quot;parentUUID&quot;:&quot;726d5078-f28b-4d1c-8518-4368460f1b1a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should require at least ONE parameter&quot;,&quot;fullTitle&quot;:&quot;exists-command test should require at least ONE parameter&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;exists&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;exists\\&#x27; command&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e58f6c5-8bf4-4629-b5ff-8a060172bd14&quot;,&quot;parentUUID&quot;:&quot;726d5078-f28b-4d1c-8518-4368460f1b1a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report GREATER THAN ZERO when checking for the same existing key multiple times&quot;,&quot;fullTitle&quot;:&quot;exists-command test should report GREATER THAN ZERO when checking for the same existing key multiple times&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;key&#x27;, &#x27;value&#x27;])\n    .then(() =&gt; {\n    common_test_1.sendCommand(new net.Socket(), [&#x27;exists&#x27;, &#x27;key&#x27;, &#x27;key&#x27;, &#x27;unknownkey&#x27;, &#x27;another&#x27;, &#x27;another&#x27;])\n        .then((response) =&gt; {\n        chai_1.expect(response).to.equal(2);\n        done();\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d4a71a00-0d50-40d6-9804-51d26db10065&quot;,&quot;parentUUID&quot;:&quot;726d5078-f28b-4d1c-8518-4368460f1b1a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respect the TTL value on a key&quot;,&quot;fullTitle&quot;:&quot;exists-command test should respect the TTL value on a key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;exists&#x27;, &#x27;ttlkey&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(0);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;641e1c3f-c621-4557-9048-eb4a7cd06b12&quot;,&quot;parentUUID&quot;:&quot;726d5078-f28b-4d1c-8518-4368460f1b1a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;544cfade-d0b7-4b5f-8f83-217aae097f2c&quot;,&quot;5e58f6c5-8bf4-4629-b5ff-8a060172bd14&quot;,&quot;d4a71a00-0d50-40d6-9804-51d26db10065&quot;,&quot;641e1c3f-c621-4557-9048-eb4a7cd06b12&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:27,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;435326ce-8440-4977-a8c1-8d2b9fbebb0a&quot;,&quot;title&quot;:&quot;expire-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/expire-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/expire-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;expire-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ecdc895e-fe8c-495b-9d82-18cd3b15f496&quot;,&quot;parentUUID&quot;:&quot;435326ce-8440-4977-a8c1-8d2b9fbebb0a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;expire-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;90fd1227-1f8b-428a-b618-fa94d824091e&quot;,&quot;parentUUID&quot;:&quot;435326ce-8440-4977-a8c1-8d2b9fbebb0a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;expire-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c356ea4a-c75a-44d8-af9f-a41abf52f0e9&quot;,&quot;parentUUID&quot;:&quot;435326ce-8440-4977-a8c1-8d2b9fbebb0a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;expire-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d27f775-5424-44bc-b7f0-2e0e2042219a&quot;,&quot;parentUUID&quot;:&quot;435326ce-8440-4977-a8c1-8d2b9fbebb0a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report ZERO when expire called on non-existent key&quot;,&quot;fullTitle&quot;:&quot;expire-command test should report ZERO when expire called on non-existent key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;expire&#x27;, &#x27;no-key&#x27;, &#x27;1000&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ae078d89-280c-4132-8136-b5ca79ef80e3&quot;,&quot;parentUUID&quot;:&quot;435326ce-8440-4977-a8c1-8d2b9fbebb0a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should require an integer value for the ttl parameter&quot;,&quot;fullTitle&quot;:&quot;expire-command test should require an integer value for the ttl parameter&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;mykey&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;expire&#x27;, &#x27;mykey&#x27;, &#x27;10.2&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;expire&#x27;, &#x27;mykey&#x27;, &#x27;ten&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9c336759-7b15-4a74-8d41-a74aea225d17&quot;,&quot;parentUUID&quot;:&quot;435326ce-8440-4977-a8c1-8d2b9fbebb0a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should set the requested ttl on a key&quot;,&quot;fullTitle&quot;:&quot;expire-command test should set the requested ttl on a key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;expire&#x27;, &#x27;mykey&#x27;, &#x27;10000&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;mykey&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4e2dbedd-62af-44ba-ad6a-6ec2105bdbe6&quot;,&quot;parentUUID&quot;:&quot;435326ce-8440-4977-a8c1-8d2b9fbebb0a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should expire a key when we set a negative ttl&quot;,&quot;fullTitle&quot;:&quot;expire-command test should expire a key when we set a negative ttl&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;expire&#x27;, &#x27;mykey&#x27;, &#x27;-1&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;mykey&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;abd110c6-4109-4cb9-afaa-440164abd7e8&quot;,&quot;parentUUID&quot;:&quot;435326ce-8440-4977-a8c1-8d2b9fbebb0a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should work with ZKEYs (and other key types - as yet untested)&quot;,&quot;fullTitle&quot;:&quot;expire-command test should work with ZKEYs (and other key types - as yet untested)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;1&#x27;, &#x27;member&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;zkey&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;expire&#x27;, &#x27;zkey&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        yield setTimeout(() =&gt; __awaiter(void 0, void 0, void 0, function* () {\n            response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;zkey&#x27;]);\n            chai_1.expect(response).to.equal(0);\n        }), 2000);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;25aa1f43-3669-4327-9a86-1b52e89f9504&quot;,&quot;parentUUID&quot;:&quot;435326ce-8440-4977-a8c1-8d2b9fbebb0a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should survive the RENAME operation&quot;,&quot;fullTitle&quot;:&quot;expire-command test should survive the RENAME operation&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;rename-test&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;expire&#x27;, &#x27;rename-test&#x27;, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;rename&#x27;, &#x27;rename-test&#x27;, &#x27;new-name&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;new-name&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;rename-test&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        yield setTimeout(() =&gt; __awaiter(void 0, void 0, void 0, function* () {\n            response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;new-name&#x27;]);\n            chai_1.expect(response).to.equal(0);\n        }), 2000);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;147c109c-86a3-490e-a441-761a48bce46b&quot;,&quot;parentUUID&quot;:&quot;435326ce-8440-4977-a8c1-8d2b9fbebb0a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ae078d89-280c-4132-8136-b5ca79ef80e3&quot;,&quot;9c336759-7b15-4a74-8d41-a74aea225d17&quot;,&quot;4e2dbedd-62af-44ba-ad6a-6ec2105bdbe6&quot;,&quot;abd110c6-4109-4cb9-afaa-440164abd7e8&quot;,&quot;25aa1f43-3669-4327-9a86-1b52e89f9504&quot;,&quot;147c109c-86a3-490e-a441-761a48bce46b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:35,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;de5e32dc-bbfa-4e73-b910-223667e377d0&quot;,&quot;title&quot;:&quot;keys-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/keys-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/keys-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;keys-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ed83d5be-228f-4b56-9d01-074caf181314&quot;,&quot;parentUUID&quot;:&quot;de5e32dc-bbfa-4e73-b910-223667e377d0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;keys-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;02dd6820-d850-4472-91da-1e9b64ccbee5&quot;,&quot;parentUUID&quot;:&quot;de5e32dc-bbfa-4e73-b910-223667e377d0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;keys-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb0981e8-797d-4ea5-9b80-8297e650f927&quot;,&quot;parentUUID&quot;:&quot;de5e32dc-bbfa-4e73-b910-223667e377d0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;keys-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f4241fa6-be80-4a56-bec9-8a63dd8c245b&quot;,&quot;parentUUID&quot;:&quot;de5e32dc-bbfa-4e73-b910-223667e377d0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should retrieve keys by glob patterns&quot;,&quot;fullTitle&quot;:&quot;keys-command test should retrieve keys by glob patterns&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;mset&#x27;, &#x27;firstname&#x27;, &#x27;Jack&#x27;, &#x27;lastname&#x27;, &#x27;Stuntman&#x27;, &#x27;age&#x27;, &#x27;35&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;keys&#x27;, &#x27;*name*&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;firstname&#x27;, &#x27;lastname&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;keys&#x27;, &#x27;a??&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;age&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;keys&#x27;, &#x27;*&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;firstname&#x27;, &#x27;lastname&#x27;, &#x27;age&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5fa46e73-1e47-47da-9755-b1fa13dfdc3a&quot;,&quot;parentUUID&quot;:&quot;de5e32dc-bbfa-4e73-b910-223667e377d0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5fa46e73-1e47-47da-9755-b1fa13dfdc3a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;92ee3db4-2cdb-4341-a0db-6111c0de7e72&quot;,&quot;title&quot;:&quot;move-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/move-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/move-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;move-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:34,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf64844a-d1b3-4a1c-a634-f1cd54f96fc2&quot;,&quot;parentUUID&quot;:&quot;92ee3db4-2cdb-4341-a0db-6111c0de7e72&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;move-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8fd9d656-6bcc-42a0-b330-6c86d8b0c442&quot;,&quot;parentUUID&quot;:&quot;92ee3db4-2cdb-4341-a0db-6111c0de7e72&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;move-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2c178730-ac6a-4798-82fe-bf73769d38e8&quot;,&quot;parentUUID&quot;:&quot;92ee3db4-2cdb-4341-a0db-6111c0de7e72&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;move-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0cb0c806-7875-4329-a4bf-63a32a43ebb4&quot;,&quot;parentUUID&quot;:&quot;92ee3db4-2cdb-4341-a0db-6111c0de7e72&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report ZERO when the source key does not exist&quot;,&quot;fullTitle&quot;:&quot;move-command test should report ZERO when the source key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;move&#x27;, uniqueKey, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9eb5492-bb37-41fa-a42c-04181e28c58e&quot;,&quot;parentUUID&quot;:&quot;92ee3db4-2cdb-4341-a0db-6111c0de7e72&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should also report ZERO when the target key already exists&quot;,&quot;fullTitle&quot;:&quot;move-command test should also report ZERO when the target key already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, uniqueKey, &#x27;database ZERO&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;move&#x27;, uniqueKey, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f66a46a8-293a-495f-9203-085dfba49d99&quot;,&quot;parentUUID&quot;:&quot;92ee3db4-2cdb-4341-a0db-6111c0de7e72&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should move a key from one database to another otherwise&quot;,&quot;fullTitle&quot;:&quot;move-command test should move a key from one database to another otherwise&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;move&#x27;, uniqueKey, &#x27;14&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;14&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a629b6b-86ce-4aee-a743-56bb084ac989&quot;,&quot;parentUUID&quot;:&quot;92ee3db4-2cdb-4341-a0db-6111c0de7e72&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report error when target database is invalid and key exists&quot;,&quot;fullTitle&quot;:&quot;move-command test should report error when target database is invalid and key exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // Database 14 is already selected\n        response = yield common_test_1.sendCommand(client, [&#x27;move&#x27;, uniqueKey, &#x27;InvalidDb&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR index out of range&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53009a86-efb0-4ba3-a765-2212b52f98ff&quot;,&quot;parentUUID&quot;:&quot;92ee3db4-2cdb-4341-a0db-6111c0de7e72&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c9eb5492-bb37-41fa-a42c-04181e28c58e&quot;,&quot;f66a46a8-293a-495f-9203-085dfba49d99&quot;,&quot;9a629b6b-86ce-4aee-a743-56bb084ac989&quot;,&quot;53009a86-efb0-4ba3-a765-2212b52f98ff&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:27,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;fcff950c-074a-447f-9a0c-a3b77eb309d1&quot;,&quot;title&quot;:&quot;rename-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/rename-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/rename-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rename-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:52,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;51aeff6f-491c-45c7-86e7-dfeca60992d2&quot;,&quot;parentUUID&quot;:&quot;fcff950c-074a-447f-9a0c-a3b77eb309d1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rename-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;90fe350f-8b4c-4c17-b0c3-4dabb388b462&quot;,&quot;parentUUID&quot;:&quot;fcff950c-074a-447f-9a0c-a3b77eb309d1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rename-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ca571315-f3f3-4325-be91-f06cf0cf1cb1&quot;,&quot;parentUUID&quot;:&quot;fcff950c-074a-447f-9a0c-a3b77eb309d1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rename-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;752f42f5-98f5-43bd-91a7-13cccfc6653f&quot;,&quot;parentUUID&quot;:&quot;fcff950c-074a-447f-9a0c-a3b77eb309d1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report an error when the key does not exist&quot;,&quot;fullTitle&quot;:&quot;rename-command test should report an error when the key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;rename&#x27;, &#x27;mykey&#x27;, &#x27;my-otherkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR no such key&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c91aefb4-999c-44f4-835e-46fcd353d95b&quot;,&quot;parentUUID&quot;:&quot;fcff950c-074a-447f-9a0c-a3b77eb309d1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should rename a key&quot;,&quot;fullTitle&quot;:&quot;rename-command test should rename a key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;mykey&#x27;, &#x27;value&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;rename&#x27;, &#x27;mykey&#x27;, &#x27;my-otherkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;mykey&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;my-otherkey&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c6f216f8-5b94-48af-89e5-c463f8d105c6&quot;,&quot;parentUUID&quot;:&quot;fcff950c-074a-447f-9a0c-a3b77eb309d1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should overwrite an existing key without notice&quot;,&quot;fullTitle&quot;:&quot;rename-command test should overwrite an existing key without notice&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;myoriginalkey&#x27;, &#x27;something&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;rename&#x27;, &#x27;my-otherkey&#x27;, &#x27;myoriginalkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;myoriginalkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;52143afd-4e89-41a3-a107-f731e4c5a15d&quot;,&quot;parentUUID&quot;:&quot;fcff950c-074a-447f-9a0c-a3b77eb309d1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c91aefb4-999c-44f4-835e-46fcd353d95b&quot;,&quot;c6f216f8-5b94-48af-89e5-c463f8d105c6&quot;,&quot;52143afd-4e89-41a3-a107-f731e4c5a15d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:11,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;3f7a1c14-f926-4594-8b28-9de384ce4df1&quot;,&quot;title&quot;:&quot;type-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/key/type-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/key/type-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;type-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;83e405b7-50c6-4cfa-90da-c224f579648e&quot;,&quot;parentUUID&quot;:&quot;3f7a1c14-f926-4594-8b28-9de384ce4df1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;type-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ce5f24f3-56c3-4203-add1-4599d9616258&quot;,&quot;parentUUID&quot;:&quot;3f7a1c14-f926-4594-8b28-9de384ce4df1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;type-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f757201c-2648-4a16-a308-f68ce5b892dc&quot;,&quot;parentUUID&quot;:&quot;3f7a1c14-f926-4594-8b28-9de384ce4df1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;type-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;36d2fc66-37f5-4fc9-96be-c28bb49397b0&quot;,&quot;parentUUID&quot;:&quot;3f7a1c14-f926-4594-8b28-9de384ce4df1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report the type of key&quot;,&quot;fullTitle&quot;:&quot;type-command test should report the type of key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:49,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;string-key&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;type&#x27;, &#x27;string-key&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;string&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpush&#x27;, &#x27;list-key&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;type&#x27;, &#x27;list-key&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;list&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;set-key&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;type&#x27;, &#x27;set-key&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;set&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;123&#x27;, &#x27;something&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;type&#x27;, &#x27;zkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;zset&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b46840f0-a52f-4393-83cd-962a8678ad8f&quot;,&quot;parentUUID&quot;:&quot;3f7a1c14-f926-4594-8b28-9de384ce4df1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b46840f0-a52f-4393-83cd-962a8678ad8f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:49,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;df631605-4149-41f7-bb1a-c18c35e1328c&quot;,&quot;title&quot;:&quot;lindex-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/lindex-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/lindex-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lindex-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5706092-6d99-47e3-a75d-5aa016016433&quot;,&quot;parentUUID&quot;:&quot;df631605-4149-41f7-bb1a-c18c35e1328c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lindex-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7c6f262c-7af1-4473-8123-f3dcff7929a4&quot;,&quot;parentUUID&quot;:&quot;df631605-4149-41f7-bb1a-c18c35e1328c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lindex-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;31bd5488-6cf9-403c-9f9c-1571eb0b4b11&quot;,&quot;parentUUID&quot;:&quot;df631605-4149-41f7-bb1a-c18c35e1328c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lindex-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;70c9d809-bb34-4064-8628-d9f4c26312d4&quot;,&quot;parentUUID&quot;:&quot;df631605-4149-41f7-bb1a-c18c35e1328c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report NIL when lindex called with invalid index on non-existent key&quot;,&quot;fullTitle&quot;:&quot;lindex-command test should report NIL when lindex called with invalid index on non-existent key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, &#x27;no-key&#x27;, &#x27;negative one thousand&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;29b91a47-6a18-4ff3-96ae-85f6fe511f06&quot;,&quot;parentUUID&quot;:&quot;df631605-4149-41f7-bb1a-c18c35e1328c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report ERR when attempting to get lindex of non-list key&quot;,&quot;fullTitle&quot;:&quot;lindex-command test should report ERR when attempting to get lindex of non-list key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;lkey&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, &#x27;lkey&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9799d559-76b6-4715-bed2-1f5a446fb828&quot;,&quot;parentUUID&quot;:&quot;df631605-4149-41f7-bb1a-c18c35e1328c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the correct key at an index&quot;,&quot;fullTitle&quot;:&quot;lindex-command test should return the correct key at an index&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = `lkey-${new Date().getTime()}`;\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, uniqueKey, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;a&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;b&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;-1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;c&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;-100&#x27;]);\n        chai_1.expect(response).to.equal(null);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, uniqueKey, &#x27;a1&#x27;, &#x27;b2&#x27;, &#x27;c3&#x27;]);\n        chai_1.expect(response).to.equal(6);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;-6&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;a&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;-7&#x27;]);\n        chai_1.expect(response).to.equal(null);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;100&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2af2cfaf-31bf-4a34-906e-9504cd57405c&quot;,&quot;parentUUID&quot;:&quot;df631605-4149-41f7-bb1a-c18c35e1328c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;29b91a47-6a18-4ff3-96ae-85f6fe511f06&quot;,&quot;9799d559-76b6-4715-bed2-1f5a446fb828&quot;,&quot;2af2cfaf-31bf-4a34-906e-9504cd57405c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:26,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;306e8b0b-292a-43a5-92a0-8c7e81da907d&quot;,&quot;title&quot;:&quot;llen-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/llen-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/llen-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;llen-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;786dc069-927a-4756-aef6-0461b961e2c3&quot;,&quot;parentUUID&quot;:&quot;306e8b0b-292a-43a5-92a0-8c7e81da907d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;llen-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3d9c38d2-0cd9-4d1a-b2a5-7b28025e3f73&quot;,&quot;parentUUID&quot;:&quot;306e8b0b-292a-43a5-92a0-8c7e81da907d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;llen-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;352b42f1-064c-49c9-8c77-4f49587be1c0&quot;,&quot;parentUUID&quot;:&quot;306e8b0b-292a-43a5-92a0-8c7e81da907d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;llen-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa0113a6-6257-4d50-b0b6-93e2e825e668&quot;,&quot;parentUUID&quot;:&quot;306e8b0b-292a-43a5-92a0-8c7e81da907d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report 0 when llen called on non-existent key&quot;,&quot;fullTitle&quot;:&quot;llen-command test should report 0 when llen called on non-existent key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, &#x27;no-key&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5184ff6-f1b8-4ac5-9453-a723d3480c09&quot;,&quot;parentUUID&quot;:&quot;306e8b0b-292a-43a5-92a0-8c7e81da907d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report WRONGTYPE when attempting to get llen of non-list key&quot;,&quot;fullTitle&quot;:&quot;llen-command test should report WRONGTYPE when attempting to get llen of non-list key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;lkey&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, &#x27;lkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;89fb43a3-9d58-4df1-8c05-4fe2b7c9a474&quot;,&quot;parentUUID&quot;:&quot;306e8b0b-292a-43a5-92a0-8c7e81da907d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the correct list length&quot;,&quot;fullTitle&quot;:&quot;llen-command test should return the correct list length&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = `lkey-${new Date().getTime()}`;\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, uniqueKey, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpop&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(&#x27;c&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpop&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(&#x27;b&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpop&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(&#x27;a&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpop&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(null);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, uniqueKey, &#x27;-6&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, uniqueKey]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c3978d2-8989-4964-baf1-a0e2b30736c2&quot;,&quot;parentUUID&quot;:&quot;306e8b0b-292a-43a5-92a0-8c7e81da907d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d5184ff6-f1b8-4ac5-9453-a723d3480c09&quot;,&quot;89fb43a3-9d58-4df1-8c05-4fe2b7c9a474&quot;,&quot;6c3978d2-8989-4964-baf1-a0e2b30736c2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:19,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;92dbeb0e-4a5a-4dba-af18-8ac8885c4645&quot;,&quot;title&quot;:&quot;lpop-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/lpop-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/lpop-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpop-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8bd1a2ed-1445-4e08-98c8-16f1779d1512&quot;,&quot;parentUUID&quot;:&quot;92dbeb0e-4a5a-4dba-af18-8ac8885c4645&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpop-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;26107b49-fdbe-4085-9908-4f1082f5950f&quot;,&quot;parentUUID&quot;:&quot;92dbeb0e-4a5a-4dba-af18-8ac8885c4645&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpop-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;968a1cc7-e5b9-4165-820b-15f68ed88e52&quot;,&quot;parentUUID&quot;:&quot;92dbeb0e-4a5a-4dba-af18-8ac8885c4645&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpop-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0da2fbe7-d32b-45b4-a65a-61646d89d078&quot;,&quot;parentUUID&quot;:&quot;92dbeb0e-4a5a-4dba-af18-8ac8885c4645&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report NIL when lpop called on non-existent key&quot;,&quot;fullTitle&quot;:&quot;lpop-command test should report NIL when lpop called on non-existent key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, &#x27;no-key&#x27;]);\n        chai_1.expect(response).to.equal(null);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;no-key&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;23b1aef1-d876-4cb7-be68-3171dfe54792&quot;,&quot;parentUUID&quot;:&quot;92dbeb0e-4a5a-4dba-af18-8ac8885c4645&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return values from the left side of a list&quot;,&quot;fullTitle&quot;:&quot;lpop-command test should return values from the left side of a list&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, testKey, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]);\n        chai_1.expect(response).to.equal(4);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, testKey]);\n        chai_1.expect(response).to.equal(&#x27;a&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, testKey]);\n        chai_1.expect(response).to.equal(&#x27;b&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, testKey]);\n        chai_1.expect(response).to.equal(&#x27;c&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, testKey]);\n        chai_1.expect(response).to.equal(&#x27;d&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, testKey]);\n        chai_1.expect(response).to.equal(null);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, testKey]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b8bec1e3-229c-4032-abb4-e2c32f3449c1&quot;,&quot;parentUUID&quot;:&quot;92dbeb0e-4a5a-4dba-af18-8ac8885c4645&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;23b1aef1-d876-4cb7-be68-3171dfe54792&quot;,&quot;b8bec1e3-229c-4032-abb4-e2c32f3449c1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:17,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;04074cda-ad99-4ccd-979c-72e100316e03&quot;,&quot;title&quot;:&quot;lpush-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/lpush-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/lpush-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpush-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1cf5c29a-cae6-43cb-adf1-7cc0e4400945&quot;,&quot;parentUUID&quot;:&quot;04074cda-ad99-4ccd-979c-72e100316e03&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpush-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f2b1bc34-eb6b-4aa6-a411-3fff524d20e7&quot;,&quot;parentUUID&quot;:&quot;04074cda-ad99-4ccd-979c-72e100316e03&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpush-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;95fa196f-a3aa-4712-b225-2aa3f8083638&quot;,&quot;parentUUID&quot;:&quot;04074cda-ad99-4ccd-979c-72e100316e03&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lpush-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;656eb76f-0a61-423e-b2b5-09fe1848a996&quot;,&quot;parentUUID&quot;:&quot;04074cda-ad99-4ccd-979c-72e100316e03&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report ERR when attempting to lpush to a non-list key&quot;,&quot;fullTitle&quot;:&quot;lpush-command test should report ERR when attempting to lpush to a non-list key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;lkey&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpush&#x27;, &#x27;lkey&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;19c6de5b-e2d2-4ab0-a577-817aff326a50&quot;,&quot;parentUUID&quot;:&quot;04074cda-ad99-4ccd-979c-72e100316e03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create a list if it doesn&#x27;t already exist&quot;,&quot;fullTitle&quot;:&quot;lpush-command test should create a list if it doesn&#x27;t already exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, testKey]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpush&#x27;, testKey, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]);\n        // The list is now &#x27;c&#x27;, &#x27;b&#x27;, &#x27;a&#x27;\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, testKey]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;295fdf34-92ea-4483-9963-8f68047a4777&quot;,&quot;parentUUID&quot;:&quot;04074cda-ad99-4ccd-979c-72e100316e03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have created the list in a predicatble order&quot;,&quot;fullTitle&quot;:&quot;lpush-command test should have created the list in a predicatble order&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, testKey, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;b&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lpop&#x27;, testKey]);\n        chai_1.expect(response).to.equal(&#x27;c&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;llen&#x27;, testKey]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpop&#x27;, testKey]);\n        chai_1.expect(response).to.equal(&#x27;a&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ff74973b-4b44-4b8a-97d1-b3fe815dbc9a&quot;,&quot;parentUUID&quot;:&quot;04074cda-ad99-4ccd-979c-72e100316e03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;19c6de5b-e2d2-4ab0-a577-817aff326a50&quot;,&quot;295fdf34-92ea-4483-9963-8f68047a4777&quot;,&quot;ff74973b-4b44-4b8a-97d1-b3fe815dbc9a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;b0872728-55c3-4de2-87be-279b3efef42b&quot;,&quot;title&quot;:&quot;lindex-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/lset-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/lset-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lindex-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;11e6fe46-f89c-4742-af60-9775e2c25f27&quot;,&quot;parentUUID&quot;:&quot;b0872728-55c3-4de2-87be-279b3efef42b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lindex-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;82dba38a-fff4-4aa3-954c-3f67fe922c56&quot;,&quot;parentUUID&quot;:&quot;b0872728-55c3-4de2-87be-279b3efef42b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lindex-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f8a2e395-94e0-4f9c-a0ec-ed2381f89e7c&quot;,&quot;parentUUID&quot;:&quot;b0872728-55c3-4de2-87be-279b3efef42b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;lindex-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e577cb5c-0f18-455c-a894-9592780abd7f&quot;,&quot;parentUUID&quot;:&quot;b0872728-55c3-4de2-87be-279b3efef42b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report NIL when lindex called with invalid index on non-existent key&quot;,&quot;fullTitle&quot;:&quot;lindex-command test should report NIL when lindex called with invalid index on non-existent key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, &#x27;no-key&#x27;, &#x27;negative one thousand&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5f3f3f1d-86f1-4d0b-8ed6-0269f3d96b31&quot;,&quot;parentUUID&quot;:&quot;b0872728-55c3-4de2-87be-279b3efef42b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report ERR when attempting to get lindex of non-list key&quot;,&quot;fullTitle&quot;:&quot;lindex-command test should report ERR when attempting to get lindex of non-list key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;lkey&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, &#x27;lkey&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9343b87d-fbbf-410d-906e-d8a5fdfb2d0e&quot;,&quot;parentUUID&quot;:&quot;b0872728-55c3-4de2-87be-279b3efef42b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the correct key at an index&quot;,&quot;fullTitle&quot;:&quot;lindex-command test should return the correct key at an index&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = `lkey-${new Date().getTime()}`;\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, uniqueKey, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;a&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;b&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;-1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;c&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;-100&#x27;]);\n        chai_1.expect(response).to.equal(null);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;two&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, uniqueKey, &#x27;a1&#x27;, &#x27;b2&#x27;, &#x27;c3&#x27;]);\n        chai_1.expect(response).to.equal(6);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;-6&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;a&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;-7&#x27;]);\n        chai_1.expect(response).to.equal(null);\n        response = yield common_test_1.sendCommand(client, [&#x27;lindex&#x27;, uniqueKey, &#x27;100&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4f3ccbd4-4076-496b-ba81-1feb1c2564b0&quot;,&quot;parentUUID&quot;:&quot;b0872728-55c3-4de2-87be-279b3efef42b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5f3f3f1d-86f1-4d0b-8ed6-0269f3d96b31&quot;,&quot;9343b87d-fbbf-410d-906e-d8a5fdfb2d0e&quot;,&quot;4f3ccbd4-4076-496b-ba81-1feb1c2564b0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:22,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;404c0b65-6d37-4bae-84b6-a44d84b17c13&quot;,&quot;title&quot;:&quot;rpop-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/rpop-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/rpop-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpop-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:32,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;92a4c605-ebed-47f1-a17d-bea5fb7a0cf4&quot;,&quot;parentUUID&quot;:&quot;404c0b65-6d37-4bae-84b6-a44d84b17c13&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpop-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0a5dc663-823f-49bd-a2db-4f5a534fced9&quot;,&quot;parentUUID&quot;:&quot;404c0b65-6d37-4bae-84b6-a44d84b17c13&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpop-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2d4e0e35-465d-4fb1-9633-2c765ef369d4&quot;,&quot;parentUUID&quot;:&quot;404c0b65-6d37-4bae-84b6-a44d84b17c13&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpop-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9cf44876-fe60-4abe-be4d-97964054b92e&quot;,&quot;parentUUID&quot;:&quot;404c0b65-6d37-4bae-84b6-a44d84b17c13&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report NIL when rpop called on non-existent key&quot;,&quot;fullTitle&quot;:&quot;rpop-command test should report NIL when rpop called on non-existent key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;rpop&#x27;, &#x27;no-key&#x27;]);\n        chai_1.expect(response).to.equal(null);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;no-key&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7d3d9b58-28de-4a85-9ebd-98c9d23800dd&quot;,&quot;parentUUID&quot;:&quot;404c0b65-6d37-4bae-84b6-a44d84b17c13&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7d3d9b58-28de-4a85-9ebd-98c9d23800dd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:11,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;eba9b434-60e4-434b-8969-3f6bb78dc96b&quot;,&quot;title&quot;:&quot;rpush-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/list/rpush-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/list/rpush-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpush-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a014845-f720-4bb3-8c69-c1256d0f5c8e&quot;,&quot;parentUUID&quot;:&quot;eba9b434-60e4-434b-8969-3f6bb78dc96b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpush-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;26d8370b-8e6d-4687-b2c1-538c61e542cb&quot;,&quot;parentUUID&quot;:&quot;eba9b434-60e4-434b-8969-3f6bb78dc96b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpush-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5b458272-0080-43de-b3d6-10046b403d73&quot;,&quot;parentUUID&quot;:&quot;eba9b434-60e4-434b-8969-3f6bb78dc96b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;rpush-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a44ab493-9de6-4792-be60-5e180a98279e&quot;,&quot;parentUUID&quot;:&quot;eba9b434-60e4-434b-8969-3f6bb78dc96b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report ERR when attempting to rpush to a non-list key&quot;,&quot;fullTitle&quot;:&quot;rpush-command test should report ERR when attempting to rpush to a non-list key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;lkey&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;rpush&#x27;, &#x27;lkey&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;734b11d2-1c4f-44b7-a110-b2546aab4431&quot;,&quot;parentUUID&quot;:&quot;eba9b434-60e4-434b-8969-3f6bb78dc96b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;734b11d2-1c4f-44b7-a110-b2546aab4431&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;49e3b8a9-3bf5-4900-a655-10857cf2a300&quot;,&quot;title&quot;:&quot;script-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/script-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/script-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;script-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3c3c44bd-d344-47e2-8d9f-24ec7c48ead0&quot;,&quot;parentUUID&quot;:&quot;49e3b8a9-3bf5-4900-a655-10857cf2a300&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;script-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7020be9a-8e55-480a-b069-cacf83374577&quot;,&quot;parentUUID&quot;:&quot;49e3b8a9-3bf5-4900-a655-10857cf2a300&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;script-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8afcaf18-be5f-4ed1-94ed-6296940559d3&quot;,&quot;parentUUID&quot;:&quot;49e3b8a9-3bf5-4900-a655-10857cf2a300&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;script-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e108a729-899b-47f8-afd7-545cb58612c0&quot;,&quot;parentUUID&quot;:&quot;49e3b8a9-3bf5-4900-a655-10857cf2a300&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should calcuclate the correct sha1 of a script and store the script&quot;,&quot;fullTitle&quot;:&quot;script-command test should calcuclate the correct sha1 of a script and store the script&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:70,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;exists&#x27;, sha1]);\n        chai_1.expect(response).to.equal(&#x27;0&#x27;);\n        // validate failure on unparseable script\n        response = yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;load&#x27;, code]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: Error: LUA SYNTAX Error evaluating: \&quot;%s\&quot;&#x27;.replace(&#x27;%s&#x27;, code));\n        // validate success on parseable script\n        response = yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;load&#x27;, `${code}}`]);\n        chai_1.expect(response).to.equal(sha1);\n        // validate a script is persisted\n        response = yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;exists&#x27;, sha1]);\n        chai_1.expect(response).to.equal(&#x27;1&#x27;);\n        // validate response to unknown sub command\n        response = yield common_test_1.sendCommand(client, [&#x27;script&#x27;, &#x27;test&#x27;, sha1]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR Unknown subcommand or wrong number of arguments for \\&#x27;test\\&#x27;. Try SCRIPT HELP.&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6cc97c7c-e7ce-4d6d-b759-1f7e27b91481&quot;,&quot;parentUUID&quot;:&quot;49e3b8a9-3bf5-4900-a655-10857cf2a300&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should evaluate a loaded lua script using evalsha&quot;,&quot;fullTitle&quot;:&quot;script-command test should evaluate a loaded lua script using evalsha&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // Validate that NOSCRIPT is triggered\n        response = yield common_test_1.sendCommand(client, [&#x27;evalsha&#x27;, `${sha1}xx`, &#x27;2&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;first&#x27;, &#x27;second&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: NOSCRIPT No matching script. Please use EVAL.&#x27;);\n        // Validate that param 1 cannot be negative\n        response = yield common_test_1.sendCommand(client, [&#x27;evalsha&#x27;, sha1, &#x27;-2&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;first&#x27;, &#x27;second&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR Number of keys can\\&#x27;t be negative&#x27;);\n        // Validate that param 1 cannot be text\n        response = yield common_test_1.sendCommand(client, [&#x27;evalsha&#x27;, sha1, &#x27;two&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;first&#x27;, &#x27;second&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR value is not an integer or out of range&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e6956484-9146-456c-a2b1-499ed845f7e3&quot;,&quot;parentUUID&quot;:&quot;49e3b8a9-3bf5-4900-a655-10857cf2a300&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should execute a simple script&quot;,&quot;fullTitle&quot;:&quot;script-command test should execute a simple script&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        // Validate that a simple script can be processed\n        response = yield common_test_1.sendCommand(client, [&#x27;EVAL&#x27;, &#x27;local val=\&quot;Hello Compose\&quot; return val&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;Hello Compose&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;166175eb-95a5-4a37-9c60-6f797c6446a7&quot;,&quot;parentUUID&quot;:&quot;49e3b8a9-3bf5-4900-a655-10857cf2a300&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create and process the ARGV table&quot;,&quot;fullTitle&quot;:&quot;script-command test should create and process the ARGV table&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;eval&#x27;, &#x27;return ARGV[2]&#x27;, &#x27;2&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;first&#x27;, &#x27;second&#x27;]);\n        chai_1.expect(response).to.eql(&#x27;second&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2737a412-2e0d-4f62-ba6a-f788cda96449&quot;,&quot;parentUUID&quot;:&quot;49e3b8a9-3bf5-4900-a655-10857cf2a300&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create and process the KEYS table&quot;,&quot;fullTitle&quot;:&quot;script-command test should create and process the KEYS table&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;eval&#x27;, &#x27;return KEYS[1]&#x27;, &#x27;2&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;first&#x27;, &#x27;second&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;key1&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;758658ca-5e9d-4969-a394-1c9d73b39265&quot;,&quot;parentUUID&quot;:&quot;49e3b8a9-3bf5-4900-a655-10857cf2a300&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a NUMBER when required&quot;,&quot;fullTitle&quot;:&quot;script-command test should return a NUMBER when required&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;eval&#x27;, &#x27;return 123&#x27;, &#x27;2&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;first&#x27;, &#x27;second&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;123&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;89cfef08-d6fa-4516-83c2-f95a3982c667&quot;,&quot;parentUUID&quot;:&quot;49e3b8a9-3bf5-4900-a655-10857cf2a300&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return NIL when there is no return value&quot;,&quot;fullTitle&quot;:&quot;script-command test should return NIL when there is no return value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;eval&#x27;, &#x27;print \&quot;Hello World\&quot;&#x27;, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d44677b-d45c-4dc5-9a25-90cb6af0d2d7&quot;,&quot;parentUUID&quot;:&quot;49e3b8a9-3bf5-4900-a655-10857cf2a300&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a TABLE when required&quot;,&quot;fullTitle&quot;:&quot;script-command test should return a TABLE when required&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [`eval`, `return ARGV`, &#x27;2&#x27;, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;first&#x27;, &#x27;second&#x27;, &#x27;third&#x27;]);\n        chai_1.expect(response).to.eql([&#x27;first&#x27;, &#x27;second&#x27;, &#x27;third&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e3dbd192-d979-49a8-b13c-e67a73113fea&quot;,&quot;parentUUID&quot;:&quot;49e3b8a9-3bf5-4900-a655-10857cf2a300&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return items in order&quot;,&quot;fullTitle&quot;:&quot;script-command test should return items in order&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;eval&#x27;, &#x27;return {true, \&quot;test\&quot;, false, 10, 10.2}&#x27;, &#x27;0&#x27;]);\n        console.log(`Response is ${response}`, response);\n        chai_1.expect(response).to.eql([1, &#x27;test&#x27;, null, 10, 10]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c185b18-d69f-405c-9fc1-69d29b830956&quot;,&quot;parentUUID&quot;:&quot;49e3b8a9-3bf5-4900-a655-10857cf2a300&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return integer and nil for true and false, respectively&quot;,&quot;fullTitle&quot;:&quot;script-command test should return integer and nil for true and false, respectively&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;eval&#x27;, &#x27;return { true, false, false}&#x27;, &#x27;0&#x27;]);\n        console.log(`Response is ${response}`, response);\n        chai_1.expect(response).to.eql([1, null, null]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;85671eae-216b-477f-b309-a391553f029b&quot;,&quot;parentUUID&quot;:&quot;49e3b8a9-3bf5-4900-a655-10857cf2a300&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6cc97c7c-e7ce-4d6d-b759-1f7e27b91481&quot;,&quot;e6956484-9146-456c-a2b1-499ed845f7e3&quot;,&quot;166175eb-95a5-4a37-9c60-6f797c6446a7&quot;,&quot;2737a412-2e0d-4f62-ba6a-f788cda96449&quot;,&quot;758658ca-5e9d-4969-a394-1c9d73b39265&quot;,&quot;89cfef08-d6fa-4516-83c2-f95a3982c667&quot;,&quot;0d44677b-d45c-4dc5-9a25-90cb6af0d2d7&quot;,&quot;e3dbd192-d979-49a8-b13c-e67a73113fea&quot;,&quot;6c185b18-d69f-405c-9fc1-69d29b830956&quot;,&quot;85671eae-216b-477f-b309-a391553f029b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:168,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;3fbca1e7-a9c1-47d9-9196-057611ecd44b&quot;,&quot;title&quot;:&quot;resp-server test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/server/resp-server.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/server/resp-server.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;resp-server test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee8fb57a-493c-4307-851c-e00cc914840c&quot;,&quot;parentUUID&quot;:&quot;3fbca1e7-a9c1-47d9-9196-057611ecd44b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;resp-server test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;32159d07-4a72-4e58-b5fb-8705e1f3fb1d&quot;,&quot;parentUUID&quot;:&quot;3fbca1e7-a9c1-47d9-9196-057611ecd44b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;83b10bbe-30a4-4ea1-bb60-e12177075260&quot;,&quot;title&quot;:&quot;server start and stop tests&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/server/resp-server.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/server/resp-server.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should instantiate&quot;,&quot;fullTitle&quot;:&quot;resp-server test server start and stop tests should instantiate&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            respServer = new resp_server_1.RespServer();\n            chai_1.expect(respServer.constructor.name).to.equal(&#x27;RespServer&#x27;);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53115e3b-3e74-4eac-8fee-7432d1c2e7fc&quot;,&quot;parentUUID&quot;:&quot;83b10bbe-30a4-4ea1-bb60-e12177075260&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should emit \&quot;ready\&quot; on startup&quot;,&quot;fullTitle&quot;:&quot;resp-server test server start and stop tests should emit \&quot;ready\&quot; on startup&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;33c5d193-affe-431f-9529-bcfb0f3e271b&quot;,&quot;parentUUID&quot;:&quot;83b10bbe-30a4-4ea1-bb60-e12177075260&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should emit \&quot;closed\&quot; on shutdown&quot;,&quot;fullTitle&quot;:&quot;resp-server test server start and stop tests should emit \&quot;closed\&quot; on shutdown&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer.on(&#x27;closed&#x27;, () =&gt; {\n    done();\n});\nrespServer.stop();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0857c613-581d-4538-9336-f4f19cca15b0&quot;,&quot;parentUUID&quot;:&quot;83b10bbe-30a4-4ea1-bb60-e12177075260&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should accept connections on default ${env.REDIS_HOST}:${env.REDIS_PORT}&quot;,&quot;fullTitle&quot;:&quot;resp-server test server start and stop tests should accept connections on default ${env.REDIS_HOST}:${env.REDIS_PORT}&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    const client = new net.Socket();\n    client.on(&#x27;ready&#x27;, (data) =&gt; {\n        respServer.on(&#x27;closed&#x27;, () =&gt; {\n            done();\n        });\n        respServer.stop();\n    });\n    client.on(&#x27;connect&#x27;, (data) =&gt; {\n    });\n    client.on(&#x27;error&#x27;, (err) =&gt; {\n        assert_1.fail(`Unexpected error during connection`, err.stack);\n    });\n    client.connect(Number(process.env.REDIS_PORT || 6379), process.env.REDIS_HOST || &#x27;localhost&#x27;, () =&gt; {\n    });\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a60d0667-b07a-4908-a57a-2227c1f72598&quot;,&quot;parentUUID&quot;:&quot;83b10bbe-30a4-4ea1-bb60-e12177075260&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;53115e3b-3e74-4eac-8fee-7432d1c2e7fc&quot;,&quot;33c5d193-affe-431f-9529-bcfb0f3e271b&quot;,&quot;0857c613-581d-4538-9336-f4f19cca15b0&quot;,&quot;a60d0667-b07a-4908-a57a-2227c1f72598&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;f0fa9d6c-4665-4a74-8d8b-abb2396a7166&quot;,&quot;title&quot;:&quot;other server tests&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/server/resp-server.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/server/resp-server.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    client = new net.Socket();\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a772b694-bece-4dc8-b681-e9759ea90cfd&quot;,&quot;parentUUID&quot;:&quot;f0fa9d6c-4665-4a74-8d8b-abb2396a7166&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            yield respServer.stop();\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f38e537a-a6cb-48e7-bd55-a724ce838c52&quot;,&quot;parentUUID&quot;:&quot;f0fa9d6c-4665-4a74-8d8b-abb2396a7166&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should respond properly to the \&quot;ping\&quot; command&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should respond properly to the \&quot;ping\&quot; command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;ping&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;PONG&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d2955d33-90bb-472e-97f2-0f590db3b9a5&quot;,&quot;parentUUID&quot;:&quot;f0fa9d6c-4665-4a74-8d8b-abb2396a7166&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond properly to the \&quot;echo\&quot; command&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should respond properly to the \&quot;echo\&quot; command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;echo&#x27;, &#x27;test&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;test&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8e888917-4e6e-4ca5-a7c1-f71b70a86284&quot;,&quot;parentUUID&quot;:&quot;f0fa9d6c-4665-4a74-8d8b-abb2396a7166&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond properly to the \&quot;quit\&quot; command&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should respond properly to the \&quot;quit\&quot; command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Note however that the server does not disconnect us.  That is the client&#x27;s job\ncommon_test_1.sendCommand(client, [&#x27;quit&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2991f1d9-c37f-497b-aca1-00cd05b28ada&quot;,&quot;parentUUID&quot;:&quot;f0fa9d6c-4665-4a74-8d8b-abb2396a7166&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with \&quot;ERR\&quot; when echo command has no parameters&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should respond with \&quot;ERR\&quot; when echo command has no parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Note that &#x27;ReplyError:&#x27; is supplied by the redis parser, NOT by the code under test\ncommon_test_1.sendCommand(client, [&#x27;echo&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;echo\\&#x27; command&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;03cab82f-ef50-4c60-a7f2-43a291b8564c&quot;,&quot;parentUUID&quot;:&quot;f0fa9d6c-4665-4a74-8d8b-abb2396a7166&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with \&quot;ERR\&quot; when echo command has two or more parameters&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should respond with \&quot;ERR\&quot; when echo command has two or more parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;echo&#x27;, &#x27;one&#x27;, &#x27;two&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;echo\\&#x27; command&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8061f67b-66d3-4751-bb98-a6d646391cc6&quot;,&quot;parentUUID&quot;:&quot;f0fa9d6c-4665-4a74-8d8b-abb2396a7166&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond to the \&quot;time\&quot; command with an array of two strings&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should respond to the \&quot;time\&quot; command with an array of two strings&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Note: we use hrtime which should already do what we need so we don&#x27;t validate\ncommon_test_1.sendCommand(client, [&#x27;time&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.be.an(&#x27;array&#x27;);\n    chai_1.expect(response.length).to.equal(2);\n    chai_1.expect(parseInt(response[0], 10)).to.be.greaterThan(0);\n    chai_1.expect(parseInt(response[1], 10)).to.be.greaterThan(0);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f1e42922-c69e-4171-bc6c-cb7473cde9d3&quot;,&quot;parentUUID&quot;:&quot;f0fa9d6c-4665-4a74-8d8b-abb2396a7166&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with nulCommand when the command is not known&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should respond with nulCommand when the command is not known&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;felix&#x27;, &#x27;the&#x27;, &#x27;cat&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.match(/^ReplyError: ERR unknown command.*/);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;041cde28-b988-4e89-bef8-64620d03254d&quot;,&quot;parentUUID&quot;:&quot;f0fa9d6c-4665-4a74-8d8b-abb2396a7166&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should implement the info command&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should implement the info command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;info&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.match(/^#server\\r\\nserver:node_version:.*/m);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0aeddfa0-cd30-4e19-a959-f76f50f12cff&quot;,&quot;parentUUID&quot;:&quot;f0fa9d6c-4665-4a74-8d8b-abb2396a7166&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should implement the SET command&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should implement the SET command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;SET&#x27;, &#x27;this&#x27;, &#x27;that&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n    common_test_1.sendCommand(client, [&#x27;GET&#x27;, &#x27;this&#x27;])\n        .then((getresponse) =&gt; {\n        chai_1.expect(getresponse).to.equal(&#x27;that&#x27;);\n        done();\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;970d1466-5401-44c4-bf51-1f840d05469d&quot;,&quot;parentUUID&quot;:&quot;f0fa9d6c-4665-4a74-8d8b-abb2396a7166&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return nil string when GET is invoked with unknown parameters&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should return nil string when GET is invoked with unknown parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;GET&#x27;, &#x27; &#x27;])\n    .then((getresponse) =&gt; {\n    chai_1.expect(getresponse).to.equal(null);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e9963260-8089-4a6d-9884-6fb8ef7e3a53&quot;,&quot;parentUUID&quot;:&quot;f0fa9d6c-4665-4a74-8d8b-abb2396a7166&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should implement the info command with a known parameter&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should implement the info command with a known parameter&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;info&#x27;, &#x27;memory&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.match(/^#memory.*/m);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d2011de1-8ac7-4592-8518-18a7a47a91d9&quot;,&quot;parentUUID&quot;:&quot;f0fa9d6c-4665-4a74-8d8b-abb2396a7166&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not respond when info is called with an unknown paramter&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should not respond when info is called with an unknown paramter&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(client, [&#x27;info&#x27;, &#x27;juicy&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(null);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;73b55bb2-86cd-441a-8e46-e763700e5022&quot;,&quot;parentUUID&quot;:&quot;f0fa9d6c-4665-4a74-8d8b-abb2396a7166&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report the number of keys in the current database&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should report the number of keys in the current database&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            const response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n            chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n            chai_1.expect(response).to.be.greaterThan(0);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;33f8bc08-1e54-4026-9ee7-1d739bd23ce3&quot;,&quot;parentUUID&quot;:&quot;f0fa9d6c-4665-4a74-8d8b-abb2396a7166&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support the \&quot;select\&quot; command&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should support the \&quot;select\&quot; command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            let response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;12&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;dbsize&#x27;]);\n            chai_1.expect(response).to.equal(0);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;05235e67-5429-4d85-812a-60c197b4f7a7&quot;,&quot;parentUUID&quot;:&quot;f0fa9d6c-4665-4a74-8d8b-abb2396a7166&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not allow us to select an invalid database&quot;,&quot;fullTitle&quot;:&quot;resp-server test other server tests should not allow us to select an invalid database&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            let response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;one&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;ReplyError: Error: DB index is out of range&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;-12&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;ReplyError: Error: DB index is out of range&#x27;);\n            response = yield common_test_1.sendCommand(client, [&#x27;select&#x27;, &#x27;22&#x27;]);\n            chai_1.expect(response).to.equal(&#x27;ReplyError: Error: DB index is out of range&#x27;);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;93aa6d82-487c-41ac-acb8-2fc4f6ef06a2&quot;,&quot;parentUUID&quot;:&quot;f0fa9d6c-4665-4a74-8d8b-abb2396a7166&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d2955d33-90bb-472e-97f2-0f590db3b9a5&quot;,&quot;8e888917-4e6e-4ca5-a7c1-f71b70a86284&quot;,&quot;2991f1d9-c37f-497b-aca1-00cd05b28ada&quot;,&quot;03cab82f-ef50-4c60-a7f2-43a291b8564c&quot;,&quot;8061f67b-66d3-4751-bb98-a6d646391cc6&quot;,&quot;f1e42922-c69e-4171-bc6c-cb7473cde9d3&quot;,&quot;041cde28-b988-4e89-bef8-64620d03254d&quot;,&quot;0aeddfa0-cd30-4e19-a959-f76f50f12cff&quot;,&quot;970d1466-5401-44c4-bf51-1f840d05469d&quot;,&quot;e9963260-8089-4a6d-9884-6fb8ef7e3a53&quot;,&quot;d2011de1-8ac7-4592-8518-18a7a47a91d9&quot;,&quot;73b55bb2-86cd-441a-8e46-e763700e5022&quot;,&quot;33f8bc08-1e54-4026-9ee7-1d739bd23ce3&quot;,&quot;05235e67-5429-4d85-812a-60c197b4f7a7&quot;,&quot;93aa6d82-487c-41ac-acb8-2fc4f6ef06a2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:31,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;a7fc6d6a-6f3e-42f4-838d-ec0c9643da89&quot;,&quot;title&quot;:&quot;set commands test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/set/set-commands.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/set/set-commands.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set commands test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5f7afdb2-ac7e-4ac9-94f0-f62fbdb5fa94&quot;,&quot;parentUUID&quot;:&quot;a7fc6d6a-6f3e-42f4-838d-ec0c9643da89&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set commands test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ff3b2115-1f1a-48e2-ae86-5dd24af4ef63&quot;,&quot;parentUUID&quot;:&quot;a7fc6d6a-6f3e-42f4-838d-ec0c9643da89&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set commands test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;682fc593-c7e3-40a7-8783-28324d5b3e3d&quot;,&quot;parentUUID&quot;:&quot;a7fc6d6a-6f3e-42f4-838d-ec0c9643da89&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set commands test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4cd29405-e78b-48c4-9c96-520820c5c64c&quot;,&quot;parentUUID&quot;:&quot;a7fc6d6a-6f3e-42f4-838d-ec0c9643da89&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return ZERO when certain commands are applied against key that doesn&#x27;t exist&quot;,&quot;fullTitle&quot;:&quot;set commands test should return ZERO when certain commands are applied against key that doesn&#x27;t exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;scard&#x27;, &#x27;doesnotexist&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, &#x27;doesnotexist&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0f3146cb-c713-4213-9650-4d1a4a80fcc6&quot;,&quot;parentUUID&quot;:&quot;a7fc6d6a-6f3e-42f4-838d-ec0c9643da89&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw an appropriate error when a \&quot;set\&quot; command is applied to a non-set key&quot;,&quot;fullTitle&quot;:&quot;set commands test should throw an appropriate error when a \&quot;set\&quot; command is applied to a non-set key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;wrongtype&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, &#x27;wrongtype&#x27;, &#x27;set&#x27;]);\n        chai_1.expect(response).to.equal(WRONG_TYPE);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;01489843-2abf-464b-bae0-783f98382d5e&quot;,&quot;parentUUID&quot;:&quot;a7fc6d6a-6f3e-42f4-838d-ec0c9643da89&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create a new key when sadd is called correctly&quot;,&quot;fullTitle&quot;:&quot;set commands test should create a new key when sadd is called correctly&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;skey&#x27;, &#x27;test&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;skey&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7eaf955d-029c-48ea-8b91-6db96c0d50af&quot;,&quot;parentUUID&quot;:&quot;a7fc6d6a-6f3e-42f4-838d-ec0c9643da89&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should only report the number of added keys&quot;,&quot;fullTitle&quot;:&quot;set commands test should only report the number of added keys&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, &#x27;skey&#x27;, &#x27;test&#x27;, &#x27;test2&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;smembers&#x27;, &#x27;skey&#x27;]);\n        chai_1.expect(response).to.be.an(&#x27;array&#x27;);\n        chai_1.expect(response).to.eql([&#x27;test&#x27;, &#x27;test2&#x27;]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2ebfdcf5-1d4d-4657-9fda-87cac59ad211&quot;,&quot;parentUUID&quot;:&quot;a7fc6d6a-6f3e-42f4-838d-ec0c9643da89&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;0f0657f4-7949-492b-9d46-67be137ff8a3&quot;,&quot;title&quot;:&quot;smove, sismember, and scard tests&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/set/set-commands.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/set/set-commands.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should do nothing when smove is called with a source key that does not exist&quot;,&quot;fullTitle&quot;:&quot;set commands test smove, sismember, and scard tests should do nothing when smove is called with a source key that does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            let response = yield common_test_1.sendCommand(client, [&#x27;smove&#x27;, &#x27;fromskey&#x27;, &#x27;toskey&#x27;, &#x27;nothing&#x27;]);\n            chai_1.expect(response).to.equal(0);\n            response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;fromskey&#x27;, &#x27;toskey&#x27;]);\n            chai_1.expect(response).to.equal(0);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b92d48be-4ec8-4fa0-b261-497e45f0722d&quot;,&quot;parentUUID&quot;:&quot;0f0657f4-7949-492b-9d46-67be137ff8a3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should move a key from one set to another (and create the target if necessary)&quot;,&quot;fullTitle&quot;:&quot;set commands test smove, sismember, and scard tests should move a key from one set to another (and create the target if necessary)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            let response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, &#x27;tonewskey&#x27;]);\n            chai_1.expect(response).to.equal(0);\n            response = yield common_test_1.sendCommand(client, [&#x27;smembers&#x27;, &#x27;tonewskey&#x27;]);\n            chai_1.expect(response).to.eql([]);\n            response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, uniqueKey, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;]);\n            chai_1.expect(response).to.equal(3);\n            response = yield common_test_1.sendCommand(client, [&#x27;smembers&#x27;, uniqueKey]);\n            chai_1.expect(response).to.eql([&#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;]);\n            response = yield common_test_1.sendCommand(client, [&#x27;smove&#x27;, uniqueKey, &#x27;tonewskey&#x27;, &#x27;key2&#x27;]);\n            chai_1.expect(response).to.equal(1);\n            response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, &#x27;tonewskey&#x27;, &#x27;key2&#x27;]);\n            chai_1.expect(response).to.equal(1);\n            response = yield common_test_1.sendCommand(client, [&#x27;smembers&#x27;, uniqueKey]);\n            chai_1.expect(response).to.eql([&#x27;key1&#x27;, &#x27;key3&#x27;]);\n            response = yield common_test_1.sendCommand(client, [&#x27;smembers&#x27;, &#x27;tonewskey&#x27;]);\n            chai_1.expect(response).to.eql([&#x27;key2&#x27;]);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3e7fbe9d-1441-4ce1-91c2-9d21573701e7&quot;,&quot;parentUUID&quot;:&quot;0f0657f4-7949-492b-9d46-67be137ff8a3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report cardinality of a set&quot;,&quot;fullTitle&quot;:&quot;set commands test smove, sismember, and scard tests should report cardinality of a set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            let response = yield common_test_1.sendCommand(client, [&#x27;scard&#x27;, uniqueKey]);\n            chai_1.expect(response).to.equal(2);\n            response = yield common_test_1.sendCommand(client, [&#x27;scard&#x27;, &#x27;tonewskey&#x27;]);\n            chai_1.expect(response).to.equal(1);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3958f4bf-797a-4239-b230-576d95a8d204&quot;,&quot;parentUUID&quot;:&quot;0f0657f4-7949-492b-9d46-67be137ff8a3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report ismember true/false&quot;,&quot;fullTitle&quot;:&quot;set commands test smove, sismember, and scard tests should report ismember true/false&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            let response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, &#x27;tonewskey&#x27;, &#x27;key2&#x27;]);\n            chai_1.expect(response).to.equal(1);\n            response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, &#x27;tonewskey&#x27;, &#x27;key1&#x27;]);\n            chai_1.expect(response).to.equal(0);\n            response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, uniqueKey, &#x27;key1&#x27;]);\n            chai_1.expect(response).to.equal(1);\n            response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, uniqueKey, &#x27;key3&#x27;]);\n            chai_1.expect(response).to.equal(1);\n            response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, uniqueKey, &#x27;key2&#x27;]);\n            chai_1.expect(response).to.equal(0);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4329a238-3a1a-47db-911f-75220d8acba6&quot;,&quot;parentUUID&quot;:&quot;0f0657f4-7949-492b-9d46-67be137ff8a3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should only remove the source element if the destination element already exists&quot;,&quot;fullTitle&quot;:&quot;set commands test smove, sismember, and scard tests should only remove the source element if the destination element already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n            const newkey = `move-unique-${new Date().getTime()}`;\n            const newToKey = `move-new-to-key`;\n            let response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, newkey, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;]);\n            chai_1.expect(response).to.equal(3);\n            response = yield common_test_1.sendCommand(client, [&#x27;sadd&#x27;, newToKey, &#x27;key1&#x27;, &#x27;key2&#x27;, &#x27;key3&#x27;]);\n            chai_1.expect(response).to.equal(3);\n            response = yield common_test_1.sendCommand(client, [&#x27;smove&#x27;, newkey, newToKey, &#x27;key2&#x27;]);\n            chai_1.expect(response).to.equal(0);\n            response = yield common_test_1.sendCommand(client, [&#x27;sismember&#x27;, newkey, &#x27;key2&#x27;]);\n            chai_1.expect(response).to.equal(0);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f6276824-76e0-4d97-a90d-943e0594dbd8&quot;,&quot;parentUUID&quot;:&quot;0f0657f4-7949-492b-9d46-67be137ff8a3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b92d48be-4ec8-4fa0-b261-497e45f0722d&quot;,&quot;3e7fbe9d-1441-4ce1-91c2-9d21573701e7&quot;,&quot;3958f4bf-797a-4239-b230-576d95a8d204&quot;,&quot;4329a238-3a1a-47db-911f-75220d8acba6&quot;,&quot;f6276824-76e0-4d97-a90d-943e0594dbd8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:24,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[&quot;0f3146cb-c713-4213-9650-4d1a4a80fcc6&quot;,&quot;01489843-2abf-464b-bae0-783f98382d5e&quot;,&quot;7eaf955d-029c-48ea-8b91-6db96c0d50af&quot;,&quot;2ebfdcf5-1d4d-4657-9fda-87cac59ad211&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;db79bdec-98bc-4148-8aca-5061e5e62c66&quot;,&quot;title&quot;:&quot;z-command tests&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/sset/z-commands.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/sset/z-commands.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;z-command tests \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4f6cacf-d890-45b3-8783-3beff93f1732&quot;,&quot;parentUUID&quot;:&quot;db79bdec-98bc-4148-8aca-5061e5e62c66&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;z-command tests \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e7f4e214-25f5-4df2-8209-8878f2f5162f&quot;,&quot;parentUUID&quot;:&quot;db79bdec-98bc-4148-8aca-5061e5e62c66&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;z-command tests \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;be1f14da-1595-4485-ad80-d76ad36d1d66&quot;,&quot;parentUUID&quot;:&quot;db79bdec-98bc-4148-8aca-5061e5e62c66&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;z-command tests \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;69f47fdd-4c9d-49fe-ad87-cc793533e25a&quot;,&quot;parentUUID&quot;:&quot;db79bdec-98bc-4148-8aca-5061e5e62c66&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support basic operations&quot;,&quot;fullTitle&quot;:&quot;z-command tests should support basic operations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:29,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueZkey = `key${new Date().getTime()}`;\n        let response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, &#x27;testkey&#x27;, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER)]);\n        chai_1.expect(response).to.eql([]);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;testkey&#x27;, &#x27;14&#x27;, &#x27;__proto__&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;8&#x27;, &#x27;5a600e16&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;9&#x27;, &#x27;5a600e17&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;10&#x27;, &#x27;5a600e18&#x27;]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zcard&#x27;, uniqueZkey]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, uniqueZkey, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER), &#x27;withScores&#x27;]);\n        chai_1.expect(response).to.eql([[&#x27;5a600e16&#x27;, &#x27;8&#x27;],\n            [&#x27;5a600e17&#x27;, &#x27;9&#x27;],\n            [&#x27;5a600e18&#x27;, &#x27;10&#x27;]]);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;12&#x27;, &#x27;5a600e17&#x27;]);\n        chai_1.expect(response).to.equal(0);\n        response = yield common_test_1.sendCommand(client, [&#x27;zcount&#x27;, uniqueZkey, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER)]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, uniqueZkey, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER)]);\n        chai_1.expect(response.length).to.equal(3);\n        chai_1.expect(response).to.eql([&#x27;5a600e16&#x27;, &#x27;5a600e18&#x27;, &#x27;5a600e17&#x27;]);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, uniqueZkey, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER), &#x27;withScores&#x27;]);\n        chai_1.expect(response).to.eql([[&#x27;5a600e16&#x27;, &#x27;8&#x27;], [&#x27;5a600e18&#x27;, &#x27;10&#x27;], [&#x27;5a600e17&#x27;, &#x27;12&#x27;]]);\n        response = yield common_test_1.sendCommand(client, [&#x27;type&#x27;, uniqueZkey]);\n        chai_1.expect(response).to.equal(&#x27;zset&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zcount&#x27;, uniqueZkey, &#x27;-Infinity&#x27;, &#x27;10&#x27;]);\n        chai_1.expect(response).to.equal(2);\n        response = yield common_test_1.sendCommand(client, [&#x27;zcount&#x27;, uniqueZkey, &#x27;Negative One&#x27;, &#x27;10&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: Error: min or max is not a float&#x27;);\n        // report syntax error\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, uniqueZkey, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER), &#x27;with Scores&#x27;]);\n        chai_1.expect(response).to.eql(&#x27;ReplyError: syntax error&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, uniqueZkey, String(&#x27;Number.MIN_SAFE_INTEGER&#x27;), String(Number.MAX_SAFE_INTEGER), &#x27;withScores&#x27;]);\n        chai_1.expect(response).to.eql(&#x27;ReplyError: value is not an integer or out of range&#x27;);\n        // Remove members without removing keys\n        response = yield common_test_1.sendCommand(client, [&#x27;zrem&#x27;, uniqueZkey, &#x27;does not exist&#x27;, &#x27;5a600e16&#x27;, &#x27;5a600e18&#x27;, &#x27;5a600e17&#x27;]);\n        chai_1.expect(response).to.equal(3);\n        response = yield common_test_1.sendCommand(client, [&#x27;exists&#x27;, uniqueZkey]);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, uniqueZkey, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER), &#x27;withScores&#x27;]);\n        chai_1.expect(response).to.eql([]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b09ff5a-1347-4f17-ab78-ce1fbaf061f4&quot;,&quot;parentUUID&quot;:&quot;db79bdec-98bc-4148-8aca-5061e5e62c66&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should increase rank&quot;,&quot;fullTitle&quot;:&quot;z-command tests should increase rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueZkey = `incrkey${new Date().getTime()}`;\n        let response;\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;1&#x27;, &#x27;first&#x27;]);\n        chai_1.expect(response).to.eql(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;2&#x27;, &#x27;second&#x27;]);\n        chai_1.expect(response).to.eql(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;3&#x27;, &#x27;third&#x27;]);\n        chai_1.expect(response).to.eql(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, uniqueZkey, &#x27;4&#x27;, &#x27;fourth&#x27;]);\n        chai_1.expect(response).to.eql(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;zincrby&#x27;, uniqueZkey, &#x27;2&#x27;, &#x27;first&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;3&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrank&#x27;, uniqueZkey, &#x27;first&#x27;]);\n        // expect(ss.rank(&#x27;first&#x27;)).to.equal(1);\n        chai_1.expect(response).to.match(/^ReplyError: ERR unknown command.*/);\n        response = yield common_test_1.sendCommand(client, [&#x27;zincrby&#x27;, uniqueZkey, &#x27;-20&#x27;, &#x27;fourth&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;-16&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zincrby&#x27;, uniqueZkey, `-${Number.MIN_SAFE_INTEGER + 1}.${Number.MAX_SAFE_INTEGER}`, &#x27;fourth&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: value is not a valid float&#x27;);\n        // Should create a key if it doesn&#x27;t exist\n        response = yield common_test_1.sendCommand(client, [&#x27;zincrby&#x27;, uniqueZkey, &#x27;-20&#x27;, &#x27;fifth&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;-20&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zrange&#x27;, uniqueZkey, String(Number.MIN_SAFE_INTEGER), String(Number.MAX_SAFE_INTEGER), &#x27;withScores&#x27;]);\n        console.log(response);\n        //    expect(response).to.eql([[&#x27;5a600e16&#x27;, &#x27;8&#x27;], [&#x27;5a600e18&#x27;, &#x27;10&#x27;], [&#x27;5a600e17&#x27;, &#x27;12&#x27;]]);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f39bf1db-fa9f-4b84-b2ad-6305b3dfd95f&quot;,&quot;parentUUID&quot;:&quot;db79bdec-98bc-4148-8aca-5061e5e62c66&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6b09ff5a-1347-4f17-ab78-ce1fbaf061f4&quot;,&quot;f39bf1db-fa9f-4b84-b2ad-6305b3dfd95f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:41,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;66243832-4e11-42d7-996a-bb7136f292a0&quot;,&quot;title&quot;:&quot;zadd command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/sset/zadd-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/sset/zadd-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zadd command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;da450227-d29c-469a-bc91-eac49f65ead2&quot;,&quot;parentUUID&quot;:&quot;66243832-4e11-42d7-996a-bb7136f292a0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zadd command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd3ad757-0d61-4987-8b5f-48b595d0e0e1&quot;,&quot;parentUUID&quot;:&quot;66243832-4e11-42d7-996a-bb7136f292a0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zadd command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4bff9274-7903-4174-9e50-c40189ea0203&quot;,&quot;parentUUID&quot;:&quot;66243832-4e11-42d7-996a-bb7136f292a0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;zadd command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c96d6f3-5833-457f-a67d-8ac188d5ce6b&quot;,&quot;parentUUID&quot;:&quot;66243832-4e11-42d7-996a-bb7136f292a0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should require at least 3 parameters&quot;,&quot;fullTitle&quot;:&quot;zadd command test should require at least 3 parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;zadd\\&#x27; command&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;zadd\\&#x27; command&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;123&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;zadd\\&#x27; command&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;123&#x27;, &#x27;something&#x27;]);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;71a07d87-3dae-4ff7-8459-98ebfb2a179d&quot;,&quot;parentUUID&quot;:&quot;66243832-4e11-42d7-996a-bb7136f292a0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reject even parameter counts&quot;,&quot;fullTitle&quot;:&quot;zadd command test should reject even parameter counts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;123&#x27;, &#x27;something&#x27;, &#x27;456&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;zadd\\&#x27; command&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;123&#x27;, &#x27;something&#x27;, &#x27;456&#x27;, &#x27;another&#x27;, &#x27;765&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;zadd\\&#x27; command&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;123&#x27;, &#x27;something&#x27;, &#x27;456&#x27;, &#x27;another&#x27;, &#x27;765&#x27;, &#x27;test&#x27;]);\n        // The \&quot;something\&quot; key should already exist so we only count 2 new fields\n        chai_1.expect(response).to.equal(2);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53909984-1c77-48e7-b521-4e1a80689b5e&quot;,&quot;parentUUID&quot;:&quot;66243832-4e11-42d7-996a-bb7136f292a0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reject an attempt to store non-floatish rankings&quot;,&quot;fullTitle&quot;:&quot;zadd command test should reject an attempt to store non-floatish rankings&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;zadd&#x27;, &#x27;zkey&#x27;, &#x27;__data__&#x27;, &#x27;something&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: Error: value is not a valid float&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7507dfb4-fe8d-4d42-8958-dc7955d81eae&quot;,&quot;parentUUID&quot;:&quot;66243832-4e11-42d7-996a-bb7136f292a0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;71a07d87-3dae-4ff7-8459-98ebfb2a179d&quot;,&quot;53909984-1c77-48e7-b521-4e1a80689b5e&quot;,&quot;7507dfb4-fe8d-4d42-8958-dc7955d81eae&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:14,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;ef8b8b73-c026-4afe-96ea-7e2871052033&quot;,&quot;title&quot;:&quot;getset-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/string/getset-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/string/getset-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;getset-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3538ec5a-b52e-4d30-8da3-17bc3191db83&quot;,&quot;parentUUID&quot;:&quot;ef8b8b73-c026-4afe-96ea-7e2871052033&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;getset-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;944a0927-797e-4e75-8df1-d4d3f16df7d4&quot;,&quot;parentUUID&quot;:&quot;ef8b8b73-c026-4afe-96ea-7e2871052033&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;getset-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;18b84532-72b9-454d-8452-062877c282f2&quot;,&quot;parentUUID&quot;:&quot;ef8b8b73-c026-4afe-96ea-7e2871052033&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;getset-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47f9a2d3-4c57-4df9-b874-386c54401eba&quot;,&quot;parentUUID&quot;:&quot;ef8b8b73-c026-4afe-96ea-7e2871052033&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report NIL when the original key does not exist&quot;,&quot;fullTitle&quot;:&quot;getset-command test should report NIL when the original key does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;getset&#x27;, uniqueKey, &#x27;0&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;275cd8b8-0449-4e33-8a3e-f9cf62ac24d9&quot;,&quot;parentUUID&quot;:&quot;ef8b8b73-c026-4afe-96ea-7e2871052033&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report the previous value of the key&quot;,&quot;fullTitle&quot;:&quot;getset-command test should report the previous value of the key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;getset&#x27;, uniqueKey, &#x27;ninety nine&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;0&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;getset&#x27;, uniqueKey, &#x27;nothing&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ninety nine&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b9374850-3512-4b31-8eb4-82e4749a90dd&quot;,&quot;parentUUID&quot;:&quot;ef8b8b73-c026-4afe-96ea-7e2871052033&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;275cd8b8-0449-4e33-8a3e-f9cf62ac24d9&quot;,&quot;b9374850-3512-4b31-8eb4-82e4749a90dd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;0ae5138d-6dec-41c5-b63f-c362de74bf51&quot;,&quot;title&quot;:&quot;incr/decr command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/string/incr-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/string/incr-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    // Set a key with a millisecond TTL to validate incr respects TTL\n    common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;ttlkey&#x27;, &#x27;100&#x27;, &#x27;PX&#x27;, &#x27;3&#x27;])\n        .then(() =&gt; {\n        done();\n    });\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cad8ead9-6e75-4583-95e0-3b4a81b8b2d9&quot;,&quot;parentUUID&quot;:&quot;0ae5138d-6dec-41c5-b63f-c362de74bf51&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9fdb2072-0abc-4af7-81a7-a4b5920f2794&quot;,&quot;parentUUID&quot;:&quot;0ae5138d-6dec-41c5-b63f-c362de74bf51&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;27584695-fc12-4c77-9540-a96c290f0ce9&quot;,&quot;parentUUID&quot;:&quot;0ae5138d-6dec-41c5-b63f-c362de74bf51&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d933d469-24c5-4251-b8d9-b42928bab3d8&quot;,&quot;parentUUID&quot;:&quot;0ae5138d-6dec-41c5-b63f-c362de74bf51&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report ONE when incr called against unknown key&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should report ONE when incr called against unknown key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;incr&#x27;, &#x27;incr-key&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n        chai_1.expect(response).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;65a944a3-7787-42ac-9a0e-571e96be65c6&quot;,&quot;parentUUID&quot;:&quot;0ae5138d-6dec-41c5-b63f-c362de74bf51&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have created the key from the previous test&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should have created the key from the previous test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;get&#x27;, &#x27;incr-key&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;string&#x27;);\n        chai_1.expect(response).to.equal(&#x27;1&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;001ef593-ab56-4ff2-b2b6-2e25042807f1&quot;,&quot;parentUUID&quot;:&quot;0ae5138d-6dec-41c5-b63f-c362de74bf51&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should overflow after 53 bits&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should overflow after 53 bits&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;incr-key&#x27;, &#x27;9007199254740990&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;incr&#x27;, &#x27;incr-key&#x27;]);\n        chai_1.expect(response).to.equal(Number.MAX_SAFE_INTEGER);\n        response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;incr&#x27;, &#x27;incr-key&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: Error: increment or decrement would overflow&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;94f958e1-a321-40e4-94d2-a9bbfbf86389&quot;,&quot;parentUUID&quot;:&quot;0ae5138d-6dec-41c5-b63f-c362de74bf51&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report -1 when decr called against unknown key&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should report -1 when decr called against unknown key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;decr&#x27;, &#x27;decr-key&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n        chai_1.expect(response).to.equal(-1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a53aea07-dc0a-4295-baa3-67f8520ee1af&quot;,&quot;parentUUID&quot;:&quot;0ae5138d-6dec-41c5-b63f-c362de74bf51&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have created the key from the previous test&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should have created the key from the previous test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;get&#x27;, &#x27;decr-key&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;string&#x27;);\n        chai_1.expect(response).to.equal(&#x27;-1&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f4b6c2ef-663d-42e4-a4c7-57e988c526ad&quot;,&quot;parentUUID&quot;:&quot;0ae5138d-6dec-41c5-b63f-c362de74bf51&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should overflow after 53 bits&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should overflow after 53 bits&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;decr-key&#x27;, &#x27;-9007199254740990&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;decr&#x27;, &#x27;decr-key&#x27;]);\n        chai_1.expect(response).to.equal(Number.MIN_SAFE_INTEGER);\n        response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;decr&#x27;, &#x27;decr-key&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: Error: increment or decrement would overflow&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b0e7f2ed-cd02-4578-aca2-aabd484297d0&quot;,&quot;parentUUID&quot;:&quot;0ae5138d-6dec-41c5-b63f-c362de74bf51&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respect TTL&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should respect TTL&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;get&#x27;, &#x27;ttlkey&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6e498687-2d9c-4f7f-9c38-6615e73a779b&quot;,&quot;parentUUID&quot;:&quot;0ae5138d-6dec-41c5-b63f-c362de74bf51&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail to increment a HASH value&quot;,&quot;fullTitle&quot;:&quot;incr/decr command test should fail to increment a HASH value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = `test-incr-${new Date().getTime()}`;\n        let response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;hset&#x27;, uniqueKey, &#x27;one&#x27;, &#x27;two&#x27;]);\n        console.log(`Response is`, response);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(new net.Socket(), [&#x27;incr&#x27;, uniqueKey]);\n        console.log(`ERROR is ${response}`);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d9ebfae5-2d12-436e-9564-97bab1a7a5e1&quot;,&quot;parentUUID&quot;:&quot;0ae5138d-6dec-41c5-b63f-c362de74bf51&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;65a944a3-7787-42ac-9a0e-571e96be65c6&quot;,&quot;001ef593-ab56-4ff2-b2b6-2e25042807f1&quot;,&quot;94f958e1-a321-40e4-94d2-a9bbfbf86389&quot;,&quot;a53aea07-dc0a-4295-baa3-67f8520ee1af&quot;,&quot;f4b6c2ef-663d-42e4-a4c7-57e988c526ad&quot;,&quot;b0e7f2ed-cd02-4578-aca2-aabd484297d0&quot;,&quot;6e498687-2d9c-4f7f-9c38-6615e73a779b&quot;,&quot;d9ebfae5-2d12-436e-9564-97bab1a7a5e1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:26,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;c8caea64-9881-490b-9c05-b33696df5661&quot;,&quot;title&quot;:&quot;incrby/decrby command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/string/incrby-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/string/incrby-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    // Set a key with a millisecond TTL to validate incrby respects TTL\n    common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;ttlkey&#x27;, &#x27;100&#x27;, &#x27;PX&#x27;, &#x27;3&#x27;])\n        .then(() =&gt; {\n        done();\n    });\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f5a0020-14b7-4641-ba73-417177943b08&quot;,&quot;parentUUID&quot;:&quot;c8caea64-9881-490b-9c05-b33696df5661&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c1e2c6e7-647b-4c33-b3e7-fb7dbf6fea08&quot;,&quot;parentUUID&quot;:&quot;c8caea64-9881-490b-9c05-b33696df5661&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;54a303ee-5d2e-4d35-af7a-6a4a1837defc&quot;,&quot;parentUUID&quot;:&quot;c8caea64-9881-490b-9c05-b33696df5661&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1c833f17-c597-4e5e-99bf-d7e5a7517914&quot;,&quot;parentUUID&quot;:&quot;c8caea64-9881-490b-9c05-b33696df5661&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should report the INCREMENT when incrby called against unknown key&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should report the INCREMENT when incrby called against unknown key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;incrby&#x27;, &#x27;incr-key&#x27;, &#x27;10&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n        chai_1.expect(response).to.equal(10);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a4f96e98-8f08-452d-905d-3b28d009703d&quot;,&quot;parentUUID&quot;:&quot;c8caea64-9881-490b-9c05-b33696df5661&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have created the key from the previous test&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should have created the key from the previous test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;incr-key&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;string&#x27;);\n        chai_1.expect(response).to.equal(&#x27;10&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aea2fcb3-0331-4f72-85bf-de6d72fa21cd&quot;,&quot;parentUUID&quot;:&quot;c8caea64-9881-490b-9c05-b33696df5661&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should overflow after 53 bits&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should overflow after 53 bits&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;incr-key&#x27;, &#x27;9007199254740981&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;incrby&#x27;, &#x27;incr-key&#x27;, &#x27;10&#x27;]);\n        chai_1.expect(response).to.equal(Number.MAX_SAFE_INTEGER);\n        response = yield common_test_1.sendCommand(client, [&#x27;incrby&#x27;, &#x27;incr-key&#x27;, &#x27;110&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: Error: increment or decrement would overflow&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3821a3f5-486e-47e4-8244-26d04189b544&quot;,&quot;parentUUID&quot;:&quot;c8caea64-9881-490b-9c05-b33696df5661&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should report the NEGATIVE increment when decrby called against unknown key&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should report the NEGATIVE increment when decrby called against unknown key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;decrby&#x27;, &#x27;decr-key&#x27;, &#x27;12&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n        chai_1.expect(response).to.equal(-12);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d4acfe5b-6a32-4162-b76b-58b0322ab59b&quot;,&quot;parentUUID&quot;:&quot;c8caea64-9881-490b-9c05-b33696df5661&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support negative increment and positive decrement&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should support negative increment and positive decrement&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;incrby&#x27;, &#x27;negincr&#x27;, &#x27;-12&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;number&#x27;);\n        chai_1.expect(response).to.equal(-12);\n        response = yield common_test_1.sendCommand(client, [&#x27;decrby&#x27;, &#x27;negincr&#x27;, &#x27;-24&#x27;]);\n        chai_1.expect(response).to.equal(12);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;68fb93ee-d560-4885-9520-4bd7873a4f8b&quot;,&quot;parentUUID&quot;:&quot;c8caea64-9881-490b-9c05-b33696df5661&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should have created the key from the previous test&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should have created the key from the previous test&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;decr-key&#x27;]);\n        chai_1.expect(response).to.be.a(&#x27;string&#x27;);\n        chai_1.expect(response).to.equal(&#x27;-12&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d84936db-18e3-415b-9760-de97d12d40d4&quot;,&quot;parentUUID&quot;:&quot;c8caea64-9881-490b-9c05-b33696df5661&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should overflow after 53 bits&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should overflow after 53 bits&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        let response = yield common_test_1.sendCommand(client, [&#x27;set&#x27;, &#x27;decr-key&#x27;, &#x27;-9007199254740981&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;decrby&#x27;, &#x27;decr-key&#x27;, &#x27;10&#x27;]);\n        chai_1.expect(response).to.equal(Number.MIN_SAFE_INTEGER);\n        // This does not seem to be exact\n        // response = await sendCommand(client, [&#x27;decrby&#x27;, &#x27;decr-key&#x27;, String(Number.MAX_SAFE_INTEGER)]);\n        // expect(response).to.equal(&#x27;ReplyError: Error: increment or decrement would overflow&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5b629bbc-e8fb-4644-855c-9a16f24194b3&quot;,&quot;parentUUID&quot;:&quot;c8caea64-9881-490b-9c05-b33696df5661&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respect TTL&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should respect TTL&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;ttlkey&#x27;]);\n        chai_1.expect(response).to.equal(null);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a0fd5368-0f5f-476a-98d9-4c0c2fd1e068&quot;,&quot;parentUUID&quot;:&quot;c8caea64-9881-490b-9c05-b33696df5661&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail to increment a HASH value&quot;,&quot;fullTitle&quot;:&quot;incrby/decrby command test should fail to increment a HASH value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        const uniqueKey = `test-incr-${new Date().getTime()}`;\n        let response = yield common_test_1.sendCommand(client, [&#x27;hset&#x27;, uniqueKey, &#x27;one&#x27;, &#x27;two&#x27;]);\n        console.log(`Response is`, response);\n        chai_1.expect(response).to.equal(1);\n        response = yield common_test_1.sendCommand(client, [&#x27;incrby&#x27;, uniqueKey, &#x27;12&#x27;]);\n        console.log(`ERROR is ${response}`);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: WRONGTYPE Operation against a key holding the wrong kind of value&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2991404f-ccfb-4d6c-aa6f-a7d1bbb3f95f&quot;,&quot;parentUUID&quot;:&quot;c8caea64-9881-490b-9c05-b33696df5661&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a4f96e98-8f08-452d-905d-3b28d009703d&quot;,&quot;aea2fcb3-0331-4f72-85bf-de6d72fa21cd&quot;,&quot;3821a3f5-486e-47e4-8244-26d04189b544&quot;,&quot;d4acfe5b-6a32-4162-b76b-58b0322ab59b&quot;,&quot;68fb93ee-d560-4885-9520-4bd7873a4f8b&quot;,&quot;d84936db-18e3-415b-9760-de97d12d40d4&quot;,&quot;5b629bbc-e8fb-4644-855c-9a16f24194b3&quot;,&quot;a0fd5368-0f5f-476a-98d9-4c0c2fd1e068&quot;,&quot;2991404f-ccfb-4d6c-aa6f-a7d1bbb3f95f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:29,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;6fe778c2-b97e-4e33-aa52-55f4266b0b83&quot;,&quot;title&quot;:&quot;mset-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/string/mset-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/string/mset-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;mset-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6fe35e4b-90a2-418c-a049-11a2c324ef49&quot;,&quot;parentUUID&quot;:&quot;6fe778c2-b97e-4e33-aa52-55f4266b0b83&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;mset-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b31bb5cd-dd9a-4e3a-89d5-ff2533c6ab0b&quot;,&quot;parentUUID&quot;:&quot;6fe778c2-b97e-4e33-aa52-55f4266b0b83&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;mset-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3a545e41-981c-47b8-9b1a-840fe5844f1b&quot;,&quot;parentUUID&quot;:&quot;6fe778c2-b97e-4e33-aa52-55f4266b0b83&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;mset-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;37d3f5b4-7327-4ed9-b1d1-9043baf7779e&quot;,&quot;parentUUID&quot;:&quot;6fe778c2-b97e-4e33-aa52-55f4266b0b83&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create multiple keys at once&quot;,&quot;fullTitle&quot;:&quot;mset-command test should create multiple keys at once&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;mset&#x27;, &#x27;key1&#x27;, &#x27;Hello&#x27;, &#x27;key2&#x27;, &#x27;world&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;key1&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;Hello&#x27;);\n        response = yield common_test_1.sendCommand(client, [&#x27;get&#x27;, &#x27;key2&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;world&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;234d2d66-20f6-4894-8f0a-749dc2b2566e&quot;,&quot;parentUUID&quot;:&quot;6fe778c2-b97e-4e33-aa52-55f4266b0b83&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should only accept an even number of parameters&quot;,&quot;fullTitle&quot;:&quot;mset-command test should only accept an even number of parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        response = yield common_test_1.sendCommand(client, [&#x27;msEt&#x27;, &#x27;wrong&#x27;, &#x27;number&#x27;, &#x27;of&#x27;]);\n        chai_1.expect(response).to.equal(&#x27;ReplyError: ERR wrong number of arguments for \\&#x27;mset\\&#x27; command&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;76b050c2-f15d-4293-91ad-dca54704910f&quot;,&quot;parentUUID&quot;:&quot;6fe778c2-b97e-4e33-aa52-55f4266b0b83&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;234d2d66-20f6-4894-8f0a-749dc2b2566e&quot;,&quot;76b050c2-f15d-4293-91ad-dca54704910f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;32b32dfe-6757-4a06-b341-cd75c741008a&quot;,&quot;title&quot;:&quot;set-command test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/command/string/set-command.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/command/string/set-command.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set-command test \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;respServer = new resp_server_1.RespServer();\nrespServer.on(&#x27;ready&#x27;, () =&gt; {\n    done();\n});\nrespServer.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dc0fa955-95b4-4243-9681-1594c26599aa&quot;,&quot;parentUUID&quot;:&quot;32b32dfe-6757-4a06-b341-cd75c741008a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set-command test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;73c0f28a-bd49-4362-b580-dcc67f49eb99&quot;,&quot;parentUUID&quot;:&quot;32b32dfe-6757-4a06-b341-cd75c741008a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set-command test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        yield respServer.stop();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a2de39a2-cf99-4342-9bbc-841ee1845a39&quot;,&quot;parentUUID&quot;:&quot;32b32dfe-6757-4a06-b341-cd75c741008a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;set-command test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b80bccb6-9db0-44a9-97ed-c6f62bd6ee2f&quot;,&quot;parentUUID&quot;:&quot;32b32dfe-6757-4a06-b341-cd75c741008a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should allow us to set a several second ttl&quot;,&quot;fullTitle&quot;:&quot;set-command test should allow us to set a several second ttl&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// During local testing there are 8 milliseconds from put to get\ncommon_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;TTLtest&#x27;, &#x27;key&#x27;, &#x27;EX&#x27;, &#x27;1&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;acaf29ca-1d3e-4eb8-a59d-1ee2ecea7375&quot;,&quot;parentUUID&quot;:&quot;32b32dfe-6757-4a06-b341-cd75c741008a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should NOT allow SET to invoke NX after XX&quot;,&quot;fullTitle&quot;:&quot;set-command test should NOT allow SET to invoke NX after XX&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;test&#x27;, &#x27;key&#x27;, &#x27;XX&#x27;, &#x27;NX&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;ReplyError: Error: Syntax Exception - cannot set NX with XX&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;82d19f17-9e70-42e0-9c1a-044898e2b2bf&quot;,&quot;parentUUID&quot;:&quot;32b32dfe-6757-4a06-b341-cd75c741008a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should NOT allow SET to invoke XX after NX&quot;,&quot;fullTitle&quot;:&quot;set-command test should NOT allow SET to invoke XX after NX&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;test&#x27;, &#x27;key&#x27;, &#x27;NX&#x27;, &#x27;XX&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;ReplyError: Error: Syntax Exception - cannot set XX with NX&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;619aa64e-cc4c-40ad-b376-e0298b3911d8&quot;,&quot;parentUUID&quot;:&quot;32b32dfe-6757-4a06-b341-cd75c741008a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return nil when SET invoked with XX on a key that doesn&#x27;t exist&quot;,&quot;fullTitle&quot;:&quot;set-command test should return nil when SET invoked with XX on a key that doesn&#x27;t exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const uniqueKey = `TEST${new Date().getTime()}`;\ncommon_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, uniqueKey, &#x27;key&#x27;, &#x27;XX&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(null);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e2c230f9-663b-4ae1-ad54-487864d4751a&quot;,&quot;parentUUID&quot;:&quot;32b32dfe-6757-4a06-b341-cd75c741008a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return OK when SET invoked with XX on a key that DOES exist&quot;,&quot;fullTitle&quot;:&quot;set-command test should return OK when SET invoked with XX on a key that DOES exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const uniqueKey = `TEST${new Date().getTime()}`;\n// set the key with NX first to validate that functionality\ncommon_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, uniqueKey, &#x27;key&#x27;, &#x27;NX&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n    common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, uniqueKey, &#x27;new value&#x27;, &#x27;XX&#x27;])\n        .then((responseXX) =&gt; {\n        chai_1.expect(responseXX).to.equal(&#x27;OK&#x27;);\n        // Now validate that the key is what we said last\n        common_test_1.sendCommand(new net.Socket(), [&#x27;get&#x27;, uniqueKey])\n            .then((responseGet) =&gt; {\n            chai_1.expect(responseGet).to.equal(&#x27;new value&#x27;);\n            done();\n        });\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f48e90e8-fa1b-433a-b082-7677257b25d6&quot;,&quot;parentUUID&quot;:&quot;32b32dfe-6757-4a06-b341-cd75c741008a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should NOT allow SET to invoke EX and PX simultaneously&quot;,&quot;fullTitle&quot;:&quot;set-command test should NOT allow SET to invoke EX and PX simultaneously&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Note: Our behavior is different from redis.  This error is &#x27;wrong number of args&#x27;\ncommon_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;test&#x27;, &#x27;key&#x27;, &#x27;EX&#x27;, &#x27;100&#x27;, &#x27;PX&#x27;, &#x27;100&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.match(/^ReplyError: ERR wrong number of arguments.*/);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;69219260-0a3a-4732-b114-fec883fa33ad&quot;,&quot;parentUUID&quot;:&quot;32b32dfe-6757-4a06-b341-cd75c741008a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should allow us to set a millisecond ttl&quot;,&quot;fullTitle&quot;:&quot;set-command test should allow us to set a millisecond ttl&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// During local teseting there are 8 milliseconds from put to get\ncommon_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;MILLItest&#x27;, &#x27;key&#x27;, &#x27;PX&#x27;, &#x27;1&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;OK&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4c4afcb8-08cb-4871-885f-ce6caddcec5b&quot;,&quot;parentUUID&quot;:&quot;32b32dfe-6757-4a06-b341-cd75c741008a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should prove that the one second TTL has expired&quot;,&quot;fullTitle&quot;:&quot;set-command test should prove that the one second TTL has expired&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1009,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;setTimeout(() =&gt; {\n    common_test_1.sendCommand(new net.Socket(), [&#x27;get&#x27;, &#x27;TTLtest&#x27;])\n        .then((responseGet) =&gt; {\n        chai_1.expect(responseGet).to.equal(null);\n        done();\n    });\n}, 1000);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1d9adc8-a5c4-4d79-b9e0-3a7ef38073cd&quot;,&quot;parentUUID&quot;:&quot;32b32dfe-6757-4a06-b341-cd75c741008a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not accept unknown parameters&quot;,&quot;fullTitle&quot;:&quot;set-command test should not accept unknown parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;test&#x27;, &#x27;key&#x27;, &#x27;Q&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;ReplyError: Error: Cannot parse the command&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;01197c2b-72dc-4510-81a8-4b45ee5dcd20&quot;,&quot;parentUUID&quot;:&quot;32b32dfe-6757-4a06-b341-cd75c741008a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should NOT allow SET to invoke PX after EX&quot;,&quot;fullTitle&quot;:&quot;set-command test should NOT allow SET to invoke PX after EX&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;test&#x27;, &#x27;key&#x27;, &#x27;EX&#x27;, &#x27;100&#x27;, &#x27;PX&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;ReplyError: Error: Syntax Exception - cannot set ttl twice&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;85ab316b-c0a9-4d7f-990b-e9ddc8cdcdba&quot;,&quot;parentUUID&quot;:&quot;32b32dfe-6757-4a06-b341-cd75c741008a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should NOT allow SET to invoke EX after PX&quot;,&quot;fullTitle&quot;:&quot;set-command test should NOT allow SET to invoke EX after PX&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;test&#x27;, &#x27;key&#x27;, &#x27;PX&#x27;, &#x27;100&#x27;, &#x27;EX&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;ReplyError: Error: Syntax Exception - cannot set ttl twice&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b0531947-2169-4fd3-ab0d-3e6a0bcd347b&quot;,&quot;parentUUID&quot;:&quot;32b32dfe-6757-4a06-b341-cd75c741008a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not allow a TTL less than 1ms&quot;,&quot;fullTitle&quot;:&quot;set-command test should not allow a TTL less than 1ms&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;common_test_1.sendCommand(new net.Socket(), [&#x27;set&#x27;, &#x27;MILLItest&#x27;, &#x27;key&#x27;, &#x27;PX&#x27;, &#x27;0&#x27;])\n    .then((response) =&gt; {\n    chai_1.expect(response).to.equal(&#x27;ReplyError: Error: invalid expire time in set&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1c7bfb14-6e2a-44fa-af03-c2e870afc478&quot;,&quot;parentUUID&quot;:&quot;32b32dfe-6757-4a06-b341-cd75c741008a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should prove that the millisecond TTL has expired&quot;,&quot;fullTitle&quot;:&quot;set-command test should prove that the millisecond TTL has expired&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;setTimeout(() =&gt; {\n    common_test_1.sendCommand(new net.Socket(), [&#x27;get&#x27;, &#x27;MILLItest&#x27;])\n        .then((responseGet) =&gt; {\n        chai_1.expect(responseGet).to.equal(null);\n        done();\n    });\n}, 10);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a85829e8-435b-4ab6-b6e7-b9f13b0200a9&quot;,&quot;parentUUID&quot;:&quot;32b32dfe-6757-4a06-b341-cd75c741008a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;acaf29ca-1d3e-4eb8-a59d-1ee2ecea7375&quot;,&quot;82d19f17-9e70-42e0-9c1a-044898e2b2bf&quot;,&quot;619aa64e-cc4c-40ad-b376-e0298b3911d8&quot;,&quot;e2c230f9-663b-4ae1-ad54-487864d4751a&quot;,&quot;f48e90e8-fa1b-433a-b082-7677257b25d6&quot;,&quot;69219260-0a3a-4732-b114-fec883fa33ad&quot;,&quot;4c4afcb8-08cb-4871-885f-ce6caddcec5b&quot;,&quot;d1d9adc8-a5c4-4d79-b9e0-3a7ef38073cd&quot;,&quot;01197c2b-72dc-4510-81a8-4b45ee5dcd20&quot;,&quot;85ab316b-c0a9-4d7f-990b-e9ddc8cdcdba&quot;,&quot;b0531947-2169-4fd3-ab0d-3e6a0bcd347b&quot;,&quot;1c7bfb14-6e2a-44fa-af03-c2e870afc478&quot;,&quot;a85829e8-435b-4ab6-b6e7-b9f13b0200a9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1049,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;66affe92-b605-44ba-b5c4-bcc8bd3f8784&quot;,&quot;title&quot;:&quot;data-type test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/data-type.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/data-type.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;data-type test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c8116568-5467-4a5a-920e-3df1eff390f7&quot;,&quot;parentUUID&quot;:&quot;66affe92-b605-44ba-b5c4-bcc8bd3f8784&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;data-type test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6d3a1506-9d54-44e6-8667-ccd4f7022427&quot;,&quot;parentUUID&quot;:&quot;66affe92-b605-44ba-b5c4-bcc8bd3f8784&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;data-type test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;54df67d3-ce64-4497-bcc4-40f07cb55ca5&quot;,&quot;parentUUID&quot;:&quot;66affe92-b605-44ba-b5c4-bcc8bd3f8784&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should enumerate data-types&quot;,&quot;fullTitle&quot;:&quot;data-type test should enumerate data-types&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        chai_1.expect(data_type_1.DataType.NONE).to.equal(&#x27;none&#x27;);\n        chai_1.expect(data_type_1.DataType.STRING).to.equal(&#x27;string&#x27;);\n        chai_1.expect(data_type_1.DataType.LIST).to.equal(&#x27;list&#x27;);\n        chai_1.expect(data_type_1.DataType.SET).to.equal(&#x27;set&#x27;);\n        chai_1.expect(data_type_1.DataType.ZSET).to.equal(&#x27;zset&#x27;);\n        chai_1.expect(data_type_1.DataType.HASH).to.equal(&#x27;hash&#x27;);\n        chai_1.expect(Object.keys(data_type_1.DataType).length).to.equal(6);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f7ec7ca6-4e77-45c4-ba94-122f6be150aa&quot;,&quot;parentUUID&quot;:&quot;66affe92-b605-44ba-b5c4-bcc8bd3f8784&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f7ec7ca6-4e77-45c4-ba94-122f6be150aa&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;e5f2a0f2-51f0-403d-9369-cd96a49f6c2b&quot;,&quot;title&quot;:&quot;sorted-set test&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sorted-set test \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.createSandbox();\nss = new sorted_set_1.SortedSet();\nz = new Z();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cdc88181-8dba-4407-a5cb-6c5acf7e944f&quot;,&quot;parentUUID&quot;:&quot;e5f2a0f2-51f0-403d-9369-cd96a49f6c2b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sorted-set test \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9519917c-cc85-4f0d-aaab-d76857f8b8be&quot;,&quot;parentUUID&quot;:&quot;e5f2a0f2-51f0-403d-9369-cd96a49f6c2b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;sorted-set test \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4cfb4262-026b-45c0-9476-99b0c5e42d7c&quot;,&quot;parentUUID&quot;:&quot;e5f2a0f2-51f0-403d-9369-cd96a49f6c2b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should instantiate&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should instantiate&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        chai_1.expect(z.constructor.name).to.equal(&#x27;Z&#x27;);\n        ss = new sorted_set_1.SortedSet();\n        chai_1.expect(ss.constructor.name).to.equal(&#x27;SortedSet&#x27;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8fa8cd07-7faa-42e7-be25-30d495d3bfda&quot;,&quot;parentUUID&quot;:&quot;e5f2a0f2-51f0-403d-9369-cd96a49f6c2b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should add, get, and delete an entry&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should add, get, and delete an entry&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        let added = z.add(&#x27;test&#x27;, 1);\n        chai_1.expect(added).to.equal(null);\n        added = ss.add(&#x27;test&#x27;, 1);\n        chai_1.expect(added).to.equal(null);\n        chai_1.expect(z.keys().length).to.equal(1);\n        chai_1.expect(ss.keys().length).to.equal(1);\n        let item = z.get(&#x27;test&#x27;);\n        chai_1.expect(item.constructor.name).to.equal(&#x27;Number&#x27;);\n        item = ss.get(&#x27;test&#x27;);\n        chai_1.expect(item.constructor.name).to.equal(&#x27;Number&#x27;);\n        z.del(&#x27;test&#x27;);\n        chai_1.expect(z.keys().length).to.equal(0);\n        ss.del(&#x27;test&#x27;);\n        chai_1.expect(ss.keys().length).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e398e929-93c4-4923-a110-c74515c57ddf&quot;,&quot;parentUUID&quot;:&quot;e5f2a0f2-51f0-403d-9369-cd96a49f6c2b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw when attempting to add __proto__ key&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should throw when attempting to add __proto__ key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        chai_1.expect(() =&gt; {\n            z.add(&#x27;__proto__&#x27;, 0);\n        }).to.throw();\n        // expect(() =&gt; {\n        //   ss.add(&#x27;__proto__&#x27;, 0)\n        // }).to.throw();\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;64ca6f94-b69b-4ba6-bef4-cf0668a11546&quot;,&quot;parentUUID&quot;:&quot;e5f2a0f2-51f0-403d-9369-cd96a49f6c2b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not add an undefined or null score&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should not add an undefined or null score&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        let added = z.add(&#x27;test&#x27;, null);\n        chai_1.expect(added).to.equal(null);\n        chai_1.expect(z.keys().length).to.equal(0);\n        added = z.add(&#x27;test&#x27;, undefined);\n        chai_1.expect(z.keys().length).to.equal(0);\n        // Typescript prevents adding null\n        // added = ss.add(&#x27;test&#x27;, null);\n        // expect(added).to.equal(null);\n        // expect(ss.keys().length).to.equal(0);\n        // added = ss.add(&#x27;test&#x27;, undefined);\n        // expect(z.keys().length).to.equal(0);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b2003d42-5770-40ce-9344-295864506aa7&quot;,&quot;parentUUID&quot;:&quot;e5f2a0f2-51f0-403d-9369-cd96a49f6c2b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not duplicate key/value pairs&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should not duplicate key/value pairs&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        let added = z.add(&#x27;test&#x27;, 123);\n        chai_1.expect(added).to.equal(null); // This is weird\n        chai_1.expect(z.keys().length).to.equal(1);\n        added = z.add(&#x27;test&#x27;, 123);\n        chai_1.expect(added).to.equal(123); // and weirder\n        chai_1.expect(z.keys().length).to.equal(1);\n        added = ss.add(&#x27;test&#x27;, 123);\n        chai_1.expect(added).to.equal(null); // This is weird\n        chai_1.expect(ss.keys().length).to.equal(1);\n        added = ss.add(&#x27;test&#x27;, 123);\n        chai_1.expect(added).to.equal(123); // and weirder\n        chai_1.expect(ss.keys().length).to.equal(1);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;995d4faa-08cf-4b3c-9241-d4002a1d94a8&quot;,&quot;parentUUID&quot;:&quot;e5f2a0f2-51f0-403d-9369-cd96a49f6c2b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the old rank when replacing a key&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should return the old rank when replacing a key&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        let added = z.add(&#x27;test&#x27;, 123);\n        chai_1.expect(added).to.equal(null);\n        chai_1.expect(z.keys().length).to.equal(1);\n        added = z.add(&#x27;test&#x27;, 321);\n        chai_1.expect(added).to.equal(123);\n        chai_1.expect(z.keys().length).to.equal(1);\n        added = z.get(&#x27;test&#x27;);\n        chai_1.expect(added).to.equal(321);\n        added = ss.add(&#x27;test&#x27;, 123);\n        chai_1.expect(added).to.equal(null);\n        chai_1.expect(ss.keys().length).to.equal(1);\n        added = ss.add(&#x27;test&#x27;, 321);\n        chai_1.expect(added).to.equal(123);\n        chai_1.expect(ss.keys().length).to.equal(1);\n        added = ss.get(&#x27;test&#x27;);\n        chai_1.expect(added).to.equal(321);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b114e34c-fc5f-44ff-9c7d-193e5da71e9b&quot;,&quot;parentUUID&quot;:&quot;e5f2a0f2-51f0-403d-9369-cd96a49f6c2b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a value when adding at least 32 values (I think - it is difficult to tell)&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should return a value when adding at least 32 values (I think - it is difficult to tell)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;86129f84-df71-4f36-8a22-118fd4bf278e&quot;,&quot;parentUUID&quot;:&quot;e5f2a0f2-51f0-403d-9369-cd96a49f6c2b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should do what the documentation says here: https://www.npmjs.com/package/redis-sorted-set&quot;,&quot;fullTitle&quot;:&quot;sorted-set test should do what the documentation says here: https://www.npmjs.com/package/redis-sorted-set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        chai_1.expect(z.add(&#x27;Terminator&#x27;, 8.0)).to.equal(null); // =&gt; null\n        chai_1.expect(z.add(&#x27;District 9&#x27;, 8.0)).to.equal(null); // =&gt; null\n        chai_1.expect(z.add(&#x27;Ex Machina&#x27;, 0.7)).to.equal(null); // =&gt; null\n        chai_1.expect(z.add(&#x27;Ex Machina&#x27;, 7.7)).to.equal(0.7); // =&gt; 0.7\n        // alias\n        chai_1.expect(z.set(&#x27;The Matrix&#x27;, 8.7)).to.equal(null); // =&gt; null\n        // average O(1)\n        chai_1.expect(z.has(&#x27;Terminator&#x27;)).to.equal(true); // =&gt; true\n        chai_1.expect(z.has(&#x27;Blade Runner&#x27;)).to.equal(false); // =&gt; false\n        // average O(1)\n        chai_1.expect(z.score(&#x27;Ex Machina&#x27;)).to.equal(7.7); // =&gt; 7.7\n        chai_1.expect(z.score(&#x27;Blade Runner&#x27;)).to.equal(null); // =&gt; null\n        // alias\n        chai_1.expect(z.get(&#x27;The Matrix&#x27;)).to.equal(8.7); // =&gt; 8.7\n        // average O(log(N))\n        chai_1.expect(z.rem(&#x27;Ex Machina&#x27;)).to.equal(7.7); // =&gt; 7.7\n        // average O(1)\n        chai_1.expect(z.rem(&#x27;Ex Machina&#x27;)).to.equal(null); // =&gt; null\n        // alias\n        chai_1.expect(z.del(&#x27;Ex Machina&#x27;)).to.equal(null); // =&gt; null\n        // average O(log(N)+M) where M is the number of elements between min and max\n        // This is not working as expected\n        chai_1.expect(z.rangeByScore(7, 8)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        chai_1.expect(z.rangeByScore(8)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]); // [8.0-∞)\n        // =&gt; [&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]\n        chai_1.expect(z.rangeByScore(8, null, { withScores: true })).to.eql([[&#x27;District 9&#x27;, 8.0], [&#x27;Terminator&#x27;, 8.0], [&#x27;The Matrix&#x27;, 8.7]]);\n        // =&gt; [[&#x27;District 9&#x27;, 8.0], [&#x27;Terminator&#x27;, 8.0], [&#x27;The Matrix&#x27;, 8.7]]\n        // average O(log(N)+log(M)) where M as in rangeByScore\n        // Again - not as expected\n        chai_1.expect(z.count(7, 8)).to.equal(2); // =&gt; 3\n        // average O(log(N))\n        // Not working as expected\n        chai_1.expect(z.rank(&#x27;Ex Machina&#x27;)).to.equal(null); // =&gt; 0\n        // Not working as expected\n        chai_1.expect(z.rank(&#x27;Terminator&#x27;)).to.equal(1); // =&gt; 2\n        chai_1.expect(z.rank(&#x27;Blade Runner&#x27;)).to.equal(null); // =&gt; null\n        // average O(log(N)+M) where M as in range\n        // Not working as expected\n        chai_1.expect(z.range(0, 2)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        // Not working as expected\n        chai_1.expect(z.range(0, 2, { withScores: true })).to.eql([[&#x27;District 9&#x27;, 8], [&#x27;Terminator&#x27;, 8], [&#x27;The Matrix&#x27;, 8.7]]);\n        // =&gt; [[&#x27;Ex Machina&#x27;, 7.7],\n        //     [&#x27;District 9&#x27;, 8],\n        //     [&#x27;Terminator&#x27;, 8]]\n        chai_1.expect(z.range(-1)).to.eql([&#x27;The Matrix&#x27;]); // =&gt; [&#x27;The Matrix&#x27;]\n        // almost alias\n        // Not working as expected\n        chai_1.expect(z.slice(0, 3)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        // Set cardinality (number of elements)\n        // average O(1)\n        // Not working as expected\n        chai_1.expect(z.card()).to.equal(3); // =&gt; 4\n        // alias\n        // Not working as expected\n        chai_1.expect(z.length).to.equal(3); // =&gt; 4\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f1ae1f81-f9f4-4278-9b8f-d5d9fa940b40&quot;,&quot;parentUUID&quot;:&quot;e5f2a0f2-51f0-403d-9369-cd96a49f6c2b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;the rewrite should do what the documentation says here: https://www.npmjs.com/package/redis-sorted-set&quot;,&quot;fullTitle&quot;:&quot;sorted-set test the rewrite should do what the documentation says here: https://www.npmjs.com/package/redis-sorted-set&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(void 0, void 0, void 0, function* () {\n        z = new Z();\n        ss = new sorted_set_1.SortedSet();\n        chai_1.expect(ss.add(&#x27;Terminator&#x27;, 8.0)).to.equal(null); // =&gt; null\n        chai_1.expect(ss.add(&#x27;District 9&#x27;, 8.0)).to.equal(null); // =&gt; null\n        chai_1.expect(ss.add(&#x27;Ex Machina&#x27;, 0.7)).to.equal(null); // =&gt; null\n        chai_1.expect(ss.add(&#x27;Ex Machina&#x27;, 7.7)).to.equal(0.7); // =&gt; 0.7\n        // alias\n        chai_1.expect(ss.set(&#x27;The Matrix&#x27;, 8.7)).to.equal(null); // =&gt; null\n        // average O(1)\n        chai_1.expect(ss.has(&#x27;Terminator&#x27;)).to.equal(true); // =&gt; true\n        chai_1.expect(ss.has(&#x27;Blade Runner&#x27;)).to.equal(false); // =&gt; false\n        // average O(1)\n        chai_1.expect(ss.score(&#x27;Ex Machina&#x27;)).to.equal(7.7); // =&gt; 7.7\n        chai_1.expect(ss.score(&#x27;Blade Runner&#x27;)).to.equal(null); // =&gt; null\n        // alias\n        chai_1.expect(ss.get(&#x27;The Matrix&#x27;)).to.equal(8.7); // =&gt; 8.7\n        // average O(log(N))\n        chai_1.expect(ss.rem(&#x27;Ex Machina&#x27;)).to.equal(7.7); // =&gt; 7.7\n        // average O(1)\n        chai_1.expect(ss.rem(&#x27;Ex Machina&#x27;)).to.equal(null); // =&gt; null\n        // alias\n        chai_1.expect(ss.del(&#x27;Ex Machina&#x27;)).to.equal(null); // =&gt; null\n        // average O(log(N)+M) where M is the number of elements between min and max\n        // This is not working as expected\n        chai_1.expect(ss.rangeByScore(7, 8)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        chai_1.expect(ss.rangeByScore(8)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]); // [8.0-∞)\n        // =&gt; [&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]\n        chai_1.expect(ss.rangeByScore(8, null, { withScores: true })).to.eql([[&#x27;District 9&#x27;, 8.0], [&#x27;Terminator&#x27;, 8.0], [&#x27;The Matrix&#x27;, 8.7]]);\n        // =&gt; [[&#x27;District 9&#x27;, 8.0], [&#x27;Terminator&#x27;, 8.0], [&#x27;The Matrix&#x27;, 8.7]]\n        // average O(log(N)+log(M)) where M as in rangeByScore\n        // Again - not as expected\n        chai_1.expect(ss.count(7, 8)).to.equal(2); // =&gt; 3\n        // average O(log(N))\n        // Not working as expected\n        chai_1.expect(ss.rank(&#x27;Ex Machina&#x27;)).to.equal(null); // =&gt; 0\n        // Not working as expected\n        chai_1.expect(ss.rank(&#x27;Terminator&#x27;)).to.equal(1); // =&gt; 2\n        chai_1.expect(ss.rank(&#x27;Blade Runner&#x27;)).to.equal(null); // =&gt; null\n        // average O(log(N)+M) where M as in range\n        // Not working as expected\n        chai_1.expect(ss.range(0, 2)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        // Not working as expected\n        chai_1.expect(ss.range(0, 2, { withScores: true })).to.eql([[&#x27;District 9&#x27;, 8], [&#x27;Terminator&#x27;, 8], [&#x27;The Matrix&#x27;, 8.7]]);\n        // =&gt; [[&#x27;Ex Machina&#x27;, 7.7],\n        //     [&#x27;District 9&#x27;, 8],\n        //     [&#x27;Terminator&#x27;, 8]]\n        chai_1.expect(ss.range(-1)).to.eql([&#x27;The Matrix&#x27;]); // =&gt; [&#x27;The Matrix&#x27;]\n        // almost alias\n        // Not working as expected\n        chai_1.expect(ss.slice(0, 3)).to.eql([&#x27;District 9&#x27;, &#x27;Terminator&#x27;, &#x27;The Matrix&#x27;]);\n        // =&gt; [&#x27;Ex Machina&#x27;, &#x27;District 9&#x27;, &#x27;Terminator&#x27;]\n        // Set cardinality (number of elements)\n        // average O(1)\n        // Not working as expected\n        chai_1.expect(ss.card()).to.equal(3); // =&gt; 4\n        // alias\n        // Not working as expected\n        chai_1.expect(ss.length).to.equal(3); // =&gt; 4\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;862d0da2-3726-4e4d-aa17-8520aced1548&quot;,&quot;parentUUID&quot;:&quot;e5f2a0f2-51f0-403d-9369-cd96a49f6c2b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;5149d043-83fc-4150-890b-b2aedcc2f629&quot;,&quot;title&quot;:&quot;skip map&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support basic operations&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map should support basic operations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nchai_1.expect(z).to.have.length(0);\nchai_1.expect(z.toArray()).to.eql([]);\nchai_1.expect(z.range()).to.eql([]);\nchai_1.expect(z.rangeByScore()).to.eql([]);\nchai_1.expect(() =&gt; {\n    z.add(&#x27;__proto__&#x27;, 14);\n}).to.throw();\nz.add(&#x27;5a600e16&#x27;, 8);\nz.add(&#x27;5a600e17&#x27;, 9);\nchai_1.expect(z.add(&#x27;5a600e18&#x27;, 10)).to.equal(null);\nchai_1.expect(z.add(&#x27;5a600e17&#x27;, 12)).to.equal(9);\nchai_1.expect(z).to.have.length(3);\nchai_1.expect(z.toArray()).to.eql([&#x27;5a600e16&#x27;, &#x27;5a600e18&#x27;, &#x27;5a600e17&#x27;]);\nchai_1.expect(z.toArray()).to.eql(z.range(0, -1));\nchai_1.expect(z.toArray()).to.eql(z.rangeByScore());\nchai_1.expect(z.has(&#x27;5a600e16&#x27;)).to.be.ok;\nchai_1.expect(z.has(&#x27;5a600e17&#x27;)).to.be.ok;\nchai_1.expect(z.has(&#x27;5a600e18&#x27;)).to.be.ok;\nchai_1.expect(z.has(&#x27;5a600e19&#x27;)).to.not.be.ok;\nchai_1.expect(z.score(&#x27;5a600e16&#x27;)).to.equal(8);\nchai_1.expect(z.score(&#x27;5a600e17&#x27;)).to.equal(12);\nchai_1.expect(z.score(&#x27;5a600e18&#x27;)).to.equal(10);\nchai_1.expect(z.score(&#x27;5a600e19&#x27;)).to.equal(null);\nchai_1.expect(z.rem(&#x27;5a600e16&#x27;)).to.equal(8);\nchai_1.expect(z).to.have.length(2);\nchai_1.expect(z.rem(&#x27;5a600e16&#x27;)).to.equal(null);\nchai_1.expect(z).to.have.length(2);\nchai_1.expect(z.has(&#x27;5a600e16&#x27;)).to.not.be.ok;\nchai_1.expect(z.toArray()).to.eql([&#x27;5a600e18&#x27;, &#x27;5a600e17&#x27;]);\nchai_1.expect(z.toArray({ withScores: true }))\n    .to.eql(z.range(0, -1, { withScores: true }));\nchai_1.expect(z.toArray()).to.eql(z.rangeByScore());\nz.add(&#x27;5a600e16&#x27;, 10);\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nchai_1.expect(z).to.have.length(9);\n// no change, so should be O(1)\nz.add(&#x27;5a600e17&#x27;, 12);\nchai_1.expect(z.rank(&#x27;5a600e17&#x27;)).to.equal(4);\nchai_1.expect(z).to.have.length(9);\nchai_1.expect(z.toArray()).to.eql([\n    &#x27;5a600e16&#x27;,\n    &#x27;5a600e11&#x27;,\n    &#x27;5a600e18&#x27;,\n    &#x27;5a600e13&#x27;,\n    &#x27;5a600e17&#x27;,\n    &#x27;5a600e14&#x27;,\n    &#x27;5a600e10&#x27;,\n    &#x27;5a600e12&#x27;,\n    &#x27;5a600e15&#x27;,\n]);\nchai_1.expect(z.toArray()).to.eql(z.range(0, -1));\nchai_1.expect(z.toArray()).to.eql(z.rangeByScore());\nchai_1.expect(z.rangeByScore(14, 16, { withScores: true })).to.eql([\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e4e71a3b-1318-4ce1-95eb-ff827fda7853&quot;,&quot;parentUUID&quot;:&quot;5149d043-83fc-4150-890b-b2aedcc2f629&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1c730682-cd8e-439b-9342-2d66c92ef75f&quot;,&quot;title&quot;:&quot;#add&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should implicitly delete&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #add should implicitly delete&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.add(&#x27;5a600e14&#x27;, null)).to.equal(14);\nchai_1.expect(z.add(&#x27;5a600e19&#x27;, null)).to.equal(null);\nchai_1.expect(z).to.have.length(8);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd41f537-6354-4173-a10e-82e11a12b1b0&quot;,&quot;parentUUID&quot;:&quot;1c730682-cd8e-439b-9342-2d66c92ef75f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bd41f537-6354-4173-a10e-82e11a12b1b0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;ac33b13e-afc7-442d-b5f1-60c12ef3ffc5&quot;,&quot;title&quot;:&quot;#empty&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove all elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #empty should remove all elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nz.empty();\nchai_1.expect(z).to.have.length(0);\nchai_1.expect(z.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;61c1d7fa-876b-4d69-a7a2-39154f5ad393&quot;,&quot;parentUUID&quot;:&quot;ac33b13e-afc7-442d-b5f1-60c12ef3ffc5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;61c1d7fa-876b-4d69-a7a2-39154f5ad393&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;404f993c-2792-4238-86ea-ce2560f9c08f&quot;,&quot;title&quot;:&quot;#incrBy(increment, key)&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should increase rank&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #incrBy(increment, key) should increase rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;first&#x27;, 1);\nz.add(&#x27;second&#x27;, 2);\nz.add(&#x27;third&#x27;, 3);\nz.add(&#x27;fourth&#x27;, 4);\nchai_1.expect(z.incrBy(2, &#x27;first&#x27;)).to.equal(3);\nchai_1.expect(z.rank(&#x27;first&#x27;)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;31aea393-4dd5-4d5a-8ed5-68cd5192455b&quot;,&quot;parentUUID&quot;:&quot;404f993c-2792-4238-86ea-ce2560f9c08f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create if not found&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #incrBy(increment, key) should create if not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;first&#x27;, 1);\nz.incrBy(2, &#x27;second&#x27;);\nchai_1.expect(z.card()).to.equal(2);\nchai_1.expect(z.rank(&#x27;second&#x27;)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;44946929-9adb-4570-8c2c-a7beca3ed6eb&quot;,&quot;parentUUID&quot;:&quot;404f993c-2792-4238-86ea-ce2560f9c08f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;31aea393-4dd5-4d5a-8ed5-68cd5192455b&quot;,&quot;44946929-9adb-4570-8c2c-a7beca3ed6eb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;0580148b-011e-485e-bbe0-3241e0cfc5f0&quot;,&quot;title&quot;:&quot;#keys&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the keys&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #keys should return the keys&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.keys()).to.eql([&#x27;5a600e16&#x27;, &#x27;5a600e11&#x27;, &#x27;5a600e18&#x27;, &#x27;5a600e13&#x27;,\n    &#x27;5a600e17&#x27;, &#x27;5a600e14&#x27;, &#x27;5a600e10&#x27;, &#x27;5a600e12&#x27;, &#x27;5a600e15&#x27;]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f39ccf5a-9db7-4f69-8461-04607df0a3b0&quot;,&quot;parentUUID&quot;:&quot;0580148b-011e-485e-bbe0-3241e0cfc5f0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f39ccf5a-9db7-4f69-8461-04607df0a3b0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;3bf07232-6149-4e1d-9471-f532eb47f987&quot;,&quot;title&quot;:&quot;#rangeByScore&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support special ranges&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #rangeByScore should support special ranges&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.rangeByScore(14, null, { withScores: true })).to.eql([\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);\nchai_1.expect(z.rangeByScore(null, 10, { withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e11&#x27;, 6],\n    [&#x27;5a600e18&#x27;, 10],\n]);\nchai_1.expect(z.rangeByScore(-Infinity, Infinity)).to.eql(z.toArray());\nchai_1.expect(z.rangeByScore(null, null)).to.eql(z.toArray());&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;519023c4-30a8-4443-b416-eda04e06b4b7&quot;,&quot;parentUUID&quot;:&quot;3bf07232-6149-4e1d-9471-f532eb47f987&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;519023c4-30a8-4443-b416-eda04e06b4b7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;6e4281be-6081-4bf7-95ea-66f0ab17bb71&quot;,&quot;title&quot;:&quot;#count&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should count elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #count should count elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nchai_1.expect(z.count()).to.equal(0);\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nz.add(&#x27;5a600e19&#x27;, 14);\nz.add(&#x27;5a600f00&#x27;, 30.0);\nz.add(&#x27;5a600f01&#x27;, 30.5);\nz.add(&#x27;5a600f02&#x27;, 31.0);\nz.add(&#x27;5a600f03&#x27;, 31.5);\nz.add(&#x27;5a600f04&#x27;, 32.0);\nz.add(&#x27;5a600f05&#x27;, 32.0);\nz.add(&#x27;5a600f06&#x27;, 32.0);\nchai_1.expect(z.count()).to.eql(z.rangeByScore().length);\nchai_1.expect(z.count(8)).to.eql(z.rangeByScore(8).length);\nchai_1.expect(z.count(3, 7)).to.eql(z.rangeByScore(3, 7).length);\nchai_1.expect(z.count(5, 14)).to.eql(z.rangeByScore(5, 14).length);\nchai_1.expect(z.count(5, 5)).to.eql(z.rangeByScore(5, 5).length);\nchai_1.expect(z.count(5, 0)).to.eql(z.rangeByScore(5, 0).length);\nchai_1.expect(z.count(30, 32)).to.eql(z.rangeByScore(30, 32).length);\nchai_1.expect(z.count(40)).to.eql(z.rangeByScore(40).length);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c6e6be4a-d27e-40f1-980d-bf9179002cdf&quot;,&quot;parentUUID&quot;:&quot;6e4281be-6081-4bf7-95ea-66f0ab17bb71&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c6e6be4a-d27e-40f1-980d-bf9179002cdf&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;d364901f-aa0e-48f1-aed1-a3cf57b4ac25&quot;,&quot;title&quot;:&quot;#range&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support special ranges&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #range should support special ranges&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;first&#x27;, 1);\nz.add(&#x27;second&#x27;, 2);\nz.add(&#x27;third&#x27;, 3);\nz.add(&#x27;fourth&#x27;, 4);\nvar array = [&#x27;first&#x27;, &#x27;second&#x27;, &#x27;third&#x27;, &#x27;fourth&#x27;];\nchai_1.expect(z.range()).to.eql(array);\nchai_1.expect(z.range(2)).to.eql(array.slice(2));\nchai_1.expect(z.range(8)).to.eql(array.slice(8));\nchai_1.expect(z.range(0, 2)).to.eql(array.slice(0, 3));\nchai_1.expect(z.range(-1)).to.eql([&#x27;fourth&#x27;]);\nchai_1.expect(z.range(-4)).to.eql(array);\nchai_1.expect(z.range(-4, -2)).to.eql(array.slice(0, 3));\nchai_1.expect(z.range(-4, z.length + 1000))\n    .to.eql(array.slice(-4, z.length + 1000));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c5a53cdd-0a0a-4815-ac27-49a3fd73e716&quot;,&quot;parentUUID&quot;:&quot;d364901f-aa0e-48f1-aed1-a3cf57b4ac25&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support withScores&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #range should support withScores&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;first&#x27;, 1);\nz.add(&#x27;second&#x27;, 2);\nchai_1.expect(z.range(0, 0, { withScores: true }))\n    .to.eql([[&#x27;first&#x27;, 1]]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8c92f9ac-86e9-43f6-99e7-288a50dc704c&quot;,&quot;parentUUID&quot;:&quot;d364901f-aa0e-48f1-aed1-a3cf57b4ac25&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c5a53cdd-0a0a-4815-ac27-49a3fd73e716&quot;,&quot;8c92f9ac-86e9-43f6-99e7-288a50dc704c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;29e944a8-aad8-4750-9b5d-43a4de0b1f67&quot;,&quot;title&quot;:&quot;#intersect&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should intersect two sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #intersect should intersect two sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var a = new Z(), b = new Z();\na.add(&#x27;5a600e10&#x27;, 16);\na.add(&#x27;5a600e12&#x27;, 10);\na.add(&#x27;5a600e14&#x27;, 9);\na.add(&#x27;5a600e15&#x27;, 14);\na.add(&#x27;5a600e17&#x27;, 20);\na.add(&#x27;5a600e18&#x27;, 13);\na.add(&#x27;5a600e19&#x27;, 15);\na.add(&#x27;5a600e1a&#x27;, 19);\na.add(&#x27;5a600e1b&#x27;, 7);\na.add(&#x27;5a600e1c&#x27;, 13);\na.add(&#x27;5a600e1e&#x27;, 10);\nb.add(&#x27;5a600e10&#x27;, 0);\nb.add(&#x27;5a600e11&#x27;, 15);\nb.add(&#x27;5a600e13&#x27;, 5);\nb.add(&#x27;5a600e14&#x27;, 3);\nb.add(&#x27;5a600e15&#x27;, 14);\nb.add(&#x27;5a600e17&#x27;, 12);\nb.add(&#x27;5a600e19&#x27;, 12);\nb.add(&#x27;5a600e1b&#x27;, 16);\nb.add(&#x27;5a600e1c&#x27;, 12);\nb.add(&#x27;5a600e1d&#x27;, 17);\nb.add(&#x27;5a600e1f&#x27;, 3);\nchai_1.expect(Z.intersect(a, b)).to.eql([&#x27;5a600e10&#x27;, &#x27;5a600e14&#x27;,\n    &#x27;5a600e17&#x27;, &#x27;5a600e19&#x27;, &#x27;5a600e1c&#x27;, &#x27;5a600e15&#x27;, &#x27;5a600e1b&#x27;]);\nchai_1.expect(Z.intersect(b, a)).to.eql([&#x27;5a600e1b&#x27;, &#x27;5a600e14&#x27;,\n    &#x27;5a600e1c&#x27;, &#x27;5a600e15&#x27;, &#x27;5a600e19&#x27;, &#x27;5a600e10&#x27;, &#x27;5a600e17&#x27;]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5b0eb7c7-4cdb-479d-82f2-4e8ca54bc844&quot;,&quot;parentUUID&quot;:&quot;29e944a8-aad8-4750-9b5d-43a4de0b1f67&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should intersect three sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #intersect should intersect three sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var a = new Z(), b = new Z(), c = new Z();\na.add(&#x27;5a600e10&#x27;, 16);\na.add(&#x27;5a600e12&#x27;, 10);\na.add(&#x27;5a600e14&#x27;, 9);\na.add(&#x27;5a600e15&#x27;, 14);\na.add(&#x27;5a600e17&#x27;, 20);\na.add(&#x27;5a600e18&#x27;, 13);\na.add(&#x27;5a600e19&#x27;, 15);\na.add(&#x27;5a600e1a&#x27;, 19);\na.add(&#x27;5a600e1b&#x27;, 7);\na.add(&#x27;5a600e1c&#x27;, 13);\na.add(&#x27;5a600e1e&#x27;, 10);\nb.add(&#x27;5a600e10&#x27;, 0);\nb.add(&#x27;5a600e11&#x27;, 15);\nb.add(&#x27;5a600e13&#x27;, 5);\nb.add(&#x27;5a600e14&#x27;, 3);\nb.add(&#x27;5a600e15&#x27;, 14);\nb.add(&#x27;5a600e17&#x27;, 12);\nb.add(&#x27;5a600e19&#x27;, 12);\nb.add(&#x27;5a600e1b&#x27;, 16);\nb.add(&#x27;5a600e1c&#x27;, 12);\nb.add(&#x27;5a600e1d&#x27;, 17);\nb.add(&#x27;5a600e1f&#x27;, 3);\nc.add(&#x27;5a600e10&#x27;, 7);\nc.add(&#x27;5a600e12&#x27;, 20);\nc.add(&#x27;5a600e13&#x27;, 9);\nc.add(&#x27;5a600e14&#x27;, 19);\nc.add(&#x27;5a600e16&#x27;, 19);\nc.add(&#x27;5a600e17&#x27;, 1);\nc.add(&#x27;5a600e18&#x27;, 18);\nc.add(&#x27;5a600e1a&#x27;, 6);\nc.add(&#x27;5a600e1c&#x27;, 15);\nc.add(&#x27;5a600e1f&#x27;, 4);\nchai_1.expect(Z.intersect(c, a, b)).to.eql([&#x27;5a600e10&#x27;, &#x27;5a600e14&#x27;,\n    &#x27;5a600e17&#x27;, &#x27;5a600e1c&#x27;]);\nchai_1.expect(Z.intersect(c, a, b)).to.eql(c.intersect(a, b));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d2937f36-6b69-4dc3-aca3-89fc0843d34d&quot;,&quot;parentUUID&quot;:&quot;29e944a8-aad8-4750-9b5d-43a4de0b1f67&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should intersect four sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #intersect should intersect four sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var a = new Z();\nvar b = new Z();\nvar c = new Z();\nvar d = new Z();\na.add(&#x27;5a600e10&#x27;, 16);\na.add(&#x27;5a600e12&#x27;, 10);\na.add(&#x27;5a600e14&#x27;, 9);\na.add(&#x27;5a600e15&#x27;, 14);\na.add(&#x27;5a600e17&#x27;, 20);\na.add(&#x27;5a600e18&#x27;, 13);\na.add(&#x27;5a600e19&#x27;, 15);\na.add(&#x27;5a600e1a&#x27;, 19);\na.add(&#x27;5a600e1b&#x27;, 7);\na.add(&#x27;5a600e1c&#x27;, 13);\na.add(&#x27;5a600e1e&#x27;, 10);\nb.add(&#x27;5a600e10&#x27;, 0);\nb.add(&#x27;5a600e11&#x27;, 15);\nb.add(&#x27;5a600e13&#x27;, 5);\nb.add(&#x27;5a600e14&#x27;, 3);\nb.add(&#x27;5a600e15&#x27;, 14);\nb.add(&#x27;5a600e17&#x27;, 12);\nb.add(&#x27;5a600e19&#x27;, 12);\nb.add(&#x27;5a600e1b&#x27;, 16);\nb.add(&#x27;5a600e1c&#x27;, 12);\nb.add(&#x27;5a600e1d&#x27;, 17);\nb.add(&#x27;5a600e1f&#x27;, 3);\nc.add(&#x27;5a600e10&#x27;, 7);\nc.add(&#x27;5a600e12&#x27;, 20);\nc.add(&#x27;5a600e13&#x27;, 9);\nc.add(&#x27;5a600e14&#x27;, 19);\nc.add(&#x27;5a600e16&#x27;, 19);\nc.add(&#x27;5a600e17&#x27;, 1);\nc.add(&#x27;5a600e18&#x27;, 18);\nc.add(&#x27;5a600e1a&#x27;, 6);\nc.add(&#x27;5a600e1c&#x27;, 15);\nc.add(&#x27;5a600e1f&#x27;, 4);\nd.add(&#x27;5a600e1c&#x27;, 400);\nd.add(&#x27;5a600e17&#x27;, 500);\nd.add(&#x27;5a600e1f&#x27;, 600);\nd.add(&#x27;5a600e20&#x27;, 700);\nchai_1.expect(Z.intersect(d, c, a, b)).to.eql([&#x27;5a600e17&#x27;, &#x27;5a600e1c&#x27;]);\nchai_1.expect(Z.intersect(d, c, a, b)).to.eql(d.intersect(c, a, b));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b16247eb-4be7-4564-99a6-fb4912287bad&quot;,&quot;parentUUID&quot;:&quot;29e944a8-aad8-4750-9b5d-43a4de0b1f67&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5b0eb7c7-4cdb-479d-82f2-4e8ca54bc844&quot;,&quot;d2937f36-6b69-4dc3-aca3-89fc0843d34d&quot;,&quot;b16247eb-4be7-4564-99a6-fb4912287bad&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;242f09a3-e3d4-4366-9698-229f0e4ddea2&quot;,&quot;title&quot;:&quot;#rank&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get the correct rank&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #rank should get the correct rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.rank(&#x27;5a600e12&#x27;)).to.equal(7);\nchai_1.expect(z.rank(&#x27;5a600e13&#x27;)).to.equal(3);\nchai_1.expect(z.rank(&#x27;5a600e16&#x27;)).to.equal(0);\nchai_1.expect(z.rank(&#x27;5a600e15&#x27;)).to.equal(8);\nchai_1.expect(z.rank(&#x27;not in set&#x27;)).to.equal(null);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;183a71a9-fe87-4cba-99ba-74083bfbce26&quot;,&quot;parentUUID&quot;:&quot;242f09a3-e3d4-4366-9698-229f0e4ddea2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;183a71a9-fe87-4cba-99ba-74083bfbce26&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;962b24de-435e-44ab-a512-fa0c2a45134b&quot;,&quot;title&quot;:&quot;#rem&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete special elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #rem should delete special elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.rem(&#x27;5a600e15&#x27;)).to.equal(19);\nchai_1.expect(z).to.have.length(8);\nchai_1.expect(z.rem(&#x27;5a600e16&#x27;)).to.equal(3);\nchai_1.expect(z).to.have.length(7);\nchai_1.expect(z.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e11&#x27;, 6],\n    [&#x27;5a600e18&#x27;, 10],\n    [&#x27;5a600e13&#x27;, 11],\n    [&#x27;5a600e17&#x27;, 12],\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;768737fc-5837-4a5e-8520-79df0e87423c&quot;,&quot;parentUUID&quot;:&quot;962b24de-435e-44ab-a512-fa0c2a45134b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should delete many elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #rem should delete many elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.rem(&#x27;5a600e11&#x27;)).to.equal(6);\nchai_1.expect(z.rem(&#x27;5a600e13&#x27;)).to.equal(11);\nchai_1.expect(z.rem(&#x27;5a600e14&#x27;)).to.equal(14);\nchai_1.expect(z.rem(&#x27;5a600e15&#x27;)).to.equal(19);\nchai_1.expect(z.rem(&#x27;5a600e16&#x27;)).to.equal(3);\nchai_1.expect(z.rem(&#x27;5a600e17&#x27;)).to.equal(12);\nchai_1.expect(z.length).to.equal(3);\nchai_1.expect(z.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e18&#x27;, 10],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8a8764d-de74-4b1f-9152-65631ff73967&quot;,&quot;parentUUID&quot;:&quot;962b24de-435e-44ab-a512-fa0c2a45134b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;768737fc-5837-4a5e-8520-79df0e87423c&quot;,&quot;e8a8764d-de74-4b1f-9152-65631ff73967&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;2f33052f-e788-4d91-96a0-999438fb16ff&quot;,&quot;title&quot;:&quot;#remRangeByScore&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should strip out a range of elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #remRangeByScore should strip out a range of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.remRangeByScore(4, 14)).to.equal(5);\nchai_1.expect(z).to.have.length(4);\nchai_1.expect(z.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;de91eb89-10fb-429a-addf-65c911a608d9&quot;,&quot;parentUUID&quot;:&quot;2f33052f-e788-4d91-96a0-999438fb16ff&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should strip out all the elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #remRangeByScore should strip out all the elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.remRangeByScore(3, 19)).to.equal(9);\nchai_1.expect(z).to.have.length(0);\nchai_1.expect(z.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aa46a5a6-8f3a-4f7e-8040-46796a993e36&quot;,&quot;parentUUID&quot;:&quot;2f33052f-e788-4d91-96a0-999438fb16ff&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;de91eb89-10fb-429a-addf-65c911a608d9&quot;,&quot;aa46a5a6-8f3a-4f7e-8040-46796a993e36&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;46e2d37d-906f-4db6-b28d-fb9facdc1779&quot;,&quot;title&quot;:&quot;#remRangeByRank&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should strip out a slice of elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #remRangeByRank should strip out a slice of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.remRangeByRank(1, 6)).to.equal(5);\nchai_1.expect(z).to.have.length(4);\nchai_1.expect(z.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;417e02c1-839b-45a5-bc51-3a167ae85d01&quot;,&quot;parentUUID&quot;:&quot;46e2d37d-906f-4db6-b28d-fb9facdc1779&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should strip out all elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #remRangeByRank should strip out all elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(z.remRangeByRank(0, 9)).to.equal(9);\nchai_1.expect(z).to.have.length(0);\nchai_1.expect(z.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f4b06ff-660b-4e41-b06c-c230df0b7f31&quot;,&quot;parentUUID&quot;:&quot;46e2d37d-906f-4db6-b28d-fb9facdc1779&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;417e02c1-839b-45a5-bc51-3a167ae85d01&quot;,&quot;2f4b06ff-660b-4e41-b06c-c230df0b7f31&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;0e1ab167-fbb6-4210-bd94-58efc5dcbdc5&quot;,&quot;title&quot;:&quot;#values&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the values&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map #values should return the values&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z();\nz.add(&#x27;first&#x27;, -1);\nz.add(&#x27;third&#x27;, 5);\nz.add(&#x27;second&#x27;, 3);\nchai_1.expect(z.values()).to.eql([-1, 3, 5]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;41b4da6f-a442-4aa1-a500-106ad5917572&quot;,&quot;parentUUID&quot;:&quot;0e1ab167-fbb6-4210-bd94-58efc5dcbdc5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;41b4da6f-a442-4aa1-a500-106ad5917572&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;fe08820f-5863-41ed-9789-a12c00086a31&quot;,&quot;title&quot;:&quot;unique&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should ensure values are unique&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map unique should ensure values are unique&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z({ unique: true });\nassert.equal(z.keys().length, 0, &#x27;Expected an empty SortedSet&#x27;);\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(() =&gt; {\n    z.add(&#x27;5a600e19&#x27;, 11);\n}).to.throw(/unique/);\n// quick exit test\nchai_1.expect(() =&gt; {\n    z.add(&#x27;5a600dff&#x27;, z._head.next[z._level - 1].next.value);\n}).to.throw(/unique/);\n// this test ensures the key &lt; key check doesn&#x27;t come into play\nchai_1.expect(() =&gt; {\n    z.add(&#x27;5a600dff&#x27;, 11);\n}).to.throw(/unique/);\nchai_1.expect(() =&gt; {\n    z.add(&#x27;5a600e18&#x27;, 10);\n}).to.not.throw();\nchai_1.expect(z).to.have.length(9);\nchai_1.expect(z.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e11&#x27;, 6],\n    [&#x27;5a600e18&#x27;, 10],\n    [&#x27;5a600e13&#x27;, 11],\n    [&#x27;5a600e17&#x27;, 12],\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1c5091dd-dcee-4574-bd43-82c4d130b888&quot;,&quot;parentUUID&quot;:&quot;fe08820f-5863-41ed-9789-a12c00086a31&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert keys if constraint broken during update&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map unique should revert keys if constraint broken during update&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var z = new Z({ unique: true });\nz.add(&#x27;5a600e10&#x27;, 16);\nz.add(&#x27;5a600e11&#x27;, 6);\nz.add(&#x27;5a600e12&#x27;, 17);\nz.add(&#x27;5a600e13&#x27;, 11);\nz.add(&#x27;5a600e14&#x27;, 14);\nz.add(&#x27;5a600e15&#x27;, 19);\nz.add(&#x27;5a600e16&#x27;, 3);\nz.add(&#x27;5a600e17&#x27;, 12);\nz.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(() =&gt; {\n    z.add(&#x27;5a600e13&#x27;, 14);\n}).to.throw(/unique/);\nchai_1.expect(z).to.have.length(9);\nchai_1.expect(z.score(&#x27;5a600e13&#x27;)).to.equal(11);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;243bcac3-cef2-4754-85d1-0bd7b3af8d0d&quot;,&quot;parentUUID&quot;:&quot;fe08820f-5863-41ed-9789-a12c00086a31&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1c5091dd-dcee-4574-bd43-82c4d130b888&quot;,&quot;243bcac3-cef2-4754-85d1-0bd7b3af8d0d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[&quot;e4e71a3b-1318-4ce1-95eb-ff827fda7853&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;a21ad462-0be7-4c38-8120-56d998e53bc0&quot;,&quot;title&quot;:&quot;skip map rewrite&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support basic operations&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite should support basic operations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nchai_1.expect(ss).to.have.length(0);\nchai_1.expect(ss.toArray()).to.eql([]);\nchai_1.expect(ss.range()).to.eql([]);\nchai_1.expect(ss.rangeByScore()).to.eql([]);\n// expect(() =&gt; {\n//   ss.add(&#x27;__proto__&#x27;, 14);\n// }).to.throw();\nss.add(&#x27;5a600e16&#x27;, 8);\nss.add(&#x27;5a600e17&#x27;, 9);\nchai_1.expect(ss.add(&#x27;5a600e18&#x27;, 10)).to.equal(null);\nchai_1.expect(ss.add(&#x27;5a600e17&#x27;, 12)).to.equal(9);\nchai_1.expect(ss).to.have.length(3);\nchai_1.expect(ss.toArray()).to.eql([&#x27;5a600e16&#x27;, &#x27;5a600e18&#x27;, &#x27;5a600e17&#x27;]);\nchai_1.expect(ss.toArray()).to.eql(ss.range(0, -1));\nchai_1.expect(ss.toArray()).to.eql(ss.rangeByScore());\nchai_1.expect(ss.has(&#x27;5a600e16&#x27;)).to.be.ok;\nchai_1.expect(ss.has(&#x27;5a600e17&#x27;)).to.be.ok;\nchai_1.expect(ss.has(&#x27;5a600e18&#x27;)).to.be.ok;\nchai_1.expect(ss.has(&#x27;5a600e19&#x27;)).to.not.be.ok;\nchai_1.expect(ss.score(&#x27;5a600e16&#x27;)).to.equal(8);\nchai_1.expect(ss.score(&#x27;5a600e17&#x27;)).to.equal(12);\nchai_1.expect(ss.score(&#x27;5a600e18&#x27;)).to.equal(10);\nchai_1.expect(ss.score(&#x27;5a600e19&#x27;)).to.equal(null);\nchai_1.expect(ss.rem(&#x27;5a600e16&#x27;)).to.equal(8);\nchai_1.expect(ss).to.have.length(2);\nchai_1.expect(ss.rem(&#x27;5a600e16&#x27;)).to.equal(null);\nchai_1.expect(ss).to.have.length(2);\nchai_1.expect(ss.has(&#x27;5a600e16&#x27;)).to.not.be.ok;\nchai_1.expect(ss.toArray()).to.eql([&#x27;5a600e18&#x27;, &#x27;5a600e17&#x27;]);\nchai_1.expect(ss.toArray({ withScores: true }))\n    .to.eql(ss.range(0, -1, { withScores: true }));\nchai_1.expect(ss.toArray()).to.eql(ss.rangeByScore());\nss.add(&#x27;5a600e16&#x27;, 10);\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nchai_1.expect(ss).to.have.length(9);\n// no change, so should be O(1)\nss.add(&#x27;5a600e17&#x27;, 12);\nchai_1.expect(ss.rank(&#x27;5a600e17&#x27;)).to.equal(4);\nchai_1.expect(ss).to.have.length(9);\nchai_1.expect(ss.toArray()).to.eql([\n    &#x27;5a600e16&#x27;,\n    &#x27;5a600e11&#x27;,\n    &#x27;5a600e18&#x27;,\n    &#x27;5a600e13&#x27;,\n    &#x27;5a600e17&#x27;,\n    &#x27;5a600e14&#x27;,\n    &#x27;5a600e10&#x27;,\n    &#x27;5a600e12&#x27;,\n    &#x27;5a600e15&#x27;,\n]);\nchai_1.expect(ss.toArray()).to.eql(ss.range(0, -1));\nchai_1.expect(ss.toArray()).to.eql(ss.rangeByScore());\nchai_1.expect(ss.rangeByScore(14, 16, { withScores: true })).to.eql([\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2ddd4ad0-a4b3-4eab-b4cf-08adcce75dce&quot;,&quot;parentUUID&quot;:&quot;a21ad462-0be7-4c38-8120-56d998e53bc0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;9699dd58-cb57-4686-bf7a-f76a0bea4d46&quot;,&quot;title&quot;:&quot;#add&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should implicitly delete&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #add should implicitly delete&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.add(&#x27;5a600e14&#x27;, null)).to.equal(14);\nchai_1.expect(ss.add(&#x27;5a600e19&#x27;, null)).to.equal(null);\nchai_1.expect(ss).to.have.length(8);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;280790fb-9bd6-41b0-90ba-d543a4e1a26d&quot;,&quot;parentUUID&quot;:&quot;9699dd58-cb57-4686-bf7a-f76a0bea4d46&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;280790fb-9bd6-41b0-90ba-d543a4e1a26d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;6ecb04cb-2524-40d8-9d25-64077e248ef8&quot;,&quot;title&quot;:&quot;#empty&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove all elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #empty should remove all elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nss.empty();\nchai_1.expect(ss).to.have.length(0);\nchai_1.expect(ss.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0c29b6f0-ff75-47ae-82c3-5af08531076c&quot;,&quot;parentUUID&quot;:&quot;6ecb04cb-2524-40d8-9d25-64077e248ef8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0c29b6f0-ff75-47ae-82c3-5af08531076c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;f3f264f2-a2da-44f8-9559-81991051245a&quot;,&quot;title&quot;:&quot;#incrBy(increment, key)&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should increase rank&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #incrBy(increment, key) should increase rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;first&#x27;, 1);\nss.add(&#x27;second&#x27;, 2);\nss.add(&#x27;third&#x27;, 3);\nss.add(&#x27;fourth&#x27;, 4);\nchai_1.expect(ss.incrBy(2, &#x27;first&#x27;)).to.equal(3);\nchai_1.expect(ss.rank(&#x27;first&#x27;)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a9c77fe8-1d25-4634-bc29-c71fa57ae8cf&quot;,&quot;parentUUID&quot;:&quot;f3f264f2-a2da-44f8-9559-81991051245a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create if not found&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #incrBy(increment, key) should create if not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;first&#x27;, 1);\nss.incrBy(2, &#x27;second&#x27;);\nchai_1.expect(ss.card()).to.equal(2);\nchai_1.expect(ss.rank(&#x27;second&#x27;)).to.equal(1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;72a76ece-f87d-4069-a565-fb32752c5610&quot;,&quot;parentUUID&quot;:&quot;f3f264f2-a2da-44f8-9559-81991051245a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a9c77fe8-1d25-4634-bc29-c71fa57ae8cf&quot;,&quot;72a76ece-f87d-4069-a565-fb32752c5610&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;f216aec2-ebcc-4654-845f-2e5e59600bc3&quot;,&quot;title&quot;:&quot;#keys&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the keys&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #keys should return the keys&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.keys()).to.eql([&#x27;5a600e16&#x27;, &#x27;5a600e11&#x27;, &#x27;5a600e18&#x27;, &#x27;5a600e13&#x27;,\n    &#x27;5a600e17&#x27;, &#x27;5a600e14&#x27;, &#x27;5a600e10&#x27;, &#x27;5a600e12&#x27;, &#x27;5a600e15&#x27;]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;822a0ca3-19bb-424b-a98b-c9b7d595f229&quot;,&quot;parentUUID&quot;:&quot;f216aec2-ebcc-4654-845f-2e5e59600bc3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;822a0ca3-19bb-424b-a98b-c9b7d595f229&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;00fff828-e0de-4d70-9327-e45e1fdd681c&quot;,&quot;title&quot;:&quot;#rangeByScore&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support special ranges&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #rangeByScore should support special ranges&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.rangeByScore(14, null, { withScores: true })).to.eql([\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);\nchai_1.expect(ss.rangeByScore(null, 10, { withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e11&#x27;, 6],\n    [&#x27;5a600e18&#x27;, 10],\n]);\nchai_1.expect(ss.rangeByScore(-Infinity, Infinity)).to.eql(ss.toArray());\nchai_1.expect(ss.rangeByScore(null, null)).to.eql(ss.toArray());&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;63233944-7207-4a46-bdf1-79d7611dbe6e&quot;,&quot;parentUUID&quot;:&quot;00fff828-e0de-4d70-9327-e45e1fdd681c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;63233944-7207-4a46-bdf1-79d7611dbe6e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;dc55eabb-3764-4678-a167-3bf39130a9ff&quot;,&quot;title&quot;:&quot;#count&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should count elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #count should count elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nchai_1.expect(ss.count()).to.equal(0);\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nss.add(&#x27;5a600e19&#x27;, 14);\nss.add(&#x27;5a600f00&#x27;, 30.0);\nss.add(&#x27;5a600f01&#x27;, 30.5);\nss.add(&#x27;5a600f02&#x27;, 31.0);\nss.add(&#x27;5a600f03&#x27;, 31.5);\nss.add(&#x27;5a600f04&#x27;, 32.0);\nss.add(&#x27;5a600f05&#x27;, 32.0);\nss.add(&#x27;5a600f06&#x27;, 32.0);\nchai_1.expect(ss.count()).to.eql(ss.rangeByScore().length);\nchai_1.expect(ss.count(8)).to.eql(ss.rangeByScore(8).length);\nchai_1.expect(ss.count(3, 7)).to.eql(ss.rangeByScore(3, 7).length);\nchai_1.expect(ss.count(5, 14)).to.eql(ss.rangeByScore(5, 14).length);\nchai_1.expect(ss.count(5, 5)).to.eql(ss.rangeByScore(5, 5).length);\nchai_1.expect(ss.count(5, 0)).to.eql(ss.rangeByScore(5, 0).length);\nchai_1.expect(ss.count(30, 32)).to.eql(ss.rangeByScore(30, 32).length);\nchai_1.expect(ss.count(40)).to.eql(ss.rangeByScore(40).length);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;38c46a5c-64be-4d52-8620-4dd076332e44&quot;,&quot;parentUUID&quot;:&quot;dc55eabb-3764-4678-a167-3bf39130a9ff&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;38c46a5c-64be-4d52-8620-4dd076332e44&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;c7fd5efb-f68a-413d-9ccb-9f97a591dd9b&quot;,&quot;title&quot;:&quot;#range&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should support special ranges&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #range should support special ranges&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;first&#x27;, 1);\nss.add(&#x27;second&#x27;, 2);\nss.add(&#x27;third&#x27;, 3);\nss.add(&#x27;fourth&#x27;, 4);\nlet array = [&#x27;first&#x27;, &#x27;second&#x27;, &#x27;third&#x27;, &#x27;fourth&#x27;];\nchai_1.expect(ss.range()).to.eql(array);\nchai_1.expect(ss.range(2)).to.eql(array.slice(2));\nchai_1.expect(ss.range(8)).to.eql(array.slice(8));\nchai_1.expect(ss.range(0, 2)).to.eql(array.slice(0, 3));\nchai_1.expect(ss.range(-1)).to.eql([&#x27;fourth&#x27;]);\nchai_1.expect(ss.range(-4)).to.eql(array);\nchai_1.expect(ss.range(-4, -2)).to.eql(array.slice(0, 3));\nchai_1.expect(ss.range(-4, ss.length + 1000))\n    .to.eql(array.slice(-4, ss.length + 1000));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2add3fe5-21b2-41b4-8e6c-8ce76bc6935c&quot;,&quot;parentUUID&quot;:&quot;c7fd5efb-f68a-413d-9ccb-9f97a591dd9b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should support withScores&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #range should support withScores&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;first&#x27;, 1);\nss.add(&#x27;second&#x27;, 2);\nchai_1.expect(ss.range(0, 0, { withScores: true }))\n    .to.eql([[&#x27;first&#x27;, 1]]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9e28dc37-4b60-4d82-ac7c-14e960f0eb70&quot;,&quot;parentUUID&quot;:&quot;c7fd5efb-f68a-413d-9ccb-9f97a591dd9b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2add3fe5-21b2-41b4-8e6c-8ce76bc6935c&quot;,&quot;9e28dc37-4b60-4d82-ac7c-14e960f0eb70&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;2a7fa8c6-2b1b-4e58-b8e9-71f30a17dc71&quot;,&quot;title&quot;:&quot;#intersect&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should intersect two sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #intersect should intersect two sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let a = new sorted_set_1.SortedSet(), b = new sorted_set_1.SortedSet();\na.add(&#x27;5a600e10&#x27;, 16);\na.add(&#x27;5a600e12&#x27;, 10);\na.add(&#x27;5a600e14&#x27;, 9);\na.add(&#x27;5a600e15&#x27;, 14);\na.add(&#x27;5a600e17&#x27;, 20);\na.add(&#x27;5a600e18&#x27;, 13);\na.add(&#x27;5a600e19&#x27;, 15);\na.add(&#x27;5a600e1a&#x27;, 19);\na.add(&#x27;5a600e1b&#x27;, 7);\na.add(&#x27;5a600e1c&#x27;, 13);\na.add(&#x27;5a600e1e&#x27;, 10);\nb.add(&#x27;5a600e10&#x27;, 0);\nb.add(&#x27;5a600e11&#x27;, 15);\nb.add(&#x27;5a600e13&#x27;, 5);\nb.add(&#x27;5a600e14&#x27;, 3);\nb.add(&#x27;5a600e15&#x27;, 14);\nb.add(&#x27;5a600e17&#x27;, 12);\nb.add(&#x27;5a600e19&#x27;, 12);\nb.add(&#x27;5a600e1b&#x27;, 16);\nb.add(&#x27;5a600e1c&#x27;, 12);\nb.add(&#x27;5a600e1d&#x27;, 17);\nb.add(&#x27;5a600e1f&#x27;, 3);\nchai_1.expect(sorted_set_1.SortedSet.intersect(a, b)).to.eql([&#x27;5a600e10&#x27;, &#x27;5a600e14&#x27;,\n    &#x27;5a600e17&#x27;, &#x27;5a600e19&#x27;, &#x27;5a600e1c&#x27;, &#x27;5a600e15&#x27;, &#x27;5a600e1b&#x27;]);\nchai_1.expect(sorted_set_1.SortedSet.intersect(b, a)).to.eql([&#x27;5a600e1b&#x27;, &#x27;5a600e14&#x27;,\n    &#x27;5a600e1c&#x27;, &#x27;5a600e15&#x27;, &#x27;5a600e19&#x27;, &#x27;5a600e10&#x27;, &#x27;5a600e17&#x27;]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e59753af-c3a8-4256-bebe-8636e008110a&quot;,&quot;parentUUID&quot;:&quot;2a7fa8c6-2b1b-4e58-b8e9-71f30a17dc71&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should intersect three sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #intersect should intersect three sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let a = new sorted_set_1.SortedSet(), b = new sorted_set_1.SortedSet(), c = new sorted_set_1.SortedSet();\na.add(&#x27;5a600e10&#x27;, 16);\na.add(&#x27;5a600e12&#x27;, 10);\na.add(&#x27;5a600e14&#x27;, 9);\na.add(&#x27;5a600e15&#x27;, 14);\na.add(&#x27;5a600e17&#x27;, 20);\na.add(&#x27;5a600e18&#x27;, 13);\na.add(&#x27;5a600e19&#x27;, 15);\na.add(&#x27;5a600e1a&#x27;, 19);\na.add(&#x27;5a600e1b&#x27;, 7);\na.add(&#x27;5a600e1c&#x27;, 13);\na.add(&#x27;5a600e1e&#x27;, 10);\nb.add(&#x27;5a600e10&#x27;, 0);\nb.add(&#x27;5a600e11&#x27;, 15);\nb.add(&#x27;5a600e13&#x27;, 5);\nb.add(&#x27;5a600e14&#x27;, 3);\nb.add(&#x27;5a600e15&#x27;, 14);\nb.add(&#x27;5a600e17&#x27;, 12);\nb.add(&#x27;5a600e19&#x27;, 12);\nb.add(&#x27;5a600e1b&#x27;, 16);\nb.add(&#x27;5a600e1c&#x27;, 12);\nb.add(&#x27;5a600e1d&#x27;, 17);\nb.add(&#x27;5a600e1f&#x27;, 3);\nc.add(&#x27;5a600e10&#x27;, 7);\nc.add(&#x27;5a600e12&#x27;, 20);\nc.add(&#x27;5a600e13&#x27;, 9);\nc.add(&#x27;5a600e14&#x27;, 19);\nc.add(&#x27;5a600e16&#x27;, 19);\nc.add(&#x27;5a600e17&#x27;, 1);\nc.add(&#x27;5a600e18&#x27;, 18);\nc.add(&#x27;5a600e1a&#x27;, 6);\nc.add(&#x27;5a600e1c&#x27;, 15);\nc.add(&#x27;5a600e1f&#x27;, 4);\nchai_1.expect(sorted_set_1.SortedSet.intersect(c, a, b)).to.eql([&#x27;5a600e10&#x27;, &#x27;5a600e14&#x27;,\n    &#x27;5a600e17&#x27;, &#x27;5a600e1c&#x27;]);\n// expect(SortedSet.intersect(c, a, b)).to.eql(c.intersect(a, b));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;15c7ef00-2e11-43ae-8666-1825a747b6b6&quot;,&quot;parentUUID&quot;:&quot;2a7fa8c6-2b1b-4e58-b8e9-71f30a17dc71&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should intersect four sets&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #intersect should intersect four sets&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let a = new sorted_set_1.SortedSet();\nlet b = new sorted_set_1.SortedSet();\nlet c = new sorted_set_1.SortedSet();\nlet d = new sorted_set_1.SortedSet();\na.add(&#x27;5a600e10&#x27;, 16);\na.add(&#x27;5a600e12&#x27;, 10);\na.add(&#x27;5a600e14&#x27;, 9);\na.add(&#x27;5a600e15&#x27;, 14);\na.add(&#x27;5a600e17&#x27;, 20);\na.add(&#x27;5a600e18&#x27;, 13);\na.add(&#x27;5a600e19&#x27;, 15);\na.add(&#x27;5a600e1a&#x27;, 19);\na.add(&#x27;5a600e1b&#x27;, 7);\na.add(&#x27;5a600e1c&#x27;, 13);\na.add(&#x27;5a600e1e&#x27;, 10);\nb.add(&#x27;5a600e10&#x27;, 0);\nb.add(&#x27;5a600e11&#x27;, 15);\nb.add(&#x27;5a600e13&#x27;, 5);\nb.add(&#x27;5a600e14&#x27;, 3);\nb.add(&#x27;5a600e15&#x27;, 14);\nb.add(&#x27;5a600e17&#x27;, 12);\nb.add(&#x27;5a600e19&#x27;, 12);\nb.add(&#x27;5a600e1b&#x27;, 16);\nb.add(&#x27;5a600e1c&#x27;, 12);\nb.add(&#x27;5a600e1d&#x27;, 17);\nb.add(&#x27;5a600e1f&#x27;, 3);\nc.add(&#x27;5a600e10&#x27;, 7);\nc.add(&#x27;5a600e12&#x27;, 20);\nc.add(&#x27;5a600e13&#x27;, 9);\nc.add(&#x27;5a600e14&#x27;, 19);\nc.add(&#x27;5a600e16&#x27;, 19);\nc.add(&#x27;5a600e17&#x27;, 1);\nc.add(&#x27;5a600e18&#x27;, 18);\nc.add(&#x27;5a600e1a&#x27;, 6);\nc.add(&#x27;5a600e1c&#x27;, 15);\nc.add(&#x27;5a600e1f&#x27;, 4);\nd.add(&#x27;5a600e1c&#x27;, 400);\nd.add(&#x27;5a600e17&#x27;, 500);\nd.add(&#x27;5a600e1f&#x27;, 600);\nd.add(&#x27;5a600e20&#x27;, 700);\nchai_1.expect(sorted_set_1.SortedSet.intersect(d, c, a, b)).to.eql([&#x27;5a600e17&#x27;, &#x27;5a600e1c&#x27;]);\n// expect(SortedSet.intersect(d, c, a, b)).to.eql(d.intersect(c, a, b));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ed3fb41c-713e-4d3a-97e6-b3e4007c7bc8&quot;,&quot;parentUUID&quot;:&quot;2a7fa8c6-2b1b-4e58-b8e9-71f30a17dc71&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e59753af-c3a8-4256-bebe-8636e008110a&quot;,&quot;15c7ef00-2e11-43ae-8666-1825a747b6b6&quot;,&quot;ed3fb41c-713e-4d3a-97e6-b3e4007c7bc8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;e865cabe-bd1b-4b90-929a-0a72199e8f79&quot;,&quot;title&quot;:&quot;#rank&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get the correct rank&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #rank should get the correct rank&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.rank(&#x27;5a600e12&#x27;)).to.equal(7);\nchai_1.expect(ss.rank(&#x27;5a600e13&#x27;)).to.equal(3);\nchai_1.expect(ss.rank(&#x27;5a600e16&#x27;)).to.equal(0);\nchai_1.expect(ss.rank(&#x27;5a600e15&#x27;)).to.equal(8);\nchai_1.expect(ss.rank(&#x27;not in set&#x27;)).to.equal(null);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;67de12eb-badb-4509-a023-d2ed4a03dc4c&quot;,&quot;parentUUID&quot;:&quot;e865cabe-bd1b-4b90-929a-0a72199e8f79&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;67de12eb-badb-4509-a023-d2ed4a03dc4c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;3a237e0c-bb47-417a-aa18-722ebb0f8041&quot;,&quot;title&quot;:&quot;#rem&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete special elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #rem should delete special elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.rem(&#x27;5a600e15&#x27;)).to.equal(19);\nchai_1.expect(ss).to.have.length(8);\nchai_1.expect(ss.rem(&#x27;5a600e16&#x27;)).to.equal(3);\nchai_1.expect(ss).to.have.length(7);\nchai_1.expect(ss.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e11&#x27;, 6],\n    [&#x27;5a600e18&#x27;, 10],\n    [&#x27;5a600e13&#x27;, 11],\n    [&#x27;5a600e17&#x27;, 12],\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f3a33de8-8a27-4308-b30d-c0fc4d510169&quot;,&quot;parentUUID&quot;:&quot;3a237e0c-bb47-417a-aa18-722ebb0f8041&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should delete many elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #rem should delete many elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.rem(&#x27;5a600e11&#x27;)).to.equal(6);\nchai_1.expect(ss.rem(&#x27;5a600e13&#x27;)).to.equal(11);\nchai_1.expect(ss.rem(&#x27;5a600e14&#x27;)).to.equal(14);\nchai_1.expect(ss.rem(&#x27;5a600e15&#x27;)).to.equal(19);\nchai_1.expect(ss.rem(&#x27;5a600e16&#x27;)).to.equal(3);\nchai_1.expect(ss.rem(&#x27;5a600e17&#x27;)).to.equal(12);\nchai_1.expect(ss.length).to.equal(3);\nchai_1.expect(ss.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e18&#x27;, 10],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d0bf8ac1-acee-4256-aacd-eaf0c76a7025&quot;,&quot;parentUUID&quot;:&quot;3a237e0c-bb47-417a-aa18-722ebb0f8041&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f3a33de8-8a27-4308-b30d-c0fc4d510169&quot;,&quot;d0bf8ac1-acee-4256-aacd-eaf0c76a7025&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;77fa6687-bdc4-4794-96ca-36f7f6b020d7&quot;,&quot;title&quot;:&quot;#remRangeByScore&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should strip out a range of elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #remRangeByScore should strip out a range of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.remRangeByScore(4, 14)).to.equal(5);\nchai_1.expect(ss).to.have.length(4);\nchai_1.expect(ss.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aeac9a68-0108-4615-9641-05648d10ed60&quot;,&quot;parentUUID&quot;:&quot;77fa6687-bdc4-4794-96ca-36f7f6b020d7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should strip out all the elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #remRangeByScore should strip out all the elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.remRangeByScore(3, 19)).to.equal(9);\nchai_1.expect(ss).to.have.length(0);\nchai_1.expect(ss.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f056d83e-b93f-4ad4-9344-a5dd319562f9&quot;,&quot;parentUUID&quot;:&quot;77fa6687-bdc4-4794-96ca-36f7f6b020d7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;aeac9a68-0108-4615-9641-05648d10ed60&quot;,&quot;f056d83e-b93f-4ad4-9344-a5dd319562f9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;ab2cf4d0-e241-41f1-af4b-ad9f91a3b464&quot;,&quot;title&quot;:&quot;#remRangeByRank&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should strip out a slice of elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #remRangeByRank should strip out a slice of elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.remRangeByRank(1, 6)).to.equal(5);\nchai_1.expect(ss).to.have.length(4);\nchai_1.expect(ss.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;228234fd-5cbf-4c91-a0ef-57d059aa0429&quot;,&quot;parentUUID&quot;:&quot;ab2cf4d0-e241-41f1-af4b-ad9f91a3b464&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should strip out all elements&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #remRangeByRank should strip out all elements&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(ss.remRangeByRank(0, 9)).to.equal(9);\nchai_1.expect(ss).to.have.length(0);\nchai_1.expect(ss.toArray()).to.eql([]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;21d4e720-499b-4299-977a-8ef56112b5bf&quot;,&quot;parentUUID&quot;:&quot;ab2cf4d0-e241-41f1-af4b-ad9f91a3b464&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;228234fd-5cbf-4c91-a0ef-57d059aa0429&quot;,&quot;21d4e720-499b-4299-977a-8ef56112b5bf&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;579ba7d4-ca80-471b-a1df-28c144990f17&quot;,&quot;title&quot;:&quot;#values&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the values&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite #values should return the values&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet();\nss.add(&#x27;first&#x27;, -1);\nss.add(&#x27;third&#x27;, 5);\nss.add(&#x27;second&#x27;, 3);\nchai_1.expect(ss.values()).to.eql([-1, 3, 5]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b7d9a559-dc1e-4115-a66f-135849b44e62&quot;,&quot;parentUUID&quot;:&quot;579ba7d4-ca80-471b-a1df-28c144990f17&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b7d9a559-dc1e-4115-a66f-135849b44e62&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;c2013da0-7516-4844-9f89-e7468a2f393c&quot;,&quot;title&quot;:&quot;unique rewrite&quot;,&quot;fullFile&quot;:&quot;/home/lane/git/redis/test/resp/data/sorted-set.test.ts&quot;,&quot;file&quot;:&quot;/test/resp/data/sorted-set.test.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should ensure values are unique&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite unique rewrite should ensure values are unique&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const options = { unique: true };\nlet ss = new sorted_set_1.SortedSet(options);\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nchai_1.expect(() =&gt; {\n    ss.add(&#x27;5a600e19&#x27;, 11);\n}).to.throw(/unique/);\n// quick exit test\nchai_1.expect(() =&gt; {\n    ss.add(&#x27;5a600dff&#x27;, ss._head.next[ss._level - 1].next.value);\n}).to.throw(/unique/);\n// this test ensures the key &lt; key check doesn&#x27;t come into play\nchai_1.expect(() =&gt; {\n    ss.add(&#x27;5a600dff&#x27;, 11);\n}).to.throw(/unique/);\nchai_1.expect(() =&gt; {\n    ss.add(&#x27;5a600e18&#x27;, 10);\n}).to.not.throw();\nchai_1.expect(ss).to.have.length(9);\nchai_1.expect(ss.toArray({ withScores: true })).to.eql([\n    [&#x27;5a600e16&#x27;, 3],\n    [&#x27;5a600e11&#x27;, 6],\n    [&#x27;5a600e18&#x27;, 10],\n    [&#x27;5a600e13&#x27;, 11],\n    [&#x27;5a600e17&#x27;, 12],\n    [&#x27;5a600e14&#x27;, 14],\n    [&#x27;5a600e10&#x27;, 16],\n    [&#x27;5a600e12&#x27;, 17],\n    [&#x27;5a600e15&#x27;, 19],\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;03e1cac7-c9a2-4a2b-8b31-ec8ec81db0fb&quot;,&quot;parentUUID&quot;:&quot;c2013da0-7516-4844-9f89-e7468a2f393c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should revert keys if constraint broken during update&quot;,&quot;fullTitle&quot;:&quot;sorted-set test skip map rewrite unique rewrite should revert keys if constraint broken during update&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let ss = new sorted_set_1.SortedSet({ unique: true });\nss.add(&#x27;5a600e10&#x27;, 16);\nss.add(&#x27;5a600e11&#x27;, 6);\nss.add(&#x27;5a600e12&#x27;, 17);\nss.add(&#x27;5a600e13&#x27;, 11);\nss.add(&#x27;5a600e14&#x27;, 14);\nss.add(&#x27;5a600e15&#x27;, 19);\nss.add(&#x27;5a600e16&#x27;, 3);\nss.add(&#x27;5a600e17&#x27;, 12);\nss.add(&#x27;5a600e18&#x27;, 10);\nconsole.log(`values is ${ss.values()}`);\nchai_1.expect(() =&gt; {\n    ss.add(&#x27;5a600e13&#x27;, 14);\n}).to.throw(/unique/);\nchai_1.expect(ss).to.have.length(9);\nchai_1.expect(ss.score(&#x27;5a600e13&#x27;)).to.equal(11);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cdb8f173-029c-4050-9617-d8cdafb590de&quot;,&quot;parentUUID&quot;:&quot;c2013da0-7516-4844-9f89-e7468a2f393c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;03e1cac7-c9a2-4a2b-8b31-ec8ec81db0fb&quot;,&quot;cdb8f173-029c-4050-9617-d8cdafb590de&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[&quot;2ddd4ad0-a4b3-4eab-b4cf-08adcce75dce&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[&quot;8fa8cd07-7faa-42e7-be25-30d495d3bfda&quot;,&quot;e398e929-93c4-4923-a110-c74515c57ddf&quot;,&quot;64ca6f94-b69b-4ba6-bef4-cf0668a11546&quot;,&quot;b2003d42-5770-40ce-9344-295864506aa7&quot;,&quot;995d4faa-08cf-4b3c-9241-d4002a1d94a8&quot;,&quot;b114e34c-fc5f-44ff-9c7d-193e5da71e9b&quot;,&quot;f1ae1f81-f9f4-4278-9b8f-d5d9fa940b40&quot;,&quot;862d0da2-3726-4e4d-aa17-8520aced1548&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[&quot;86129f84-df71-4f36-8a22-118fd4bf278e&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:5000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;6.2.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false},&quot;version&quot;:&quot;4.1.0&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;docs/mochawesome&quot;},&quot;version&quot;:&quot;4.1.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;docs/mochawesome&quot;,&quot;reportTitle&quot;:&quot;redis&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;docs/mochawesome/assets&quot;,&quot;jsonFile&quot;:&quot;/home/lane/git/redis/docs/mochawesome/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/home/lane/git/redis/docs/mochawesome/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>